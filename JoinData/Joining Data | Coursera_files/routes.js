!function(r){function nulls(r){return null!=r&&""!==r}function joinClasses(r){return Array.isArray(r)?r.map(joinClasses).filter(nulls).join(" "):r}var exports={};Array.isArray||(Array.isArray=function(r){return"[object Array]"==Object.prototype.toString.call(r)}),Object.keys||(Object.keys=function(r){var e=[];for(var n in r)r.hasOwnProperty(n)&&e.push(n);return e}),exports.merge=function merge(r,t){if(1===arguments.length){for(var a=r[0],o=1;o<r.length;o++)a=merge(a,r[o]);return a}var e=r["class"],n=t["class"];(e||n)&&(e=e||[],n=n||[],Array.isArray(e)||(e=[e]),Array.isArray(n)||(n=[n]),r["class"]=e.concat(n).filter(nulls));for(var i in t)"class"!=i&&(r[i]=t[i]);return r},exports.joinClasses=joinClasses,exports.cls=function cls(e,t){for(var n=[],r=0;r<e.length;r++)t&&t[r]?n.push(exports.escape(joinClasses([e[r]]))):n.push(joinClasses(e[r]));var a=joinClasses(n);return a.length?' class="'+a+'"':""},exports.attr=function attr(r,e,n,t){return"boolean"==typeof e||null==e?e?" "+(t?r:r+'="'+r+'"'):"":0===r.indexOf("data")&&"string"!=typeof e?" "+r+"='"+JSON.stringify(e).replace(/'/g,"&apos;")+"'":n?" "+r+'="'+exports.escape(e)+'"':" "+r+'="'+e+'"'},exports.attrs=function attrs(o,i){var n=[],t=Object.keys(o);if(t.length)for(var a=0;a<t.length;++a){var r=t[a],e=o[r];"class"==r?(e=joinClasses(e))&&n.push(" "+r+'="'+e+'"'):n.push(exports.attr(r,e,!1,i))}return n.join("")},exports.escape=function escape(r){var e=String(r).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");return e===""+r?r:e},exports.rethrow=function rethrow(r,n,e,t){if(!(r instanceof Error))throw r;if(!("undefined"==typeof window&&n||t))throw r.message+=" on line "+e,r;try{t=t||require("fs").readFileSync(n,"utf8")}catch(u){rethrow(r,null,e)}var a=3,o=t.split("\n"),i=Math.max(e-a,0),s=Math.min(o.length,e+a);throw a=o.slice(i,s).map(function(n,t){var r=t+i+1;return(r==e?"  > ":"    ")+r+"| "+n}).join("\n"),r.path=n,r.message=(n||"Jade")+":"+e+"\n"+a+"\n\n"+r.message,r},"function"==typeof define&&define.amd?define("js/vendor/jade",[],function(){return exports}):"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=exports:r.Jade=Jade}(this);
!function(){function addPart(o,e,r,n,t,i){for(;"[object String]"==Object.prototype.toString.call(e[o]);)o=e[o];e[o]&&(r.push(o),(e[o]===!0||1===e[o])&&n.push(t+o+"/"+i))}function addIfExists(e,r,n,t,i){var o=t+r+"/"+i;require._fileExists(e.toUrl(o+".js"))&&n.push(o)}function mixin(e,r,n){var o;for(o in r)!r.hasOwnProperty(o)||e.hasOwnProperty(o)&&!n?"object"==typeof r[o]&&(e[o]||(e[o]={}),mixin(e[o],r[o],n)):e[o]=r[o]}function generateTranslationFunction(o){o=o||{};var r=function f(n,r){var t=o[n]||n;return"object"==typeof r&&r?t.replace(e,function(i,n){var e=r[n],t=void 0===e?n:e;return o[e]||t}):t};return r.dictionary=o,r.merge=function(){var t=Array.prototype.slice.call(arguments,0),e,i,n;for(e=0;e<t.length;e++)if(i=t[e]&&t[e].dictionary)for(n in i)n in o||(o[n]=i[n]);return r},r}var o=/(^.*(^|\/)nls(\/|$))([^\/]*)\/?([^\/]*)/,e=/[#!]\{([^}]+?)\}/g;define("i18n",["module"],function(module){var e=module.config?module.config():{};return{version:"2.0.3",load:function load(v,n,g,s){if(s=s||{},s.locale&&(e.locale=s.locale),e.locale=(e.locale||"").toLowerCase().replace(/_/g,"-"),e.locale=e.locale.split(/[;=,]/)[0],"pseudo"===e.locale)return void n(["bundles/requirejs/pseudoLocSetup"],function(o){g(o())});var p,c=o.exec(v),a=c[1],l=c[4],i=c[5],f=l.split("-"),t=[],d={},r,h,u="";if(c[5]?(a=c[1],p=a+i):(p=v,i=c[4],l=e.locale,l||(l=e.locale="undefined"==typeof navigator?"root":(navigator.language||navigator.userLanguage||"root").toLowerCase()),f=l.split("-")),s.isBuild){for(t.push(p),addIfExists(n,"root",t,a,i),r=0;r<f.length;r++)h=f[r],u+=(u?"-":"")+h,addIfExists(n,u,t,a,i);n(t,function(){g()})}else n([p],function(e){var o=[],c;for(addPart("root",e,o,t,a,i),r=0;r<f.length;r++)c=f[r],u+=(u?"-":"")+c,addPart(u,e,o,t,a,i);n(t,function(){var r,t,c;for(r=o.length-1;r>-1&&o[r];r--)c=o[r],t=e[c],(t===!0||1===t)&&(t=n(a+c+"/"+i)),mixin(d,t);var u=generateTranslationFunction(d);u.getLocale=function(){return l},g(u)})})}}})}();
define("bundles/confirmNavigation/nls/confirmNavigation",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

!function(a){var n=function(a,n,e){var i=function template(t){var e=[],d={},i,o=t||{};return function(n){e.push('<div class="hide confirm-navigation modal"><div class="modal-header"><h3>'+a.escape(null==(i=n("Confirm Navigation"))?"":i)+'</h3></div><div class="modal-body"><div class="confirm-navigation-message"></div><div>'+a.escape(null==(i=n("Are you sure you want to leave this page?"))?"":i)+'</div></div><div class="modal-footer"><button data-modal-close="data-modal-close" class="btn success confirm-navigation-stay">'+a.escape(null==(i=n("Stay on this Page"))?"":i)+'</button><button data-modal-close="data-modal-close" data-modal-action="leave" class="btn danger confirm-navigation-leave">'+a.escape(null==(i=n("Leave this Page"))?"":i)+"</button></div></div>")}.call(this,"_t"in o?o._t:"undefined"!=typeof n?n:void 0),e.join("")};return function(a){return a&&"_t"in a&&(n=a._t.merge(n)),i(a)}};"function"==typeof define&&define.amd?define('bundles/confirmNavigation/confirmNavigation.html',["js/vendor/jade","i18n!bundles/confirmNavigation/nls/confirmNavigation"],function(a,i){var e;return n(a,i,e)}):a.jade.templates["bundles.confirmNavigation.confirmNavigation"]=n(a.jade.helpers)}(window);
define("text",["module"],function(module){var e,a,i,t,s=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],u=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,c=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,r="undefined"!=typeof location&&location.href,f=r&&location.protocol&&location.protocol.replace(/\:/,""),l=r&&location.hostname,p=r&&(location.port||void 0),o={},n=module.config&&module.config()||{};return e={version:"2.0.7",strip:function(e){if(e){e=e.replace(u,"");var n=e.match(c);n&&(e=n[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:n.createXhr||function(){var n,e,t;if("undefined"!=typeof XDomainRequest)return new XDomainRequest;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(e=0;3>e;e+=1){t=s[e];try{n=new ActiveXObject(t)}catch(r){}if(n){s=[t];break}}return n},parseName:function(n){var r,o,t,i=!1,e=n.indexOf("."),a=0===n.indexOf("./")||0===n.indexOf("../");return-1!==e&&(!a||e>1)?(r=n.substring(0,e),o=n.substring(e+1,n.length)):r=n,t=o||r,e=t.indexOf("!"),-1!==e&&(i="strip"===t.substring(e+1),t=t.substring(0,e),o?o=t:r=t),{moduleName:r,ext:o,strip:i}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,finishLoad:function(r,i,t,a){t=i?e.strip(t):t,n.isBuild&&(o[r]=t),a(t)},load:function(i,a,t,o){if(o.isBuild&&!o.inlineText)return void t();n.isBuild=o.isBuild;var r=e.parseName(i),s=r.moduleName+(r.ext?"."+r.ext:""),u=a.toUrl(s);e.get(u,function(n){e.finishLoad(i,r.strip,n,t)},function(e){t.error&&t.error(e)})},write:function(t,n,r,a){if(o.hasOwnProperty(n)){var i=e.jsEscape(o[n]);r.asModule(t+"!"+n,"define(function () { return '"+i+"';});\n")}},writeFile:function(u,c,t,r,o){var n=e.parseName(c),i=n.ext?"."+n.ext:"",a=n.moduleName+i,s=t.toUrl(n.moduleName+i)+".js";e.load(a,t,function(t){var n=function(e){return r(s,e)};n.asModule=function(e,n){return r.asModule(e,s,n)},e.write(u,a,n,o)},o)}},"node"===n.env||!n.env&&"undefined"!=typeof process&&process.versions&&process.versions.node?(a=require.nodeRequire("fs"),e.get=function(n,t,r){try{var e=a.readFileSync(n,"utf8");0===e.indexOf("\ufeff")&&(e=e.substring(1)),t(e)}catch(o){r(o)}}):"xhr"===n.env||!n.env&&e.createXhr()?e.get=function(r,a,s,o){var t=e.createXhr(),i;if(t.open("GET",r,!0),o)for(i in o)o.hasOwnProperty(i)&&t.setRequestHeader&&t.setRequestHeader(i.toLowerCase(),o[i]);n.onXhr&&n.onXhr(t,r),t.onreadystatechange=function(i){var e,o;4===t.readyState&&(e=t.status,e>399&&600>e?(o=new Error(r+" HTTP status: "+e),o.xhr=t,s(o)):a(t.responseText),n.onXhrComplete&&n.onXhrComplete(t,r))},"undefined"!=typeof XDomainRequest&&t instanceof XDomainRequest?(t.onload=function(){a(t.responseText)},t.onerror=function(){err=new Error(r),err.xhr=t,s(err)},t.ontimeout=function(){},t.onprogress=function(){},t.send()):t.send(null)}:"rhino"===n.env||!n.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?e.get=function(o,i){var n,e,a="utf-8",s=new java.io.File(o),u=java.lang.System.getProperty("line.separator"),t=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(s),a)),r="";try{for(n=new java.lang.StringBuffer,e=t.readLine(),e&&e.length()&&65279===e.charAt(0)&&(e=e.substring(1)),null!==e&&n.append(e);null!==(e=t.readLine());)n.append(u),n.append(e);r=String(n.toString())}finally{t.close()}i(r)}:("xpconnect"===n.env||!n.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(i=Components.classes,t=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),e.get=function(a,s){var e,n,o={},r=new FileUtils.File(a);try{e=i["@mozilla.org/network/file-input-stream;1"].createInstance(t.nsIFileInputStream),e.init(r,1,0,!1),n=i["@mozilla.org/intl/converter-input-stream;1"].createInstance(t.nsIConverterInputStream),n.init(e,"utf-8",e.available(),t.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),n.readString(e.available(),o),n.close(),e.close(),s(o.value)}catch(u){throw new Error((r&&r.path||"")+": "+u)}}),e});
define('json',["text"],function(e){function cacheBust(n){return n=n.replace(t,""),n+=n.indexOf("?")<0?"?":"&",n+i+"="+Math.round(2147483647*Math.random())}var i="bust",t="!bust",n={};return{load:function(t,o,r,u){u.isBuild&&(u.inlineJSON===!1||-1!==t.indexOf(i+"="))||0===o.toUrl(t).indexOf("empty:")?r(null):e.get(o.toUrl(t),function(i){u.isBuild?(n[t]=i,r(i)):r(JSON.parse(i))},r.error,{accept:"application/json"})},normalize:function(n,i){return-1!==n.indexOf(t)&&(n=cacheBust(n)),i(n)},write:function(t,i,e){if(i in n){var r=n[i];e('define("'+t+"!"+i+'", function(){ return '+r+";});\n")}}}});

define("json!bundles/epic/data/defaults.json", function(){ return [{"name":"authentication","parameters":[{"name":"facebookEnabled","value":true},{"name":"facebookEnabledDemo","value":false},{"name":"facebookRequestExtraPermissionsLoggedOut","value":false},{"name":"facebookAccountLinking","value":true}]},{"name":"QuickQuestions","parameters":[{"name":"OptInStyle","value":"NoModal"}]},{"name":"UniversityProduct","parameters":[{"name":"showPollsTab","value":false},{"name":"showNewSettingsPage","value":true},{"name":"showSettingsEmailPreferences","value":false},{"name":"showMarketingEmail","value":true},{"name":"showPartnerEmailSubscriptionBanner","value":false},{"name":"showCourseRatingTools","value":false},{"name":"itemFeedbackCourses","value":[]},{"name":"itemFeedbackVariant","value":"none"},{"name":"enableAssetAdminInCMLEditor","value":false},{"name":"enableAssetAdminInLecture","value":false},{"name":"showPreLaunchBanner","value":false}]},{"name":"QuickQuestionsPolls","parameters":[{"name":"showPollsTab","value":false}]},{"name":"siteCatalog","parameters":[{"name":"showFeaturedLists","value":true},{"name":"courseSource","value":"link"},{"name":"showStartingSoonSort","value":false},{"name":"showAllSubtitleLanguagesFilter","value":false},{"name":"searchV2","value":true},{"name":"autoSuggest","value":false},{"name":"showSpecializations","value":true},{"name":"specializationsExperiment","value":"default"},{"name":"showPreEnrollCourses","value":false}]},{"name":"siteLoggedInHomepage","parameters":[{"name":"rightRailLandingCourseUrl","value":true}]},{"name":"siteLoggedOutHomepage","parameters":[{"name":"epicSanityCheck","value":"#AAAAAA"},{"name":"showAccomplishments","value":false},{"name":"showUiSkeleton","value":false},{"name":"showFeaturedLearnerBanner","value":false}]},{"name":"siteMisc","parameters":[{"name":"profilesV2","value":false},{"name":"mobilePromoMethod","value":"wall"},{"name":"mobilePromoAvoidGooglePlay","value":false},{"name":"joinForFreeDisplay","value":"button"},{"name":"seoShowDetailedPublicLecturePage","value":true},{"name":"facebookPluginEnabled","value":true},{"name":"twitterPluginEnabled","value":true},{"name":"gplusPluginEnabled","value":true},{"name":"wechatPluginEnabled","value":true},{"name":"googleRemarketingEnabled","value":false},{"name":"googleTagManagerEnabled","value":true},{"name":"onboardingEnabled","value":true},{"name":"extendSessionEnabled","value":false},{"name":"comebackhome","value":false},{"name":"enableDetailedPublicLecture","value":true},{"name":"enableAutoMobileDeepLink","value":true},{"name":"eventingV2Batching","value":false}]},{"name":"Growth","parameters":[{"name":"courseWelcome","valid":["basic","outline"],"value":"basic"},{"name":"courseWelcomeByUrl","valid":["basic","outline"],"value":"basic"},{"name":"courseVideoAccess","valid":["authenticated","public"],"value":"authenticated"},{"name":"courseVideoAccessByUrl","valid":["authenticated","public"],"value":"authenticated"},{"name":"courseEnrollMethod","valid":["implicit","explicit"],"value":"implicit"},{"name":"searchTopicAvailable","valid":[false,true],"value":false},{"name":"onDemandPublicLectureLoginPromptFrequencyPerVideo","valid":[0,1,2,3,4,5],"value":1},{"name":"showHonorCodeInFinaid","valid":[false,true],"value":false},{"name":"filterCoherentXCoursesForMobile","value":["1Z1yNeK1EeOUaQoAJwAAAA"]},{"name":"weekOnPreviewSidebar","valid":["locked","read"],"value":"locked"},{"name":"cdpEnrollForFree","valid":["hidden","read"],"value":"read"},{"name":"showDashboardNotifications","valid":[false,true],"value":false},{"name":"assessmentOnPreview","valid":["read","locked","hidden"],"value":"locked"},{"name":"assessmentOnEnrollment","valid":["write","read","locked"],"value":"write"},{"name":"forumOnPreview","valid":["hidden","read","write"],"value":"hidden"},{"name":"auditEnrollModal","valid":["hidden","read"],"value":"hidden"},{"name":"useOfferingCardAndCatalogResultsV2Onboarding","valid":[false,true],"value":false},{"name":"coherentExperienceCourses","value":{"development":{"PLnREdJzEeSeOiIACzWBkQ":1444696656000,"e4SzF9c1EeS-LCIAC3icWw":1444696656000,"mTJHKj0pEeSGwyIACxCdDw":1444696656000},"testing":{},"staging":{},"production":{}}},{"name":"searchAutoApplyLanguageFacets","valid":[false,true],"value":false},{"name":"onboardingLinkToCatalogSearchWithParams","valid":[false,true],"value":false},{"name":"enableGmailOnboardingInvitationFlow","valid":[false,true],"value":false}]},{"name":"Finaid","parameters":[{"name":"rolloutShowFinaidLink","valid":[false,true],"value":false},{"name":"showFinaidLink","valid":[false,"onPage","onEnrollment"],"value":false}]},{"name":"accomplishmentsPages","parameters":[]},{"name":"siteOnDemandCompletion","parameters":[{"name":"assignmentVerification","value":false},{"name":"itemSideNavigation","value":false},{"name":"coursePenaltiesWhitelist","value":["CoKIIzAOEeWX7CIAC0WQ1w","Nj9g8SXLEeW_ESIAC7Psdg","UjoB7CXLEeWAsyIACnuV7A","Y6mlLiXHEeWx4SIACye3Kw","SGvH1iXLEeW_lSIAC0kOqg","RuMKADF_EeWddiIAC9pDDA","uqnwtCmAEeWHPSIAC7MNfg","BQqJmjAOEeWX7CIAC0WQ1w","TELoNCXLEeWeUyIAC44Ejw","Qr3tKyXLEeW_ESIAC7Psdg"]},{"name":"lessonProgressBar","value":false},{"name":"coursePenalties","value":true},{"name":"showLearnerCountCourses","value":{"development":["1Z1yNeK1EeOUaQoAJwAAAA","282"],"testing":["282"],"staging":["1Z1yNeK1EeOUaQoAJwAAAA"],"production":["mTJHKj0pEeSGwyIACxCdDw"]}},{"name":"nextUpDisplay","value":"banner"},{"name":"showCourseHome","value":false},{"name":"showCourseScheduleByDefault","value":false},{"name":"showCourseScheduleByDefaultCourses","value":{"development":["Auue1KA-EeS9VCIACyUcdg","A82QaHtJEeSliSIAC0EO7A","mG1NQnUvEeS8UyIACzYI5Q","tWgmnb03EeS5IyIACyCAHg"],"staging":[],"production":[]}},{"name":"fullyLaunchedHomeCourseIds","value":["WChOZHTVEeSi3yIACzSGcw","Auue1KA-EeS9VCIACyUcdg","2UHGXkNtEeSfwCIACxeXRw","mG1NQnUvEeS8UyIACzYI5Q","03osAJejEeSA2iIACzAQrQ","4G2HtIWlEeSlzyIACiGe0w","tWgmnb03EeS5IyIACyCAHg","mTJHKj0pEeSGwyIACxCdDw","Q9urcdfwEeStziIAC2gVQw","UCVlZaWxEeSHRCIACyUEiQ","-_a5rfggEeS0mSIACx2P1w","RKMa0PTnEeSR9SIAC7LYOA","skaKZPNTEeS7fSIACzYDNg","MWII7A2TEeWoRw4pD4cXmw","mYVoGA4fEeWkZg42h4yEYQ","mYVoGA4fEeWkZg42h4yEYQ","6mOCpgP8EeWmBSIAC9UI2A","RwNT9Q4kEeWoRw4pD4cXmw","-CDC9Q7JEeWPhwrBf2tcNQ","Gtv4Xb1-EeS-ViIACwYKVQ","Gtv4Xb1-EeS-ViIACwYKVQ","A0IYf6jOEeSnlCIAC1EMbw","b1G36Q75EeWMFBICvJtBuQ","j3fuwJ3EEeSfuyIACxcGsQ","8PRAaA76EeWkZg42h4yEYQ","yNYeSg71EeWhsgqB1eduww","ZkeKUQ78EeWPhwrBf2tcNQ","UA9HkQ8QEeWuEBJhzy2uFw","YHdkRA79EeWuEBJhzy2uFw","eLzp7w-NEeWPhwrBf2tcNQ","zz2Eww-UEeWoRw4pD4cXmw","3TdKKA-VEeWhsgqB1eduww","Fk-S7Q-XEeWhsgqB1eduww","W62t_A-ZEeWuEBJhzy2uFw","SAZf_ay2EeS5uiIACk-Zyg","GdeNrll1EeSROyIACtiVvg","tMHV7wu7EeWoRw4pD4cXmw","1oJb3Q_bEeWMFBICvJtBuQ","1ddSAQDKEeW0KyIACxqWIg","iLI6egl6EeWw4CIACxsM5w","YPGkFhCNEeWvmQrN_lODCw","hhFDsQ72EeWPhwrBf2tcNQ","Qx-vkAocEeWAYyIACmGIdw","3cmY9AVPEeWr2CIAC20DIw","hhFDsQ72EeWPhwrBf2tcNQ","iHvwrvQ3EeS9pCIAC3jaow","wWmv2BEhEeWvmQrN_lODCw","awHMl_57EeSmPCIACyqGBw","ZQDT5AS2EeWmBSIAC9UI2A","usIwBhODEeWfzgpfp_iBVw","6kAowBObEeWfzgpfp_iBVw","-nkoihN6EeWCWhKuhISYpw","3WznoRCoEeWhTg59fTWfpQ","mG15ZhQ9EeWCWhKuhISYpw","9zXfqf2IEeSnBSIACi-PoQ","57Uu8hRTEeWCWhKuhISYpw","TN2PygiBEeW4diIACwKO-g","EwR6zhSDEeWCWhKuhISYpw","q6P-8ed8EeSglCIACzUL2A","qXxuFBUnEeWhTg59fTWfpQ","tGbJuel4EeSnMSIACzuFJw","5-A3g_KJEeS3yyIAC4eMqw","h4KWW5YGEeS7eSIAC0CAGw","z_MvXQoVEeWCpyIAC3lAyw","V9_aHBU7EeWfzgpfp_iBVw","c8dPVxUQEeWpKw4zIcjkHw","-nRRAPmuEeSndSIAC7LTLQ","C-Eq4BUkEeWfzgpfp_iBVw","wsKEixV2EeWfzgpfp_iBVw","DmetrPp5EeScaiIAC9WIJw","MdyEHhSBEeWvmQrN_lODCw","21IE8mqeEeSCnCIAC0ETWQ","oWawIRajEeWEjBINzvDOWw","thIk3xXjEeWvmQrN_lODCw","pCa5-xauEeWEjBINzvDOWw","IJOwrRbLEeWKlgqs7LdhRw","T_hpstgKEeSA2iIAC22KLw","7mVd2Bh8EeWiMA6gO89JYQ","192QixZOEeWKlgqs7LdhRw","oFRMKhbHEeWKlgqs7LdhRw","wrevyBkaEeW9dA4X94-nLQ","nACfmBkHEeWjrA6seF25aw","qu8u8vqKEeSDoyIAC1CH0g","rklWchkuEeWg_RJGAuFGjw","9Ubk9xbUEeWKAgoqLfhrnw","9Ubk9xbUEeWKAgoqLfhrnw","CTlGQf2KEeSToSIACxsEgg","3PL16--wEeSbxyIACw0OOQ","2iD7dxkvEeW9dA4X94-nLQ","-Eu38u08EeSKeyIACwQXPg","V5SinKHsEeSqoSIACzsKQg","cdBWwMNwEeS3kiIACx2NTg","71uAg8wYEeSyoSIACwgCjw","SrM6V-3pEeSJZSIAC0gHUg","lUcQU1MNEeSstCIAC1GOZw","PK8RF2g8EeSYbSIACzWPZQ","HIUPOchIEeSA1yIACye2oA","d086Bc9YEeSS_CIACzcAUg","_aXKkBnJEeW9dA4X94-nLQ","BJXF0TLTEeSasiIACxClrQ","Niihyrb2EeSNXyIAC0mVOQ","ofu7SKAEEeSrqiIAC46RtQ","Fw4ZgaAIEeSrPCIAC1SWlw","-1YwAnTLEeSjmyIAC0aXFg","O_jWsQCnEeWKrCIAC49PHA","QUTOlO03EeSC-CIAC38Bjw","zn0YnhqsEeW9dA4X94-nLQ","LaPkiBkDEeW2kQ6Me2SR7Q","J_4ubhrPEeWsqgoIBu2JdQ","lHabnht2EeWo5g5SXpDA8Q","UTmoThr5EeWqIgq-TOy4Xw","r32oHRuLEeWxXBLj8jbgsw","mGM6AmlPEeSdNiIACrbZkA","DEzfnLcYEeSz_CIAC1SRTA","Ugk2Sxt_EeWBKhJRV_B8Gw","sQEO1tohEeSQryIAC46GNw","7tQ_XRkwEeWg_RJGAuFGjw","hIc_pBqaEeWwrBKfKrqlSQ","jOA_JhudEeWo5g5SXpDA8Q","wS6YM72kEeSuIiIAC0uZhw","dUNIFe9gEeSIIyIAC7LOhg","NvjGfPeCEeSW1SIAC3oCCQ","Gn2FwjeBEeSauSIAC0iVUQ","WQMNShxYEeWP9g4JMjGIiQ","fCKQimXqEeSuUyIAC0mIhA","dBcr3BxdEeWxXBLj8jbgsw","dPkbnh6zEeWP0w4yK2369w","Tr9rK6JtEeSwKiIACiONVg","XgJjBB9pEeWS6wrbVw_uEw","ClCx1sbdEeShXyIAC5MC2w","XeB2pvgkEeS36CIACw8Krw","l9ryvRniEeWjrA6seF25aw","uTjoICDXEeWXzxJxfIL00w","d8F1aSA5EeWXzxJxfIL00w","CUKQcLcZEeSyXSIAC4tPlA","gmsPUNGEEeSHqyIAC1AQBw","iVmYEwMtEeWKrCIAC49PHA","trDN9vgGEeSW1SIAC3oCCQ","_3QzvgVhEeW1sSIACkEMfg","5tcVqTpTEeWO-Qq6rEZAow","OxBvBTpSEeWCYBKNeFwojw"]},{"name":"showNearbyLearnersSessions","value":["RuMKADF_EeWddiIAC9pDDA","Qr3tKyXLEeW_ESIAC7Psdg","UjoB7CXLEeWAsyIACnuV7A","wY_PQkYLEeWBcQqYSpqLgQ","ThmX1EKyEeWTMBKhOZsGeQ","ovQBC0KyEeWBHArcQOD9cw"]},{"name":"showNearbyLearners","value":false},{"name":"showInviteFriends","value":"default"},{"name":"showInviteFriendsSessions","value":["rNag6lM0EeWUBw792DK9fQ","ugBhUVM0EeWUBw792DK9fQ"]},{"name":"showPhotoUploadInClassmates","value":false},{"name":"hideForums","value":false},{"name":"hideForumsCourses","value":[{"id":"usIwBhODEeWfzgpfp_iBVw","startTime":0},{"id":"knivtHEHEeSfpCIACzWBZw","startTime":0}]},{"name":"showSessions","value":false},{"name":"sessionsRollout","value":["Z7-ViyT-EeW5pgpJEN0S6w","c_rkuRoBEeWDtQoum3sFeQ","LgWwihnoEeWDtQoum3sFeQ","-qKIDPnAEeS1QCIACy-KcQ","SpWNUyTfEeWxbhIkPfddLQ","21IE8mqeEeSCnCIAC0ETWQ","5tcVqTpTEeWO-Qq6rEZAow","gmsPUNGEEeSHqyIAC1AQBw","trDN9vgGEeSW1SIAC3oCCQ","_3QzvgVhEeW1sSIACkEMfg","d8F1aSA5EeWXzxJxfIL00w","uTjoICDXEeWXzxJxfIL00w","pH0L4fT5EeSvDyIAC12Nyg","-nRRAPmuEeSndSIAC7LTLQ","WChOZHTVEeSi3yIACzSGcw","Auue1KA-EeS9VCIACyUcdg","mG1NQnUvEeS8UyIACzYI5Q","2UHGXkNtEeSfwCIACxeXRw","Gtv4Xb1-EeS-ViIACwYKVQ","A0IYf6jOEeSnlCIAC1EMbw","GdeNrll1EeSROyIACtiVvg","1q0a_TY6EeWBMQ5pdIoFkQ","RmRwVDGaEeWsOA5fzAmxbw","QCk6TSyzEeWLVg5w1LoYqQ","uvgij0XhEeW8ow5lHOiKYQ","cYMx3xtdEeWxXBLj8jbgsw","3NVwFUqmEeWk9g4dP2hYVQ","ctSjc0qnEeW6aw4sfz3Q5Q","DmetrPp5EeScaiIAC9WIJw","WQMNShxYEeWP9g4JMjGIiQ","XgJjBB9pEeWS6wrbVw_uEw","XRy7uCAeEeWKeQ6ae81EbQ","feddFyYDEeWP8AqYi9cmiw","g4FwNDVyEeWW9BKhJ4xW0Q","w8XFGTVyEeWW9BKhJ4xW0Q","DDBg7AlXEeWTSSIAC0MDtg","YcfRNRoCEeW9dA4X94-nLQ","xL0drBU7EeWpKw4zIcjkHw","H7G3mCI8EeS5vSIAC0cTMw","2mShqDVyEeW6RApRXdjJPw","gt5ybBU-EeWhTg59fTWfpQ","LAg-9kt2EeWWBg7ATQA6eQ","2H8ExCTIEeWeDBJG1XrG0w","rKbbMST9EeWtRg6boA3D-Q","nO_yqTe0EeWYbg7p2_3OHQ","6DwzaCw7EeWGvAojQA48rw","Wl5ych5kEeWFIxLDnS6_kQ"]},{"name":"sessionPreviewModes","value":false},{"name":"showForumNotifications","value":true},{"name":"squashedML","value":true},{"name":"lockedAssessments","value":false},{"name":"courseOnboarding","value":false},{"name":"courseOnboardingCourses","value":{"development":["Auue1KA-EeS9VCIACyUcdg","WChOZHTVEeSi3yIACzSGcw","2UHGXkNtEeSfwCIACxeXRw"],"testing":["Auue1KA-EeS9VCIACyUcdg"],"production":["Auue1KA-EeS9VCIACyUcdg","WChOZHTVEeSi3yIACzSGcw"]}},{"name":"enableItemVideoDownloads","value":false},{"name":"enableItemVideoDownloadsV2","value":false},{"name":"itemVideoDownloadBlacklist","value":["3EPZVpSGEeSb9SIACzCJlg"]},{"name":"inviteFriendsEmail","value":["noBanner"]},{"name":"endOfCourseExperience","value":"default"}]},{"name":"localization","parameters":[]},{"name":"epicSanityTest","parameters":[{"name":"byUrlAATest","value":""},{"name":"byUserAATest","value":""},{"name":"bySessionAllocationTest","value":0.5},{"name":"byUserAllocationTest","value":0.5},{"name":"byUserTagTargetingTest","value":0.5}]},{"name":"payments","parameters":[{"name":"sparkPaymentsInGringotts","value":{"development":[5000006],"testing":[5000006],"staging":[],"production":[]}},{"name":"sparkSpecializationPaymentsInGringotts","value":{"development":[37],"testing":[37],"staging":[],"production":[]}},{"name":"paymentStyle","value":"standard"},{"name":"enableStripePaymentOption","value":{"development":["1Z1yNeK1EeOUaQoAJwAAAA"],"testing":[],"staging":[],"production":[]}},{"name":"preselectCountry","value":false}]},{"name":"featureBlacklist","parameters":[{"name":"itemSideNavigationCourses","value":["nO_yqTe0EeWYbg7p2_3OHQ","oC5XlyT_EeWs4gorU6Q1Yw","r0e9gyUAEeWxbhIkPfddLQ","iXq6zSWTEeWs4gorU6Q1Yw","qLFYrxnoEeWwrBKfKrqlSQ","yWjlOBnoEeWg_RJGAuFGjw","xRA5cxnoEeWg_RJGAuFGjw","7gLccRnoEeWjrA6seF25aw","bH3mBTeLEeWXuQopUhAqaw","1e3cxzeNEeWO-Qq6rEZAow","Xy2quTeOEeWJaxK5AT4frw","Wl5ych5kEeWFIxLDnS6_kQ","mt1WfTaSEeWWBQrVFXqd1w","VyHnEjaTEeWfzhKP8GtZlQ","M0etLDe9EeWJaxK5AT4frw","eXbmvDe9EeWO-Qq6rEZAow","vhLVVTe9EeWnxw5wP_KHTw","It7SNTe-EeWCYBKNeFwojw","2H8ExCTIEeWeDBJG1XrG0w","rKbbMST9EeWtRg6boA3D-Q","Z7-ViyT-EeW5pgpJEN0S6w","urbm-CT-EeWCGRL6mLoB5w","DDBg7AlXEeWTSSIAC0MDtg","YcfRNRoCEeW9dA4X94-nLQ","xL0drBU7EeWpKw4zIcjkHw","gt5ybBU-EeWhTg59fTWfpQ","Z3yHdBVBEeWvmQrN_lODCw","afay6xVFEeWfzgpfp_iBVw","Hc_NtRVGEeWhTg59fTWfpQ","NFiJtRnpEeW9dA4X94-nLQ","RO728xoIEeWg_RJGAuFGjw","NwQ9txnoEeWDtQoum3sFeQ","73wUyhqPEeWwrBKfKrqlSQ","KXOLVTovEeWnxw5wP_KHTw","3j8WjTxDEeW0tw4knrMo3Q","OZSZ6CD-EeWcQw5YiljpGw","9Lnb6D6NEeWBrBIWi3mmCw","GdzorjsjEeWFSA6UPWxRyQ","Hr9lByyfEeWccAqzeA4VPw","-O2O1Sy8EeWV6Q7jN0iEaQ","s0uHeCzMEeWPngoW78wA_Q"]},{"name":"defaultDeadlines","value":["_k0sWFyOEeWFQQ5sY2D27Q","V3TkGFycEeWN2gpulCdoDw"]},{"name":"courseHome","value":["VYaXsC1oEeS76CIACxAQww","FDKAdNsuEeSEcyIAC2mPOQ","5_M54uIIEeSsKCIAC3iEqA"]},{"name":"itemVideoDownload","value":["3EPZVpSGEeSb9SIACzCJlg"]},{"name":"courseActivitySocialFeatures","value":["A0IYf6jOEeSnlCIAC1EMbw"]},{"name":"discussions","value":["GEfA2A0UEeSWFyIACpBHcA","iQZflcZ7EeOoFhIxOQQuEA","1ndQqNPxEeSloiIAC3kKUw","PLnREdJzEeSeOiIACzWBkQ","iRBJm_LREeSplSIACzYDNg","-DeBzORjEeSwliIAC3sMgg","Hs4vqiyxEeSqPiIAC0mTJQ","YOH__fNOEeSbSyIACxeWxg","0aY3BdGZEeSX5iIAC4tS5g","oZwETNccEeSV9iIAC0wBBw","L7stsPOKEeSlpiIAC7NwBA","MdNTKtdhEeSgyyIAC4cL9g","3791_tdbEeS2-SIAC4-TTw","e4SzF9c1EeS-LCIAC3icWw","D-kRGMhiEeSHHCIAC12q0A","zKZY59dlEeSQOCIAC0ELFw","bzK7K9cYEeSV9iIAC0wBBw","IFz46F48EeSncCIAC0eNkA","szecWzeyEeSnNyIACxiLYQ","PGQphxLCEeSD_CIACooXkA","W-ayAiM9EeSjriIACzaDig","A82QaHtJEeSliSIAC0EO7A","nnd5lshWEeSA1yIACye2oA","afDgOoSTEeSA1yIAC1EHSw","bWG8V3TiEeSG_CIAC0UpQg","ugSnwH9hEeSiIiIAC3lQMQ","_UsmIV-PEeSnpyIACzWBsQ","Y1sD7WReEeSPwSIACy-XPg","__JK5M3TEeSa0iIAC9RQCQ","pB5I3GYSEeSuUyIAC0mIhA","bzTQ7gZUEeWJMSIAC7Jl0w","5qe8W_5iEeSiniIAC1OXJA","ClCx1sbdEeShXyIAC5MC2w"]},{"name":"privacyUsers","value":[]}]},{"name":"FrontendMobile","parameters":[{"name":"blacklistedUniversalLinks","value":{"paths":[]}}]}];});

function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(a,t){for(var r=0;r<t.length;r++){var e=t[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(a,e.key,e)}}return function(e,r,t){return r&&defineProperties(e.prototype,r),t&&defineProperties(e,t),e}}();define("bundles/epic/lib/EpicClient",["require","exports","module","underscore","json!bundles/epic/data/defaults.json"],function(require,exports,module){function parameterFullname(e,r){return e+":"+r}var _=require("underscore"),e=function(){function EpicClient(e,r){_classCallCheck(this,EpicClient),this.defaultIndexes=this.buildIndexForDefaultParameters(require("json!bundles/epic/data/defaults.json")),this.record=e,this.overrideIndexes=this.buildIndexForOverrideParameters(r),this.memoizedGetWithImpression=_(this.getWithImpression).memoize(function(){for(var r=arguments.length,t=Array(r),e=0;r>e;e++)t[e]=arguments[e];return t.map(JSON.stringify).join(".")})}return _createClass(EpicClient,[{key:"buildIndexForDefaultParameters",value:function buildIndexForDefaultParameters(e){var r=_(e).map(function(e){var r=e.name;return _(e.parameters).map(function(e){return[parameterFullname(r,e.name),e.value]})});return _(r).chain().flatten(!0).object().value()}},{key:"buildIndexForOverrideParameters",value:function buildIndexForOverrideParameters(e){return _(e).chain().map(function(r){var e=_(r).omit("id");return[parameterFullname(e.namespace,e.parameterName),e]}).object().value()}},{key:"get",value:function get(e,t,n){if("undefined"!=typeof window&&window.localStorage)try{var a=window.localStorage.getItem("EpicOverrides");if(a){var r=JSON.parse(a);if(r&&_(r).has(e)&&_(r[e]).has(t))return r[e]&&r[e][t]}}catch(i){console.error("your override string is not JSON")}return this.memoizedGetWithImpression(e,t,n)}},{key:"getWithImpression",value:function getWithImpression(i,s,e){var n=parameterFullname(i,s),a=this.defaultIndexes[n],r=this.overrideIndexes[n];if(void 0!==r){if(void 0!==a){if(e&&_(e).isObject()&&(r=_(r).clone(),r.tags=e),r.tagTarget){var t=r.tagTarget;if(!(e&&_(e).isObject()&&e[t.tagName])){var o="the experiment on "+n+" expects a "+t.tagName+" tag";return console.error(o),a}if("BLACKLIST"===t.targetType){if(_(t.tagValues).contains(e[t.tagName]))return a}else if("WHITELIST"===t.targetType&&!_(t.tagValues).contains(e[t.tagName]))return a}return this.record(["epic.experiment.show",r]),r.value}var u="Attempting to override a parameter that does not exist in the default file: "+n;this.record(["epic.client.js.error",{message:u,parameterOfMissingParameter:s,namespaceOfMissingParameter:i}])}return a}}]),EpicClient}();module.exports=e});
define("bundles/epic/data/overrides",["require","exports","module"],function(require,exports,module){module.exports=coursera.epicOverrides});
define("bundles/epic/client",["require","exports","module","bundles/epic/lib/EpicClient","js/app/multitrackerSingleton","bundles/epic/data/overrides"],function(require,exports,module){var i=require("bundles/epic/lib/EpicClient"),e=require("js/app/multitrackerSingleton"),n=require("bundles/epic/data/overrides"),t=new i(e.pushV2.bind(e),n);module.exports=t});
define("bundles/epic/lib/provideEpicContext",["require","exports","module","react-with-addons","bundles/epic/client"],function(require,exports,module){var e=require("react-with-addons"),t=require("bundles/epic/client");module.exports=function provideEpicContext(i){var n=e.createClass({displayName:"EpicContextProvider",childContextTypes:{getEpicParam:e.PropTypes.func.isRequired},getChildContext:function getChildContext(){return{getEpicParam:t.get.bind(t)}},render:function render(){return e.createElement(i,this.props)}});return n}});
!function(){var e=function DataAttributes($){var e=function parse(u,r,a){var n={},f=a||"";for(var t in r){var i=f+t.replace(/\./g,"-"),e=$(u).attr(i);void 0===e?n[t]=r[t]:"string"==typeof e&&0===e.length||/^\s*true\s*$/.test(e)||i==e?n[t]=!0:/^\s*false\s*$/.test(e)?n[t]=!1:n[t]=e}return n},exports={parse:e};return exports};"function"==typeof define&&define.amd?define("js/lib/data.attributes",["require","jquery"],function(require){var $=require("jquery");return e($)}):"undefined"!=typeof window&&"undefined"==typeof ender&&(window.DataAttributes=e(window.$))}();
!function(e){"function"==typeof define&&define.amd?define("js/vendor/lucid.v2-7-0",e):"object"!=typeof module&&"function"!=typeof module||!module.exports?window.LucidJS=e():module.exports=e()}(function(){function EventEmitter(i){function on(e){function clear(){if(!t[e])return;for(n=0;n<r.length;n+=1)t[e].splice(t[e].indexOf(r[n]),1);t[e].length<1&&delete t[e]}function batchOn(r,t){function clear(){var e;for(e=0;e<n.length;e+=1)n[e].clear()}var e,i={},n=[];for(e=0;e<r.length;e+=1)t.unshift(r[e]),n.push(on.apply(this,t)),t.shift();return i.clear=clear,i}var r,i={},n,o;if(r=Array.prototype.slice.apply(arguments,[1]),"object"==typeof e&&"function"==typeof e.push)return batchOn(e,r);if("emitter"!==e.slice(0,7)&&(t.emitter||t["emitter.listener"]))for(n=0;n<r.length;n+=1)trigger("emitter.listener",e,r[n]);for(t[e]||(t[e]=[]),n=0;n<r.length;n+=1){if("function"!=typeof r[n])throw new Error("Cannot bind event. All callbacks must be functions.");t[e].push(r[n])}return i.clear=clear,i}function off(e){var r=Array.prototype.slice.apply(arguments,[1]),n,i;if("object"==typeof e&&"function"==typeof e.push){for(i=0;i<e.length;i+=1)off.apply(null,[e[i]].concat(r));return}if(!t[e])throw new Error('Tried to remove an event from a non-existant event of type "'+e+'".');for(n=0;n<r.length;n+=1){if("function"!=typeof r[n])throw new Error("Tried to remove a non-function.");var o=t[e].indexOf(r[n]);t[e].splice(o,1)}}function once(i){var e,t=Array.prototype.slice.apply(arguments,[1]),n=!0,r=!1;return e=on(i,function(){var i,o=Array.prototype.slice.apply(arguments);if(e)e.clear();else{if(r)return;r=!0,setTimeout(function(){e.clear()},0)}for(i=0;i<t.length;i+=1)t[i].apply(this,o)===!1&&(n=!1);return n})}function trigger(e,p,f,i,c,o,l,u,a,r,s){var t,y,h,n=!0;if("undefined"!=typeof s&&(t=Array.prototype.slice.apply(arguments,[1])),"object"==typeof e&&"function"==typeof e.push)return t?batchTrigger.apply(null,arguments):batchTrigger(e,p,f,i,c,o,l,u,a,r);for(e=e.split(".");e.length;)t?triggerOnly.apply(this,[e.join(".")].concat(t))===!1&&(n=!1):triggerOnly(e.join("."),p,f,i,c,o,l,u,a,r)===!1&&(n=!1),e.pop();return n}function triggerOnly(i,a,y,s,u,l,p,h,c,f,g){var r,n,e=t[i],o=!0;if("undefined"!=typeof g&&(r=Array.prototype.slice.apply(arguments,[1])),"emitter"!==i.substr(0,7)&&(t.emitter||t["emitter.event"])&&(r?trigger.apply(this,[].concat("emitter.event",i,r)):trigger("emitter.event",i,a,y,s,u,l,p,h,c,f)),e)for(e=[].concat(e),n=0;n<e.length;n+=1)r?e[n].apply(this,r)===!1&&(o=!1):e[n](a,y,s,u,l,p,h,c,f)===!1&&(o=!1);return o}function batchTrigger(t,p,s,u,a,o,l,y,i,c,f){var r,e,n=!0;for("undefined"!=typeof f&&(r=Array.prototype.slice.apply(arguments,[1])),e=0;e<t.length;e+=1)r?(args.unshift(t[e]),trigger.apply(this,args)===!1&&(n=!1),args.shift()):trigger(t[e],p,s,u,a,o,l,y,i,c)===!1&&(n=!1);return n}function set(e,a,s,i,o,l,p,u,c,f,h){function clear(){trigger("emitter.unset",e),r[e].splice(r[e].indexOf(t),1),y()}var n,t,y;if(h&&(n=Array.prototype.slice.apply(arguments,[1])),"object"==typeof e&&e.push)return n?batchSet.apply(null,n):batchSet(e,a,s,i,o,l,p,u,c,f);return t=on(["emitter.listener","pipe.listener"],function(r,t){var y;e===r&&(n?t.apply(null,n):t(a,s,i,o,l,p,u,c,f))}),n?trigger.apply(null,arguments):trigger(e,a,s,i,o,l,p,u,c,f),r[e]||(r[e]=[]),r[e].push(t),y=t.clear,t.clear=clear,t}function batchSet(n,a,y,s,u,f,l,p,h,c,o){function clear(){var e;for(e=0;e<t.length;e+=1)t[e].clear()}var i={},r,e,t=[];for(o&&(r=Array.prototype.slice.apply(arguments,[1])),e=0;e<n.length;e+=1)r?t.push(set.apply(null,[n[e]].concat(r))):t.push(set(n[e],a,y,s,u,f,l,p,h,c));return i.clear=clear,i}function clearSet(e){var t;if(e&&r[e]){for(t=0;t<r[e].length;t+=1)r[e][t].clear();delete r[e]}else if(!e)for(e in r){if(!r.hasOwnProperty(e))continue;clearSet(e)}}function pipe(n){function captureEvent(e){var r=!1,n;n=Array.prototype.slice.apply(arguments,[1]),i.once(e,function(){r=!0}),"pipe"!==e.substr(0,4)&&(t.pipe||t["pipe.event"])&&trigger("pipe.event",e,n),r?l.push(set.apply(null,[e].concat(n))):triggerOnly.apply(null,[e].concat(n))}function sendListener(e,t){i.trigger("pipe.listener",e,t)}function clear(){var e,t,n,i;for(e=0;e<r.length;e+=1)r[e].clear();for(t=0;t<r.length;t+=1)l[t].clear();for(n=0;n<eventListeners.length;n+=1)r[n].clear();for(i=0;i<a.length;i+=1)l[i].clear()}var p={},o,e,i,r=[],l=[],c=[],a=[];if(o=Array.prototype.slice.apply(arguments,[1]),"object"==typeof n){if(!n.on)return batchPipe.apply(null,arguments);o.unshift(n),n=!1}for(e=0;e<o.length;e+=1)i=o[e],c.push(i.on("emitter.event",captureEvent)),a.push(on("emitter.listener",sendListener));return p.clear=clear,p}function batchPipe(n){function clear(){var e;for(e=0;e<t.length;e+=1)t[e].clear()}var r={},e,t=[],i;for(i=Array.prototype.slice.apply(arguments,[1]),e=0;e<n.length;e+=1)t.push(pipe.apply(null,[n[e]].concat(i)));return r.clear=clear,r}function clearPipes(r){var e,t,i;for(e=0;e<n.length;e+=1){if(r){if(2===n[e].type)continue;if(-1===n[e].events.indexOf(r))continue;n[e].events.splice(n[e].events.indexOf(r),1)}for(2===n[e].type&&n[e].listenerBinding.clear(),t=0;t<n[e].bindings.length;t+=1){if(r&&n[e].bindings[t].event!==r)continue;n[e].bindings[t].clear(),n[e].bindings.splice(t,1),t-=1}n[e].bindings.length<1&&(n.splice(e,1),e-=1)}}function getListeners(e){return e?t[e]:t}function clearListeners(e){e?delete t[e]:t={}}function clear(){(t.emitter||t["emitter.clear"])&&trigger("emitter.clear"),t={},clearSet(),clearPipes(),delete e.on,delete e.once,delete e.trigger,delete e.set,delete e.pipe,delete e.listeners,delete e.clear}function handleNode(t){function clearNodeEmitter(){var e;for(e=0;e<n.length;e+=1)try{t.removeEventListener?t.removeEventListener(n[e].event,n[e].listener,!1):t.detachEvent&&t.detachEvent("on"+n[e].event,n[e].listener)}catch(o){console.error(o)}r=[],i.clear()}var r=[],i,n=[];i=on("emitter.listener",function(e){function nodeListener(t){var n=Array.prototype.slice.apply(arguments);n.unshift([e,"dom."+e]),trigger.apply(this,n)===!1&&(t.preventDefault(),t.stopPropagation())}if(r.indexOf(e)>-1)return;r.push(e);try{t.addEventListener?(t.addEventListener(e,nodeListener,!1),n.push({event:e,listener:nodeListener})):t.attachEvent&&(t.attachEvent("on"+e,nodeListener),n.push({event:e,listener:nodeListener}))}catch(i){console.error(i)}}),e.clearNodeEmitter=clearNodeEmitter}var e=i||{},t={},r={},n=[];if(e.on||e.once||e.trigger||e.set||e.pipe||e.listeners)return e;return e.on=on,e.off=off,e.once=once,e.trigger=trigger,e.set=set,e.set.clear=clearSet,e.pipe=pipe,e.pipe.clear=clearPipes,e.listeners=getListeners,e.listeners.clear=clearListeners,(e.addEventListener||e.attachEvent)&&handleNode(e),e}var e;return e={emitter:EventEmitter},[].indexOf||(Array.prototype.indexOf=function(n,e,t){for(t=this.length,e=(t+~~e)%t;t>e&&(!(e in this)||this[e]!==n);e++);return e^t?e:-1}),e});
!function(){var t=function Modals($,n,_,s){var e=0,a=1,t={defaults:{autofocus:!0,"bind.open":"click","bind.close":"click","bind.action":"click","attribute.open":"data-modal","attribute.close":"data-modal-close","attribute.iframe":"data-modal-iframe","attribute.action":"data-modal-action","attribute.focus":"data-modal-focus","attribute.focus.index":1e4,"animate.modal.open":null,"animate.modal.close":null,"animate.modal.duration":250,"animate.overlay.open":null,"animate.overlay.close":null,"animate.overlay.duration":250,"overlay.show":!0,"overlay.class":"overlay","overlay.close":!0,"z.index":9999,"position.top":"50%","position.left":"50%",position:"fixed","iframe.autoclose":!0},$overlay:null,count:0,prevScroll:null,prevModal:null,getModal:function getModal(o,e){var t=$(o).data("modal.me");return t&&t.constructor==i.prototype.constructor?e?t.customize(e):t:null},makeModal:function makeModal(s,a){var o=$(s),e=t.getModal(o);return e||(e=new i(o,a),o.data("modal.me",e)),e},setOverlayHeight:function setOverlayHeight(){$(window).height()<$(document).height()?t.$overlay.css({height:$(document).height()+"px"}):t.$overlay.css({height:"100%"})},observeKeyPress:function observeKeyPress(t){this.options["overlay.close"]&&(27==t.keyCode||27==t.DOM_VK_ESCAPE&&0===t.which)&&(this.emitter.trigger("action",!1,this),this.close()),this.emitter.trigger("key",t)},cycleTabs:function cycleTabs(t){var i=this.$el.find("a,input,select,textarea,button").filter(":visible");9==t.keyCode&&$(t.target).is(i.last())&&window.setTimeout(function(){i.first().focus()},0)},actionTrigger:function actionTrigger(t){var i=$(t.currentTarget),e=i.attr(this.options["attribute.action"]);this.emitter.trigger("action",e,this)},open:function open(){if("fixed"!=this.options.position&&(t.prevScroll={top:$(document).scrollTop(),left:$(document).scrollLeft()},window.scrollTo(0,0)),this.$iframe){var s=this.options["iframe.url"]||$(this.anchor).attr(this.options["attribute.iframe"]);this.$iframe.attr("src",s),this.$iframe.focus()}else{for(var o=this.$el.find("["+this.options["attribute.focus"]+"]"),i=this.$el.find("a,input,select,textarea,button"),e=0;e<i.length;e++)i.eq(e).attr("tabindex",this.options["attribute.focus.index"]+1+e);this.options.autofocus&&(o.size()>0?(o.filter(":visible").eq(0).attr("tabindex",this.options["attribute.focus.index"]),o.filter(":visible").eq(0).focus()):i.size()>0&&(i.filter(":visible").eq(0).attr("tabindex",this.options["attribute.focus.index"]),i.filter(":visible").eq(0).focus()))}this.state=a,this.$el.on(this.options["bind.action"],"["+this.options["attribute.action"]+"]",_.bind(t.actionTrigger,this)),this.emitter.trigger("open")},close:function close(){var i=this.$el.find("iframe");this.$el.off(".modal").hide(),this.options["iframe.autoclose"]&&i.size()&&i.attr({src:"about:blank"}),t.prevScroll&&(window.scrollTo(t.prevScroll.left,t.prevScroll.top),t.prevScroll=null),this.anchor=null,this.$parent.append(this.$el),this.state=e,this.emitter.trigger("close")}},i=function Modal(t,i){var o=this;this.$el=$(t),this.state=e,this.$parent=this.$el.parent(),this.customize(i),this.emitter=n.emitter(this)};i.prototype.customize=function(i){return this.options=_.extend({},s.parse(this.$el,t.defaults,"data-modal-"),i),this},i.prototype.open=function(){var i=this,o;if(this.anchor&&(o=$(this.anchor).attr(this.options["attribute.iframe"])),this.options["iframe.url"]&&(o=this.options["iframe.url"]),o&&(this.$iframe=this.$el.find("iframe"),/^https?:\/\/|^\/|^\.\.\//.test(o)&&(this.$iframe.size()&&this.$iframe.attr("src")==o||(this.$iframe.attr("src","about:blank").remove(),this.$iframe=$("<iframe>").css({height:"100%",width:"100%"}).attr({scrolling:"no",frameborder:0}),this.$el.append(this.$iframe),this.state!=e&&this.$iframe.attr("src",o)))),this.state!=e)return;return this.options["overlay.show"]&&(t.$overlay&&"none"!=t.$overlay.css("display")&&t.$overlay.hasClass(this.options["overlay.class"])?this.$overlay=t.$overlay:(t.$overlay&&t.$overlay.off(".modal").hide().remove(),this.$overlay=t.$overlay=$("<div>").addClass(this.options["overlay.class"]).hide(),this.$overlay.css({position:"fixed",width:"100%",top:0,left:0,right:0,bottom:0,zIndex:this.options["z.index"]++}),$("body").append(this.$overlay)),t.setOverlayHeight(),this.reposition(),this.options["animate.overlay.open"]?this.$overlay.animate(this.options["animate.overlay.open"],{duration:this.options["animate.overlay.duration"]}):this.$overlay.show(),t.count++,this.$overlay.data("modal",this)),this.emitter.trigger("opening"),("fixed"!=this.options.position||0===this.$el.closest("html").length)&&this.$el.appendTo("body"),this.reposition(),this.$el.show(),this.options["animate.modal.open"]?this.$el.animate(this.options["animate.modal.open"],{duration:this.options["animate.modal.duration"],complete:function complete(){t.open.call(i)}}):t.open.call(this),$(window).on("resize.modal",_.bind(t.setOverlayHeight,i)).on("resize.modal",_.bind(i.reposition,i)).on("scroll.modal",_.bind(i.reposition,i)),this.$el.on("keydown.modal",_.bind(t.cycleTabs,i)),$(window).on("keyup.modal",_.bind(t.observeKeyPress,i)),this.options["overlay.close"]&&this.$overlay.on(this.options["bind.close"]+".modal",function(t){i.emitter.trigger("action",!1,i),i.close()}),this.options["attribute.close"]&&this.$el.on(this.options["bind.close"]+".modal","["+this.options["attribute.close"]+"]",function(e){var t=$(e.currentTarget);"disabled"!=t.attr("disabled")&&(void 0===t.attr(i.options["attribute.action"])&&i.emitter.trigger("action",!1,i),i.close())}),this},i.prototype.reposition=function(){var t=this.options["position.left"],i=this.options["position.top"];return t&&this.$el.css({position:this.options.position,left:t,marginLeft:/%/.test(t)?this.$el.outerWidth()/2*-1:0,zIndex:this.options["z.index"]++}),i&&this.$el.css({position:this.options.position,top:i,marginTop:/%/.test(i)?this.$el.outerHeight()/2*-1:0,zIndex:this.options["z.index"]++}),this},i.prototype.close=function(){var i=this;if(this.state!=a)return;if(this.trigger("closeRequest")===!1)return;return this.$el.off(".modal"),$(window).off(".modal"),this.emitter.trigger("closing"),this.options["animate.modal.close"]?this.$el.animate(this.options["animate.modal.close"],{duration:this.options["animate.modal.duration"],complete:function complete(){t.close.call(i)}}):t.close.call(this),0===--t.count&&this.options["overlay.show"]&&this.$overlay&&(this.$overlay.off(".modal"),this.options["animate.overlay.close"]?this.$overlay.animate(this.options["animate.overlay.close"],{duration:this.options["animate.overlay.duration"],complete:function complete(){this.$overlay.hide().remove()}}):this.$overlay.hide().remove()),this};var o=function external(){return t.getModal.apply(null,arguments)||t.makeModal.apply(this,arguments)};return o.start=function(o,a){var e=$(o),i=_.extend({},t.defaults,a);if(e.data("modals-initialized"))return;e.data("modals-initialized",1),e.on(i["bind.open"]+".modal","["+i["attribute.open"]+"]",function(a){var n=$(this),l=n.attr(i["attribute.open"]),o=e.find(l);i=_.extend({},i,s.parse(o,t.defaults,"data-modal-"));var r=t.getModal(o,i)||t.makeModal(o,i);!/^https?:\/\/|^\/|^\.\.\//.test(n.attr("href"))||a.ctrlKey||a.metaKey||a.preventDefault(),r.anchor=this,t.prevModal=o[0],r.open()})},o.stop=function(o){var e=$(o);e.unbind(".modal"),e.data("modals-initialized",0),t.prevModal&&i(t.prevModal).close()},o.start("body"),o};"function"==typeof define&&define.amd?define("js/lib/modals",["require","js/lib/data.attributes","jquery","js/vendor/lucid.v2-7-0","underscore"],function(require){var i=require("js/lib/data.attributes"),$=require("jquery"),e=require("js/vendor/lucid.v2-7-0"),_=require("underscore");return t($,e,_,i)}):"undefined"!=typeof window&&"undefined"==typeof ender&&(window.Modal=t(window.$,window.LucidJS,window._,window.DataAttributes))}();
define("js/lib/backbone.origami",["require","exports","module","jquery","q","react-with-addons","underscore","bundles/confirmNavigation/confirmNavigation.html","bundles/epic/lib/provideEpicContext","js/app/loggerSingleton","js/lib/modals","js/vendor/backbone.v1-1-2"],function(require,exports,module){var $=require("jquery"),r=require("q"),t=require("react-with-addons"),_=require("underscore"),v=require("bundles/confirmNavigation/confirmNavigation.html"),p=require("bundles/epic/lib/provideEpicContext"),s=require("js/app/loggerSingleton"),o=require("js/lib/modals"),Backbone=require("js/vendor/backbone.v1-1-2"),c="backbone_region",d="react_region";Backbone.View.prototype._super=function(e){return this.constructor.__super__[e].apply(this,_.rest(arguments))};var n=null,e={current:null,body:"#origami",views:{},openDepth:0,beforeUnloadMessage:"There are unsaved changes that will be lost if you reload or leave this page.",regionHasUnsavedModel:function regionHasUnsavedModel(n){if(!n)return!1;var i=n.view&&n.view.hasUnsavedModel?n.view.hasUnsavedModel():!1;if(i)return!0;for(var r in n.regions){var t=n.regions[r];if(e.regionHasUnsavedModel(t))return!0}return!1}},u=Backbone.Router.extend({initialize:function initialize(){var n=this;n.routePrefix="",this.visitedFragments=[],this.$confirmNavigation=$(v({})),$("body").append(this.$confirmNavigation),$(window).on("beforeunload.origami",function(){if(e.regionHasUnsavedModel(e.current))return e.beforeUnloadMessage})},setupLinks:function setupLinks(e,n){var i=this;this.routePrefix=e,this.linkSelector=n,$("body").on("click","a"+this.linkSelector,function(e){e.ctrlKey||e.metaKey||(e.preventDefault(),i.navigateTo($(e.currentTarget).attr("href"),!0))})},addFragmentToVisited:function addFragmentToVisited(e,n){if("object"==typeof n&&n.replace)return;this.visitedFragments?this.visitedFragments.push(e):this.visitedFragments=[e]},navigateTo:function navigateTo(e,n){e||s.error("router.navigateTo received no href"),this.navigate(e.replace(this.routePrefix,""),n)},navigate:function navigate(n,i){if(e.current&&e.regionHasUnsavedModel(e.current)){var r=$(".confirm-navigation-message");r.text(e.beforeUnloadMessage);var t=$(".confirm-navigation-leave");t.one("click",function(e){this.addFragmentToVisited(n),Backbone.Router.prototype.navigate.call(e.currentTarget,n,i)}.bind(this));var a={"overlay.class":"coursera-overlay"};o(".confirm-navigation",a).open()}else this.addFragmentToVisited(n,i),Backbone.Router.prototype.navigate.call(this,n,i)},addRoutes:function addRoutes(r,t){var n=this;for(var e in r){var i=r[e];t&&(i=t(i)),n.route(e,e,i),n.route(e+"/",e+"/",function(){var e=Backbone.history.getFragment(),i=e.replace(/\/(?:\?.*)*$/,"");n.navigate(i,{trigger:!0,replace:!0})})}},start:function start(e){var n=Backbone.history.start({pushState:!0,hashChange:!1,root:e});n||this.trigger("error",404)},unsavedWarningModal:function unsavedWarningModal(r,t,a,n){if(e.current&&e.regionHasUnsavedModel(e.current)){var s={"overlay.class":"coursera-overlay"},c=$(".confirm-navigation-message");c.text(e.beforeUnloadMessage);var i=o(".confirm-navigation",s);i.once("action",function(e){if("leave"===e)n();else{r.cancel();var i=t.getPath().replace(this.routePrefix,"");a.rr.replaceWith(i),n()}}.bind(this)),i.open()}else n()}}),i=function region(i,r){var e=this,n=r||{};e.type=i,e.regions=n.regions||{},e.initialize=n.initialize||{},e.to=n.to,e.options={},e.props=r.props||{},e.id=n.id||i.prototype.name,e.name=i.prototype.name||n.name,e.view=null,e.regions=$.extend({},i.prototype.subregions,n.regions||{})};i.prototype.close=function(n){var e=this;_.each(e.regions,function(i,r){delete e.regions[r],i&&i.close(n)}),e.view.trigger("view:closed"),n||e.view.remove(),e.view.undelegateEvents(),e.view.off("view")},i.prototype.closing=function(){this.view.trigger("view:closing"),delete e.views[this.view.cid]},i.prototype.render=function(n){var e=this,i=_.compact(_.values(e.regions));return _.each(i,function(n){n.render(),n.parent=e}),this.type.hasOwnProperty("displayName")?(this.kind=d,this.renderReactComponent()):(this.kind=c,this.renderBackboneView()),_.each(i,function(n){var r=n.view&&n.view.el,i=n.to||n.view&&n.view.to;_.isFunction(i)&&(i=i()),i&&!$.contains(document,r)&&(e.view.$(i).append(r),n.appended())}),n&&e.view.on("view:appended",function(){n.trigger("region:appended",{name:e.name})}),e},i.prototype.renderBackboneView=function(){this.view=new this.type(this.initialize),this.view.region=this,this.view.render(this.render)},i.prototype.renderReactComponent=function(){var e=p(this.type),n=t.createElement(e,this.props);this.view=new Backbone.View,this.view.region=this,this.view.remove=function(){return t.unmountComponentAtNode(this.el),Backbone.View.prototype.remove.call(this),this},this.view.on("view:appended",function(){t.render(n,this.el)})},i.prototype.appended=function(){var e=this;e.view&&setTimeout(function(){e.view.trigger("view:appended")},0)},i.prototype.append=function(t,e){var o=this,a=r.defer();this.regions||(this.regions={});var s=function renderAndAppend(i){for(var s=t,d=0,r;o.regions[s];)s+=++d;if(o.regions[s]=i,i.render(n),r=e.to?_.isElement(e.to)?o.view.$(e.to):e.to:o.view.$el,_(e).has("position")){var c=r.children().eq(e.position);c.length>0?$(c[0]).before(i.view.el):r.append(i.view.el)}else r.append(i.view.el);i.appended(),n.trigger("region:rendered",{name:i}),a.resolve(i)};return"string"==typeof t?n.region.fetch(t,e,s):s(new i(t,e)),a.promise},i.prototype.is=function(e){return e.type==this.type&&e.id==this.id},i.prototype.replace=function(n,e){this.view.$el.replaceWith(n.view.el),e&&e()},i.prototype.merge=function(n,i){var e=this;e.is(n)?_.each(n.regions,function(r,t){var n=e.regions[t];n&&r?(n.view.trigger("view:merging",r.initialize),n.merge(r,i),n.view.trigger("view:merged",r.initialize)):n&&!r&&(n.closing(),n.parent&&delete n.parent.regions[n.name],n.close())}):e.name==n.name&&(e.closing(),n.render(i),e.replace(n,function(){e.parent&&(e.parent.regions[n.name]=n,n.parent=e.parent,e.parent.appended()),e.close(),n.appended()}))};var a=function Origami(t,o){if(n)return n;n=this,e.body=t,e.current=o,$(window).on("resize",function(){for(var n in e.views)e.views[n].trigger("view:resize")}),this.region={make:function make(e,n){return new i(e,n)},fetch:function fetch(e,t,a){var o=_.uniqueId();n.trigger("region:fetching",{name:e,uid:o});var r=function returnRegion(r){n.trigger("region:fetched",{name:e,uid:o}),a(new i(r,t))},module=t.module;module&&module.lazy?module(r):module?r(module):(n.trigger("deprecatedUsage",{type:"asyncRequire",name:e}),require([e],r))},append:function append(e,r,t,o){e||(e={regions:{}});var a=function renderAndAppend(i){for(var t=r,a=0;e.regions[t];)t+=++a;return e.regions[t]=i,i.render(n),o&&o(i),i.appended(),n.trigger("region:rendered",{name:i}),i};if("string"!=typeof r)return a(new i(r,t));n.region.fetch(r,t,a)},open:function open(t,a){var o=t,d={};0===e.openDepth&&n.trigger("open"),e.openDepth++;var p=function onFetch(i){var t=[];_.each(i.regions,function(o,e){if(!o)return;var a=r.defer();n.region.open(o,function(n){n.kind==c&&e!=n.name&&s.error("Region configured with name "+e+" but has name "+n.name),i.regions[e]=n,a.resolve(n)}),t.push(a.promise)}),r.allSettled(t).then(function(){if(a)return a(i);if(e.current){if(e.current.is(i))return void e.current.merge(i,n);if(e.current.name==i.name)return i.render(n),void e.current.replace(i,function(){e.current.close(),e.current=i,e.current.appended()});e.current.close(!0)}n.dontRender||(e.current=i,$(e.body).html(e.current.render(n).view.$el),e.current.appended())}).fin(function(){--e.openDepth<=0&&(n.on("close",function(){e.current&&(e.current.view.once("view:closed",function(){e.current=void 0}),e.current.close.call(e.current))}),n.trigger("opened"))}).done()};i.prototype.isPrototypeOf(t)?p(t):(_.isObject(t)&&(o=_.keys(t)[0],d=t[o]),n.region.fetch(o,d,p))}},this.interruptRender=function(){this.dontRender=!0}.bind(this),this.cancelInterrupt=function(){this.dontRender=!1}.bind(this),this.router=new u,this.store={},this.tracker=[]};_.extend(a.prototype,Backbone.Events),module.exports=a});
define("js/lib/asyncMessages",["require","exports","module","backbone","jquery","underscore"],function(require,exports,module){var Backbone=require("backbone"),$=require("jquery"),_=require("underscore"),e={defaults:{selector:null},defaults_item:{timeout:0},item_remove:function item_remove(e){var t=_.indexOf(this.stack,e.options.id);if(-1!=t){this.stack.splice(t,1);for(var i in e.options.events)e.$ele.off(i+".asyncMessage");e.$ele.remove()}delete this.items[e.options.id]},item_show:function item_show(e){var t=this;if(this.stack.length){var i=this.items[this.stack[0]];i&&i.$ele.remove()}this.$container.append(e.$ele),this.trigger("showing",e.$ele),this.$container.show(),this.stack.unshift(e.options.id),this.trigger("show",e),e.options.timeout&&setTimeout(function(){t.trigger("hiding",e),t.remove(e.options.id),t.trigger("hide",e)},e.options.timeout);for(var s in e.options.events)e.$ele.on(s+".asyncMessage",function(i){e.options.events[s].call(t,i,e)})}},t=function asyncMessage(t,i){this.options=$.extend({},e.defaults,i),this.$ele=$(t||$("<div>").appendTo("body")),this.$container=this.options.selector?this.$ele.find(this.options.selector):this.$ele,this.stack=[],this.items={}};return t.prototype.add=function(o,n){var r=$(o),t=$.extend({},e.defaults_item,n),i=this;if(t.id=t.id||_.uniqueId(),_.has(this.items,t.id))return t.id;this.items[t.id]={$ele:r,options:t,timer:null};var s=function show(){i.stack.length||i.trigger("opening"),e.item_show.call(i,i.items[t.id]),1==i.stack.length&&i.trigger("open")};return t.delay?this.items[t.id].timer=setTimeout(s,t.delay):s(),t.id},t.prototype.remove=function(s){var t=this.items[s];if(t)if(clearTimeout(t.timer),1==this.stack.length)this.trigger("closing"),e.item_remove.call(this,t),this.$container.hide(),this.trigger("close");else{if(this.stack.length){var i=this.items[this.stack.shift()];i&&e.item_show.call(this,i)}e.item_remove.call(this,t)}},_.extend(t.prototype,Backbone.Events),{create:function create(e,i){return new t(e,i)}}});
define("js/vendor/store.v1-3-16",["require","exports","module"],function(require,exports,module){var e=function(a){function isLocalStorageNameSupported(){try{return r in a&&a[r]}catch(e){return!1}}function withIEStorage(n){return function(){var i=Array.prototype.slice.call(arguments,0);i.unshift(t),o.appendChild(t),t.addBehavior("#default#userData"),t.load(r);var a=n.apply(e,i);return o.removeChild(t),a}}function ieKeyFix(e){return e.replace(/^d/,"___$&").replace(f,"___")}var e={},u=a.document,r="localStorage",c="script",t;if(e.disabled=!1,e.set=function(e,t){},e.get=function(e){},e.remove=function(e){},e.clear=function(){},e.transact=function(i,r,n){var t=e.get(i);null==n&&(n=r,r=null),"undefined"==typeof t&&(t=r||{}),n(t),e.set(i,t)},e.getAll=function(){},e.forEach=function(){},e.serialize=function(e){return JSON.stringify(e)},e.deserialize=function(e){if("string"!=typeof e)return void 0;try{return JSON.parse(e)}catch(t){return e||void 0}},isLocalStorageNameSupported())t=a[r],e.set=function(n,r){if(void 0===r)return e.remove(n);return t.setItem(n,e.serialize(r)),r},e.get=function(r){return e.deserialize(t.getItem(r))},e.remove=function(e){t.removeItem(e)},e.clear=function(){t.clear()},e.getAll=function(){var t={};return e.forEach(function(e,r){t[e]=r}),t},e.forEach=function(i){for(var r=0;r<t.length;r++){var n=t.key(r);i(n,e.get(n))}};else if(u.documentElement.addBehavior){var o,i;try{i=new ActiveXObject("htmlfile"),i.open(),i.write("<"+c+">document.w=window</"+c+'><iframe src="/favicon.ico"></iframe>'),i.close(),o=i.w.frames[0].document,t=o.createElement("div")}catch(l){t=u.createElement("div"),o=u.body}var f=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");e.set=withIEStorage(function(i,t,n){if(t=ieKeyFix(t),void 0===n)return e.remove(t);return i.setAttribute(t,e.serialize(n)),i.save(r),n}),e.get=withIEStorage(function(r,t){return t=ieKeyFix(t),e.deserialize(r.getAttribute(t))}),e.remove=withIEStorage(function(t,e){e=ieKeyFix(e),t.removeAttribute(e),t.save(r)}),e.clear=withIEStorage(function(e){var i=e.XMLDocument.documentElement.attributes;e.load(r);for(var t=0,n;n=i[t];t++)e.removeAttribute(n.name);e.save(r)}),e.getAll=function(r){var t={};return e.forEach(function(e,r){t[e]=r}),t},e.forEach=withIEStorage(function(r,i){for(var o=r.XMLDocument.documentElement.attributes,n=0,t;t=o[n];++n)i(t.name,e.deserialize(r.getAttribute(t.name)))})}try{var n="__storejs__";e.set(n,n),e.get(n)!=n&&(e.disabled=!0),e.remove(n)}catch(l){e.disabled=!0}return e.enabled=!e.disabled,e};"undefined"==typeof window?module.exports={enabled:!1,set:function(e){return e},get:function(){return void 0}}:module.exports=e(window)});
define("js/lib/coursera.store",["require","exports","module","js/vendor/store.v1-3-16","js/app/loggerSingleton"],function(require,exports,module){var e=require("js/vendor/store.v1-3-16"),r=require("js/app/loggerSingleton");if(e.enabled){e.setIfEnabled=e.set;var s=e.serialize,n=function identity(e){return e};e.setUnserialized=function(r,t){e.serialize=n;var i=e.setIfEnabled(r,t);return e.serialize=s,i}}else r.warn("localStorage.set is disabled and some features may not work"),e.setIfEnabled=function(){},e.setUnserialized=function(){};module.exports=e});
define("js/lib/courseraRecruiting",["require","exports","module","js/lib/coursera.store"],function(require,exports,module){var e=require("js/lib/coursera.store"),o="\nHi there! Thanks for checking us out.\n\nWe're working hard to connect people to a great education,\nand are looking for people like you to help.\nIf that sounds like an exciting mission, or if you\nsimply want to get a better understanding of our tech stack,\nsend an email to atob('Y29tZWpvaW51c0Bjb3Vyc2VyYS5vcmc=').\n\nTo disable this message, simply use ComeJoinUs.disable().\n\n",n={displayInConsole:function displayInConsole(){if(window.navigator.noUI||e.get("disableRecruitingMessage"))return;console.log(o)},disable:function disable(){e.set("disableRecruitingMessage",!0)},enable:function enable(){e.clear("disableRecruitingMessage")}};window.ComeJoinUs=n,module.exports=n});
define("js/lib/persistQueryParams",["require","exports","module","underscore","js/lib/coursera.store","jsuri"],function(require,exports,module){var _=require("underscore"),r=require("js/lib/coursera.store"),e=require("jsuri");module.exports=function(s,u){var i=new e(s),t=_(u).reduce(function(u,e){var s=i.getQueryParamValue(e);return void 0!==s&&(u[e]=s,r.setUnserialized(e,s)),u},{});return t}});
!function(e){var a=function(e,i,t){var a=function template(d){var t=[],s={},a,i=d||{};return function(z,b,w,p,i,N,s,l,r,v,d,u,j,h,g,f,y,m,C,o,n){if(t.push('<div data-js="metatags-address-book"><div data-js-page-name="default"><div data-js="meta-title">Coursera - Free Online Courses From Top Universities</div><div data-js="meta-description">Take free online classes from 120+ top universities and educational organizations. We partner with schools like Stanford, Yale, Princeton, and others to offer courses in dozens of topics, from computer science to teaching and beyond. Whether you are pursuing a passion or looking to advance your career, Coursera provides open, free education for everyone.</div></div><div data-js-page-name="directory"><div data-js="meta-title">'+e.escape(null==(a=z)?"":a)+' Directory</div></div><div data-js-page-name="about"><div data-js="meta-title">About</div></div><div data-js-page-name="about-careers"><div data-js="meta-title">Careers</div><div data-js="meta-description">Do you want to help us give everyone access to world-class education that has so far been available only to a select few?\nSolving this problems requires passion and the ability to solve massive scaling challenges, designing new interfaces and building a social community around learning.\nContact us today to find out more!</div></div><div data-js-page-name="about-community"><div data-js="meta-title">Community</div></div><div data-js-page-name="about-contact"><div data-js="meta-title">Contact Us</div></div><div data-js-page-name="about-translate"><div data-js="meta-title">Translate</div></div><div data-js-page-name="about-mobile"><div data-js="meta-title">Mobile</div><div data-js="meta-description">Access the world\'s best education anytime, anywhere.</div></div><div data-js-page-name="about-leadership"><div data-js="meta-title">Leadership</div></div><div data-js-page-name="about-learning-hubs"><div data-js="meta-title">Learning Hubs</div></div><div data-js-page-name="about-meet-our-translators"><div data-js="meta-title">Meet our translators</div></div><div data-js-page-name="about-partner"><div data-js="meta-title">'+e.escape(null==(a=b)?"":a)+'</div><div data-js="meta-description">'+e.escape(null==(a=w)?"":a)+'</div></div><div data-js-page-name="about-partners"><div data-js="meta-title">Partners</div></div><div data-js-page-name="about-people"><div data-js="meta-title">People</div></div><div data-js-page-name="about-press"><div data-js="meta-title">Press</div></div><div data-js-page-name="about-privacy"><div data-js="meta-title">Privacy Policy</div></div><div data-js-page-name="about-programs"><div data-js="meta-title">Programs</div></div><div data-js-page-name="about-tos"><div data-js="meta-title">Terms of Use</div></div><div data-js-page-name="accomplishment-record"><div data-js="meta-title">'+e.escape(null==(a=p)?"":a)+"'s Course Record of "+e.escape(null==(a=i)?"":a)+" from "+e.escape(null==(a=N)?"":a)+'</div><div data-js="meta-description">Read more about '+e.escape(null==(a=p)?"":a)+'\'s Course Certificates, earned from the world\'s top universities and educational organizations on Coursera.</div></div><div data-js-page-name="gsi"><div data-js="meta-title">Global Skills Initiative</div></div><div data-js-page-name="hut-course"><div data-js="meta-title">'+e.escape(null==(a=i)?"":a)+" - "+e.escape(null==(a=s)?"":a)+'</div><div data-js="meta-description">'+e.escape(null==(a=i)?"":a)+" from "+e.escape(null==(a=s)?"":a)+". "+e.escape(null==(a=l)?"":a)+'</div></div><div data-js-page-name="instructor-profile">'),r?t.push('<div data-js="meta-title">'+e.escape(null==(a=r.getFullName())?"":a)+" - "+e.escape(null==(a=r.get("partners").getNamesString())?"":a)+'</div><div data-js="meta-description">'+e.escape(null==(a=r.get("bio"))?"":a)+"</div>"):t.push('<div data-js="meta-title">Instructor</div>'),t.push('</div><div data-js-page-name="hut-course-list">'),v&&1==v.length){var c=v[0];t.push('<div data-js="meta-title">'+e.escape(null==(a=c)?"":a)+' Courses</div><div data-js="meta-description">Browse '+e.escape(null==(a=c)?"":a)+" courses.</div>")}else t.push('<div data-js="meta-title">Courses</div>');t.push('</div><div data-js-page-name="specializations"><div data-js="meta-title">Specializations</div><div data-js="meta-description">Become an expert with Coursera Specializations - targeted series of courses to help you truly master a skill.</div></div><div data-js-page-name="specialization">'),d&&d.get("name")?(t.push('<div data-js="meta-title">'+e.escape(null==(a=d.get("name"))?"":a)+'</div><div data-js="meta-description">'),d.get("metadata")&&d.get("metadata").headline&&d.get("metadata").subheader?t.push("Explore "+e.escape(null==(a=d.get("name"))?"":a)+" Certificate offered by "+e.escape(null==(a=s)?"":a)+". "+e.escape(null==(a=d.get("metadata").headline)?"":a)+" - "+e.escape(null==(a=d.get("metadata").subheader)?"":a)+".\n"+e.escape(null==(a=d.get("description"))?"":a)):(t.push("Become an expert with "+e.escape(null==(a=d.get("name"))?"":a)+" Specialization offered by "+e.escape(null==(a=s)?"":a)+"."),d.get("subhead")&&t.push(""+e.escape(null==(a=d.get("subhead"))?"":a))),t.push("</div>")):t.push('<div data-js="meta-title">Specialization</div>'),t.push('</div><div data-js-page-name="open-course-outline"><div data-js="meta-title">'+e.escape(null==(a=i)?"":a)+' - Course Videos, Lectures, Quizzes</div><div data-js="meta-description">Course videos, lectures, and quizzes from '+e.escape(null==(a=i)?"":a)+" from "+e.escape(null==(a=u)?"":a)+"."),j&&t.push(" The lessons are: "+e.escape(null==(a=j)?"":a)+"."),t.push('</div></div><div data-js-page-name="open-course-video"><div data-js="meta-title">'+e.escape(null==(a=h)?"":a)+" - "+e.escape(null==(a=s)?"":a)+'</div><div data-js="meta-description">Video created by '+e.escape(null==(a=s)?"":a)+' for the course "'+e.escape(null==(a=i)?"":a)+'". '+e.escape(null==(a=g)?"":a)+'</div></div><div data-js-page-name="open-course-welcome"><div data-js="meta-title">'+e.escape(null==(a=i)?"":a)+" - "+e.escape(null==(a=s)?"":a)+'</div><div data-js="meta-description">'+e.escape(null==(a=i)?"":a)+" from "+e.escape(null==(a=s)?"":a)+". "+e.escape(null==(a=l)?"":a)+'</div></div><div data-js-page-name="video-search-results">'+e.escape(null==(a=f)?"":a)+' - Videos, Education, and Learning</div><div data-js="meta-description">Learn more about '+e.escape(null==(a=f)?"":a)+' in short videos from free online courses taught by the worlds top universities and educational institutions.</div><div data-js-page-name="vc-landing"><div data-js="meta-title">Certificate in '+e.escape(null==(a=i)?"":a)+'</div><div data-js="meta-description">Earn your Course Certificate from '+e.escape(null==(a=u)?"":a)+" in "+e.escape(null==(a=i)?"":a)+'. Certification on Coursera is convenient, flexible, and affordable.</div></div><div data-js-page-name="vc-general-body"><div data-js="meta-title">Course Certificate</div><div data-js="meta-description">Earn your Course Certificate with official recognition from the best universities. Certificates are resume builders, and prove your learning.</div></div><div data-js-page-name="title-and-description"><div data-js="meta-title">'+e.escape(null==(a=y)?"":a)+'</div><div data-js="meta-description">'+e.escape(null==(a=m)?"":a)+'</div></div><div data-js-page-name="ondemand-home-module">'),i?t.push('<div data-js="meta-title">'+e.escape(null==(a=i)?"":a)+" - "+e.escape(null==(a=C)?"":a)+'</div><div data-js="meta-description">'+e.escape(null==(a=m)?"":a)+"</div>"):t.push('<div data-js="meta-title">Module</div>'),t.push('</div><div data-js-page-name="ondemand-home">'),i?t.push('<div data-js="meta-title">'+e.escape(null==(a=i)?"":a)+'</div><div data-js="meta-description">'+e.escape(null==(a=l)?"":a)+"</div>"):t.push('<div data-js="meta-title">Home - Course</div>'),t.push('</div><div data-js-page-name="catalog-browse-root"><div data-js="meta-title">Browse</div><div data-js="meta-description">Browse hundreds of courses and specializations in Business, Computer Science, Arts, Humanities, and more.</div></div><div data-js-page-name="spanish-launch-browse-root"><div data-js="meta-title">Descubre los cursos<div data-js="meta-description"></div>Descubre los cursos en espaol de Coursera</div></div><div data-js-page-name="catalog-browse-domain">'),o?t.push('<div data-js="meta-title">'+e.escape(null==(a=o.name)?"":a)+' Courses</div><div data-js="meta-description">Browse '+e.escape(null==(a=o.name)?"":a)+" courses and specializations. "+e.escape(null==(a=o.description)?"":a)+"</div>"):t.push('<div data-js="meta-title">Browse</div>'),t.push('</div><div data-js-page-name="catalog-browse-subdomain">'),n?t.push('<div data-js="meta-title">'+e.escape(null==(a=n.name)?"":a)+' Courses</div><div data-js="meta-description">Browse '+e.escape(null==(a=n.name)?"":a)+" courses and specializations. "+e.escape(null==(a=n.description)?"":a)+"</div>"):t.push('<div data-js="meta-title">Browse</div>'),t.push('</div><div data-js-page-name="imba-uiuc"><div data-js="meta-title">University of Illinois iMBA Program - University of Illinois at Urbana-Champaign</div><div data-js="meta-description">Advance your career now with iMBA Program offered by University of Illinois at Urbana-Champaign.</div></div><div data-js-page-name="internet-org-front-page"><div data-js="meta-title">Internet.org</div></div></div>')}.call(this,"resource"in i?i.resource:"undefined"!=typeof resource?resource:void 0,"partnerName"in i?i.partnerName:"undefined"!=typeof partnerName?partnerName:void 0,"partnerDescription"in i?i.partnerDescription:"undefined"!=typeof partnerDescription?partnerDescription:void 0,"userName"in i?i.userName:"undefined"!=typeof userName?userName:void 0,"courseName"in i?i.courseName:"undefined"!=typeof courseName?courseName:void 0,"universityNames"in i?i.universityNames:"undefined"!=typeof universityNames?universityNames:void 0,"partnerNames"in i?i.partnerNames:"undefined"!=typeof partnerNames?partnerNames:void 0,"courseDescription"in i?i.courseDescription:"undefined"!=typeof courseDescription?courseDescription:void 0,"instructor"in i?i.instructor:"undefined"!=typeof instructor?instructor:void 0,"selectedCategoryNames"in i?i.selectedCategoryNames:"undefined"!=typeof selectedCategoryNames?selectedCategoryNames:void 0,"spzn"in i?i.spzn:"undefined"!=typeof spzn?spzn:void 0,"universityName"in i?i.universityName:"undefined"!=typeof universityName?universityName:void 0,"lessonsAsString"in i?i.lessonsAsString:"undefined"!=typeof lessonsAsString?lessonsAsString:void 0,"videoTitle"in i?i.videoTitle:"undefined"!=typeof videoTitle?videoTitle:void 0,"moduleDescription"in i?i.moduleDescription:"undefined"!=typeof moduleDescription?moduleDescription:void 0,"searchTermCapitalized"in i?i.searchTermCapitalized:"undefined"!=typeof searchTermCapitalized?searchTermCapitalized:void 0,"title"in i?i.title:"undefined"!=typeof title?title:void 0,"description"in i?i.description:"undefined"!=typeof description?description:void 0,"moduleTitle"in i?i.moduleTitle:"undefined"!=typeof moduleTitle?moduleTitle:void 0,"domain"in i?i.domain:"undefined"!=typeof domain?domain:void 0,"subdomain"in i?i.subdomain:"undefined"!=typeof subdomain?subdomain:void 0),t.join("")};return a};"function"==typeof define&&define.amd?define('bundles/page/lib/metatagsAddressBook.html',["js/vendor/jade"],function(e){var i,t;return a(e,i,t)}):e.jade.templates["bundles.page.lib.metatagsAddressBook"]=a(e.jade.helpers)}(window);
define("bundles/page/lib/nls/metatagsAddressBook",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define("js/lib/metatags",["require","exports","module"],function(require,exports,module){var n={"og:title":"property","og:url":"property","og:image":"property","og:description":"property","twitter:card":"name","twitter:title":"name","twitter:description":"name","twitter:image:src":"name",description:"name",image:"name",keywords:"name"},t=function nameToType(e){return n[e]||"name"},o=function stripTags(e){return(e||"").replace(/<\w+(\s+("[^"]*"|'[^']*'|[^>])+)?>|<\/\w+>/gi,"")},e=function absolutize(t){var e=document.createElement("a");return e.href=t,e.protocol+"//"+e.host+e.pathname+e.search+e.hash},a=function setLink(r,i){var t=document.querySelector("link[rel="+r+"]");t||(t=document.createElement("link"),document.head.appendChild(t));var n=e(i);t.setAttribute("rel",r),t.setAttribute("href",n)},c=function setMeta(r,i){var n="meta["+t(r)+'="'+r+'"]',e=document.querySelector(n);e||(e=document.createElement("meta"),document.head.appendChild(e)),e.setAttribute(t(r),r);var a=o(i+"");e.setAttribute("content",a)},r=function setMetaDict(e){for(var t in e)c(t,e[t])},i=function setCanonical(e){a("canonical",e)};exports.set=r,exports.setCanonical=i,exports.setCommon=function(t){var n={};if(t.title&&(document.title=t.title,n["og:title"]=t.title,n["twitter:title"]=t.title,n["twitter:card"]="summary"),t.description&&(n["og:description"]=t.description,n["twitter:description"]=t.description,n["twitter:card"]="summary",n.description=t.description),t.pageHref){i(t.pageHref);var a=e(t.pageHref);n["og:url"]=a}if(t.imageHref){var o=e(t.imageHref);n["og:image"]=o,n.image=o,n["twitter:image:src"]=o,n["twitter:card"]="summary"}if((t.title||t.description||t.imageHref)&&(n["twitter:card"]="summary"),t.keywords&&t.keywords.length>0){var c="string"==typeof t.keywords?t.keywords:t.keywords.join(",");n.keywords=c}r(n)},exports.setDocumentDefault=function(){exports.setCommon({title:document.title,pageHref:window.location.href})}});
define("js/lib/prerender",["require","exports","module","js/app/multitrackerSingleton","js/lib/metatags","js/constants/userAgent"],function(require,exports,module){var n=require("js/app/multitrackerSingleton"),t=require("js/lib/metatags"),s=require("js/constants/userAgent"),e={LOAD_START:503,LOAD_SUCCESS:200,MOVED_PERMANENTLY:301};exports.STATUS_CODE=e;var r=function setPrerenderStatusCode(e){t.set({"prerender-status-code":e})};exports.setPrerenderStatusCode=r,exports.isPrerendering=function(){return s.isPrerender},exports.redirect=function(e,r){var n="Location: "+r;t.set({"prerender-status-code":e,"prerender-header":n})},exports.error=function(e,t,s){n.push(["page.error",{code:e,url:t||location.href,message:s||""}]),r(e)},exports.setPageDidLoad=function(t){if(window.prerenderReady=t,t){var n=document.querySelector('meta[name="prerender-status-code"]'),s=n&&n.getAttribute("content"),o=s&&s===e.LOAD_START.toString();o&&r(e.LOAD_SUCCESS)}else r(e.LOAD_START)}});
define("bundles/page/lib/metatagsAddressBook",["require","exports","module","backbone","jquery","underscore","bundles/page/lib/metatagsAddressBook.html","i18n!bundles/page/lib/nls/metatagsAddressBook","js/app/loggerSingleton","js/lib/metatags","js/lib/prerender"],function(require,exports,module){var Backbone=require("backbone"),$=require("jquery"),_=require("underscore"),r=require("bundles/page/lib/metatagsAddressBook.html"),e=require("i18n!bundles/page/lib/nls/metatagsAddressBook"),t=require("js/app/loggerSingleton"),i=require("js/lib/metatags"),s=require("js/lib/prerender"),o=["Coursera","education","online","courses","free","mooc","specializations","certificates"],a=Backbone.View.extend({name:"metatagsAddressBook",template:r,initialize:function initialize(e){this.templateOptions=e},render:function render(){return $(this.template(this.templateOptions))}}),n=function _getParsedConfig(s){var d=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],l=new a(d),n=l.render().find('[data-js-page-name="'+s+'"]');if(0===n.length)return t.error("Invalid metatags page name: "+s);if(n.length>1)return t.error("Duplicate metatags page name: "+s);var r=n.find('[data-js="meta-title"]'),i=n.find('[data-js="meta-description"]'),o=function _trimAndReplaceNewlines(e){return e.trim().replace(/\n/g," ")},u=0===r.length?void 0:o(e(r.text())),p=0===i.length?void 0:o(e(i.text()));return{title:{content:u,useDefault:"true"===r.attr("data-js-use-default"),withoutSuffix:"true"===r.attr("data-js-without-suffix")},description:{useDefault:0===i.length,content:p,appendDefault:"false"!==i.attr("data-js-append-default")}}},d=function setMetatags(l){var c=l.pageName,p=l.context,g=void 0===p?{}:p,u=l.options,t=void 0===u?{}:u,e=n(c,g);if(!e)return!1;var d=n("default"),r=d.title.content;e.title.useDefault||(r=e.title.content,e.title.withoutSuffix||(r+=" | Coursera"));var a=d.description.content;return e.description.useDefault||(a=e.description.content,e.description.appendDefault&&(a+=" "+d.description.content)),i.setCommon({title:r,description:a,pageHref:t.pageHref||window.location.href,imageHref:t.imageHref,keywords:_(t.keywords).isEmpty()?o:t.keywords}),s.setPageDidLoad(!0),window.prerenderReady=!0,!0};module.exports={setMetatags:d,MetatagsAddressBookPseudoView:a}});
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("moment",t):e.moment=t()}(this,function(){function utils_hooks__hooks(){return H.apply(null,arguments)}function setHookCallback(t){H=t}function isArray(t){return"[object Array]"===Object.prototype.toString.call(t)}function isDate(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function map(e,r){var n=[],t;for(t=0;t<e.length;++t)n.push(r(e[t],t));return n}function hasOwnProp(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function extend(e,t){for(var n in t)hasOwnProp(t,n)&&(e[n]=t[n]);return hasOwnProp(t,"toString")&&(e.toString=t.toString),hasOwnProp(t,"valueOf")&&(e.valueOf=t.valueOf),e}function create_utc__createUTC(t,e,n,r){return createLocalOrUTC(t,e,n,r,!0).utc()}function defaultParsingFlags(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function getParsingFlags(t){return null==t._pf&&(t._pf=defaultParsingFlags()),t._pf}function valid__isValid(e){if(null==e._isValid){var t=getParsingFlags(e);e._isValid=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function valid__createInvalid(e){var t=create_utc__createUTC(NaN);return null!=e?extend(getParsingFlags(t),e):getParsingFlags(t).userInvalidated=!0,t}function copyConfig(e,t){var i,n,r;if("undefined"!=typeof t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(e._i=t._i),"undefined"!=typeof t._f&&(e._f=t._f),"undefined"!=typeof t._l&&(e._l=t._l),"undefined"!=typeof t._strict&&(e._strict=t._strict),"undefined"!=typeof t._tzm&&(e._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(e._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(e._offset=t._offset),"undefined"!=typeof t._pf&&(e._pf=getParsingFlags(t)),"undefined"!=typeof t._locale&&(e._locale=t._locale),x.length>0)for(i in x)n=x[i],r=t[n],"undefined"!=typeof r&&(e[n]=r);return e}function Moment(t){copyConfig(this,t),this._d=new Date(+t._d),L===!1&&(L=!0,utils_hooks__hooks.updateOffset(this),L=!1)}function isMoment(t){return t instanceof Moment||null!=t&&null!=t._isAMomentObject}function toInt(n){var t=+n,e=0;return 0!==t&&isFinite(t)&&(e=t>=0?Math.floor(t):Math.ceil(t)),e}function compareArrays(e,n,r){var s=Math.min(e.length,n.length),a=Math.abs(e.length-n.length),i=0,t;for(t=0;s>t;t++)(r&&e[t]!==n[t]||!r&&toInt(e[t])!==toInt(n[t]))&&i++;return i+a}function Locale(){}function normalizeLocale(t){return t?t.toLowerCase().replace("_","-"):t}function chooseLocale(i){for(var n=0,e,t,s,r;n<i.length;){for(r=normalizeLocale(i[n]).split("-"),e=r.length,t=normalizeLocale(i[n+1]),t=t?t.split("-"):null;e>0;){if(s=loadLocale(r.slice(0,e).join("-")))return s;if(t&&t.length>=e&&compareArrays(r,t,!0)>=e-1)break;e--}n++}return null}function loadLocale(t){var e=null;if(!c[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=M._abbr,require("./locale/"+t),locale_locales__getSetGlobalLocale(e)}catch(n){}return c[t]}function locale_locales__getSetGlobalLocale(t,n){var e;return t&&(e="undefined"==typeof n?locale_locales__getLocale(t):defineLocale(t,n),e&&(M=e)),M._abbr}function defineLocale(t,e){return null!==e?(e.abbr=t,c[t]||(c[t]=new Locale),c[t].set(e),locale_locales__getSetGlobalLocale(t),c[t]):(delete c[t],null)}function locale_locales__getLocale(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return M;if(!isArray(t)){if(e=loadLocale(t))return e;t=[t]}return chooseLocale(t)}function addUnitAlias(t,n){var e=t.toLowerCase();D[e]=D[e+"s"]=D[n]=t}function normalizeUnits(t){return"string"==typeof t?D[t]||D[t.toLowerCase()]:void 0}function normalizeObjectUnits(e){var r={},n,t;for(t in e)hasOwnProp(e,t)&&(n=normalizeUnits(t),n&&(r[n]=e[t]));return r}function makeGetSet(t,e){return function(n){return null!=n?(get_set__set(this,t,n),utils_hooks__hooks.updateOffset(this,e),this):get_set__get(this,t)}}function get_set__get(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function get_set__set(t,e,n){return t._d["set"+(t._isUTC?"UTC":"")+e](n)}function getSet(t,n){var e;if("object"==typeof t)for(e in t)this.set(e,t[e]);else if(t=normalizeUnits(t),"function"==typeof this[t])return this[t](n);return this}function zeroFill(e,n,r){for(var t=""+Math.abs(e),i=e>=0;t.length<n;)t="0"+t;return(i?r?"+":"":"-")+t}function addFormatToken(n,t,i,r){var e=r;"string"==typeof r&&(e=function(){return this[r]()}),n&&(g[n]=e),t&&(g[t[0]]=function(){return zeroFill(e.apply(this,arguments),t[1],t[2])}),i&&(g[i]=function(){return this.localeData().ordinal(e.apply(this,arguments),n)})}function removeFormattingTokens(t){if(t.match(/\[[\s\S]/))return t.replace(/^\[|\]$/g,"");return t.replace(/\\/g,"")}function makeFormatFunction(r){var e=r.match(I),t,n;for(t=0,n=e.length;n>t;t++)g[e[t]]?e[t]=g[e[t]]:e[t]=removeFormattingTokens(e[t]);return function(s){var i="";for(t=0;n>t;t++)i+=e[t]instanceof Function?e[t].call(s,r):e[t];return i}}function formatMoment(e,t){if(!e.isValid())return e.localeData().invalidDate();return t=expandFormat(t,e.localeData()),G[t]||(G[t]=makeFormatFunction(t)),G[t](e)}function expandFormat(t,n){function replaceLongDateFormatTokens(t){return n.longDateFormat(t)||t}var e=5;for(w.lastIndex=0;e>=0&&w.test(t);)t=t.replace(w,replaceLongDateFormatTokens),w.lastIndex=0,e-=1;return t}function addRegexToken(n,t,e){U[n]="function"==typeof t?t:function(n){return n&&e?e:t}}function getParseRegexForToken(t,e){if(!hasOwnProp(U,t))return new RegExp(unescapeFormat(t));return U[t](e._strict,e._locale)}function unescapeFormat(t){return t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(i,t,e,n,r){return t||e||n||r}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function addParseToken(t,n){var e,r=n;for("string"==typeof t&&(t=[t]),"number"==typeof n&&(r=function(t,e){e[n]=toInt(t)}),e=0;e<t.length;e++)C[t[e]]=r}function addWeekParseToken(t,e){addParseToken(t,function(n,i,t,r){t._w=t._w||{},e(n,t._w,t,r)})}function addTimeToArrayFromToken(t,e,n){null!=e&&hasOwnProp(C,t)&&C[t](e,n._a,n,t)}function daysInMonth(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function localeMonths(t){return this._months[t.month()]}function localeMonthsShort(t){return this._monthsShort[t.month()]}function localeMonthsParse(r,i,e){var t,n,s;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),t=0;12>t;t++){if(n=create_utc__createUTC([2e3,t]),e&&!this._longMonthsParse[t]&&(this._longMonthsParse[t]=new RegExp("^"+this.months(n,"").replace(".","")+"$","i"),this._shortMonthsParse[t]=new RegExp("^"+this.monthsShort(n,"").replace(".","")+"$","i")),e||this._monthsParse[t]||(s="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[t]=new RegExp(s.replace(".",""),"i")),e&&"MMMM"===i&&this._longMonthsParse[t].test(r))return t;if(e&&"MMM"===i&&this._shortMonthsParse[t].test(r))return t;if(!e&&this._monthsParse[t].test(r))return t}}function setMonth(t,e){var n;if("string"==typeof e&&(e=t.localeData().monthsParse(e),"number"!=typeof e))return t;return n=Math.min(t.date(),daysInMonth(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function getSetMonth(t){return null!=t?(setMonth(this,t),utils_hooks__hooks.updateOffset(this,!0),this):get_set__get(this,"Month")}function getDaysInMonth(){return daysInMonth(this.year(),this.month())}function checkOverflow(e){var n,t=e._a;return t&&-2===getParsingFlags(e).overflow&&(n=t[u]<0||t[u]>11?u:t[a]<1||t[a]>daysInMonth(t[o],t[u])?a:t[i]<0||t[i]>24||24===t[i]&&(0!==t[m]||0!==t[h]||0!==t[f])?i:t[m]<0||t[m]>59?m:t[h]<0||t[h]>59?h:t[f]<0||t[f]>999?f:-1,getParsingFlags(e)._overflowDayOfYear&&(o>n||n>a)&&(n=a),getParsingFlags(e).overflow=n),e}function warn(t){utils_hooks__hooks.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function deprecate(n,t){var e=!0,r=n+"\n"+(new Error).stack;return extend(function(){return e&&(warn(r),e=!1),t.apply(this,arguments)},t)}function deprecateSimple(t,e){Z[t]||(warn(e),Z[t]=!0)}function configFromISO(e){var t,n,r=e._i,i=Q.exec(r);if(i){for(getParsingFlags(e).iso=!0,t=0,n=F.length;n>t;t++)if(F[t][1].exec(r)){e._f=F[t][0]+(i[6]||" ");break}for(t=0,n=P.length;n>t;t++)if(P[t][1].exec(r)){e._f+=P[t][0];break}r.match(T)&&(e._f+="Z"),configFromStringAndFormat(e)}else e._isValid=!1}function configFromString(t){var e=X.exec(t._i);if(null!==e)return void(t._d=new Date(+e[1]));configFromISO(t),t._isValid===!1&&(delete t._isValid,utils_hooks__hooks.createFromInputFallback(t))}function createDate(t,n,r,i,s,a,o){var e=new Date(t,n,r,i,s,a,o);return 1970>t&&e.setFullYear(t),e}function createUTCDate(t){var e=new Date(Date.UTC.apply(null,arguments));return 1970>t&&e.setUTCFullYear(t),e}function daysInYear(t){return isLeapYear(t)?366:365}function isLeapYear(t){return t%4===0&&t%100!==0||t%400===0}function getIsLeapYear(){return isLeapYear(this.year())}function weekOfYear(n,s,r){var i=r-s,t=r-n.day(),e;return t>i&&(t-=7),i-7>t&&(t+=7),e=local__createLocal(n).add(t,"d"),{week:Math.ceil(e.dayOfYear()/7),year:e.year()}}function localeWeek(t){return weekOfYear(t,this._week.dow,this._week.doy).week}function localeFirstDayOfWeek(){return this._week.dow}function localeFirstDayOfYear(){return this._week.doy}function getSetWeek(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function getSetISOWeek(t){var e=weekOfYear(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function dayOfYearFromWeeks(n,a,r,o,i){var t=createUTCDate(n,0,1).getUTCDay(),s,e;return t=0===t?7:t,r=null!=r?r:i,s=i-t+(t>o?7:0)-(i>t?7:0),e=7*(a-1)+(r-i)+s+1,{year:e>0?n:n-1,dayOfYear:e>0?e:daysInYear(n-1)+e}}function getSetDayOfYear(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function defaults(t,e,n){if(null!=t)return t;if(null!=e)return e;return n}function currentDateArray(e){var t=new Date;if(e._useUTC)return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()];return[t.getFullYear(),t.getMonth(),t.getDate()]}function configFromArray(t){var e,n,r=[],s,d;if(t._d)return;for(s=currentDateArray(t),t._w&&null==t._a[a]&&null==t._a[u]&&dayOfYearFromWeekInfo(t),t._dayOfYear&&(d=defaults(t._a[o],s[o]),t._dayOfYear>daysInYear(d)&&(getParsingFlags(t)._overflowDayOfYear=!0),n=createUTCDate(d,0,t._dayOfYear),t._a[u]=n.getUTCMonth(),t._a[a]=n.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=r[e]=s[e];for(;7>e;e++)t._a[e]=r[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[i]&&0===t._a[m]&&0===t._a[h]&&0===t._a[f]&&(t._nextDay=!0,t._a[i]=0),t._d=(t._useUTC?createUTCDate:createDate).apply(null,r),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[i]=24)}function dayOfYearFromWeekInfo(e){var t,a,i,r,n,s,u;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(n=1,s=4,a=defaults(t.GG,e._a[o],weekOfYear(local__createLocal(),1,4).year),i=defaults(t.W,1),r=defaults(t.E,1)):(n=e._locale._week.dow,s=e._locale._week.doy,a=defaults(t.gg,e._a[o],weekOfYear(local__createLocal(),n,s).year),i=defaults(t.w,1),null!=t.d?(r=t.d,n>r&&++i):r=null!=t.e?t.e+n:n),u=dayOfYearFromWeeks(a,i,r,s,n),e._a[o]=u.year,e._dayOfYear=u.dayOfYear}function configFromStringAndFormat(t){if(t._f===utils_hooks__hooks.ISO_8601)return void configFromISO(t);t._a=[],getParsingFlags(t).empty=!0;var e=""+t._i,s,n,a,r,o,d=e.length,u=0;for(a=expandFormat(t._f,t._locale).match(I)||[],s=0;s<a.length;s++)r=a[s],n=(e.match(getParseRegexForToken(r,t))||[])[0],n&&(o=e.substr(0,e.indexOf(n)),o.length>0&&getParsingFlags(t).unusedInput.push(o),e=e.slice(e.indexOf(n)+n.length),u+=n.length),g[r]?(n?getParsingFlags(t).empty=!1:getParsingFlags(t).unusedTokens.push(r),addTimeToArrayFromToken(r,n,t)):t._strict&&!n&&getParsingFlags(t).unusedTokens.push(r);getParsingFlags(t).charsLeftOver=d-u,e.length>0&&getParsingFlags(t).unusedInput.push(e),getParsingFlags(t).bigHour===!0&&t._a[i]<=12&&t._a[i]>0&&(getParsingFlags(t).bigHour=void 0),t._a[i]=meridiemFixWrap(t._locale,t._a[i],t._meridiem),configFromArray(t),checkOverflow(t)}function meridiemFixWrap(e,t,n){var r;if(null==n)return t;return null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(r=e.isPM(n),r&&12>t&&(t+=12),r||12!==t||(t=0),t):t}function configFromStringAndArray(e){var t,s,i,r,n;if(0===e._f.length)return getParsingFlags(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<e._f.length;r++){if(n=0,t=copyConfig({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],configFromStringAndFormat(t),!valid__isValid(t))continue;n+=getParsingFlags(t).charsLeftOver,n+=10*getParsingFlags(t).unusedTokens.length,getParsingFlags(t).score=n,(null==i||i>n)&&(i=n,s=t)}extend(e,s||t)}function configFromObject(e){if(e._d)return;var t=normalizeObjectUnits(e._i);e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],configFromArray(e)}function createFromConfig(t){var e=t._i,r=t._f,n;if(t._locale=t._locale||locale_locales__getLocale(t._l),null===e||void 0===r&&""===e)return valid__createInvalid({nullInput:!0});if("string"==typeof e&&(t._i=e=t._locale.preparse(e)),isMoment(e))return new Moment(checkOverflow(e));return isArray(r)?configFromStringAndArray(t):r?configFromStringAndFormat(t):isDate(e)?t._d=e:configFromInput(t),n=new Moment(checkOverflow(t)),n._nextDay&&(n.add(1,"d"),n._nextDay=void 0),n}function configFromInput(t){var e=t._i;void 0===e?t._d=new Date:isDate(e)?t._d=new Date(+e):"string"==typeof e?configFromString(t):isArray(e)?(t._a=map(e.slice(0),function(t){return parseInt(t,10)}),configFromArray(t)):"object"==typeof e?configFromObject(t):"number"==typeof e?t._d=new Date(e):utils_hooks__hooks.createFromInputFallback(t)}function createLocalOrUTC(r,i,e,n,s){var t={};return"boolean"==typeof e&&(n=e,e=void 0),t._isAMomentObject=!0,t._useUTC=t._isUTC=s,t._l=e,t._i=r,t._f=i,t._strict=n,createFromConfig(t)}function local__createLocal(t,e,n,r){return createLocalOrUTC(t,e,n,r,!1)}function pickBy(r,t){var n,e;if(1===t.length&&isArray(t[0])&&(t=t[0]),!t.length)return local__createLocal();for(n=t[0],e=1;e<t.length;++e)t[e][r](n)&&(n=t[e]);return n}function min(){var t=[].slice.call(arguments,0);return pickBy("isBefore",t)}function max(){var t=[].slice.call(arguments,0);return pickBy("isAfter",t)}function Duration(s){var t=normalizeObjectUnits(s),n=t.year||0,r=t.quarter||0,i=t.month||0,e=t.week||0,a=t.day||0,o=t.hour||0,u=t.minute||0,d=t.second||0,l=t.millisecond||0;this._milliseconds=+l+1e3*d+6e4*u+36e5*o,this._days=+a+7*e,this._months=+i+3*r+12*n,this._data={},this._locale=locale_locales__getLocale(),this._bubble()}function isDuration(t){return t instanceof Duration}function offset(t,e){addFormatToken(t,0,0,function(){var t=this.utcOffset(),n="+";return 0>t&&(t=-t,n="-"),n+zeroFill(~~(t/60),2)+e+zeroFill(~~t%60,2)})}function offsetFromString(r){var e=(r||"").match(T)||[],i=e[e.length-1]||[],t=(i+"").match(nt)||["-",0,0],n=+(60*t[1])+toInt(t[2]);return"+"===t[0]?n:-n}function cloneWithOffset(e,n){var t,r;return n._isUTC?(t=n.clone(),r=(isMoment(e)||isDate(e)?+e:+local__createLocal(e))-+t,t._d.setTime(+t._d+r),utils_hooks__hooks.updateOffset(t,!1),t):local__createLocal(e).local()}function getDateOffset(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function getSetOffset(t,r){var e=this._offset||0,n;return null!=t?("string"==typeof t&&(t=offsetFromString(t)),Math.abs(t)<16&&(t=60*t),!this._isUTC&&r&&(n=getDateOffset(this)),this._offset=t,this._isUTC=!0,null!=n&&this.add(n,"m"),e!==t&&(!r||this._changeInProgress?add_subtract__addSubtract(this,create__createDuration(t-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,utils_hooks__hooks.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?e:getDateOffset(this)}function getSetZone(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function setOffsetToUTC(t){return this.utcOffset(0,t)}function setOffsetToLocal(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(getDateOffset(this),"m")),this}function setOffsetToParsedOffset(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(offsetFromString(this._i)),this}function hasAlignedHourOffset(t){return t=t?local__createLocal(t).utcOffset():0,(this.utcOffset()-t)%60===0}function isDaylightSavingTime(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function isDaylightSavingTimeShifted(){if(this._a){var t=this._isUTC?create_utc__createUTC(this._a):local__createLocal(this._a);return this.isValid()&&compareArrays(this._a,t.toArray())>0}return!1}function isLocal(){return!this._isUTC}function isUtcOffset(){return this._isUTC}function isUtc(){return this._isUTC&&0===this._offset}function create__createDuration(r,u){var t=r,e=null,n,s,o;return isDuration(r)?t={ms:r._milliseconds,d:r._days,M:r._months}:"number"==typeof r?(t={},u?t[u]=r:t.milliseconds=r):(e=rt.exec(r))?(n="-"===e[1]?-1:1,t={y:0,d:toInt(e[a])*n,h:toInt(e[i])*n,m:toInt(e[m])*n,s:toInt(e[h])*n,ms:toInt(e[f])*n}):(e=it.exec(r))?(n="-"===e[1]?-1:1,t={y:parseIso(e[2],n),M:parseIso(e[3],n),d:parseIso(e[4],n),h:parseIso(e[5],n),m:parseIso(e[6],n),s:parseIso(e[7],n),w:parseIso(e[8],n)}):null==t?t={}:"object"==typeof t&&("from"in t||"to"in t)&&(o=momentsDifference(local__createLocal(t.from),local__createLocal(t.to)),t={},t.ms=o.milliseconds,t.M=o.months),s=new Duration(t),isDuration(r)&&hasOwnProp(r,"_locale")&&(s._locale=r._locale),s}function parseIso(t,n){var e=t&&parseFloat(t.replace(",","."));return(isNaN(e)?0:e)*n}function positiveMomentsDifference(e,n){var t={milliseconds:0,months:0};return t.months=n.month()-e.month()+12*(n.year()-e.year()),e.clone().add(t.months,"M").isAfter(n)&&--t.months,t.milliseconds=+n-+e.clone().add(t.months,"M"),t}function momentsDifference(n,e){var t;return e=cloneWithOffset(e,n),n.isBefore(e)?t=positiveMomentsDifference(n,e):(t=positiveMomentsDifference(e,n),t.milliseconds=-t.milliseconds,t.months=-t.months),t}function createAdder(e,t){return function(n,r){var i,s;return null===r||isNaN(+r)||(deprecateSimple(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),s=n,n=r,r=s),n="string"==typeof n?+n:n,i=create__createDuration(n,r),add_subtract__addSubtract(this,i,e),this}}function add_subtract__addSubtract(t,n,r,e){var a=n._milliseconds,i=n._days,s=n._months;e=null==e?!0:e,a&&t._d.setTime(+t._d+a*r),i&&get_set__set(t,"Date",get_set__get(t,"Date")+i*r),s&&setMonth(t,get_set__get(t,"Month")+s*r),e&&utils_hooks__hooks.updateOffset(t,i||s)}function moment_calendar__calendar(n){var e=n||local__createLocal(),r=cloneWithOffset(e,this).startOf("day"),t=this.diff(r,"days",!0),i=-6>t?"sameElse":-1>t?"lastWeek":0>t?"lastDay":1>t?"sameDay":2>t?"nextDay":7>t?"nextWeek":"sameElse";return this.format(this.localeData().calendar(i,this,local__createLocal(e)))}function clone(){return new Moment(this)}function isAfter(t,e){var n;return e=normalizeUnits("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=isMoment(t)?t:local__createLocal(t),+this>+t):(n=isMoment(t)?+t:+local__createLocal(t),n<+this.clone().startOf(e))}function isBefore(t,e){var n;return e=normalizeUnits("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=isMoment(t)?t:local__createLocal(t),+t>+this):(n=isMoment(t)?+t:+local__createLocal(t),+this.clone().endOf(e)<n)}function isBetween(e,n,t){return this.isAfter(e,t)&&this.isBefore(n,t)}function isSame(t,e){var n;return e=normalizeUnits(e||"millisecond"),"millisecond"===e?(t=isMoment(t)?t:local__createLocal(t),+this===+t):(n=+local__createLocal(t),+this.clone().startOf(e)<=n&&n<=+this.clone().endOf(e))}function absFloor(t){return 0>t?Math.ceil(t):Math.floor(t)}function diff(s,t,a){var r=cloneWithOffset(s,this),i=6e4*(r.utcOffset()-this.utcOffset()),e,n;return t=normalizeUnits(t),"year"===t||"month"===t||"quarter"===t?(n=monthDiff(this,r),"quarter"===t?n/=3:"year"===t&&(n/=12)):(e=this-r,n="second"===t?e/1e3:"minute"===t?e/6e4:"hour"===t?e/36e5:"day"===t?(e-i)/864e5:"week"===t?(e-i)/6048e5:e),a?n:absFloor(n)}function monthDiff(t,e){var r=12*(e.year()-t.year())+(e.month()-t.month()),n=t.clone().add(r,"months"),i,s;return 0>e-n?(i=t.clone().add(r-1,"months"),s=(e-n)/(n-i)):(i=t.clone().add(r+1,"months"),s=(e-n)/(i-n)),-(r+s)}function toString(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function moment_format__toISOString(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():formatMoment(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):formatMoment(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function format(t){var e=formatMoment(this,t||utils_hooks__hooks.defaultFormat);return this.localeData().postformat(e)}function from(t,e){if(!this.isValid())return this.localeData().invalidDate();return create__createDuration({to:this,from:t}).locale(this.locale()).humanize(!e)}function fromNow(t){return this.from(local__createLocal(),t)}function to(t,e){if(!this.isValid())return this.localeData().invalidDate();return create__createDuration({from:this,to:t}).locale(this.locale()).humanize(!e)}function toNow(t){return this.to(local__createLocal(),t)}function locale(e){var t;return void 0===e?this._locale._abbr:(t=locale_locales__getLocale(e),null!=t&&(this._locale=t),this)}function localeData(){return this._locale}function startOf(t){switch(t=normalizeUnits(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function endOf(t){if(t=normalizeUnits(t),void 0===t||"millisecond"===t)return this;return this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")}function to_type__valueOf(){return+this._d-6e4*(this._offset||0)}function unix(){return Math.floor(+this/1e3)}function toDate(){return this._offset?new Date(+this):this._d}function toArray(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function moment_valid__isValid(){return valid__isValid(this)}function parsingFlags(){return extend({},getParsingFlags(this))}function invalidAt(){return getParsingFlags(this).overflow}function addWeekYearFormatToken(t,e){addFormatToken(0,[t,t.length],0,e)}function weeksInYear(n,t,e){return weekOfYear(local__createLocal([n,11,31+t-e]),t,e).week}function getSetWeekYear(t){var e=weekOfYear(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==t?e:this.add(t-e,"y")}function getSetISOWeekYear(t){var e=weekOfYear(this,1,4).year;return null==t?e:this.add(t-e,"y")}function getISOWeeksInYear(){return weeksInYear(this.year(),1,4)}function getWeeksInYear(){var t=this.localeData()._week;return weeksInYear(this.year(),t.dow,t.doy)}function getSetQuarter(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function parseWeekday(t,e){if("string"==typeof t)if(isNaN(t)){if(t=e.weekdaysParse(t),"number"!=typeof t)return null}else t=parseInt(t,10);return t}function localeWeekdays(t){return this._weekdays[t.day()]}function localeWeekdaysShort(t){return this._weekdaysShort[t.day()]}function localeWeekdaysMin(t){return this._weekdaysMin[t.day()]}function localeWeekdaysParse(r){var t,e,n;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(e=local__createLocal([2e3,1]).day(t),n="^"+this.weekdays(e,"")+"|^"+this.weekdaysShort(e,"")+"|^"+this.weekdaysMin(e,""),this._weekdaysParse[t]=new RegExp(n.replace(".",""),"i")),this._weekdaysParse[t].test(r))return t}function getSetDayOfWeek(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=parseWeekday(t,this.localeData()),this.add(t-e,"d")):e}function getSetLocaleDayOfWeek(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function getSetISODayOfWeek(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)}function meridiem(t,e){addFormatToken(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function matchMeridiem(e,t){return t._meridiemParse}function localeIsPM(t){return"p"===(t+"").toLowerCase().charAt(0)}function localeMeridiem(e,n,t){return e>11?t?"pm":"PM":t?"am":"AM"}function millisecond__milliseconds(t){addFormatToken(0,[t,3],0,"millisecond")}function getZoneAbbr(){return this._isUTC?"UTC":""}function getZoneName(){return this._isUTC?"Coordinated Universal Time":""}function moment__createUnix(t){return local__createLocal(1e3*t)}function moment__createInZone(){return local__createLocal.apply(null,arguments).parseZone()}function locale_calendar__calendar(e,n,r){var t=this._calendar[e];return"function"==typeof t?t.call(n,r):t}function longDateFormat(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e}function invalidDate(){return this._invalidDate}function ordinal(t){return this._ordinal.replace("%d",t)}function preParsePostFormat(t){return t}function relative__relativeTime(e,r,n,i){var t=this._relativeTime[n];return"function"==typeof t?t(e,r,n,i):t.replace(/%d/i,e)}function pastFuture(n,e){var t=this._relativeTime[n>0?"future":"past"];return"function"==typeof t?t(e):t.replace(/%s/i,e)}function locale_set__set(n){var t,e;for(e in n)t=n[e],"function"==typeof t?this[e]=t:this["_"+e]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function lists__get(t,e,n,r){var i=locale_locales__getLocale(),s=create_utc__createUTC().set(r,e);return i[n](s,t)}function list(t,n,r,a,i){if("number"==typeof t&&(n=t,t=void 0),t=t||"",null!=n)return lists__get(t,n,r,i);var e,s=[];for(e=0;a>e;e++)s[e]=lists__get(t,e,r,i);return s}function lists__listMonths(t,e){return list(t,e,"months",12,"month")}function lists__listMonthsShort(t,e){return list(t,e,"monthsShort",12,"month")}function lists__listWeekdays(t,e){return list(t,e,"weekdays",7,"day")}function lists__listWeekdaysShort(t,e){return list(t,e,"weekdaysShort",7,"day")}function lists__listWeekdaysMin(t,e){return list(t,e,"weekdaysMin",7,"day")}function duration_abs__abs(){var t=this._data;return this._milliseconds=d(this._milliseconds),this._days=d(this._days),this._months=d(this._months),t.milliseconds=d(t.milliseconds),t.seconds=d(t.seconds),t.minutes=d(t.minutes),t.hours=d(t.hours),t.months=d(t.months),t.years=d(t.years),this}function duration_add_subtract__addSubtract(t,r,i,e){var n=create__createDuration(r,i);return t._milliseconds+=e*n._milliseconds,t._days+=e*n._days,t._months+=e*n._months,t._bubble()}function duration_add_subtract__add(t,e){return duration_add_subtract__addSubtract(this,t,e,1)}function duration_add_subtract__subtract(t,e){return duration_add_subtract__addSubtract(this,t,e,-1)}function bubble(){var o=this._milliseconds,e=this._days,n=this._months,t=this._data,i,s,a,r=0;return t.milliseconds=o%1e3,i=absFloor(o/1e3),t.seconds=i%60,s=absFloor(i/60),t.minutes=s%60,a=absFloor(s/60),t.hours=a%24,e+=absFloor(a/24),r=absFloor(daysToYears(e)),e-=absFloor(yearsToDays(r)),n+=absFloor(e/30),e%=30,r+=absFloor(n/12),n%=12,t.days=e,t.months=n,t.years=r,this}function daysToYears(t){return 400*t/146097}function yearsToDays(t){return 146097*t/400}function as(e){var t,r,n=this._milliseconds;if(e=normalizeUnits(e),"month"===e||"year"===e)return t=this._days+n/864e5,r=this._months+12*daysToYears(t),"month"===e?r:r/12;switch(t=this._days+Math.round(yearsToDays(this._months/12)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return 24*t+n/36e5;case"minute":return 1440*t+n/6e4;case"second":return 86400*t+n/1e3;case"millisecond":return Math.floor(864e5*t)+n;default:throw new Error("Unknown unit "+e)}}function duration_as__valueOf(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*toInt(this._months/12)}function makeAs(t){return function(){return this.as(t)}}function duration_get__get(t){return t=normalizeUnits(t),this[t+"s"]()}function makeGetter(t){return function(){return this._data[t]}}function weeks(){return absFloor(this.days()/7)}function substituteTimeAgo(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function duration_humanize__relativeTime(u,d,c){var t=create__createDuration(u).abs(),a=p(t.as("s")),r=p(t.as("m")),s=p(t.as("h")),i=p(t.as("d")),n=p(t.as("M")),o=p(t.as("y")),e=a<l.s&&["s",a]||1===r&&["m"]||r<l.m&&["mm",r]||1===s&&["h"]||s<l.h&&["hh",s]||1===i&&["d"]||i<l.d&&["dd",i]||1===n&&["M"]||n<l.M&&["MM",n]||1===o&&["y"]||["yy",o];return e[2]=d,e[3]=+u>0,e[4]=c,substituteTimeAgo.apply(null,e)}function duration_humanize__getSetRelativeTimeThreshold(t,e){if(void 0===l[t])return!1;if(void 0===e)return l[t];return l[t]=e,!0}function humanize(n){var t=this.localeData(),e=duration_humanize__relativeTime(this,!n,t);return n&&(e=t.pastFuture(+this,e)),t.postformat(e)}function iso_string__toISOString(){var r=y(this.years()),i=y(this.months()),s=y(this.days()),t=y(this.hours()),e=y(this.minutes()),n=y(this.seconds()+this.milliseconds()/1e3),a=this.asSeconds();if(!a)return"P0D";return(0>a?"-":"")+"P"+(r?r+"Y":"")+(i?i+"M":"")+(s?s+"D":"")+(t||e||n?"T":"")+(t?t+"H":"")+(e?e+"M":"")+(n?n+"S":"")}var H,x=utils_hooks__hooks.momentProperties=[],L=!1,c={},M,D={},I=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,w=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,G={},g={},A=/\d/,s=/\d\d/,z=/\d{3}/,W=/\d{4}/,k=/[+-]?\d{6}/,r=/\d\d?/,Y=/\d{1,3}/,O=/\d{1,4}/,b=/[+-]?\d{1,6}/,q=/\d+/,S=/[+-]?\d+/,T=/Z|[+-]\d\d:?\d\d/gi,J=/[+-]?\d+(\.\d{1,3})?/,v=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,U={},C={},o=0,u=1,a=2,i=3,m=4,h=5,f=6;addFormatToken("M",["MM",2],"Mo",function(){return this.month()+1}),addFormatToken("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),addFormatToken("MMMM",0,0,function(t){return this.localeData().months(this,t)}),addUnitAlias("month","M"),addRegexToken("M",r),addRegexToken("MM",r,s),addRegexToken("MMM",v),addRegexToken("MMMM",v),addParseToken(["M","MM"],function(t,e){e[u]=toInt(t)-1}),addParseToken(["MMM","MMMM"],function(e,r,t,i){var n=t._locale.monthsParse(e,i,t._strict);null!=n?r[u]=n:getParsingFlags(t).invalidMonth=e});var R="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),B="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Z={};utils_hooks__hooks.suppressDeprecationWarnings=!1;var Q=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,F=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],P=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],X=/^\/?Date\((\-?\d+)/i;utils_hooks__hooks.createFromInputFallback=deprecate("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),addFormatToken(0,["YY",2],0,function(){return this.year()%100}),addFormatToken(0,["YYYY",4],0,"year"),addFormatToken(0,["YYYYY",5],0,"year"),addFormatToken(0,["YYYYYY",6,!0],0,"year"),addUnitAlias("year","y"),
addRegexToken("Y",S),addRegexToken("YY",r,s),addRegexToken("YYYY",O,W),addRegexToken("YYYYY",b,k),addRegexToken("YYYYYY",b,k),addParseToken(["YYYY","YYYYY","YYYYYY"],o),addParseToken("YY",function(t,e){e[o]=utils_hooks__hooks.parseTwoDigitYear(t)}),utils_hooks__hooks.parseTwoDigitYear=function(t){return toInt(t)+(toInt(t)>68?1900:2e3)};var E=makeGetSet("FullYear",!1);addFormatToken("w",["ww",2],"wo","week"),addFormatToken("W",["WW",2],"Wo","isoWeek"),addUnitAlias("week","w"),addUnitAlias("isoWeek","W"),addRegexToken("w",r),addRegexToken("ww",r,s),addRegexToken("W",r),addRegexToken("WW",r,s),addWeekParseToken(["w","ww","W","WW"],function(t,e,r,n){e[n.substr(0,1)]=toInt(t)});var K={dow:0,doy:6};addFormatToken("DDD",["DDDD",3],"DDDo","dayOfYear"),addUnitAlias("dayOfYear","DDD"),addRegexToken("DDD",Y),addRegexToken("DDDD",z),addParseToken(["DDD","DDDD"],function(t,n,e){e._dayOfYear=toInt(t)}),utils_hooks__hooks.ISO_8601=function(){};var tt=deprecate("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=local__createLocal.apply(null,arguments);return this>t?this:t}),et=deprecate("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=local__createLocal.apply(null,arguments);return t>this?this:t});offset("Z",":"),offset("ZZ",""),addRegexToken("Z",T),addRegexToken("ZZ",T),addParseToken(["Z","ZZ"],function(e,n,t){t._useUTC=!0,t._tzm=offsetFromString(e)});var nt=/([\+\-]|\d\d)/gi;utils_hooks__hooks.updateOffset=function(){};var rt=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,it=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;create__createDuration.fn=Duration.prototype;var st=createAdder(1,"add"),at=createAdder(-1,"subtract");utils_hooks__hooks.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var N=deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});addFormatToken(0,["gg",2],0,function(){return this.weekYear()%100}),addFormatToken(0,["GG",2],0,function(){return this.isoWeekYear()%100}),addWeekYearFormatToken("gggg","weekYear"),addWeekYearFormatToken("ggggg","weekYear"),addWeekYearFormatToken("GGGG","isoWeekYear"),addWeekYearFormatToken("GGGGG","isoWeekYear"),addUnitAlias("weekYear","gg"),addUnitAlias("isoWeekYear","GG"),addRegexToken("G",S),addRegexToken("g",S),addRegexToken("GG",r,s),addRegexToken("gg",r,s),addRegexToken("GGGG",O,W),addRegexToken("gggg",O,W),addRegexToken("GGGGG",b,k),addRegexToken("ggggg",b,k),addWeekParseToken(["gggg","ggggg","GGGG","GGGGG"],function(t,e,r,n){e[n.substr(0,2)]=toInt(t)}),addWeekParseToken(["gg","GG"],function(t,e,r,n){e[n]=utils_hooks__hooks.parseTwoDigitYear(t)}),addFormatToken("Q",0,0,"quarter"),addUnitAlias("quarter","Q"),addRegexToken("Q",A),addParseToken("Q",function(t,e){e[u]=3*(toInt(t)-1)}),addFormatToken("D",["DD",2],"Do","date"),addUnitAlias("date","D"),addRegexToken("D",r),addRegexToken("DD",r,s),addRegexToken("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),addParseToken(["D","DD"],a),addParseToken("Do",function(t,e){e[a]=toInt(t.match(r)[0],10)});var j=makeGetSet("Date",!0);addFormatToken("d",0,"do","day"),addFormatToken("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),addFormatToken("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),addFormatToken("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),addFormatToken("e",0,0,"weekday"),addFormatToken("E",0,0,"isoWeekday"),addUnitAlias("day","d"),addUnitAlias("weekday","e"),addUnitAlias("isoWeekday","E"),addRegexToken("d",r),addRegexToken("e",r),addRegexToken("E",r),addRegexToken("dd",v),addRegexToken("ddd",v),addRegexToken("dddd",v),addWeekParseToken(["dd","ddd","dddd"],function(t,r,e){var n=e._locale.weekdaysParse(t);null!=n?r.d=n:getParsingFlags(e).invalidWeekday=t}),addWeekParseToken(["d","e","E"],function(t,e,r,n){e[n]=toInt(t)});var ot="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ut="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),dt="Su_Mo_Tu_We_Th_Fr_Sa".split("_");addFormatToken("H",["HH",2],0,"hour"),addFormatToken("h",["hh",2],0,function(){return this.hours()%12||12}),meridiem("a",!0),meridiem("A",!1),addUnitAlias("hour","h"),addRegexToken("a",matchMeridiem),addRegexToken("A",matchMeridiem),addRegexToken("H",r),addRegexToken("h",r),addRegexToken("HH",r,s),addRegexToken("hh",r,s),addParseToken(["H","HH"],i),addParseToken(["a","A"],function(e,n,t){t._isPm=t._locale.isPM(e),t._meridiem=e}),addParseToken(["h","hh"],function(t,e,n){e[i]=toInt(t),getParsingFlags(n).bigHour=!0});var lt=/[ap]\.?m?\.?/i,ct=makeGetSet("Hours",!0);addFormatToken("m",["mm",2],0,"minute"),addUnitAlias("minute","m"),addRegexToken("m",r),addRegexToken("mm",r,s),addParseToken(["m","mm"],m);var ft=makeGetSet("Minutes",!1);addFormatToken("s",["ss",2],0,"second"),addUnitAlias("second","s"),addRegexToken("s",r),addRegexToken("ss",r,s),addParseToken(["s","ss"],h);var ht=makeGetSet("Seconds",!1);addFormatToken("S",0,0,function(){return~~(this.millisecond()/100)}),addFormatToken(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),millisecond__milliseconds("SSS"),millisecond__milliseconds("SSSS"),addUnitAlias("millisecond","ms"),addRegexToken("S",Y,A),addRegexToken("SS",Y,s),addRegexToken("SSS",Y,z),addRegexToken("SSSS",q),addParseToken(["S","SS","SSS","SSSS"],function(t,e){e[f]=toInt(1e3*("0."+t))});var mt=makeGetSet("Milliseconds",!1);addFormatToken("z",0,0,"zoneAbbr"),addFormatToken("zz",0,0,"zoneName");var t=Moment.prototype;t.add=st,t.calendar=moment_calendar__calendar,t.clone=clone,t.diff=diff,t.endOf=endOf,t.format=format,t.from=from,t.fromNow=fromNow,t.to=to,t.toNow=toNow,t.get=getSet,t.invalidAt=invalidAt,t.isAfter=isAfter,t.isBefore=isBefore,t.isBetween=isBetween,t.isSame=isSame,t.isValid=moment_valid__isValid,t.lang=N,t.locale=locale,t.localeData=localeData,t.max=et,t.min=tt,t.parsingFlags=parsingFlags,t.set=getSet,t.startOf=startOf,t.subtract=at,t.toArray=toArray,t.toDate=toDate,t.toISOString=moment_format__toISOString,t.toJSON=moment_format__toISOString,t.toString=toString,t.unix=unix,t.valueOf=to_type__valueOf,t.year=E,t.isLeapYear=getIsLeapYear,t.weekYear=getSetWeekYear,t.isoWeekYear=getSetISOWeekYear,t.quarter=t.quarters=getSetQuarter,t.month=getSetMonth,t.daysInMonth=getDaysInMonth,t.week=t.weeks=getSetWeek,t.isoWeek=t.isoWeeks=getSetISOWeek,t.weeksInYear=getWeeksInYear,t.isoWeeksInYear=getISOWeeksInYear,t.date=j,t.day=t.days=getSetDayOfWeek,t.weekday=getSetLocaleDayOfWeek,t.isoWeekday=getSetISODayOfWeek,t.dayOfYear=getSetDayOfYear,t.hour=t.hours=ct,t.minute=t.minutes=ft,t.second=t.seconds=ht,t.millisecond=t.milliseconds=mt,t.utcOffset=getSetOffset,t.utc=setOffsetToUTC,t.local=setOffsetToLocal,t.parseZone=setOffsetToParsedOffset,t.hasAlignedHourOffset=hasAlignedHourOffset,t.isDST=isDaylightSavingTime,t.isDSTShifted=isDaylightSavingTimeShifted,t.isLocal=isLocal,t.isUtcOffset=isUtcOffset,t.isUtc=isUtc,t.isUTC=isUtc,t.zoneAbbr=getZoneAbbr,t.zoneName=getZoneName,t.dates=deprecate("dates accessor is deprecated. Use date instead.",j),t.months=deprecate("months accessor is deprecated. Use month instead",getSetMonth),t.years=deprecate("years accessor is deprecated. Use year instead",E),t.zone=deprecate("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",getSetZone);var _t=t,yt={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},pt={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},gt="Invalid date",Dt="%d",vt=/\d{1,2}/,Mt={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},e=Locale.prototype;e._calendar=yt,e.calendar=locale_calendar__calendar,e._longDateFormat=pt,e.longDateFormat=longDateFormat,e._invalidDate=gt,e.invalidDate=invalidDate,e._ordinal=Dt,e.ordinal=ordinal,e._ordinalParse=vt,e.preparse=preParsePostFormat,e.postformat=preParsePostFormat,e._relativeTime=Mt,e.relativeTime=relative__relativeTime,e.pastFuture=pastFuture,e.set=locale_set__set,e.months=localeMonths,e._months=R,e.monthsShort=localeMonthsShort,e._monthsShort=B,e.monthsParse=localeMonthsParse,e.week=localeWeek,e._week=K,e.firstDayOfYear=localeFirstDayOfYear,e.firstDayOfWeek=localeFirstDayOfWeek,e.weekdays=localeWeekdays,e._weekdays=ot,e.weekdaysMin=localeWeekdaysMin,e._weekdaysMin=dt,e.weekdaysShort=localeWeekdaysShort,e._weekdaysShort=ut,e.weekdaysParse=localeWeekdaysParse,e.isPM=localeIsPM,e._meridiemParse=lt,e.meridiem=localeMeridiem,locale_locales__getSetGlobalLocale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===toInt(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),utils_hooks__hooks.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",locale_locales__getSetGlobalLocale),utils_hooks__hooks.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",locale_locales__getLocale);var d=Math.abs,Yt=makeAs("ms"),wt=makeAs("s"),kt=makeAs("m"),Tt=makeAs("h"),St=makeAs("d"),bt=makeAs("w"),Ot=makeAs("M"),Ut=makeAs("y"),Ct=makeGetter("milliseconds"),Wt=makeGetter("seconds"),Gt=makeGetter("minutes"),Ft=makeGetter("hours"),Pt=makeGetter("days"),Lt=makeGetter("months"),xt=makeGetter("years"),p=Math.round,l={s:45,m:45,h:22,d:26,M:11},y=Math.abs,n=Duration.prototype;n.abs=duration_abs__abs,n.add=duration_add_subtract__add,n.subtract=duration_add_subtract__subtract,n.as=as,n.asMilliseconds=Yt,n.asSeconds=wt,n.asMinutes=kt,n.asHours=Tt,n.asDays=St,n.asWeeks=bt,n.asMonths=Ot,n.asYears=Ut,n.valueOf=duration_as__valueOf,n._bubble=bubble,n.get=duration_get__get,n.milliseconds=Ct,n.seconds=Wt,n.minutes=Gt,n.hours=Ft,n.days=Pt,n.weeks=weeks,n.months=Lt,n.years=xt,n.humanize=humanize,n.toISOString=iso_string__toISOString,n.toString=iso_string__toISOString,n.toJSON=iso_string__toISOString,n.locale=locale,n.localeData=localeData,n.toIsoString=deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",iso_string__toISOString),n.lang=N,addFormatToken("X",0,0,"unix"),addFormatToken("x",0,0,"valueOf"),addRegexToken("x",S),addRegexToken("X",J),addParseToken("X",function(t,n,e){e._d=new Date(1e3*parseFloat(t,10))}),addParseToken("x",function(t,n,e){e._d=new Date(toInt(t))}),utils_hooks__hooks.version="2.10.3",setHookCallback(local__createLocal),utils_hooks__hooks.fn=_t,utils_hooks__hooks.min=min,utils_hooks__hooks.max=max,utils_hooks__hooks.utc=create_utc__createUTC,utils_hooks__hooks.unix=moment__createUnix,utils_hooks__hooks.months=lists__listMonths,utils_hooks__hooks.isDate=isDate,utils_hooks__hooks.locale=locale_locales__getSetGlobalLocale,utils_hooks__hooks.invalid=valid__createInvalid,utils_hooks__hooks.duration=create__createDuration,utils_hooks__hooks.isMoment=isMoment,utils_hooks__hooks.weekdays=lists__listWeekdays,utils_hooks__hooks.parseZone=moment__createInZone,utils_hooks__hooks.localeData=locale_locales__getLocale,utils_hooks__hooks.isDuration=isDuration,utils_hooks__hooks.monthsShort=lists__listMonthsShort,utils_hooks__hooks.weekdaysMin=lists__listWeekdaysMin,utils_hooks__hooks.defineLocale=defineLocale,utils_hooks__hooks.weekdaysShort=lists__listWeekdaysShort,utils_hooks__hooks.normalizeUnits=normalizeUnits,utils_hooks__hooks.relativeTimeThreshold=duration_humanize__getSetRelativeTimeThreshold;var V=utils_hooks__hooks;return V});
define("nls/page",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define("js/lib/language",["require","exports","module","underscore","js/app/multitrackerSingleton","i18n!nls/page"],function(require,exports,module){function toIetfLanguageTag(a){var n=(a||"").replace(/_/g,"-").split(/[;=,]/)[0];return n.toLowerCase().replace(/(-[a-z]{1,}$)/,function(a){return a.toUpperCase()})}function getIetfLanguageTag(){try{return toIetfLanguageTag(i.getLocale())}catch(a){return e.push(["user.language.error",{error:a}]),"en-US"}}function toLanguageCode(a){return toIetfLanguageTag(a).split("-")[0]}function getLanguageCode(){return toLanguageCode(getIetfLanguageTag())}function getMomentLanguage(){return getIetfLanguageTag().toLowerCase()}function getFacebookLocaleString(){var a=getIetfLanguageTag().replace("-","_"),n=a.split("_")[0];return o[n]||a}function languageCodeToName(i){var r=toIetfLanguageTag(i),n=r.split("-"),e,t=_.any(n,function(t,i){var r=n.slice(0,n.length-i).join("-");return e=a[toIetfLanguageTag(r)],!!e});return t?e:i}function languageCodeCSVtoLanguages(a){var n=_.compact((a||"").split(/,\s*/g));return _.reduce(n,function(a,n){return a[n]=languageCodeToName(n),a},{})}function isRightToLeft(a){var n=["ar","he"];return _(n).contains(toLanguageCode(a))}function latinizeText(a){return a.replace(/[^A-Za-z0-9\[\] ]/g,function(a){return n[a]||a})}function getMobileBadgeLanguageCode(){var e=["zh-cn","zh-tw","fr","en","pt-br","pt-pt","es","tr","ru"],n=getIetfLanguageTag().toLowerCase();if(_(e).contains(n))return n;var a=getLanguageCode();return"pt"===a?"pt-br":"es"===a?"es":"zh"===a?"zh-cn":"en"}var _=require("underscore"),e=require("js/app/multitrackerSingleton"),i=require("i18n!nls/page"),a={ab:"Abkhaz",aa:"Afar",af:"Afrikaans",ak:"Akan",sq:"Albanian",am:"Amharic",ar:"Arabic",an:"Aragonese",hy:"Armenian",as:"Assamese",av:"Avaric",ae:"Avestan",ay:"Aymara",az:"Azerbaijani",bm:"Bambara",ba:"Bashkir",eu:"Basque",be:"Belarusian",bn:"Bengali",bh:"Bihari",bi:"Bislama",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",ny:"Chichewa",zh:"Chinese","zh-CN":"Chinese (Simplified)","zh-TW":"Chinese (Traditional)",cv:"Chuvash",kw:"Cornish",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",dv:"Divehi",nl:"Dutch",dz:"Dzongkha",en:"English",eo:"Esperanto",et:"Estonian",ee:"Ewe",fo:"Faroese",fj:"Fijian",fi:"Finnish",fr:"French",ff:"Fula",gl:"Galician",ka:"Georgian",de:"German",el:"Greek",gn:"Guaran",gu:"Gujarati",ht:"Haitian",ha:"Hausa",he:"Hebrew",hz:"Herero",hi:"Hindi",ho:"Hiri Motu",hu:"Hungarian",ia:"Interlingua",id:"Indonesian",ie:"Interlingue",ga:"Irish",ig:"Igbo",ik:"Inupiaq",io:"Ido",is:"Icelandic",it:"Italian",iu:"Inuktitut",ja:"Japanese",jv:"Javanese",kl:"Kalaallisut",kn:"Kannada",kr:"Kanuri",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ki:"Kikuyu",rw:"Kinyarwanda",ky:"Kyrgyz",kv:"Komi",kg:"Kongo",ko:"Korean",ku:"Kurdish",kj:"Kwanyama",la:"Latin",lb:"Luxembourgish",lg:"Ganda",li:"Limburgish",ln:"Lingala",lo:"Lao",lt:"Lithuanian",lu:"Luba-Katanga",lv:"Latvian",gv:"Manx",mk:"Macedonian (FYROM)",mg:"Malagasy",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Mori",mr:"Marathi",mh:"Marshallese",mn:"Mongolian",na:"Nauru",nv:"Navajo",nb:"Norwegian Bokml",nd:"North Ndebele",ne:"Nepali",ng:"Ndonga",nn:"Norwegian Nynorsk",no:"Norwegian",ii:"Nuosu",nr:"South Ndebele",oc:"Occitan",oj:"Ojibwe",cu:"Old Church Slavonic",om:"Oromo",or:"Oriya",os:"Ossetian",pa:"Panjabi",pi:"Pli",fa:"Persian",pl:"Polish",ps:"Pashto",pt:"Portuguese (Brazilian)","pt-BR":"Portuguese (Brazilian)","pt-PT":"Portuguese (European)",qu:"Quechua",rm:"Romansh",rn:"Kirundi",ro:"Romanian",ru:"Russian",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",se:"Northern Sami",sm:"Samoan",sg:"Sango",sr:"Serbian",gd:"Gaelic",sn:"Shona",si:"Sinhala",sk:"Slovak",sl:"Slovene",so:"Somali",st:"Southern Sotho",es:"Spanish",su:"Sundanese",sw:"Swahili",ss:"Swati",sv:"Swedish",ta:"Tamil",te:"Telugu",tg:"Tajik",th:"Thai",ti:"Tigrinya",bo:"Tibetan",tk:"Turkmen",tl:"Tagalog",tn:"Tswana",to:"Tonga",tr:"Turkish",ts:"Tsonga",tt:"Tatar",tw:"Twi",ty:"Tahitian",ug:"Uighur",uk:"Ukrainian",ur:"Urdu",uz:"Uzbek",ve:"Venda",vi:"Vietnamese",vo:"Volapk",wa:"Walloon",cy:"Welsh",wo:"Wolof",fy:"Western Frisian",xh:"Xhosa",yi:"Yiddish",yo:"Yoruba",za:"Zhuang",zu:"Zulu"},r=["ar","de","en","es","fr","he","hi","it","ja","ko","pt","pt-BR","pt-PT","ru","tr","zh-CN","zh-TW"],t=["am","ar","az","bg","bn","bs","ca","cs","da","de","el","es","et","eu","en","fa","fi","tl","fr","he","hi","hr","hu","hy","id","it","ja","kk","km","kn","ko","lt","lv","mk","mn","mr","ms","my","ne","nl","no","pl","ps","pt","pt-BR","pt-PT","ro","ru","rw","sk","sl","sq","sr","sv","sw","ta","te","th","tr","uk","ur","uz","vi","yo","zh-CN","zh-TW"],o={ar:"ar_AR",es:"es_LA"},u={A:"                               ",AA:"",AE:"   ",AO:"",AU:"",AV:" ",AY:"",B:"       ",C:"         ",D:"            ",DZ:" ",E:"                             ",ET:"",F:"   ",G:"           ",H:"         ",I:"                 ",R:"               ",S:"           ",T:"            ",IS:"",J:"  ",K:"          ",L:"                ",LJ:"",M:"     ",N:"             ",NJ:"",O:"                                         ",OI:"",OO:"",OU:" ",P:"       ",Q:" ",V:"     ",TZ:"",U:"                              ",VY:"",W:"       ",X:" ",Y:"            ",Z:"         ",IJ:"",OE:" ",a:"                                 ",aa:"",ae:"   ",ao:"",au:"",av:" ",ay:"",b:"       ",o:"                                            ",c:"          ",d:"              ",i:"                   ",j:"       ",dz:" ",e:"                                ",et:"",f:"    ",g:"            ",h:"             ",hv:"",r:"                      ",s:"                  ",t:"                ",is:"",k:"           ",l:"                 ",lj:"",m:"       ",n:"              ",nj:"",oi:"",oo:"",ou:"",p:"        ",q:"   ",u:"                                ",th:"",oe:" ",v:"        ",w:"        ",y:"             ",tz:"",ue:"",um:"",vy:"",x:"   ",z:"             ",ff:"",ffi:"",ffl:"",fi:"",fl:"",ij:"",st:""},n=_.chain(u).map(function(a,n){return _.map(a.split(" "),function(a){return[a,n]})}).flatten(!0).object().value();module.exports={languages:a,languageCodeCSVtoLanguages:languageCodeCSVtoLanguages,languageCodeToName:languageCodeToName,latinizeText:latinizeText,isRightToLeft:isRightToLeft,coursePrimaryLanguageTags:r,courseSubtitleLanguageTags:t,getIetfLanguageTag:getIetfLanguageTag,getLanguageCode:getLanguageCode,getMomentLanguage:getMomentLanguage,getFacebookLocaleString:getFacebookLocaleString,toIetfLanguageTag:toIetfLanguageTag,toLanguageCode:toLanguageCode,getMobileBadgeLanguageCode:getMobileBadgeLanguageCode}});
define("js/lib/nls/moment.lang",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define("js/app/setupMoment",["require","exports","module","moment","js/lib/language","i18n!js/lib/nls/moment.lang"],function(require,exports,module){var e=require("moment"),n=require("js/lib/language");require("i18n!js/lib/nls/moment.lang"),e.locale(n.getMomentLanguage())});
define("js/lib/browserBanner",["require","exports","module","jquery","js/lib/useragent"],function(require,exports,module){function isSupportedBrowser(){var t=arguments.length<=0||void 0===arguments[0]?navigator.userAgent:arguments[0],e=new r(t);if(e.isCourseraMobileApp||e.isRobot)return!0;var o=n[e.browser.name];if(void 0===o)return!1;var a=parseInt(e.browser.version,10);return a>=o}function showBanner(){if(0===$(".coursera-browser-banner").length){var r=$('<div class="coursera-browser-banner">');r.css({"text-align":"center","font-size":"16px",padding:"10px 0px",background:"#FFEEA9","margin-top":"-100px","border-bottom":"1px solid #CCC"});var n="https://learner.coursera.help/hc/articles/201522945",o='Some Coursera features may not work with this browser. Visit the <a href="'+n+'">Learner Help Center</a> to learn about updating your browser or switching to a new browser.';r.html(o),$(document.body).prepend(r),r.animate({"margin-top":"+=100px"},e)}}function showBannerIfSupported(){isSupportedBrowser()||showBanner()}var $=require("jquery"),r=require("js/lib/useragent"),e=1e3,n={IE:10,Firefox:33,Safari:6,Chrome:30,Edge:12};$(document).ready(showBannerIfSupported),exports.isSupportedBrowser=isSupportedBrowser});
define("js/app/setupEnvironment",["require","exports","module","jquery","q","js/app/config","js/app/loggerSingleton","js/lib/asyncMessages","js/lib/courseraRecruiting","js/lib/persistQueryParams","bundles/page/lib/metatagsAddressBook","js/app/setupMoment","js/lib/browserBanner","js/lib/envHelper"],function(require,exports,module){function handleRequireError(e){s.error(e),window.logRequireError(e);var r=e.message.match(/context:\s*(.*)\s*\n/);if(r&&"_"===r[1]){var a=$("<div>").appendTo("body").addClass("coursera-async-message"),n=o.create(a),i='<div>oooops! something unexpected happened, please <a href="'+location.href+'">refresh</a> your browser</div>';n.add($(i).addClass("message")),$("<div>").addClass("fullscreen").appendTo("body").show()}}var $=require("jquery"),e=require("q"),r=require("js/app/config"),s=require("js/app/loggerSingleton"),o=require("js/lib/asyncMessages"),a=require("js/lib/courseraRecruiting"),n=require("js/lib/persistQueryParams");require("bundles/page/lib/metatagsAddressBook"),require("js/app/setupMoment"),require("js/lib/browserBanner"),a.displayInConsole();var i=require("js/lib/envHelper"),t=i.isLocalStorageEnabled;window.requirejs&&(window.requirejs.onError=handleRequireError),(t()&&localStorage.getItem("debug:longStackSupport")||"production"!==r.environment)&&(e.longStackSupport=!0,e.onerror=function(e){s.error(e.stack)}),n(window.location.href,["locale","nan_pid"])});
define("bundles/page/lib/reactClientApps",["require","exports","module","react-router","react-with-addons","bundles/page/lib/eventing","bundles/nprogress/coursera.nprogress.v0-1-3","js/app/setupEnvironment"],function(require,exports,module){function createMountNode(n){var e=document.getElementById(n);return e||(e=document.createElement("div"),e.id=n,document.body.appendChild(e)),o.stop(),e}function _routingCallback(e,r,o){t(),n.render(n.createElement(r),e)}function runTrackingRouter(n,r){return e.run(n,e.HistoryLocation,_routingCallback.bind(null,r))}var e=require("react-router"),n=require("react-with-addons"),r=require("bundles/page/lib/eventing"),t=r.recordPageView,o=require("bundles/nprogress/coursera.nprogress.v0-1-3");require("js/app/setupEnvironment"),module.exports={createMountNode:createMountNode,_routingCallback:_routingCallback,runTrackingRouter:runTrackingRouter}});
define("js/lib/path",[],function(){var r={};return r.join=function(r){var e=r instanceof Array?r:Array.prototype.slice.call(arguments);return e.join("/").replace(/([^:])[\/]{2,}|^\/\//g,"$1/").replace(/\/$/,"")},r});
define("js/lib/ReactRouterAdapter",["require","exports","module","backbone","underscore","jquery","react-with-addons","react-router","bundles/page/lib/reactClientApps","js/lib/path","js/vendor/lucid.v2-7-0"],function(require,exports,module){function LegacyRouteHandler(r,i){return t.createClass({mixins:[h],render:function render(){return t.createElement("div",null)},componentDidMount:function componentDidMount(){var t=e.prototype.getLegacyRouteParams(r,this.getParams());t.push(this.getQuery()),i.apply(this,t)},componentDidUpdate:function componentDidUpdate(){this.componentDidMount()},statics:{willTransitionFrom:function willTransitionFrom(e,t,r){n.trigger("willTransitionFrom",e,t,r)}}})}var Backbone=require("backbone"),_=require("underscore"),$=require("jquery"),t=require("react-with-addons"),r=require("react-router"),o=r.Route,d=r.RouteHandler,h=r.State,a=r.NotFoundRoute,u=r.Navigation,i=require("bundles/page/lib/reactClientApps"),s=i.createMountNode,c=i.runTrackingRouter,l=require("js/lib/path"),p=require("js/vendor/lucid.v2-7-0"),e,n,f=t.createClass({displayName:"App",render:function render(){return t.createElement("div",null,t.createElement("div",{"data-js":"origami"}),t.createElement(d,null))}}),g=t.createClass({displayName:"NotFoundRedirect",mixins:[u],componentWillMount:function componentWillMount(){n.trigger("error",404)},render:function render(){return null}});e=function(){p.emitter(this),this.routes={},this.nativeRoutes=[],this.visitedFragments=[]},e.prototype.addRoutes=function(r,e){var t={};_(r).each(function(r,n){e&&(r=e(r)),t[n]=r}),_(this.routes).extend(t)},e.prototype.addNativeRoutes=function(e){e&&this.nativeRoutes.push(e)},e.prototype.getLegacyRoutes=function(e){return _(this.routes).map(function(i,n){var r=n+"/?";return"/?"===r&&(r=e+r),t.createElement(o,{key:n,path:r,handler:LegacyRouteHandler(n,i)})})},e.prototype.getLegacyRouteParams=function(e,n){var t;_(Backbone.Router.prototype).each(function(r,n){"_routeToRegExp"===n&&(t=r(e))});var r=t.exec(e);return r?_(r).chain().rest(1).compact().invoke("slice",1).reduce(function(e,t){return e.concat(n[t])},[]).value():[]},e.prototype.setupLinks=function(e,t){this.routePrefix=e,this.linkSelector=t,$("body").on("click","a"+this.linkSelector,function(e){e.ctrlKey||e.metaKey||(e.preventDefault(),this.navigate($(e.currentTarget).attr("href"),!0))}.bind(this))},e.prototype.navigate=function(t,e){0!==t.indexOf(this.routePrefix)&&(t=l.join(this.routePrefix,t)),e&&e.replace||this.addFragmentToVisited(t),e===!0||e&&e.trigger===!0?e&&e.replace?this.rr.replaceWith(t):this.rr.transitionTo(t):e&&e.replace?window.history.replaceState(null,null,t):window.history.pushState(null,null,t)},e.prototype.navigateTo=function(e,t){if(!e&&""!==e)throw new Error("router.navigateTo received no href");this.navigate(e.replace(this.routePrefix,""),t)},e.prototype.addFragmentToVisited=function(e){this.visitedFragments.push(e)},e.prototype.start=function(r,n){var e=this.getLegacyRoutes(r);e=e.concat(this.nativeRoutes,n||[]),e.push(t.createElement(a,{handler:g}));var i=t.createElement(o,{path:r,handler:f},e),u=s("rendered-content");this.rr=c(i,u)},n=new e,module.exports=n});
define("js/app/origamiSingleton",["require","exports","module","backbone","js/app/config","js/app/multitrackerSingleton","js/lib/backbone.origami","react-router","js/lib/ReactRouterAdapter","bundles/page/lib/eventing"],function(require,exports,module){var Backbone=require("backbone"),i=require("js/app/config"),u=require("js/app/multitrackerSingleton"),o=require("js/lib/backbone.origami"),c=require("react-router"),t=require("js/lib/ReactRouterAdapter"),r=require("bundles/page/lib/eventing"),a=r.recordPageView,n=r.recordDeprecatedUsage,e=new o("[data-js=origami]");e.router.on("route",function(){a()}),e.enableRR=function(){var r=e.router;e.router=t,e.router.on("willTransitionFrom",function(o,t,a){r.unsavedWarningModal(o,t,e.router,a)}),Backbone.history={}},e.on("deprecatedUsage",n),module.exports=e});
define("bundles/phoenix/lib/exceptions",["require","exports","module","underscore"],function(require,exports,module){var _=require("underscore");module.exports={NotFound:function NotFound(){},Redirect:function Redirect(e,t){this.to=e,this.navigateOptions=_.defaults(t||{},{replace:!0,trigger:!0})}}});
!function(){var t=function Tooltips($,n,_,s,e){var a=27,t={defaults:{"bind.open":"mouseenter focusin","bind.close":"mouseleave focusout","bind.keydown":"keydown","animate.in.type":"custom","animate.in.from":'{"opacity":0}',"animate.in.to":'{"opacity":0.8}',"animate.in.duration":200,"animate.out.type":"custom","animate.out.from":'{"opacity":0.8}',"animate.out.to":'{"opacity":0}',"animate.out.duration":200,position:"top",style:"tooltip","style.position":"absolute","style.z-index":1e6,offset:10,"attribute.tooltip":"data-tooltip","onetime.cookie":null,"onetime.timeout":2e3},tooltip:$("<div>").attr("aria-role","tooltip"),getTooltip:function getTooltip(e,s){var o=$(e).data("tooltip.me");return o&&o.constructor==i.prototype.constructor?(t.build.call(o,o.options?o.options.text:null),s?o.customize(s):o):null},makeTooltip:function makeTooltip(n,s){var e=$(n),o=t.getTooltip(e);return o||(o=new i(e,s),e.data("tooltip.me",o)),t.build.call(o,s?s.text:null),o},monitorKeys:function monitorKeys(t){t.keyCode==a&&this.close()},show:function show(){this.emitter.trigger("show",this)},close:function close(){this.$tooltip.hide().remove(),this.emitter.trigger("close",this)},build:function build(i){if(this.options["onetime.cookie"]&&e.get(this.options["onetime.cookie"]))return;var o=$("<div>").addClass(this.options.style+"-arrow"),s=$("<div>").addClass(this.options.style+"-inner"),n=i||this.$el.attr(this.options["attribute.tooltip"]);this.$tooltip=t.tooltip.empty().remove().removeClass().stop(!0,!0).addClass(this.options.style).addClass(this.options.position).css({visibility:"hidden",position:this.options["style.position"],display:"block","z-index":this.options["style.z-index"]}).append(o).append(s.html(n))}},i=function Tooltip(t,i){this.$el=$(t),this.customize(i),this.emitter=n.emitter(this)};i.prototype.customize=function(i){return this.options=_.extend({},s.parse(this.$el,t.defaults,"data-tooltip-"),this.options||{},i),this.options.offset&&(this.options.offset=parseInt(this.options.offset,10)||0),this},i.prototype.open=function(){var o=this.options["onetime.cookie"];if(o){if(e.get(o))return this;e.set(o,"shown",{expires:36500});var h=this;setTimeout(function(){h.close()},this.options["onetime.timeout"])}var i=this.$el.offset();this.$tooltip.appendTo("body"),"fixed"===this.options["style.position"]&&(i=this.$el[0].getBoundingClientRect());var a=this.$el.outerWidth()||this.$el[0].getBoundingClientRect().width,p=this.$el.outerHeight()||this.$el[0].getBoundingClientRect().height,s=this.$tooltip.outerWidth(),n=this.$tooltip.outerHeight(),l=i.left+a/2,r=i.top+p/2;return"top"==this.options.position?this.$tooltip.css({left:l-s/2,top:i.top-n-this.options.offset}):"left"==this.options.position?this.$tooltip.css({left:i.left-s-this.options.offset,top:r-n/2}):"right"==this.options.position?this.$tooltip.css({left:i.left+a+this.options.offset,top:r-n/2}):this.$tooltip.css({left:l-s/2,top:i.top+p+this.options.offset}),"custom"==this.options["animate.in.type"]?(this.options["animate.in.from"]&&(_.isObject(this.options["animate.in.from"])?this.$tooltip.css(this.options["animate.in.from"]):_.isString(this.options["animate.in.from"])&&this.$tooltip.css($.parseJSON(this.options["animate.in.from"]))),this.$tooltip.css({visibility:"visible",display:"block"}),this.options["animate.in.to"]&&(_.isObject(this.options["animate.in.to"])?this.$tooltip.animate(this.options["animate.in.to"],{duration:this.options["animate.in.duration"],complete:_.bind(t.show,this)}):_.isString(this.options["animate.in.to"])&&this.$tooltip.animate($.parseJSON(this.options["animate.in.to"]),{duration:this.options["animate.in.duration"],complete:_.bind(t.show,this)}))):(this.emitter.trigger("opening",this),this.$tooltip.css({display:"block"}),t.show.call(this)),$(document).on(this.options["bind.keydown"]+".popup",_.bind(t.monitorKeys,this)),this},i.prototype.close=function(){"custom"==this.options["animate.out.type"]?(this.options["animate.out.from"]&&(_.isObject(this.options["animate.out.from"])?this.$tooltip.css(this.options["animate.out.from"]):_.isString(this.options["animate.out.from"])&&this.$tooltip.css($.parseJSON(this.options["animate.out.from"]))),this.options["animate.out.to"]&&(_.isObject(this.options["animate.out.to"])?this.$tooltip.animate(this.options["animate.out.to"],{duration:this.options["animate.out.duration"],complete:_.bind(t.close,this)}):_.isString(this.options["animate.out.to"])&&this.$tooltip.animate($.parseJSON(this.options["animate.out.to"]),{duration:this.options["animate.out.duration"],complete:_.bind(t.close,this)})),this.emitter.trigger("closing",this)):(this.emitter.trigger("closing",this),t.close.call(this))};var o=function external(){return t.getTooltip.apply(null,arguments)||t.makeTooltip.apply(this,arguments)};return o.start=function(n,o){var e=$(n),i=_.extend({},t.defaults,o);e.on(i["bind.open"]+".tooltip","["+i["attribute.tooltip"]+"]",function(a){var e=$(this);if("disabled"!=e.attr("disabled")){i=_.extend({},o,s.parse(e,t.defaults,"data-tooltip-"));var n=t.getTooltip(e,i)||t.makeTooltip(e,i);e.attr(i["attribute.tooltip"])&&(n.open(),n.on("open",function(){e.data("tooltip.it",n)}),n.on("close",function(){e.data("tooltip.it",null)}))}}),e.on(i["bind.close"]+".tooltip","["+i["attribute.tooltip"]+"]",function(a){var e=$(this);if(i=_.extend({},o,s.parse(e,t.defaults,"data-tooltip-")),!i["onetime.cookie"]){var n=t.getTooltip(e,i);n&&n.close()}})},o.stop=function(o){var t=$(o),i=t.data("tooltip.it");t.off(".tooltip"),i&&i.close()},o.start("body"),o};"function"==typeof define&&define.amd?define("js/lib/tooltips",["require","js/lib/data.attributes","jquery","js/vendor/lucid.v2-7-0","underscore","js/lib/cookie"],function(require){var i=require("js/lib/data.attributes"),$=require("jquery"),o=require("js/vendor/lucid.v2-7-0"),_=require("underscore"),s=require("js/lib/cookie");return t($,o,_,i,s)}):"undefined"!=typeof window&&"undefined"==typeof ender&&(window.Tooltip=t(window.$,window.LucidJS,window._,window.DataAttributes))}();
define("bundles/phoenix/lib/viewOpenerWrapper",["require","exports","module","bundles/phoenix/lib/exceptions","origami","q","underscore","bundles/nprogress/coursera.nprogress.v0-1-3","js/lib/tooltips"],function(require,exports,module){var r=require("bundles/phoenix/lib/exceptions"),e=require("origami"),s=require("q"),_=require("underscore"),o=require("bundles/nprogress/coursera.nprogress.v0-1-3"),n=require("js/lib/tooltips"),i=function viewOpenerWrapper(i){return function(){o.start(),s.promised(i).apply(null,arguments).fail(function(o){if(_(o).has("status"))e.router.trigger("error",o.status);else if(o instanceof r.NotFound)e.router.trigger("error",404);else{if(!(o instanceof r.Redirect))throw o;e.router.navigate(o.to,o.navigateOptions)}}).fin(function(){o.stop(),n().close()}).done()}};module.exports=i});
define("bundles/phoenix/constants",["require","exports","module","js/app/config"],function(require,exports,module){exports.config=require("js/app/config")});
!function(n){var t={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function corrupt(t){this.toString=function(){return"CORRUPT: "+this.message},this.message=t},invalid:function invalid(t){this.toString=function(){return"INVALID: "+this.message},this.message=t},bug:function bug(t){this.toString=function(){return"BUG: "+this.message},this.message=t},notReady:function notReady(t){this.toString=function(){return"NOT READY: "+this.message},this.message=t}}};"function"==typeof define&&define.amd?define("js/lib/sjcl",[],function(){return t}):n.sjcl=t}(window);
!function(r){var t=function addBitArray(t){t.bitArray={bitSlice:function bitSlice(r,n,i){return r=t.bitArray._shiftRight(r.slice(n/32),32-(31&n)).slice(1),void 0===i?r:t.bitArray.clamp(r,i-n)},extract:function extract(r,t,n){var e,i=Math.floor(-t-n&31);return e=-32&(t+n-1^t)?r[t/32|0]<<32-i^r[t/32+1|0]>>>i:r[t/32|0]>>>i,e&(1<<n)-1},concat:function concat(r,n){if(0===r.length||0===n.length)return r.concat(n);var a,u,i=r[r.length-1],e=t.bitArray.getPartial(i);return 32===e?r.concat(n):t.bitArray._shiftRight(n,e,0|i,r.slice(0,r.length-1))},bitLength:function bitLength(n){var r=n.length,i;if(0===r)return 0;return i=n[r-1],32*(r-1)+t.bitArray.getPartial(i)},clamp:function clamp(r,n){if(32*r.length<n)return r;r=r.slice(0,Math.ceil(n/32));var i=r.length;return n=31&n,i>0&&n&&(r[i-1]=t.bitArray.partial(n,r[i-1]&2147483648>>n-1,1)),r},partial:function partial(t,r,n){if(32===t)return r;return(n?0|r:r<<32-t)+1099511627776*t},getPartial:function getPartial(t){return Math.round(t/1099511627776)||32},equal:function equal(n,i){if(t.bitArray.bitLength(n)!==t.bitArray.bitLength(i))return!1;var e=0,r;for(r=0;r<n.length;r++)e|=n[r]^i[r];return 0===e},_shiftRight:function _shiftRight(n,i,e,r){var a,c=0,u;for(void 0===r&&(r=[]);i>=32;i-=32)r.push(e),e=0;if(0===i)return r.concat(n);for(a=0;a<n.length;a++)r.push(e|n[a]>>>i),e=n[a]<<32-i;return c=n.length?n[n.length-1]:0,u=t.bitArray.getPartial(c),r.push(t.bitArray.partial(i+u&31,i+u>32?e:r.pop(),1)),r},_xor4:function _xor4(t,r){return[t[0]^r[0],t[1]^r[1],t[2]^r[2],t[3]^r[3]]}}};"function"==typeof define&&define.amd?define("js/lib/sjcl-bitArray",["js/lib/sjcl"],function(r){t(r)}):t(r.sjcl)}(window);
!function(n){var t=function addCodecHex(t){t.codec.hex={fromBits:function fromBits(r){var e="",n,i;for(n=0;n<r.length;n++)e+=((0|r[n])+0xf00000000000).toString(16).substr(4);return e.substr(0,t.bitArray.bitLength(r)/4)},toBits:function toBits(n){var r,e=[],i;for(n=n.replace(/\s|0x/g,""),i=n.length,n+="00000000",r=0;r<n.length;r+=8)e.push(0^parseInt(n.substr(r,8),16));return t.bitArray.clamp(e,4*i)}}};"function"==typeof define&&define.amd?define("js/lib/sjcl-codecHex",["js/lib/sjcl"],function(n){return t(n)}):t(n.sjcl)}(window);
!function(t){var n=function addCodecString(n){n.codec.utf8String={fromBits:function fromBits(i){var r="",o=n.bitArray.bitLength(i),t,e;for(t=0;o/8>t;t++)0===(3&t)&&(e=i[t/4]),r+=String.fromCharCode(e>>>24),e<<=8;return decodeURIComponent(escape(r))},toBits:function toBits(i){i=unescape(encodeURIComponent(i));var r=[],t,e=0;for(t=0;t<i.length;t++)e=e<<8|i.charCodeAt(t),3===(3&t)&&(r.push(e),e=0);return 3&t&&r.push(n.bitArray.partial(8*(3&t),e)),r}}};"function"==typeof define&&define.amd?define("js/lib/sjcl-codecString",["js/lib/sjcl","js/lib/sjcl-bitArray"],function(t,e){n(t)}):n(t.sjcl)}(window);
!function(i){var t=function addSHA1(t){t.hash.sha1=function(t){t?(this._h=t._h.slice(0),this._buffer=t._buffer.slice(0),this._length=t._length):this.reset()},t.hash.sha1.hash=function(i){return(new t.hash.sha1).update(i).finalize()},t.hash.sha1.prototype={blockSize:512,reset:function reset(){return this._h=this._init.slice(0),this._buffer=[],this._length=0,this},update:function update(i){"string"==typeof i&&(i=t.codec.utf8String.toBits(i));var h,e=this._buffer=t.bitArray.concat(this._buffer,i),s=this._length,n=this._length=s+t.bitArray.bitLength(i);for(h=this.blockSize+s&-this.blockSize;n>=h;h+=this.blockSize)this._block(e.splice(0,16));return this},finalize:function finalize(){var h,i=this._buffer,s=this._h;for(i=t.bitArray.concat(i,[t.bitArray.partial(1,1)]),h=i.length+2;15&h;h++)i.push(0);for(i.push(Math.floor(this._length/4294967296)),i.push(0|this._length);i.length;)this._block(i.splice(0,16));return this.reset(),s},_init:[1732584193,4023233417,2562383102,271733878,3285377520],_key:[1518500249,1859775393,2400959708,3395469782],_f:function _f(s,t,i,h){if(19>=s)return t&i|~t&h;if(39>=s)return t^i^h;if(59>=s)return t&i|t&h|i&h;if(79>=s)return t^i^h},_S:function _S(t,i){return i<<t|i>>>32-t},_block:function _block(o){var i,c,e,n,s,r,f,h=o.slice(0),t=this._h,l=this._key;for(e=t[0],n=t[1],s=t[2],r=t[3],f=t[4],i=0;79>=i;i++)i>=16&&(h[i]=this._S(1,h[i-3]^h[i-8]^h[i-14]^h[i-16])),c=this._S(5,e)+this._f(i,n,s,r)+f+h[i]+this._key[Math.floor(i/20)]|0,f=r,r=s,s=this._S(30,n),n=e,e=c;t[0]=t[0]+e|0,t[1]=t[1]+n|0,t[2]=t[2]+s|0,t[3]=t[3]+r|0,t[4]=t[4]+f|0}}};"function"==typeof define&&define.amd?define("js/lib/sjcl-sha1",["js/lib/sjcl","js/lib/sjcl-codecString","js/lib/sjcl-bitArray"],function(i,h,s){t(i)}):t(i.sjcl)}(window);
!function(t){var i={},n={},e=null,o=3e3,r=function AB($,_,d,g,r,l){var c=function sendConversionEvents(n,r,s,i){var t;if(i){var a=parseInt(s.attr(r+"-convert-time")||o,10);a>0&&setTimeout(i,a),t=_.after(n.length,i)}_.each(n,function(n){var o=_.keys(e),i=!1;_.each(o,function(a){var o=e[a].getExperiment(n);o&&(o.convert(s.attr(r+"-convert"),t),i=!0)}),!i&&t&&t()})},h=function extractExperimentNames(t,e){var i=t.attr(e)||"";return i.split(",")},u=function convertIfNotAlready(t,n){var e=n+"-convert-for-sync-active",i=t.data(e)===!0;return i||t.data(e,!0),i},p={listenForConversion:function listenForConversion(t){$("body").on("click.ab","["+t+"-convert-for]",function(){var e=$(this),i=h(e,t+"-convert-for");c(i,t,e)}),$("body").on("submit.ab","form["+t+"-convert-for-sync]",function(i){var e=$(this);if(!u(e,t)){i.preventDefault();var n=h(e,t+"-convert-for-sync"),r=function goto(){e.submit()};c(n,t,e,r)}}),$("body").on("click.ab","a["+t+"-convert-for-sync]",function(n){var e=$(this);if(!u(e,t)){n.preventDefault();var r=h(e,t+"-convert-for-sync"),i=e.attr("href");if(i){var o=function goto(){window.location.href=i};c(r,t,e,o)}}})},chooseVariant:function chooseVariant(){var e=this;if(!e.valid)return null;if(e.options.debug){var n="ab-"+e.type+"-"+e.name+"-override",o=r.get(n)||$(t.document).find("body").attr("data-"+n)||"localStorage"in window&&localStorage.getItem(n);if(null!=o){var h=_.find(e.options.variants,function(t){return t.name==o});if(h)return h;e.options.logger.error("Invalid variant: "+o)}}var f=e.id+"_"+e.name,s=l.codec.hex.fromBits(l.hash.sha1.hash(f)),u=parseInt(s.substr(s.length-8),16),p=Math.pow(2,32),c=0,i;for(i=0;i<e.weights.length;i++)c+=e.weights[i];var a=u/p*c;for(i=0;i<e.weights.length;i++)if(a-=e.weights[i],0>a)return e.options.variants[i];return e.options.variants[e.weights.length-1]}},s=function Module(r,o,s){for(var t=s||{},e=location.host.split(".");e.length>2;)e.shift();this.id=r,this.type=o,this.options={},this.options.domain=t.domain||"."+e.join("."),this.options.logger=t.logger||g({level:"error"}),this.options.tracker=t.tracker||[],this.options.debug=t.debug||!1,this.options.attribute="data-ab-"+this.type,this.experiments={},i[this.type]={},n[this.type]={}};s.prototype.setId=function(t){this.id?this.id!==t&&this.options.logger.error("can't change an existing id, create new AB test instead"):this.id=t},s.prototype.addExperiment=function(t,e){if(i[this.type][t])this.options.logger.error("experiment "+t+" already exists");else if(e&&e.variants){var n=_.filter(e.variants,function(t){return t.baseline}),r=_.reduce(_.pluck(e.variants,"weight"),function(t,e){return t+e},0);n&&1==n.length&&1==r.toFixed(10)?i[this.type][t]=e:n.length>1?this.options.logger.error("experiment "+t+" contains more than one baseline variants"):1>r?this.options.logger.error("experiment "+t+" contains variants that don't sum to 1.0"):this.options.logger.error("experiment "+t+" has no baseline variant")}else this.options.logger.error("experiment "+t+" has no variants")},s.prototype.addExperiments=function(t){var e=this,i=_.keys(t);_.each(i,function(i){e.addExperiment(i,t[i])})},s.prototype.getExperiment=function(t){return i[this.type][t]?(n[this.type][t]||(n[this.type][t]=new a(this.id,t,{type:this.type,variants:i[this.type][t].variants,logger:this.options.logger,debug:this.options.debug,tracker:this.options.tracker,domain:this.options.domain})),n[this.type][t]):null},s.prototype.runExperimentsOn=function(n){var t=this,i=$(n).find("["+this.options.attribute+"-variant-for]");i.hide();var e=[];i.each(function(){var i=$(this);e.push(i.attr(t.options.attribute+"-variant-for"))}),e=_.uniq(e),_.each(e,function(e){var n=t.getExperiment(e);if(n){var r=n.getChosenVariant(),o=i.filter("["+t.options.attribute+"-variant-for="+e+"]").filter("["+t.options.attribute+"-variant="+r+"]");o.size()?o.show():t.options.logger.error("variants "+r+" for "+t.type+" experiment "+e+" not found in the dom")}else t.options.logger.error(t.type+" experiment "+e+" found on page but not added yet")})};var a=function Experiment(i,e,n){var t=this;t.id=i,t.options=n,t.name=e,t.type=t.options.type,t.weights=_.pluck(t.options.variants,"weight"),t.valid=t.sanityCheck(e,t.weights),t.valid?t.options.logger.info("Created experiment ["+e+"] with "+t.options.variants.length+" variants."):t.options.logger.info("Error in experiment ["+e+"]; resorting to fail-safe.")};a.prototype.sanityCheck=function(n,i){var t=this,e;if("string"!=typeof n)return t.options.logger.error("name should be a string!"),!1;if("ab-"==n.substr(0,3))return t.options.logger.error("name should not begin with 'ab-'!"),!1;if(!$.isArray(i))return t.options.logger.error("weights should be an array!"),!1;for(e=0;e<i.length;e++)if(i[e]<0)return t.options.logger.error("All weights must be non-negative!"),!1;return!0},a.prototype.getChosenVariant=function(){var t=this,i=t.name,e=r.get("ab-experiments-"+t.type)||"";if(-1==e.indexOf(i)&&(e=e.length>0?e+","+i:i,r.remove("ab-experiments-"+t.type),r.set("ab-experiments-"+t.type,e,{expires:365,domain:t.options.domain})),_.isUndefined(this.chosen))if(this.chosen=p.chooseVariant.call(this),this.valid){var n=this.chosen.baseline?this.chosen.name+",baseline":this.chosen.name;this.options.tracker.push(["ab.show",this.type+","+this.name+","+n+":"+this.id])}else this.options.tracker.push(["ab.fail",this.type+","+this.name+":"+this.id]);return this.chosen.name},a.prototype.convert=function(e,t){var i=(r.get("ab-experiments-"+this.type)||"").split(",");if(i&&-1!=i.indexOf(this.name)&&this.valid){_.isUndefined(this.chosen)&&(this.chosen=p.chooseVariant.call(this));var o=this.chosen.baseline?this.chosen.name+",baseline":this.chosen.name;_.isUndefined(e)&&(e="default");var n=["ab.convert",this.type+","+this.name+","+o+","+e+":"+this.id];t&&n.push(t),this.options.tracker.push(n)}else t&&t()},a.prototype.convertPromise=function(e){var t=d.defer();return this.convert(e,function(){t.resolve()}),t.promise};var f=function external(i,t,r){if(e||(e={}),e[t])return e[t].setId(i),e[t];var n=e[t]=new s(i,t,r);return p.listenForConversion(n.options.attribute),n};return f.makeSession=function(e,i){var t=r.get(e);return t||(t=(1e10*Math.random()).toFixed()+"-"+(new Date).getTime(),r.set(e,t,i||{expires:14,domain:i.domain})),t},f};"function"==typeof define&&define.amd?define("js/lib/ab",["require","jquery","underscore","q","js/lib/log","js/lib/cookie","js/lib/sjcl","js/lib/sjcl-bitArray","js/lib/sjcl-codecHex","js/lib/sjcl-codecString","js/lib/sjcl-sha1"],function(require){var $=require("jquery"),_=require("underscore"),t=require("q"),e=require("js/lib/log"),i=require("js/lib/cookie"),n=require("js/lib/sjcl");return require("js/lib/sjcl-bitArray"),require("js/lib/sjcl-codecHex"),require("js/lib/sjcl-codecString"),require("js/lib/sjcl-sha1"),r($,_,t,e,i,n)}):t.AB=r(t.$,t._,t.Q,t.Log,t.Cookie,t.sjcl)}(window);
!function(){var e={session:{sigtrack_student_stories:{variants:[{name:"disabled",weight:.33,baseline:!0},{name:"enabled",weight:.33},{name:"enabled-nexttocard",weight:.34}]},no_welcome_page:{variants:[{name:"welcome",weight:.34,baseline:!0},{name:"no-welcome",weight:.33},{name:"combined",weight:.33}]}},user:{in_class_qqs:{variants:[{name:"no_qqs",weight:.1,baseline:!0},{name:"time_1",weight:.03},{name:"time_2",weight:.03},{name:"time_3",weight:.03},{name:"time_4",weight:.03},{name:"time_5",weight:.03},{name:"time_6",weight:.03},{name:"time_7",weight:.03},{name:"time_8",weight:.03},{name:"time_9",weight:.03},{name:"time_10",weight:.03},{name:"time_11",weight:.03},{name:"time_12",weight:.03},{name:"time_13",weight:.03},{name:"time_14",weight:.03},{name:"time_15",weight:.03},{name:"time_16",weight:.03},{name:"time_17",weight:.03},{name:"time_18",weight:.03},{name:"time_19",weight:.03},{name:"time_20",weight:.03},{name:"time_21",weight:.03},{name:"time_22",weight:.03},{name:"time_23",weight:.03},{name:"time_24",weight:.03},{name:"time_25",weight:.03},{name:"time_26",weight:.03},{name:"time_27",weight:.03},{name:"time_28",weight:.03},{name:"time_29",weight:.03},{name:"time_30",weight:.03}]},in_class_qqs_button:{variants:[{name:"button",weight:.5,baseline:!0},{name:"no_button",weight:.5}]},honorcode_to_welcome2:{variants:[{name:"baseline",weight:.25,baseline:!0},{name:"no_welcome",weight:.25},{name:"no_intent",weight:.25},{name:"optional_intent",weight:.25}]},records_page_eoc_stories_dropdown:{variants:[{name:"dont_show_dropdown",weight:.85,baseline:!0},{name:"show_dropdown",weight:.15}]},lesson_progress_bar:{variants:[{name:"control",weight:.25,baseline:!0},{name:"continuous_progress_bar_without_resume",weight:.25},{name:"continuous_progress_bar_with_resume",weight:.25},{name:"segmented_progress_bar_with_resume",weight:.25}]}}};"function"==typeof define&&define.amd?define("js/json/experiments.ab",[],function(){return e}):window.CourseraABExperiments=e}();
!function(s){var e=function make(s,n,i,r,e,t){var o=function init(){for(var u=location.host.split(".");u.length>2;)u.shift();var t="."+u.join("."),l=r.get("__204u"),a=s.makeSession("__204u",{expires:365,domain:t});l||r.set("__204u",a,{expires:365,domain:t});var o={user:null,session:null};return o.session=s(a,"session",{debug:!0,tracker:n,logger:i,domain:t}),e.session&&o.session.addExperiments(e.session),o.user=s(null,"user",{debug:!0,tracker:n,logger:i,domain:t}),e.user&&o.user.addExperiments(e.user),o};return o()};"function"==typeof define&&define.amd&&define("js/lib/coursera.ab",["js/lib/ab","js/app/multitrackerSingleton","js/app/loggerSingleton","js/lib/cookie","js/json/experiments.ab"],function(s,n,i,r,o){return e(s,n,i,r,o)})}(window);
define("js/lib/api",["require","exports","module","jquery","underscore","js/lib/cookie","js/lib/language","js/lib/path","js/vendor/lucid.v2-7-0"],function(require,exports,module){var $=require("jquery"),_=require("underscore"),s=require("js/lib/cookie"),o=require("js/lib/language"),r=require("js/lib/path"),a=require("js/vendor/lucid.v2-7-0"),i=0,n=Object.freeze({type:"normal","csrf.token":"X-CSRFToken","csrf.cookie":"csrftoken","csrf.path":null,"csrf.domain":null,"csrf.secure":!0,"csrf2.token_header":"X-CSRF2-Token","csrf2.cookie_name_header":"X-CSRF2-Cookie","csrf2.cookie_prefix":"csrf2_token_","emulate.patch":!0,"emulate.put":!1,"emulate.delete":!1,"custom.header.name":null,"custom.header.value":null}),e={csrfGet:function csrfGet(){var t=s.get(this.options["csrf.cookie"]);return t?t:e.csrfSet.call(this,e.csrfMake())},csrfClear:function csrfClear(){s.remove(this.options["csrf.cookie"],{secure:this.options["csrf.secure"],path:this.options["csrf.path"],domain:this.options["csrf.domain"]})},csrfSet:function csrfSet(e){return s.set(this.options["csrf.cookie"],e,{secure:this.options["csrf.secure"],path:this.options["csrf.path"],domain:this.options["csrf.domain"],expires:new Date((new Date).getTime()+6e4)}),e},csrfMake:function csrfMake(){for(var i=arguments.length<=0||void 0===arguments[0]?24:arguments[0],e=arguments.length<=1||void 0===arguments[1]?"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ":arguments[1],t=[],s=0;i>s;s+=1)t.push(e[Math.floor(Math.random()*e.length)]);return t.join("")},csrf2SetUp:function csrf2SetUp(t){if("GET"===t.type)return{};var i=this.options["csrf2.cookie_prefix"]+e.csrfMake(8),o=e.csrfMake();s.set(i,o,{secure:this.options["csrf.secure"],path:this.options["csrf.path"],domain:this.options["csrf.domain"],expires:new Date((new Date).getTime()+6e4)}),t.headers[this.options["csrf2.cookie_name_header"]]=i,t.headers[this.options["csrf2.token_header"]]=o},csrf2TearDown:function csrf2TearDown(t){var e=t[this.options["csrf2.cookie_name_header"]];e&&s.remove(e,{secure:this.options["csrf.secure"],path:this.options["csrf.path"],domain:this.options["csrf.domain"]})},invoke:function invoke(p,f){var s=Object.assign({},f)||{},n;n=0!==p.indexOf("http")?r.join(this.root,p):p,this.trigger("before",n,s);var u="GET"===s.type?s.data:null,d=function remove(t,e){this.remove(e.options.id)},t=s.message||{},h=t.codes?_.keys(t.codes):[],a=this.options.message,c=this;delete s.message,"GET"!==s.type&&_.isUndefined(s.processData)&&"rest"===this.options.type&&(s.contentType="application/json; charset=utf-8",s.processData=!1,s.data=JSON.stringify(s.data)),s.beforeSend=function(){i+=1};var o=$.ajax(n,s);if(a){if(t.waiting){var m=a.add($("<div>").append(t.waiting).addClass("waiting"),{delay:100});o.always(function(e,t){a.remove(m)})}(t.success||t.codes&&_.min(h)<300)&&o.done(function(e,s){t.codes&&t.codes[e.status]?a.add($("<div>").append(t.codes[e.status]).addClass("success"),{timeout:500}):t.success&&a.add($("<div>").append(t.success).addClass("success"),{timeout:500})}),(t.error||t.timeout||t.codes&&_.max(h)>=300)&&o.fail(function(e,s){t.timeout&&"timeout"===s?a.add($("<div>").append(t.timeout).addClass("error"),{events:{click:d}}):t.codes&&t.codes[e.status]?a.add($("<div>").append(t.codes[e.status]).addClass("error"),{events:{click:d}}):t.error&&a.add($("<div>").append(t.error).addClass("error"),{events:{click:d}})})}var l=(new Date).getTime();return c.trigger("send",{xhr:o,url:n}),o.always(function(){0===--i&&e.csrfClear.call(c),e.csrf2TearDown.call(c,s.headers||{}),c.trigger("always",{xhr:o,url:n,params:u,method:s.type,timing:(new Date).getTime()-l})}),o.fail(function(){c.trigger("fail",{xhr:o,url:n,method:s.type,params:u})}),o},restify:function restify(s,i){var t=Object.assign({data:{},headers:{"Accept-Language":o.getIetfLanguageTag()}},i);switch(s){case"POST":t.type="POST";break;case"PATCH":this.options["emulate.patch"]?(t.type="POST",t.headers["X-HTTP-Method-Override"]="PATCH"):t.type="PATCH";break;case"PUT":this.options["emulate.put"]?(t.type="POST",t.headers["X-HTTP-Method-Override"]="PUT"):t.type="PUT";break;case"DELETE":this.options["emulate.delete"]?(t.type="POST",t.headers["X-HTTP-Method-Override"]="DELETE"):t.type="DELETE";break;default:t.type="GET"}return"GET"!==t.type&&(t.headers[this.options["csrf.token"]]=e.csrfGet.call(this),e.csrf2SetUp.call(this,t)),this.options["custom.header.name"]&&(t.headers[this.options["custom.header.name"]]=this.options["custom.header.value"]),t}},t=function Api(e,t){this.root=e,this.options=Object.assign({},n,t),a.emitter(this)};t.prototype.customize=function(e){return this.options=Object.assign(this.options,e),this},t.prototype.get=function(t,s){return e.invoke.call(this,t,e.restify.call(this,"GET",s))},t.prototype.patch=function(t,s){return e.invoke.call(this,t,e.restify.call(this,"PATCH",s))},t.prototype["delete"]=function(t,s){return e.invoke.call(this,t,e.restify.call(this,"DELETE",s))},t.prototype.post=function(t,s){return e.invoke.call(this,t,e.restify.call(this,"POST",s))},t.prototype.put=function(t,s){return e.invoke.call(this,t,e.restify.call(this,"PUT",s))},module.exports=function(e,s){return new t(e,s)}});
define("bundles/phoenix/lib/apiWrapper",["require","exports","module","js/app/multitrackerSingleton","js/lib/api","underscore"],function(require,exports,module){var r=require("js/app/multitrackerSingleton"),t=require("js/lib/api"),_=require("underscore");module.exports=function(i,n){var e=t(i,n);return e.on("always",function(e){var t=e.params;if("string"==typeof t){var i=t.split("&");i.length&&(t=_(i).map(function(t){var r=t.split("=");return{key:r[0],value:[r[1]]}}))}else t=_(t).map(function(r,t){return{key:t,value:Array.isArray(r)?r.map(function(r){return r.toString()}):[r.toString()]}});r.pushV2(["system.api.emit.response",{timing:e.timing,url:e.url,method:e.method,params:t,status:e.xhr.status}])}),e}});
define("pages/auth/common/api/api",["require","exports","module","bundles/phoenix/lib/apiWrapper"],function(require,exports,module){var e=require("bundles/phoenix/lib/apiWrapper");module.exports=e("/api",{type:"rest"})});
define("pages/home/models/user",["require","exports","module"],function(require,exports,module){module.exports=coursera.user});
define("bundles/phoenix/template/models/userIdentity",["require","exports","module","backbone","q","underscore","bundles/phoenix/constants","js/app/multitrackerSingleton","js/lib/coursera.ab","pages/auth/common/api/api","pages/home/models/user"],function(require,exports,module){var Backbone=require("backbone"),t=require("q"),_=require("underscore"),e=require("bundles/phoenix/constants"),i=require("js/app/multitrackerSingleton"),s=require("js/lib/coursera.ab"),n=require("pages/auth/common/api/api"),r=require("pages/home/models/user"),a=Backbone.Model.extend({initialize:function initialize(){if(this.get("authenticated")){var e=this.get("id");i.get("204").queue.push(["user",e]),s.user.setId(e)}},hasProfile:function hasProfile(){return-1!==this.get("privacy")&&this.has("external_id")},getProfileUrl:function getProfileUrl(){var t=this.hasProfile()?"user/i/"+this.get("external_id"):"account/profile";return e.config.dir.home+t},parse:function parse(e){return _(e).isEmpty()?{authenticated:!1}:_(e).chain().pick(["display_name","email_address","external_id","full_name","id","is_superuser","privacy","photo","photo_120","email_verified"]).extend({authenticated:!0}).value()},update:function update(){var i=t.defer();return n.get(e.config.url.base+"maestro/api/user/info").then(function(e){this.set(this.parse(e)),i.resolve(this)}.bind(this)).fail(function(e){i.reject(e)}),i.promise}}),o=new a(r,{parse:!0});module.exports=o});
define("js/lib/callOnLoad",["require","exports","module","q"],function(require,exports,module){var e=require("q");module.exports=function(r,o){if(!r.lazy)throw new Error("callOnLoad must be invoked with a module factory, not a module id. see D25667");return function(){var n=this,i=arguments,t=e.defer();return r(function(r){void 0===o?e.promised(r).apply(n,i).then(t.resolve,t.reject):e.promised(r[o]).apply(n,i).then(t.resolve,t.reject)}),t.promise}}});
define("js/lib/coursera.redirect",["require","exports","module","underscore","js/lib/prerender","jsuri"],function(require,exports,module){var _=require("underscore"),r=require("js/lib/prerender"),n=require("jsuri"),e=function(t,e){var r=new n(t);return _.isUndefined(e)||(_.isUndefined(e.r)||(e.post_redirect=e.r),_(e).chain().omit("r").each(function(n,e){r.addQueryParam(e,n)})),r.toString()};exports.getQueryParams=function(){return window.location.search},exports.unversionUrl=function(n){var e=n.indexOf("@");return e>=0&&(n=n.substring(0,e)),n},exports.getPathname=function(){return window.location.pathname},exports.setPathname=function(n){return window.location.pathname=n,n};var t=function(n){return n.split(".").slice(-2).join(".")};exports.isFromSameDomain=function(i,o){var e=new n(i).host(),r=new n(o).host();return e===r||t(e)===t(r)},exports.setLocation=function(e){r.redirect(302,e);var i=new n(e),t="/";return(""===i.host()||exports.isFromSameDomain(e,window.location.host))&&(t=i.toString()),window.location.href=t,t},exports.navigateWithAuth=function(n,r){return exports.setLocation(e(n,r))},exports.refresh=function(){window.location.reload()},exports.getAuthRedirect=function(n,r){var t=_({r:window.location.href}).extend(r),i="/"+(n||"signup");return e(i,t)},exports.authenticate=function(n,e){return window.location.replace(exports.getAuthRedirect(n,e))},exports.redirectWithAuth=function(n,r){return window.location.replace(e(n,r))},exports.redirectWithAuthToPath=function(n,r){return window.location.replace(e(window.location.origin+n,r))},exports.replaceUrl=function(n){r.redirect(302,n),window.history.replaceState({},"",n)}});
define("bundles/phoenix/courseId",["require","exports","module"],function(require,exports,module){module.exports=coursera.courseId});
define("pages/open-course/common/constants",["require","exports","module","js/app/config","js/lib/path"],function(require,exports,module){var s=require("js/app/config"),e=require("js/lib/path"),o="/learn",i="",r,a="undefined"!=typeof window&&window.location.pathname.match(/^(\/(?:learn|tools\/yoda|teach|certificate|contribute))(?:\/([^\/]*))?/);a?(r=a[1],a.length>2&&void 0!==a[2]&&(i=a[2])):r=o,module.exports={config:s,rootPath:r,learnRoot:o,teachRoot:"/teach/",adminEmailApi:"/api/openCourseAdminEmails.v1",openCourseApi:"/api/opencourse.v1",assessApi:"/api/assess/v1",assetApi:"/api/openCourseAssets.v1",peerAssignmentApi:"/api/peerAssignments.v1",programmingAssignmentApi:"/api/programmingAssignments.v1",sigTrackApi:"/api/sigtrack.v1",openCourseMembershipApi:"/api/openCourseMemberships.v1",reportsApi:"/api/reports.v1",coursesApi:"/api/onDemandCourses.v1",forumsApi:"/api/onDemandDiscussionForums.v1",certificatePrintApi:"/api/certificatePrintSettings.v1",certificateApi:"/api/certificate.v1",supplementProgressApi:"/api/onDemandSupplementCompletions.v1",lectureVideosApi:"onDemandLectureVideos.v1",videoProgressesApi:"/api/onDemandVideoProgresses.v1",courseRootPath:e.join(r,i),courseSlug:i,courseRolesWithTeachAccess:["INSTRUCTOR","TEACHING_STAFF","UNIVERSITY_ADMIN","DATA_COORDINATOR"],courseRolesWithModeratorAccess:["INSTRUCTOR","TEACHING_STAFF","UNIVERSITY_ADMIN","DATA_COORDINATOR","MENTOR"],onboardModalStorageKey:"showProfileModal:",items:{gradableTypes:["closedPeer","exam","gradedPeer","gradedProgramming","gradedLti","phasedPeer","programming","splitPeerReviewItem"],assessmentTypes:["closedPeer","gradedPeer","phasedPeer","splitPeerReviewItem","quiz","assessOpenSinglePage","gradedProgramming","programming","ungradedProgramming","ungradedLti","gradedLti","peer","exam"]},assessments:{defaultPassingFraction:.8},assets:{rootPath:s.url.assets},upload:{transloadit:{templates:{programming:"1683d830c1dd11e4a63a499495d4cf0f"}}},signatureTrack:{photoDisapproved:-1,verificationSubmitDelay:1e3,transitionToWebcamDuration:3e3,firefoxWebcamHelpImage:e.join(s.url.assets,"/images/signature/firefox_html5_webcam_help.png"),chromeWebcamHelpImage:e.join(s.url.assets,"/images/signature/chrome_html5_webcam_help.png"),swfFile:e.join(s.url.base,"/site-static/swf/sAS3Cam.swf"),webcamConstraintImage:e.join(s.url.assets,"/images/webcam/face_placeholder_L.png"),webcamConstraintImageWidthPercent:16,webcamConstraintImageMarginPercent:20,keystroke:{errorAllowedPrefix:2,errorAllowedSuffix:5},verificationSteps:{keystrokes:"KeystrokeRecognition",webcam:"FaceRecognition",webcamManual:"Delayed",authenticated:"Success"},vcBannerImg:e.join(s.url.assets,"/images/open-course/cert_icon.png"),vcBannerImgLg:e.join(s.url.assets,"/images/open-course/cert_icon_lg.png")},gallery:{maxTitleLength:60},progressCompleted:"Completed",progressStarted:"Started",progressNotStarted:"NotStarted",vcLandingPagePath:e.join("/certificate",i),courseAdminPath:e.join("/teach",i),certLogoWithBlueBackground:e.join(s.url.assets,"/images/promos/cdp_cert_logo.png"),courseCertificateImage:"http://s3.amazonaws.com/coursera_assets/certificates/coursecertificate.png",verifiedCertificateImage:e.join(s.url.assets,"/images/signature/template-cert-small.png"),vcLandingBulletOne:e.join(s.url.assets,"/images/open-course/LandingPage_BulletedNumbers_01.png"),vcLandingBulletTwo:e.join(s.url.assets,"/images/open-course/LandingPage_BulletedNumbers_02.png"),vcLandingBulletThree:e.join(s.url.assets,"/images/open-course/LandingPage_BulletedNumbers_03.png"),vcLandingLinkedInLogo:e.join(s.url.assets,"/images/open-course/linkedin_logo.png"),vcLandingLearnerPhoto:e.join(s.url.assets,"/images/open-course/Peter.png"),vcLandingCourseRecord:e.join(s.url.assets,"/images/open-course/CourseRecord.png"),vcLandingCourseCertificateRecord:e.join(s.url.assets,"/images/open-course/CourseCertificateRecord.png"),verifiedCertificatePreviewPath:"previewVerifiedCertificate",verifiedCertificateKeyType:"OnDemandWithoutGrade",videoEndPercentage:.9,defaultVideoPlayerWidth:"960px",defaultVideoPlayerHeight:"540px",defaultVideoPlayerResolution:"540p",videoPlayerAspectRatio:9/16,videoPlayerMinHeight:240,videoSavedProgressDelay:5,adminButtonsTopMargin:30,adminJsonEditorDivTopMargin:40,showLessonProgressBar:{development:["childnutrition"],staging:["childnutrition"],production:["competitivestrategy"]},completionExperiment:{development:["childnutrition"],staging:["childnutrition"],production:["calculus1"]},lockedAssessments:["dUNIFe9gEeSIIyIAC7LOhg"],courseTypes:{s12nPreEnroll:"s12nPreEnroll",s12nSession:"s12nSession",s12nOnDemand:"s12nOnDemand",preEnroll:"preEnroll",sessions:"sessions",certOnDemand:"certOnDemand",onDemand:"onDemand"}}});
define("js/lib/require.memoize",["module"],function(module){function argsToJsonHasher(){var r=Array.prototype.slice.call(arguments);return JSON.stringify(r)}function memoize(e,t){var n={};t=t||argsToJsonHasher;var r=function memoized(){var r=t.apply(this,arguments);return r in n||(n[r]=e.apply(this,arguments)),n[r]};return r.force=function(){return r.clear.apply(this,arguments),r.apply(this,arguments)},r.clear=function(){var r=t.apply(this,arguments);delete n[r]},r.reset=function(){n={}},r}var r={version:"0.0.1",load:function load(r,n,t,e){n([r],function(r){t(memoize(r))})}};return r});
define("pages/open-course/common/api",["require","exports","module","bundles/phoenix/lib/apiWrapper","pages/open-course/common/constants"],function(require,exports,module){var e=require("bundles/phoenix/lib/apiWrapper"),o=require("pages/open-course/common/constants");module.exports=e(o.openCourseApi,{type:"rest"})});
define("pages/open-course/common/data/courseMaterials",["require","exports","module","jsuri","q","underscore","js/lib/api","js/lib/memoize","pages/open-course/common/api"],function(require,exports,module){var r=require("jsuri"),e=require("q"),_=require("underscore"),o=require("js/lib/api"),n=require("js/lib/memoize"),u=require("pages/open-course/common/api"),i=o("/api/onDemandCourseMaterials.v2",{type:"rest"}),a=function applyItemsToCourseMaterial(e,r){e.elements.forEach(function(module){module.elements.forEach(function(e){e.elements.forEach(function(e){var n=_(r[e.id]).pick("lockableByItem","isLocked");_(e).extend(n)})})})},s=function getCourseMaterialItems(n){var t=new r(n.id).addQueryParam("fields","onDemandCourseMaterialItems.v2(lockableByItem,isLocked)").addQueryParam("includes","items").addQueryParam("showLockedItems","true");return e(i.get(t.toString())).then(function(e){return e.linked["onDemandCourseMaterialItems.v2"]}).then(function(e){var r=_(e).reduce(function(e,r){return e[r.id]=r,e},{});return a(n.courseMaterial,r),n})},t=function apiGetCourseMaterial(n){var t=new r(n).addQueryParam("showLockedItems","true");return e(u.get(t.toString())).then(s).then(function(e){return e.courseMaterial})};exports.fromSlug=n(function(r){if(!r)return e.reject("Missing courseSlug argument");return t("course/"+r)}),exports.fromId=n(function(r){if(!r)return e.reject("Missing courseId argument");return t("/course?courseId="+r)})});
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define("js/vendor/alt.v0-16-4",[],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Alt=t()}}(function(){var t,module,exports;return function e(t,n,r){function s(i,l){if(!n[i]){if(!t[i]){var c="function"==typeof require&&require;if(!l&&c)return c(i,!0);if(o)return o(i,!0);var u=new Error("Cannot find module '"+i+"'");throw u.code="MODULE_NOT_FOUND",u}var a=n[i]={exports:{}};t[i][0].call(a.exports,function(e){var n=t[i][1][e];return s(n?n:e)},a,a.exports,e,t,n,r)}return n[i].exports}for(var o="function"==typeof require&&require,i=0;i<r.length;i++)s(r[i]);return s}({1:[function(require,module,exports){function xSymbol(e){if(this instanceof xSymbol)throw new TypeError("Symbol is not a constructor");e=void 0===e?"":String(e);var r=u(e);if(!n)return r;return o(s,{__description__:t(e),__tag__:t(r)})}var e={},o=Object.create,i=Object.defineProperties,r=Object.defineProperty,t=function(e){var t=void 0===arguments[1]?{}:arguments[1];return{value:e,configurable:!!t.c,writable:!!t.w,enumerable:!!t.e}},l=function(t){return t&&"Symbol"===t[xSymbol.toStringTag]},n=void 0;try{var c=r({},"y",{get:function(){return 1}});n=1===c.y}catch(f){n=!1}var a={},u=function(e){e=String(e);for(var i="",o=0;a[e+i];)i=o+=1;a[e+i]=1;var s="Symbol("+e+i+")";return n&&r(Object.prototype,s,{get:void 0,set:function(e){r(this,s,t(e,{c:!0,w:!0}))},configurable:!0,enumerable:!1}),s},s=o(null);i(xSymbol,{"for":t(function(r){var t=String(r);if(e[t])return e[t];var n=xSymbol(t);return e[t]=n,n}),keyFor:t(function(t){if(!l(t))throw new TypeError(""+t+" is not a symbol");for(var n in e)if(e[n]===t)return e[n].__description__})}),i(xSymbol,{hasInstance:t(xSymbol("hasInstance")),isConcatSpreadable:t(xSymbol("isConcatSpreadable")),iterator:t(xSymbol("iterator")),match:t(xSymbol("match")),replace:t(xSymbol("replace")),search:t(xSymbol("search")),species:t(xSymbol("species")),split:t(xSymbol("split")),toPrimitive:t(xSymbol("toPrimitive")),toStringTag:t(xSymbol("toStringTag")),unscopables:t(xSymbol("unscopables"))}),i(s,{constructor:t(xSymbol),toString:t(function(){return this.__tag__}),valueOf:t(function(){return"Symbol("+this.__description__+")"})}),n&&r(s,xSymbol.toStringTag,t("Symbol",{c:!0})),module.exports="function"==typeof Symbol?Symbol:xSymbol},{}],2:[function(require,module,exports){function EE(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function EventEmitter(){}EventEmitter.prototype._events=void 0,EventEmitter.prototype.listeners=function listeners(t){if(!this._events||!this._events[t])return[];if(this._events[t].fn)return[this._events[t].fn];for(var e=0,n=this._events[t].length,r=new Array(n);n>e;e++)r[e]=this._events[t][e].fn;return r},EventEmitter.prototype.emit=function emit(a,n,o,c,u,l){if(!this._events||!this._events[a])return!1;var t=this._events[a],i=arguments.length,r,e;if("function"==typeof t.fn){switch(t.once&&this.removeListener(a,t.fn,!0),i){case 1:return t.fn.call(t.context),!0;case 2:return t.fn.call(t.context,n),!0;case 3:return t.fn.call(t.context,n,o),!0;case 4:return t.fn.call(t.context,n,o,c),!0;case 5:return t.fn.call(t.context,n,o,c,u),!0;case 6:return t.fn.call(t.context,n,o,c,u,l),!0}for(e=1,r=new Array(i-1);i>e;e++)r[e-1]=arguments[e];t.fn.apply(t.context,r)}else{var f=t.length,s;for(e=0;f>e;e++)switch(t[e].once&&this.removeListener(a,t[e].fn,!0),i){case 1:t[e].fn.call(t[e].context);break;case 2:t[e].fn.call(t[e].context,n);break;case 3:t[e].fn.call(t[e].context,n,o);break;default:if(!r)for(s=1,r=new Array(i-1);i>s;s++)r[s-1]=arguments[s];t[e].fn.apply(t[e].context,r)}}return!0},EventEmitter.prototype.on=function on(t,n,r){var e=new EE(n,r||this);return this._events||(this._events={}),this._events[t]?this._events[t].fn?this._events[t]=[this._events[t],e]:this._events[t].push(e):this._events[t]=e,this},EventEmitter.prototype.once=function once(t,n,r){var e=new EE(n,r||this,!0);return this._events||(this._events={}),this._events[t]?this._events[t].fn?this._events[t]=[this._events[t],e]:this._events[t].push(e):this._events[t]=e,this},EventEmitter.prototype.removeListener=function removeListener(r,i,s){if(!this._events||!this._events[r])return this;var t=this._events[r],e=[];if(i&&(t.fn&&(t.fn!==i||s&&!t.once)&&e.push(t),!t.fn))for(var n=0,o=t.length;o>n;n++)(t[n].fn!==i||s&&!t[n].once)&&e.push(t[n]);return e.length?this._events[r]=1===e.length?e[0]:e:delete this._events[r],this},EventEmitter.prototype.removeAllListeners=function removeAllListeners(t){if(!this._events)return this;return t?delete this._events[t]:this._events={},this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.addListener=EventEmitter.prototype.on,EventEmitter.prototype.setMaxListeners=function setMaxListeners(){return this},EventEmitter.EventEmitter=EventEmitter,EventEmitter.EventEmitter2=EventEmitter,EventEmitter.EventEmitter3=EventEmitter,module.exports=EventEmitter},{}],3:[function(require,module,exports){module.exports.Dispatcher=require("./lib/Dispatcher")},{"./lib/Dispatcher":4}],4:[function(require,module,exports){function Dispatcher(){this.$Dispatcher_callbacks={},this.$Dispatcher_isPending={},this.$Dispatcher_isHandled={},this.$Dispatcher_isDispatching=!1,this.$Dispatcher_pendingPayload=null}var t=require("./invariant"),e=1,n="ID_";Dispatcher.prototype.register=function(r){var t=n+e++;return this.$Dispatcher_callbacks[t]=r,t},Dispatcher.prototype.unregister=function(e){t(this.$Dispatcher_callbacks[e],"Dispatcher.unregister(...): `%s` does not map to a registered callback.",e),delete this.$Dispatcher_callbacks[e]},Dispatcher.prototype.waitFor=function(r){t(this.$Dispatcher_isDispatching,"Dispatcher.waitFor(...): Must be invoked while dispatching.");for(var n=0;n<r.length;n++){var e=r[n];if(this.$Dispatcher_isPending[e]){t(this.$Dispatcher_isHandled[e],"Dispatcher.waitFor(...): Circular dependency detected while waiting for `%s`.",e);continue}t(this.$Dispatcher_callbacks[e],"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",e),this.$Dispatcher_invokeCallback(e)}},Dispatcher.prototype.dispatch=function(n){t(!this.$Dispatcher_isDispatching,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch."),this.$Dispatcher_startDispatching(n);try{for(var e in this.$Dispatcher_callbacks){if(this.$Dispatcher_isPending[e])continue;this.$Dispatcher_invokeCallback(e)}}finally{this.$Dispatcher_stopDispatching()}},Dispatcher.prototype.isDispatching=function(){return this.$Dispatcher_isDispatching},Dispatcher.prototype.$Dispatcher_invokeCallback=function(t){this.$Dispatcher_isPending[t]=!0,this.$Dispatcher_callbacks[t](this.$Dispatcher_pendingPayload),this.$Dispatcher_isHandled[t]=!0},Dispatcher.prototype.$Dispatcher_startDispatching=function(e){for(var t in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[t]=!1,this.$Dispatcher_isHandled[t]=!1;this.$Dispatcher_pendingPayload=e,this.$Dispatcher_isDispatching=!0},Dispatcher.prototype.$Dispatcher_stopDispatching=function(){this.$Dispatcher_pendingPayload=null,this.$Dispatcher_isDispatching=!1},module.exports=Dispatcher},{"./invariant":5}],5:[function(require,module,exports){var t=function(s,e,c,r,i,n,o,a){if(!s){var t;if(void 0===e)t=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[c,r,i,n,o,a],l=0;t=new Error("Invariant Violation: "+e.replace(/%s/g,function(){return u[l++]}))}throw t.framesToPop=1,t}};module.exports=t},{}],6:[function(require,module,exports){function _interopRequireWildcard(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function makeAction(r,c,i,d,p){var u=e.uid(r[t.ACTIONS_REGISTRY],""+c+"."+i);r[t.ACTIONS_REGISTRY][u]=1;var o=a["default"]["for"]("alt/"+u),l={namespace:c,name:i,id:u,symbol:o},f=new s(r,o,d,p,l),n=f[t.ACTION_HANDLER];n.defer=function(){for(var n=arguments.length,r=Array(n),e=0;n>e;e++)r[e]=arguments[e];setTimeout(function(){f[t.ACTION_HANDLER].apply(null,r)})},n[t.ACTION_KEY]=o,n.data=l;var h=r.actions[c],v=e.uid(h,i);return h[v]=n,n}Object.defineProperty(exports,"__esModule",{value:!0});var n=function(){function defineProperties(r,n){for(var e=0;e<n.length;e++){var t=n[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}();exports["default"]=makeAction;var r=require("es-symbol"),a=_interopRequireDefault(r),i=require("../symbols/symbols"),t=_interopRequireWildcard(i),o=require("../utils/AltUtils"),e=_interopRequireWildcard(o),s=function(){function AltAction(e,n,r,i,s){_classCallCheck(this,AltAction),this[t.ACTION_UID]=n,this[t.ACTION_HANDLER]=r.bind(this),this.actions=i,this.actionDetails=s,this.alt=e}return n(AltAction,[{key:"dispatch",value:function dispatch(e){this.alt.dispatch(this[t.ACTION_UID],e,this.actionDetails)}}]),AltAction}();module.exports=exports["default"]},{"../symbols/symbols":10,"../utils/AltUtils":11,"es-symbol":1}],7:[function(require,module,exports){function _interopRequireWildcard(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var u=function(){function defineProperties(r,n){for(var e=0;e<n.length;e++){var t=n[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}(),n=require("eventemitter3"),r=_interopRequireDefault(n),i=require("es-symbol"),l=_interopRequireDefault(i),o=require("../symbols/symbols"),t=_interopRequireWildcard(o),a=require("../../utils/functions"),c=_interopRequireWildcard(a),e=l["default"](),s=function(){function AltStore(s,n,o,a){var i=this;_classCallCheck(this,AltStore),this[e]=new r["default"],this[t.LIFECYCLE]=n[t.LIFECYCLE],this[t.STATE_CONTAINER]=o||n,this._storeName=n._storeName,this.boundListeners=n[t.ALL_LISTENERS],this.StoreModel=a,c.assign(this,n[t.PUBLIC_METHODS]),this.dispatchToken=s.dispatcher.register(function(e){if(i[t.LIFECYCLE].emit("beforeEach",e,i[t.STATE_CONTAINER]),n[t.LISTENERS][e.action]){var r=!1;try{r=n[t.LISTENERS][e.action](e.data)}catch(s){if(!n[t.HANDLING_ERRORS])throw s;i[t.LIFECYCLE].emit("error",s,e,i[t.STATE_CONTAINER])}r!==!1&&i.emitChange()}i[t.LIFECYCLE].emit("afterEach",e,i[t.STATE_CONTAINER])}),this[t.LIFECYCLE].emit("init")}return u(AltStore,[{key:"getEventEmitter",value:function getEventEmitter(){return this[e]}},{key:"emitChange",value:function emitChange(){this[e].emit("change",this[t.STATE_CONTAINER])}},{key:"listen",value:function listen(t){var n=this;return this[e].on("change",t),function(){return n.unlisten(t)}}},{key:"unlisten",value:function unlisten(n){this[t.LIFECYCLE].emit("unlisten"),this[e].removeListener("change",n)}},{key:"getState",value:function getState(){return this.StoreModel.config.getState.call(this,this[t.STATE_CONTAINER])}}]),AltStore}();exports["default"]=s,module.exports=exports["default"]},{"../../utils/functions":14,"../symbols/symbols":10,"es-symbol":1,eventemitter3:2}],8:[function(require,module,exports){function _interopRequireWildcard(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(exports,"__esModule",{value:!0});var n=require("es-symbol"),r=_interopRequireDefault(n),i=require("../symbols/symbols"),t=_interopRequireWildcard(i),s=require("../../utils/functions"),e=_interopRequireWildcard(s),o={waitFor:function waitFor(){for(var n=arguments.length,t=Array(n),e=0;n>e;e++)t[e]=arguments[e];if(!t.length)throw new ReferenceError("Dispatch tokens not provided");var r=t;1===t.length&&(r=Array.isArray(t[0])?t[0]:t);var i=r.map(function(t){return t.dispatchToken||t});this.dispatcher.waitFor(i)},exportPublicMethods:function exportPublicMethods(n){var r=this;e.eachObject(function(i,n){if(!e.isFunction(n))throw new TypeError("exportPublicMethods expects a function");r[t.PUBLIC_METHODS][i]=n},[n])},emitChange:function emitChange(){this.getInstance().emitChange()},on:function on(e,n){"error"===e&&(this[t.HANDLING_ERRORS]=!0),this[t.LIFECYCLE].on(e,n.bind(this))},bindAction:function bindAction(n,i){if(!n)throw new ReferenceError("Invalid action reference passed in");if(!e.isFunction(i))throw new TypeError("bindAction expects a function");if(i.length>1)throw new TypeError("Action handler in store "+this._storeName+" for "+(""+(n[t.ACTION_KEY]||n).toString()+" was defined with ")+"two parameters. Only a single parameter is passed through the dispatcher, did you mean to pass in an Object instead?");var s=n[t.ACTION_KEY]?n[t.ACTION_KEY]:n;this[t.LISTENERS][s]=i.bind(this),this[t.ALL_LISTENERS].push(r["default"].keyFor(s))},bindActions:function bindActions(n){var t=this;e.eachObject(function(e,i){var s=/./,n=e.replace(s,function(t){return"on"+t[0].toUpperCase()}),r=null;if(t[e]&&t[n])throw new ReferenceError("You have multiple action handlers bound to an action: "+(""+e+" and "+n));t[e]?r=t[e]:t[n]&&(r=t[n]),r&&t.bindAction(i,r)},[n])},bindListeners:function bindListeners(n){var t=this;e.eachObject(function(r,e){var n=t[r];if(!n)throw new ReferenceError(""+r+" defined but does not exist in "+t._storeName);Array.isArray(e)?e.forEach(function(e){t.bindAction(e,n)}):t.bindAction(e,n)},[n])}};exports["default"]=o,module.exports=exports["default"]},{"../../utils/functions":14,"../symbols/symbols":10,"es-symbol":1}],9:[function(require,module,exports){function _interopRequireWildcard(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}function doSetState(i,n,r){if(!r)return;var s=n.StoreModel.config,o=t.isFunction(r)?r(n[e.STATE_CONTAINER]):r;n[e.STATE_CONTAINER]=s.setState.call(i,n[e.STATE_CONTAINER],o),i.alt.dispatcher.isDispatching()||i.emitChange()}function createPrototype(r,i,s,o){return r[e.ALL_LISTENERS]=[],r[e.LIFECYCLE]=new a["default"],r[e.LISTENERS]={},r[e.PUBLIC_METHODS]={},t.assign(r,n["default"],{_storeName:s,alt:i,dispatcher:i.dispatcher},o)}function createStoreConfig(n,e){e.config=t.assign({getState:function getState(e){return t.assign({},e)},setState:t.assign},n,e.config)}function transformStore(t,e){return t.reduce(function(t,e){return e(t)},e)}function createStoreFromObject(s,o,a){var i=void 0,e=createPrototype({},s,a,t.assign({getInstance:function getInstance(){return i},setState:function setState(t){doSetState(this,i,t)}},o));return e.bindListeners&&n["default"].bindListeners.call(e,e.bindListeners),e.lifecycle&&t.eachObject(function(t,r){n["default"].on.call(e,t,r)},[e.lifecycle]),i=t.assign(new r["default"](s,e,e.state,o),e.publicMethods,{displayName:a})}function createStoreFromClass(c,e,h){for(var l=arguments.length,p=Array(l>3?l-3:0),n=3;l>n;n++)p[n-3]=arguments[n];var f=void 0,o=e.config,d=function(t){function Store(){for(var e=arguments.length,n=Array(e),t=0;e>t;t++)n[t]=arguments[t];_classCallCheck(this,Store),s(Object.getPrototypeOf(Store.prototype),"constructor",this).apply(this,n)}return _inherits(Store,t),Store}(e);createPrototype(d.prototype,c,h,{getInstance:function getInstance(){return f},setState:function setState(t){doSetState(this,f,t)}});var a=new(i.apply(d,[null].concat(p)));return o.bindListeners&&a.bindListeners(o.bindListeners),f=t.assign(new r["default"](c,a,a[c.config.stateKey]||a[o.stateKey]||null,e),u.getInternalMethods(e),o.publicMethods,{displayName:h})}Object.defineProperty(exports,"__esModule",{value:!0});var i=Function.prototype.bind,s=function get(s,c,u){var n=!0;t:for(;n;){t=r=e=void 0,n=!1;var i=s,o=c,a=u,t=Object.getOwnPropertyDescriptor(i,o);if(void 0===t){var r=Object.getPrototypeOf(i);if(null===r)return void 0;s=r,c=o,u=a,n=!0;continue t}if("value"in t)return t.value;var e=t.get;if(void 0===e)return void 0;return e.call(a)}};exports.createStoreConfig=createStoreConfig,exports.transformStore=transformStore,exports.createStoreFromObject=createStoreFromObject,exports.createStoreFromClass=createStoreFromClass;var o=require("eventemitter3"),a=_interopRequireDefault(o),p=require("../symbols/symbols"),e=_interopRequireWildcard(p),c=require("../utils/AltUtils"),u=_interopRequireWildcard(c),l=require("../../utils/functions"),t=_interopRequireWildcard(l),f=require("./AltStore"),r=_interopRequireDefault(f),h=require("./StoreMixin"),n=_interopRequireDefault(h)},{"../../utils/functions":14,"../symbols/symbols":10,"../utils/AltUtils":11,"./AltStore":7,"./StoreMixin":8,eventemitter3:2}],10:[function(require,module,exports){function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(exports,"__esModule",{value:!0});var o=require("es-symbol"),t=_interopRequireDefault(o),n=t["default"]();exports.ACTION_HANDLER=n;var r=t["default"]();exports.ACTION_KEY=r;var i=t["default"]();exports.ACTIONS_REGISTRY=i;var s=t["default"]();exports.ACTION_UID=s;var e=t["default"]();exports.ALL_LISTENERS=e;var a=t["default"]();exports.HANDLING_ERRORS=a;var c=t["default"]();exports.INIT_SNAPSHOT=c;var u=t["default"]();exports.LAST_SNAPSHOT=u;var l=t["default"]();exports.LIFECYCLE=l;var f=t["default"]();exports.LISTENERS=f;var h=t["default"]();exports.PUBLIC_METHODS=h;var p=t["default"]();exports.STATE_CONTAINER=p},{"es-symbol":1}],11:[function(require,module,exports){function NoopClass(){}function getInternalMethods(n,r){var s=r?e:t,i=r?n.prototype:n;return Object.getOwnPropertyNames(i).reduce(function(t,e){if(-1!==s.indexOf(e))return t;return t[e]=i[e],t},{})}function warn(t){"undefined"!=typeof console&&console.warn(new ReferenceError(t))}function uid(n,e){for(var r=0,t=e;Object.hasOwnProperty.call(n,t);)t=e+String(++r);return t}function formatAsConstant(t){return t.replace(/[a-z]([A-Z])/g,function(t){return""+t[0]+"_"+t[1].toLowerCase()}).toUpperCase()}function dispatchIdentity(r){for(var e=arguments.length,n=Array(e>1?e-1:0),t=1;e>t;t++)n[t-1]=arguments[t];this.dispatch(n.length?[r].concat(n):r)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getInternalMethods=getInternalMethods,exports.warn=warn,exports.uid=uid,exports.formatAsConstant=formatAsConstant,exports.dispatchIdentity=dispatchIdentity;var t=Object.getOwnPropertyNames(NoopClass),e=Object.getOwnPropertyNames(NoopClass.prototype)},{}],12:[function(require,module,exports){function _interopRequireWildcard(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function setAppState(r,i,s){var n=r.deserialize(i);e.eachObject(function(o,a){var i=r.stores[o];if(i){var c=i.StoreModel.config;c.onDeserialize&&(n[o]=c.onDeserialize(a)||a),e.assign(i[t.STATE_CONTAINER],n[o]),s(i)}},[n])}function snapshot(e){var n=void 0===arguments[1]?[]:arguments[1],r=n.length?n:Object.keys(e.stores);return r.reduce(function(r,i){var s=i.displayName||i,n=e.stores[s],o=n.StoreModel.config;n[t.LIFECYCLE].emit("snapshot");var a=o.onSerialize&&o.onSerialize(n[t.STATE_CONTAINER]);return r[s]=a?a:n.getState(),r},{})}function saveInitialSnapshot(e,n){var r=e.deserialize(e.serialize(e.stores[n][t.STATE_CONTAINER]));e[t.INIT_SNAPSHOT][n]=r,e[t.LAST_SNAPSHOT][n]=r}function filterSnapshots(n,t,e){return e.reduce(function(n,r){var e=r.displayName||r;if(!t[e])throw new ReferenceError(""+e+" is not a valid store");return n[e]=t[e],n},{})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.setAppState=setAppState,exports.snapshot=snapshot,exports.saveInitialSnapshot=saveInitialSnapshot,exports.filterSnapshots=filterSnapshots;var n=require("../symbols/symbols"),t=_interopRequireWildcard(n),r=require("../../utils/functions"),e=_interopRequireWildcard(r)},{"../../utils/functions":14,"../symbols/symbols":10}],13:[function(require,module,exports){function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}function _interopRequireWildcard(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var c=Function.prototype.bind,u=function get(s,c,u){var n=!0;t:for(;n;){t=r=e=void 0,n=!1;var i=s,o=c,a=u,t=Object.getOwnPropertyDescriptor(i,o);if(void 0===t){var r=Object.getPrototypeOf(i);if(null===r)return void 0;s=r,c=o,u=a,n=!0;continue t}if("value"in t)return t.value;var e=t.get;if(void 0===e)return void 0;return e.call(a)}},s=function(){function defineProperties(r,n){for(var e=0;e<n.length;e++){var t=n[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}return function(t,e,n){return e&&defineProperties(t.prototype,e),n&&defineProperties(t,n),t}}(),h=require("flux"),d=require("./utils/StateFunctions"),i=_interopRequireWildcard(d),a=require("./symbols/symbols"),t=_interopRequireWildcard(a),l=require("../utils/functions"),n=_interopRequireWildcard(l),f=require("./store"),e=_interopRequireWildcard(f),p=require("./utils/AltUtils"),r=_interopRequireWildcard(p),v=require("./actions"),o=_interopRequireDefault(v),y=function(){function Alt(){var e=void 0===arguments[0]?{}:arguments[0];_classCallCheck(this,Alt),this.config=e,this.serialize=e.serialize||JSON.stringify,this.deserialize=e.deserialize||JSON.parse,this.dispatcher=e.dispatcher||new h.Dispatcher,this.actions={global:{}},this.stores={},this.storeTransforms=e.storeTransforms||[],this[t.ACTIONS_REGISTRY]={},this[t.INIT_SNAPSHOT]={},this[t.LAST_SNAPSHOT]={}}return s(Alt,[{key:"dispatch",value:function dispatch(t,e,n){this.dispatcher.dispatch({action:t,data:e,details:n})}},{key:"createUnsavedStore",value:function createUnsavedStore(r){for(var i=arguments.length,o=Array(i>1?i-1:0),t=1;i>t;t++)o[t-1]=arguments[t];var a=r.displayName||"";e.createStoreConfig(this.config,r);var s=e.transformStore(this.storeTransforms,r);return n.isFunction(s)?e.createStoreFromClass.apply(e,[this,s,a].concat(o)):e.createStoreFromObject(this,s,a)}},{key:"createStore",value:function createStore(s,f){for(var a=arguments.length,u=Array(a>2?a-2:0),o=2;a>o;o++)u[o-2]=arguments[o];var t=f||s.displayName||s.name||"";e.createStoreConfig(this.config,s);var c=e.transformStore(this.storeTransforms,s);(this.stores[t]||!t)&&(this.stores[t]?r.warn("A store named "+t+" already exists, double check your store names or pass in your own custom identifier for each store"):r.warn("Store name was not specified"),t=r.uid(this.stores,t));var l=n.isFunction(c)?e.createStoreFromClass.apply(e,[this,c,t].concat(u)):e.createStoreFromObject(this,c,t);return this.stores[t]=l,i.saveInitialSnapshot(this,t),l}},{key:"generateActions",value:function generateActions(){for(var e=arguments.length,n=Array(e),t=0;e>t;t++)n[t]=arguments[t];var i={name:"global"};return this.createActions(n.reduce(function(t,e){return t[e]=r.dispatchIdentity,t},i))}},{key:"createAction",value:function createAction(t,e,n){return o["default"](this,"global",t,e,n)}},{key:"createActions",value:function createActions(e){for(var d=this,f=arguments.length,p=Array(f>2?f-2:0),l=2;f>l;l++)p[l-2]=arguments[l];var i=void 0===arguments[1]?{}:arguments[1],a={},h=r.uid(this[t.ACTIONS_REGISTRY],e.displayName||e.name||"Unknown");return n.isFunction(e)?!function(){n.assign(a,r.getInternalMethods(e,!0));var t=function(t){function ActionsGenerator(){for(var e=arguments.length,n=Array(e),t=0;e>t;t++)n[t]=arguments[t];_classCallCheck(this,ActionsGenerator),u(Object.getPrototypeOf(ActionsGenerator.prototype),"constructor",this).apply(this,n)}return _inherits(ActionsGenerator,t),s(ActionsGenerator,[{key:"generateActions",value:function generateActions(){for(var e=arguments.length,n=Array(e),t=0;e>t;t++)n[t]=arguments[t];n.forEach(function(t){a[t]=r.dispatchIdentity})}}]),ActionsGenerator}(e);n.assign(a,new(c.apply(t,[null].concat(p))))}():n.assign(a,e),this.actions[h]=this.actions[h]||{},n.eachObject(function(e,s){if(!n.isFunction(s))return;i[e]=o["default"](d,h,e,s,i);var a=r.formatAsConstant(e);i[a]=i[e][t.ACTION_KEY]},[a]),i}},{key:"takeSnapshot",value:function takeSnapshot(){for(var r=arguments.length,s=Array(r),e=0;r>e;e++)s[e]=arguments[e];var o=i.snapshot(this,s);return n.assign(this[t.LAST_SNAPSHOT],o),this.serialize(o)}},{key:"rollback",value:function rollback(){i.setAppState(this,this.serialize(this[t.LAST_SNAPSHOT]),function(e){e[t.LIFECYCLE].emit("rollback"),e.emitChange()})}},{key:"recycle",value:function recycle(){for(var r=arguments.length,n=Array(r),e=0;r>e;e++)n[e]=arguments[e];var s=n.length?i.filterSnapshots(this,this[t.INIT_SNAPSHOT],n):this[t.INIT_SNAPSHOT];i.setAppState(this,this.serialize(s),function(e){e[t.LIFECYCLE].emit("init"),e.emitChange()})}},{key:"flush",value:function flush(){var t=this.serialize(i.snapshot(this));return this.recycle(),t}},{key:"bootstrap",value:function bootstrap(e){i.setAppState(this,e,function(e){e[t.LIFECYCLE].emit("bootstrap"),e.emitChange()})}},{key:"prepare",value:function prepare(t,n){var e={};if(!t.displayName)throw new ReferenceError("Store provided does not have a name");return e[t.displayName]=n,this.serialize(e)}},{key:"addActions",value:function addActions(i,e){for(var n=arguments.length,r=Array(n>2?n-2:0),t=2;n>t;t++)r[t-2]=arguments[t];this.actions[i]=Array.isArray(e)?this.generateActions.apply(this,e):this.createActions.apply(this,[e].concat(r))}},{key:"addStore",value:function addStore(r,i){for(var e=arguments.length,n=Array(e>2?e-2:0),t=2;e>t;t++)n[t-2]=arguments[t];this.createStore.apply(this,[i,r].concat(n))}},{key:"getActions",value:function getActions(t){return this.actions[t]}},{key:"getStore",value:function getStore(t){return this.stores[t]}}]),Alt}();exports["default"]=y,module.exports=exports["default"]},{"../utils/functions":14,"./actions":6,"./store":9,"./symbols/symbols":10,"./utils/AltUtils":11,"./utils/StateFunctions":12,flux:3}],14:[function(require,module,exports){function eachObject(t,e){e.forEach(function(e){Object.keys(Object(e)).forEach(function(n){t(n,e[n])})})}function assign(n){for(var e=arguments.length,r=Array(e>1?e-1:0),t=1;e>t;t++)r[t-1]=arguments[t];return eachObject(function(t,e){return n[t]=e},r),n}Object.defineProperty(exports,"__esModule",{value:!0}),exports.eachObject=eachObject,exports.assign=assign;var t=function isFunction(t){return"function"==typeof t};exports.isFunction=t},{}]},{},[13])(13)});
define("js/lib/alt",["require","exports","module","js/vendor/alt.v0-16-4"],function(require,exports,module){var e=require("js/vendor/alt.v0-16-4");module.exports=new e});
define("bundles/ondemand/actions/SessionActions",["require","exports","module","js/lib/alt"],function(require,exports,module){var e=require("js/lib/alt");module.exports=e.generateActions("updateSession","updateMembership","updateLoaded","updateFollowingSession","updateEnrollableSession")});
define("js/vendor/invariant",["require"],function(require){var e=function(t,r,u,i,o,n,a,f){if(!t){var e;if(void 0===r)e=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[u,i,o,n,a,f],s=0;e=new Error("Invariant Violation: "+r.replace(/%s/g,function(){return d[s++]}))}throw e.framesToPop=1,e}};return e});
define("js/vendor/Dispatcher",["require","js/vendor/invariant"],function(require){function Dispatcher(){this.$Dispatcher_callbacks={},this.$Dispatcher_isPending={},this.$Dispatcher_isHandled={},this.$Dispatcher_isDispatching=!1,this.$Dispatcher_pendingPayload=null}var i=require("js/vendor/invariant"),t=1,s="ID_";return Dispatcher.prototype.register=function(a){var i=s+t++;return this.$Dispatcher_callbacks[i]=a,i},Dispatcher.prototype.unregister=function(t){i(this.$Dispatcher_callbacks[t],"Dispatcher.unregister(...): `%s` does not map to a registered callback.",t),delete this.$Dispatcher_callbacks[t]},Dispatcher.prototype.waitFor=function(a){i(this.$Dispatcher_isDispatching,"Dispatcher.waitFor(...): Must be invoked while dispatching.");for(var s=0;s<a.length;s++){var t=a[s];if(this.$Dispatcher_isPending[t]){i(this.$Dispatcher_isHandled[t],"Dispatcher.waitFor(...): Circular dependency detected while waiting for `%s`.",t);continue}i(this.$Dispatcher_callbacks[t],"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",t),this.$Dispatcher_invokeCallback(t)}},Dispatcher.prototype.dispatch=function(s){i(!this.$Dispatcher_isDispatching,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch."),this.$Dispatcher_startDispatching(s);try{for(var t in this.$Dispatcher_callbacks){if(this.$Dispatcher_isPending[t])continue;this.$Dispatcher_invokeCallback(t)}}finally{this.$Dispatcher_stopDispatching()}},Dispatcher.prototype.isDispatching=function(){return this.$Dispatcher_isDispatching},Dispatcher.prototype.$Dispatcher_invokeCallback=function(i){this.$Dispatcher_isPending[i]=!0,this.$Dispatcher_callbacks[i](this.$Dispatcher_pendingPayload),this.$Dispatcher_isHandled[i]=!0},Dispatcher.prototype.$Dispatcher_startDispatching=function(t){for(var i in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[i]=!1,this.$Dispatcher_isHandled[i]=!1;this.$Dispatcher_pendingPayload=t,this.$Dispatcher_isDispatching=!0},Dispatcher.prototype.$Dispatcher_stopDispatching=function(){this.$Dispatcher_pendingPayload=null,this.$Dispatcher_isDispatching=!1},Dispatcher});
define("bundles/ondemand/constants/Constants",["require","exports","module"],function(require,exports,module){module.exports={Actions:{INIT_PROGRESS_DATA:"initProgressData",INIT_VERIFICATION_DATA:"initVerificationData",INIT_GOAL_DATA:"initGoalData",INIT_MODULE_MESSAGE_DATA:"initModuleMessageData",INIT_COURSE_MESSAGE_DATA:"initCourseMessageData",TOGGLE_MOBILE_MENU:"toggleMobileMenu"},Sources:{SERVER:"server",VIEW:"view"},mainNavItems:{HOME:"home",ASSIGNMENTS:"assignments",COURSE:"course",DISCUSSIONS:"discussions",CLASSMATES:"classmates",INFO:"info"},LoadingStates:{LOADING:"LOADING",DONE:"DONE",ERROR:"ERROR"},goalApi:"/api/onDemandGoals.v1",onDemandSessionsApi:"/api/onDemandSessions.v1",onDemandSessionMembershipsApi:"/api/onDemandSessionMemberships.v1",onDemandTutorialViewsApi:"/api/onDemandTutorialViews.v1"}});
define("bundles/ondemand/dispatcher/OndemandDispatcher",["require","exports","module","underscore","js/vendor/Dispatcher","bundles/ondemand/constants/Constants"],function(require,exports,module){var _=require("underscore"),e=require("js/vendor/Dispatcher"),n=require("bundles/ondemand/constants/Constants").Sources,s=_.extend(new e,{handleServerAction:function handleServerAction(e){this.dispatch({action:e,source:n.SERVER})},handleViewAction:function handleViewAction(e){this.dispatch({action:e,source:n.VIEW})}});module.exports=s});
define("nls/ondemand",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define("bundles/ondemand/actions/ServerActionCreators",["require","exports","module","bundles/ondemand/dispatcher/OndemandDispatcher","bundles/ondemand/constants/Constants","js/app/multitrackerSingleton","i18n!nls/ondemand"],function(require,exports,module){var e=require("bundles/ondemand/dispatcher/OndemandDispatcher"),n=require("bundles/ondemand/constants/Constants").Actions,s=require("js/app/multitrackerSingleton"),r=require("i18n!nls/ondemand"),t={initProgressData:function initProgressData(t,s){e.handleServerAction({type:n.INIT_PROGRESS_DATA,progress:s,materials:t})},initVerificationData:function initVerificationData(t){e.handleServerAction({type:n.INIT_VERIFICATION_DATA,verificationDisplay:t})},initGoalData:function initGoalData(t){e.handleServerAction({type:n.INIT_GOAL_DATA,goal:t})},initCourseMessageData:function initCourseMessageData(t,s,r){e.handleServerAction({type:n.INIT_COURSE_MESSAGE_DATA,instructors:t,messages:s,messagePosition:r})},initModuleMessageData:function initModuleMessageData(t,s,r,o){e.handleServerAction({type:n.INIT_MODULE_MESSAGE_DATA,instructors:t,messages:s,messagePosition:r,moduleId:o})},updateNewGoal:function updateNewGoal(t){e.handleServerAction({type:n.UPDATE_NEW_GOAL,goal:t})},displayError:function displayError(s,o){e.handleServerAction({type:n.DISPLAY_ERROR,message:o||r("Oops, something went wrong. Please refresh and try again.")}),t.trackHomeError(s)},trackHomeError:function trackHomeError(e){throw s.pushV2(["open_course_home.error.error",{response:e.responseJSON,response_text:e.responseText,status_code:e.status,error_message:e.message,error_stack:e.stack}]),e}};module.exports=t});
function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _slicedToArray=function(){function sliceIterator(s,r){var e=[],t=!0,o=!1,a=void 0;try{for(var n=s[Symbol.iterator](),i;!(t=(i=n.next()).done)&&(e.push(i.value),!r||e.length!==r);t=!0);}catch(u){o=!0,a=u}finally{try{!t&&n["return"]&&n["return"]()}finally{if(o)throw a}}return e}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return sliceIterator(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass=function(){function defineProperties(r,n){for(var t=0;t<n.length;t++){var e=n[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(r,e.key,e)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();define("bundles/ondemand/sessions/models/Sessions",["require","exports","module","underscore","moment"],function(require,exports,module){var _=require("underscore"),e=require("moment"),n=function(){function Session(e){_classCallCheck(this,Session),_(this).extend(e)}return _createClass(Session,null,[{key:"formatDate",value:function formatDate(t){return e(t).local().format("MMMM D")}},{key:"formatDateShort",value:function formatDateShort(t){return e(t).local().format("MMM D")}}]),_createClass(Session,[{key:"getId",value:function getId(){return this.id}},{key:"isOpenForEnrollment",value:function isOpenForEnrollment(){return e().isBefore(this.enrollmentEndedAt)}},{key:"isUpcoming",value:function isUpcoming(){return e().isBefore(this.getStartMoment())}},{key:"hasStarted",value:function hasStarted(){return e().isAfter(this.getStartMoment())}},{key:"hasEnded",value:function hasEnded(){return e().isAfter(this.getEndMoment())}},{key:"getStartMoment",value:function getStartMoment(){return e(this.startedAt)}},{key:"getEndMoment",value:function getEndMoment(){return e(this.endedAt)}},{key:"getStartDate",value:function getStartDate(){return Session.formatDate(this.getStartMoment())}},{key:"getEndDate",value:function getEndDate(){return Session.formatDate(this.getEndMoment())}},{key:"getShortStartDate",value:function getShortStartDate(){return Session.formatDateShort(this.getStartMoment())}},{key:"getShortEndDate",value:function getShortEndDate(){return Session.formatDateShort(this.getEndMoment())}},{key:"getSessionDates",value:function getSessionDates(){return this.getStartDate()+"  "+this.getEndDate()}},{key:"get",value:function get(e){return this[e]}},{key:"set",value:function set(e,t){this[e]=t}}]),Session}(),t=function(){function Sessions(e){_classCallCheck(this,Sessions),this.models={},e&&e.length>0&&this.add(e)}return _createClass(Sessions,[{key:"add",value:function add(t){var e=this;t.map(function(t){return new e.model(t)}).forEach(function(t){e.models[t.id]=t})}},{key:"each",value:function each(){Array.prototype.forEach.apply(this.models,arguments)}},{key:"get",value:function get(e){return this.models[e]}},{key:"getEnrollableSessions",value:function getEnrollableSessions(){return _(this.models).values().filter(function(t){var n=t.enrollmentEndedAt;return e().isBefore(n)}).sort(function(t,n){return e(t.startedAt).diff(n.startedAt)})}},{key:"getLastSession",value:function getLastSession(){var t=_(this.models).values().sort(function(t,n){return e(t.startedAt).diff(n.startedAt)});return t[t.length-1]}},{key:"getFollowingSession",value:function getFollowingSession(){var e=this.getEnrollableSessions(),t=_slicedToArray(e,2),n=t[1];return n}},{key:"getUpcomingSession",value:function getUpcomingSession(){var e=this.getEnrollableSessions(),t=_slicedToArray(e,1),n=t[0];return n}}]),Sessions}();t.prototype.model=n,t.prototype.resourceName="onDemandSessions",exports.Session=n,exports.Sessions=t});
define("pages/home/course/coursesWithLocalizableCdp",["require","exports","module"],function(require,exports,module){module.exports=["algo","amnhearth","androidpart1","animalbehav","art-activity","art-of-negotiation","basicwriting","being-a-teacher","big-ideas","communication","configuringworld","criticalthinking","cs101","datasci","datascitoolbox","design","entrepreneurial-thinking","entrepreneurship-development","exdata","finance-for-non-finance-managers","fundamentals-of-management","gameprogramming","getdata","globalhealthintro","globalorder","guitar","how-things-work","human-computer-interaction","hwts","innovative","innovativeideas","interactivepython1","interactivepython2","international-criminal-law","intlhumanrightslaw","intrologic","lead-ei","learning-how-to-learn","machine-learning","maththink","microecon","modelthinking","modernpoetry","music-production","musicianship","negotiation-skills","ntufsc","philosophy","plantknows","precalculus","principles-of-macroeconomics","problem-solving","repdata","rprog","socialpsychology","songwriting","sustainability","teaching","teachinghist","terrorism","thinkagain","womeninleadership"]});
define("bundles/localization/lib/cdpLocalization",["require","exports","module","underscore","q","js/lib/path","pages/home/course/coursesWithLocalizableCdp"],function(require,exports,module){var _=require("underscore"),r=require("q"),o=require("js/lib/path"),t=require("pages/home/course/coursesWithLocalizableCdp"),e=function getCdpTranslator(n){var e=r.defer();if(_(t).contains(n)){var s=o.join("i18n!pages/home/course/nls",n);return require([s],function(r){e.resolve(r)}),e.promise}return e.resolve(),e.promise},n=function translateCourse(r,o){return e(r.get("slug")).then(function(e){if(e){var t=[r];o&&o.forEach(function(o){var e=r.get(o);e&&t.push(e)}),t.forEach(function(r){var o=_.keys(r.attributes);o&&o.forEach(function(o){var t=r.get(o);if(_.isString(t)){var n=e(t);n&&r.set(o,n)}})})}return r})};module.exports={getCdpTranslator:e,translateCourse:n}});
define("bundles/naptime/handleResponse",["require","exports","module","underscore"],function(require,exports,module){var _=require("underscore");module.exports=function handleResponse(e){var n;return e.links&&e.links.elements&&(n=_(e.links.elements).chain().map(function(n,t){return[t,function(t){return _(e.linked[n]).findWhere({id:t})}]}).object().value()),{elements:e.elements,getLinkedObject:function getLinkedObject(e,t){return n&&_(n).has(e)?n[e](t):null},paging:e.paging}}});
define("pages/open-course/common/coursesApi",["require","exports","module","bundles/phoenix/lib/apiWrapper","pages/open-course/common/constants"],function(require,exports,module){var e=require("bundles/phoenix/lib/apiWrapper"),o=require("pages/open-course/common/constants"),s=e(o.coursesApi,{type:"rest"});module.exports=s});
define("pages/open-course/common/data/courseData",["require","exports","module","q","underscore","bundles/naptime/handleResponse","js/lib/memoize","pages/open-course/common/coursesApi"],function(require,exports,module){var e=require("q"),_=require("underscore"),r=require("bundles/naptime/handleResponse"),n=require("js/lib/memoize"),s=require("pages/open-course/common/coursesApi"),t=["instructorIds","partnerIds","_links"].join(","),o=["partners.v1(squareLogo,rectangularLogo)","instructors.v1(fullName)","overridePartnerLogos","sessionsEnabledAt"].join(","),u=function getCourse(r){if(!r.elements)throw new Error("Course data missing from response");var e=r.elements[0];return e.instructors=_(e.instructorIds).map(function(e){return r.getLinkedObject("instructorIds",e)}),e.universities=_(e.partnerIds).map(function(e){return r.getLinkedObject("partnerIds",e)}),e};exports.fromSlug=n(function(n){if(!n)return e.reject("Missing courseSlug argument");return e(s.get("",{data:{q:"slug",slug:n&&n.toLowerCase(),includes:t,fields:o}})).then(r).then(u)}),exports.fromId=n(function(n){if(!n)return e.reject("Missing courseId argument");return e(s.get(n,{data:{includes:t,fields:o}})).then(r).then(u)})});
define("bundles/catalogP/constants",["require","exports","module","js/app/config"],function(require,exports,module){var e=require("js/app/config");module.exports={config:e,paymentsApi:"payments/redeem_free_course_voucher",accomplishments:{baseUrl:"/account/accomplishments"}}});
define("bundles/catalogP/lib/concatName",["require","exports","module","underscore"],function(require,exports,module){function concatName(e){var r=_(["prefix","first","middle","last"]).chain().map(function(r){return e[r]}).compact().value().join(" ");return e.suffix&&(r+=", "+e.suffix),r}var _=require("underscore");module.exports=concatName});
define("bundles/catalogP/api/api",["require","exports","module","bundles/phoenix/lib/apiWrapper"],function(require,exports,module){var e=require("bundles/phoenix/lib/apiWrapper"),i={type:"rest"};module.exports=function(p){var r=Object.assign({},i,p);return e("/api/",r)}});
define("bundles/catalogP/api/api.promise",["require","exports","module","q","bundles/catalogP/api/api"],function(require,exports,module){var a=require("q"),e=require("bundles/catalogP/api/api");module.exports=function(i,t){var r=e(t);return a(r.get(i))}});

define("bundles/catalogP/models/catalogModel",["require","exports","module","backbone-associations","q","underscore","memoize!bundles/catalogP/api/api.promise"],function(require,exports,module){var Backbone=require("backbone-associations"),e=require("q"),_=require("underscore"),s=require("memoize!bundles/catalogP/api/api.promise"),t=Backbone.AssociatedModel.extend({defaults:{fields:[],includes:{},resourceName:""},getIncludeAttribute:function getIncludeAttribute(e){return _(this.includes).has(e)?this.includes[e].attribute:e},getIncludeResource:function getIncludeResource(e){return _(this.includes).has(e)?this.includes[e].resource:void 0},sync:function sync(i,n,t){if("read"===i){var o=s(n.url()).then(t&&t.success)["catch"](t&&t.error);return o.done(),o}return e(Backbone.AssociatedModel.prototype.sync.apply(this,arguments))}});module.exports=t});
define("js/lib/imgix",["require","exports","module","jsuri","js/app/config"],function(require,exports,module){function constructUrl(t){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=Object.keys(r),a=i.reduce(function(t,e){return t.addQueryParam(e,r[e])},new e(t));return a.toString()}function processImage(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(!e)return"";if(e.indexOf(i)>=0)return console.warn("Local image asset cannot be used with image optimization proxy",e),"";var u=r.url.imageProxyRoot+e.replace(t,""),o=Object.assign({},s);return Object.keys(n).forEach(function(e){var r=a[e];r&&(o[r]=n[e])}),constructUrl(u,o)}var e=require("jsuri"),r=require("js/app/config"),t=/https:\/\/.+\/api\/utilities\/v1\/imageproxy\//,i="https://assets.dev-coursera.org/",a=Object.freeze({format:"fm",quality:"q",blur:"blur",width:"w",height:"h",dpr:"dpr",mask:"mask",brightness:"bri",fit:"fit",exposure:"exp",auto:"auto",bg:"bg"}),s=Object.freeze({auto:"format",dpr:1});module.exports={processImage:processImage}});
define("bundles/catalogP/models/instructor",["require","exports","module","bundles/catalogP/constants","bundles/catalogP/lib/concatName","bundles/catalogP/models/catalogModel","js/lib/imgix","js/lib/path"],function(require,exports,module){var t=require("bundles/catalogP/constants"),s=require("bundles/catalogP/lib/concatName"),i=require("bundles/catalogP/models/catalogModel"),r=require("js/lib/imgix"),e=require("js/lib/path"),o=i.extend({includes:{partners:{resource:"partners.v1",attribute:"partnerIds"},courses:{resource:"courses.v1",attribute:"courseIds"}},resourceName:"instructors.v1",urlPath:"instructors",getFullName:function getFullName(){return this.get("fullName")||s({prefix:this.get("prefixName"),first:this.get("firstName"),middle:this.get("middleName"),last:this.get("lastName"),suffix:this.get("suffixName")})},getLink:function getLink(){return e.join(t.config.url.home,"instructor",this.get("shortName")||"~"+this.get("profileId"))},hasLink:function hasLink(){return this.get("shortName")||this.get("profileId")},getUniversity:function getUniversity(){return this.get("universities").at(0)},getPrettyWebsite:function getPrettyWebsite(){var t=this.get("websites").website;return t=t.replace(/^.*:\/\//,""),t=t.replace(/\/$/,"")},shouldDisplay:function shouldDisplay(){return!!this.getFullName()},shouldDisplayOnPartnerPage:function shouldDisplayOnPartnerPage(){return this.shouldDisplay()&&this.get("displayOnPartnerPage")},getPhoto:function getPhoto(t,e){return this.get("photo")?r.processImage(this.getPhotoSrc(),{width:t,height:e,fit:"crop"}):this.getPhotoSrc()},getPhotoSrc:function getPhotoSrc(){return this.get("photo")?this.get("photo"):e.join(t.config.url.assets,"images/icons/avatar.jpg")}});module.exports=o});
define("bundles/catalogP/lib/stringifyList",["require","exports","module","underscore"],function(require,exports,module){var _=require("underscore");module.exports=function(e){e=e||[];var i=_.initial(e),r=_.last(e);return _.compact([i.join(", "),r]).join(" & ")}});
define("bundles/catalogP/models/catalogCollection",["require","exports","module","backbone"],function(require,exports,module){var Backbone=require("backbone"),e=Backbone.Collection.extend({resourceName:"",fields:null,includes:null});module.exports=e});
define("bundles/catalogP/models/instructors",["require","exports","module","bundles/catalogP/lib/stringifyList","bundles/catalogP/models/catalogCollection","bundles/catalogP/models/instructor"],function(require,exports,module){var t=require("bundles/catalogP/lib/stringifyList"),e=require("bundles/catalogP/models/catalogCollection"),l=require("bundles/catalogP/models/instructor"),o=e.extend({model:l,resourceName:"instructors.v1",getNamesString:function getNamesString(){return t(this.invoke("getFullName"))}});module.exports=o});
define("js/json/nls/universities",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define("js/lib/STCert",["require","exports","module","jquery"],function(require,exports,module){function makeCheckCertFn(r){return function(){var s=arguments.length<=0||void 0===arguments[0]?"_generic":arguments[0],n=$.Deferred();if(s in e)return e[s]?n.resolve("https://s3.amazonaws.com/coursera/universities/"+s+"/"+r):n.resolve("https://s3.amazonaws.com/coursera/universities/_generic/"+r),n;var t=new Image;return t.onload=function(){e[s]=!0,n.resolve("https://s3.amazonaws.com/coursera/universities/"+s+"/"+r)},t.onerror=function(){e[s]=!1,n.resolve("https://s3.amazonaws.com/coursera/universities/_generic/"+r)},t.src="https://s3.amazonaws.com/coursera/universities/"+s+"/"+r,n}}var $=require("jquery"),e={_generic:!0};module.exports={getSTCertCorner:makeCheckCertFn("signature-cert-corner.png"),getSTCertIcon:makeCheckCertFn("signature-cert-icon.png")}});
define("bundles/catalogP/models/partner",["require","exports","module","i18n!js/json/nls/universities","bundles/catalogP/constants","bundles/catalogP/models/catalogModel","js/lib/imgix","js/lib/path","js/lib/STCert","js/lib/language"],function(require,exports,module){var e=require("i18n!js/json/nls/universities"),s=require("bundles/catalogP/constants"),r=require("bundles/catalogP/models/catalogModel"),t=require("js/lib/imgix"),o=require("js/lib/path"),n=require("js/lib/STCert"),i=require("js/lib/language"),a=r.extend({includes:{instructors:{resource:"instructors.v1",attribute:"instructorIds"},courses:{resource:"courses.v1",attribute:"courseIds"}},resourceName:"partners.v1",urlPath:"partners",getLink:function getLink(){return this.get("homeLink")||o.join(s.config.dir.home,this.get("shortName"))},get:function get(s){var t=this.constructor.__super__.get.apply(this,arguments);switch(s){case"name":return e(t);default:return t}},getName:function getName(){return this.get("name")},getUnlocalizedName:function getUnlocalizedName(){return this.constructor.__super__.get.apply(this,"name")},getLocalizedAbbrName:function getLocalizedAbbrName(){var s="en"===i.getLanguageCode(),t=this.get("abbrName");return s||(t=e(this.get("name"))),t},getPrettyWebsiteUrl:function getPrettyWebsiteUrl(){var e=this.get("links").website;return e=e.replace(/^.*:\/\//,""),e=e.replace(/\/$/,"")},getCertLogoUrlPromise:function getCertLogoUrlPromise(){return n.getSTCertIcon(this.get("shortName"))},getSquareLogo:function getSquareLogo(e){if(this.get("squareLogo"))return t.processImage(this.get("squareLogo"),e||{})},getLogoForCdp:function getLogoForCdp(){return this.get("classLogo")||this.get("logo")},getLogoForCertificate:function getLogoForCertificate(e){var s=this.get("rectangularLogo")||this.get("logo")||this.get("classLogo")||this.get("squareLogo");return t.processImage(s,e||{})}});module.exports=a});
define("bundles/catalogP/models/partners",["require","exports","module","bundles/catalogP/lib/stringifyList","bundles/catalogP/models/catalogCollection","bundles/catalogP/models/partner"],function(require,exports,module){var e=require("bundles/catalogP/lib/stringifyList"),t=require("bundles/catalogP/models/catalogCollection"),n=require("bundles/catalogP/models/partner"),l=t.extend({model:n,resourceName:"partners.v1",getNamesString:function getNamesString(){return e(this.models.map(function(e){return e.get("name")}))},getUnlocalizedNamesString:function getUnlocalizedNamesString(){return e(this.models.map(function(e){return e.getUnlocalizedName()}))}});module.exports=l});
define("js/json/nls/languages",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define("js/json/nls/topics",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define("js/lib/truncate",["require","exports","module","underscore"],function(require,exports,module){function byLength(t,r){if(!t)return"";if(t.length<=r)return t;if("function"!=typeof t.substr)return t;var u=r-e.length,n=t.lastIndexOf(" ",u);return(-1==n||r/2>n)&&(n=u),t.substr(0,n)+e}function toBytesUTF8(e){return unescape(encodeURIComponent(e))}function fromBytesUTF8(e){return decodeURIComponent(escape(e))}function byUTF8Bytes(n,r){if(toBytesUTF8(n).length<=r)return n;for(var u=r-e.length,t=toBytesUTF8(n).substring(0,u);;){try{return fromBytesUTF8(t)+e}catch(i){}t=t.substring(0,t.length-1)}}function byElemText(e){var n=e.text(),r=0,u=function iteration(){e.prop("scrollHeight")>e.height()+t&&(r+=1,e.text(n.slice(0,n.length-r)),e.append("&hellip;"),_.defer(iteration))};_.defer(u)}function byElemHtml(e){var n=e.html(),r=0,u=function iteration(){e.prop("scrollHeight")>e.height()+t&&(r+=1,e.html(n.slice(0,n.length-r)),e.append("&nbsp;&hellip;"),_.defer(iteration))};_.defer(u)}var _=require("underscore"),e="",t=6;module.exports={byLength:byLength,byUTF8Bytes:byUTF8Bytes,byElemText:byElemText,byElemHtml:byElemHtml}});
define("pages/open-course/common/models/course",["require","exports","module","backbone-associations","moment","q","underscore","bundles/catalogP/models/instructor","bundles/catalogP/models/instructors","bundles/catalogP/models/partner","bundles/catalogP/models/partners","i18n!js/json/nls/languages","i18n!js/json/nls/topics","js/lib/imgix","js/lib/language","js/lib/path","js/lib/truncate","pages/open-course/common/constants"],function(require,exports,module){var Backbone=require("backbone-associations"),l=require("moment"),a=require("q"),_=require("underscore"),i=require("bundles/catalogP/models/instructor"),s=require("bundles/catalogP/models/instructors"),d=require("bundles/catalogP/models/partner"),t=require("bundles/catalogP/models/partners"),o=require("i18n!js/json/nls/languages"),r=require("i18n!js/json/nls/topics"),u=require("js/lib/imgix"),c=require("js/lib/language"),e=require("js/lib/path"),g=require("js/lib/truncate"),n=require("pages/open-course/common/constants"),h=Backbone.AssociatedModel.extend({fetchRelatedModels:function fetchRelatedModels(e){var t=a.all([this.get("instructors").fetch(e),this.get("universities").fetch(e)]).then(function(){return this}.bind(this));return t.done(),t},relations:[{type:Backbone.Many,key:"instructors",relatedModel:i,collectionType:s},{type:Backbone.Many,key:"universities",relatedModel:d,collectionType:t}],parse:function parse(n){var e=_.omit(n,"courseMaterial");return e.instructors=new s(n.instructors),e.universities=new t(n.universities),e.instructors.each(function(s){var n=_(s.get("partnerIds")).map(function(t){return e.universities.get(t)});n=_(n).compact(),s.set("universities",new t(n))}),e},get:function get(t){var e=this.constructor.__super__.get.apply(this,arguments);switch(t){case"name":return r(e);default:return e}},getUnlocalizedName:function getUnlocalizedName(){this.constructor.__super__.get.apply(this,"name")},getLink:function getLink(){return e.join(n.learnRoot,this.get("slug"))},getFullLink:function getFullLink(){return e.join(n.config.url.base,this.getLink())},getHomeLink:function getHomeLink(){return e.join("/","learn",this.get("slug"),"home","welcome")},getTeachLink:function getTeachLink(){return e.join(n.teachRoot,this.get("slug"))},getSubtitles:function getSubtitles(){return _(this.getSubtitleCodes()).chain().map(c.languageCodeToName).map(o).value()},getSubtitleCodes:function getSubtitleCodes(){return _.union(this.get("primaryLanguageCodes"),this.get("subtitleLanguageCodes"))},getTruncatedDescription:function getTruncatedDescription(e){return g.byLength(this.get("description"),e)},getPartnerLogo:function getPartnerLogo(e,t){var n=this.get("universities").get(e);return this.getPartnerLogoOverride(e,t)||n&&n.getSquareLogo(t)},getPartnerLogoOverride:function getPartnerLogoOverride(t,n){var e=this.get("overridePartnerLogos")&&this.get("overridePartnerLogos")[t];if(e)return u.processImage(e,n||{})},getFirstPartnerSquareLogo:function getFirstPartnerSquareLogo(){var e=this.get("universities").first(),t={width:"56px",height:"56px"};return this.getPartnerLogo(e.get("id"),t)},getFirstPartnerRectangularLogo:function getFirstPartnerRectangularLogo(){var e=this.get("universities").first();return e.get("rectangularLogo")},isVerificationEnabled:function isVerificationEnabled(){return"number"==typeof this.get("verificationEnabledAt")?Date.now()>=this.get("verificationEnabledAt"):!1},isPreEnrollEnabled:function isPreEnrollEnabled(){var e=Date.now();return(!this.has("launchedAt")||e<this.get("launchedAt"))&&this.has("preEnrollmentEnabledAt")&&e>=this.get("preEnrollmentEnabledAt")},hasSessions:function hasSessions(){var e=this.get("sessionsEnabledAt");if(e)return l().isAfter(e);return!1}});module.exports=h});
define("pages/open-course/common/promises/course",["require","exports","module","bundles/localization/lib/cdpLocalization","js/lib/memoize","js/vendor/lucid.v2-7-0","pages/open-course/common/data/courseData","pages/open-course/common/models/course"],function(require,exports,module){var r=require("bundles/localization/lib/cdpLocalization"),o=require("js/lib/memoize"),s=require("js/vendor/lucid.v2-7-0"),e=require("pages/open-course/common/data/courseData"),u=require("pages/open-course/common/models/course"),c=new s.emitter(exports),n=function getCourse(e,o){return e.then(function(n){var e=new u(n,{parse:!0});return o&&o.skipCourseTranslation?e:r.translateCourse(e)}).then(function(o){return c.trigger("load",o),o})};exports.fromSlug=o(function(o,r){return n(e.fromSlug(o),r)}),exports.fromId=o(function(o){return n(e.fromId(o))})});
define("bundles/naptime/extractElements",["require","exports","module"],function(require,exports,module){module.exports={getFirstElement:function getFirstElement(e){if(e.elements&&e.elements.length>0)return e.elements[0]},getFirstLinkedElement:function getFirstLinkedElement(t,n){var e=t.linked&&t.linked[n];if(e&&e.length>0)return e[0]}}});
define("bundles/ondemand/utils/onDemandSessionsApi",["require","exports","module","moment","q","underscore","jsuri","bundles/ondemand/actions/ServerActionCreators","bundles/ondemand/actions/SessionActions","bundles/ondemand/constants/Constants","bundles/ondemand/sessions/lib/experiment","bundles/ondemand/sessions/models/Sessions","bundles/phoenix/lib/apiWrapper","bundles/phoenix/template/models/userIdentity","pages/open-course/common/constants","pages/open-course/common/promises/course","bundles/naptime/extractElements"],function(require,exports,module){var v=require("moment"),e=require("q"),_=require("underscore"),r=require("jsuri"),s=require("bundles/ondemand/actions/ServerActionCreators"),n=require("bundles/ondemand/actions/SessionActions"),u=require("bundles/ondemand/constants/Constants"),h=require("bundles/ondemand/sessions/lib/experiment"),a=require("bundles/ondemand/sessions/models/Sessions"),y=a.Session,f=a.Sessions,p=require("bundles/phoenix/lib/apiWrapper"),o=require("bundles/phoenix/template/models/userIdentity"),i=require("pages/open-course/common/constants"),b=require("pages/open-course/common/promises/course"),l=require("bundles/naptime/extractElements"),m=l.getFirstElement,c=l.getFirstLinkedElement,d=p(u.onDemandSessionsApi),t=p(u.onDemandSessionMembershipsApi,{type:"rest"}),S="onDemandSessions.v1",g="onDemandSessionMemberships.v1";exports.enroll=function(n){var r={data:{userId:o.get("id"),sessionId:n}};return e(t.post("",r)).fail(function(e){s.displayError(e)})},exports.unenroll=function(r){var i=o.get("id")+"~"+r;return e(t["delete"](i)).then(function(){n.updateMembership(null)}).fail(function(e){s.displayError(e)})},exports.getAllSessions=function(n){var s=(new r).addQueryParam("q","byCourse").addQueryParam("courseId",n).toString();return e(d.get(s)).then(function(e){return e.elements})},exports.getSession=function(n){var s=new r(n).toString();return e(d.get(s)).then(function(e){return e.elements[0]})},exports.getCurrentSession=function(){b.fromSlug(i.courseSlug).then(function(e){return o.get("authenticated")?[e.get("id"),exports.getActiveSession(e.get("id"))]:[e.get("id")]}).spread(function(e,n){return n||exports.getOpenSession(e)}).then(function(e){e?(n.updateSession(e),e.membership&&n.updateMembership(e.membership)):n.updateSession(null)})["finally"](function(){n.updateLoaded()}).done()},exports.getOpenSession=function(n){var o=n||i.courseId,t=(new r).addQueryParam("q","currentOpenByCourse").addQueryParam("courseId",o).addQueryParam("includes","memberships").addQueryParam("fields","moduleDeadlines").toString();return e(d.get(t)).then(function(e){var n=m(e),s=c(e,g);return s&&(n.membership=s),n}).fail(function(e){s.displayError(e)})},exports.getActiveSession=function(n){var i=(new r).addQueryParam("q","activeByUserAndCourse").addQueryParam("userId",o.get("id")).addQueryParam("courseId",n).addQueryParam("includes","sessions").addQueryParam("fields","onDemandSessions.v1(moduleDeadlines)").toString();return e(t.get(i)).then(function(n){var e=c(n,S);return e&&(e.membership=m(n)),e}).fail(function(e){s.displayError(e)})},exports.getFollowingSession=function(e){return exports.getAllSessions(i.courseId).then(function(s){var e=new f(s);e.getUpcomingSession()&&n.updateEnrollableSession(e.getUpcomingSession()),e.getFollowingSession()&&n.updateFollowingSession(e.getFollowingSession())}).fail(function(e){s.displayError(e)})},exports.getSessionMembershipsForCourse=function(n){var i=(new r).addQueryParam("q","byUserAndCourse").addQueryParam("userId",o.get("id")).addQueryParam("courseId",n).toString();return e(t.get(i)).then(function(e){return e.elements}).fail(function(e){s.displayError(e)})}});
define("js/lib/keysToConstants",["require","exports","module"],function(require,exports,module){module.exports=function(e){return e.reduce(function(e,n){return e[n]=n,e},{})}});
define("bundles/common/constants/CourseRoles",["require","exports","module","js/lib/keysToConstants"],function(require,exports,module){var s=require("js/lib/keysToConstants");module.exports=s(["BROWSER","NOT_ENROLLED","PRE_ENROLLED_LEARNER","LEARNER","MENTOR","TEACHING_STAFF","UNIVERSITY_ADMIN","INSTRUCTOR","DATA_COORDINATOR"])});
define("pages/open-course/common/membershipApi",["require","exports","module","bundles/phoenix/lib/apiWrapper","pages/open-course/common/constants"],function(require,exports,module){var e=require("bundles/phoenix/lib/apiWrapper"),o=require("pages/open-course/common/constants");module.exports=e(o.openCourseMembershipApi,{type:"rest"})});
define("pages/open-course/common/models/membership",["require","exports","module","backbone-associations","q","underscore","bundles/common/constants/CourseRoles","bundles/phoenix/template/models/userIdentity","pages/open-course/common/constants","pages/open-course/common/membershipApi"],function(require,exports,module){var Backbone=require("backbone-associations"),s=require("q"),_=require("underscore"),e=require("bundles/common/constants/CourseRoles"),t=require("bundles/phoenix/template/models/userIdentity"),o=require("pages/open-course/common/constants"),n=require("pages/open-course/common/membershipApi"),r=Backbone.AssociatedModel.extend({api:n,defaults:function defaults(){return{timestamp:Date.now()}},initialize:function initialize(e){if(!_(e).has("courseId"))throw new Error("You must instantiate a Membership with a courseId");this.get("userId")||this.set("userId",e.userId||t.get("id")),_(e).has("id")||this.set("id",this.get("userId")+"~"+this.get("courseId"),{silent:!0})},hasTeachingRole:function hasTeachingRole(){return _(o.courseRolesWithTeachAccess).contains(this.get("courseRole").toUpperCase())},hasModerationRole:function hasModerationRole(){return _(o.courseRolesWithModeratorAccess).contains(this.get("courseRole").toUpperCase())},hasEnrolledRole:function hasEnrolledRole(){return!_([e.BROWSER,e.NOT_ENROLLED,e.PRE_ENROLLED_LEARNER]).contains(this.get("courseRole"))},hasPreEnrolled:function hasPreEnrolled(){return this.get("courseRole")===e.PRE_ENROLLED_LEARNER},enroll:function enroll(o){this.set("courseRole",o||e.LEARNER);var t={data:this.toJSON()};return s(this.api.post("",t))},unenroll:function unenroll(){return this.set("courseRole",e.NOT_ENROLLED),s(this.api["delete"](this.get("id")))}},e);module.exports=r});
define("pages/open-course/common/data/membershipData",["require","exports","module","q","pages/open-course/common/membershipApi"],function(require,exports,module){var e=require("q"),o=require("pages/open-course/common/membershipApi");module.exports=function(r,m){return e(o.get(r+"~"+m))}});
define("pages/open-course/common/promises/membership",["require","exports","module","pages/open-course/common/models/membership","pages/open-course/common/data/membershipData"],function(require,exports,module){var e=require("pages/open-course/common/models/membership"),o=require("pages/open-course/common/data/membershipData");module.exports=function(n,s){var r=o(n,s).then(function(o){if(o.elements.length>0)return new e(o.elements[0])}).fail(function(){return new e({userId:n,courseId:s,courseRole:e.BROWSER})});return r.done(),r}});
define("bundles/s12n/service/constants",["require","exports","module","js/app/config","js/lib/path"],function(require,exports,module){var e=require("js/app/config"),t=require("js/lib/path");module.exports={config:e,maxShow:4,certImgUrl:t.join(e.url.resource_assets,"specialization_capstone_promotion/speccert.png"),s12nRoot:"/specializations",s12nMembershipsApi:"/api/onDemandSpecializationMemberships.v1",galleryImgPath:"https://s3.amazonaws.com/coursera_assets/specialization_projects/",testImgPath:"https://s3.amazonaws.com/coursera_assets/sdp_page/",fbShare:"https://www.facebook.com/sharer/sharer.php?u=",googleShare:"https://plus.google.com/share?url=",twitterShare:"http://twitter.com/home?status=",siteRoot:"coursera.org",instructorPhotoSize:150,financialAidLink:"https://learner.coursera.help/hc/en-us/articles/201523175-Financial-Aid",refundPolicyLink:"https://www.coursera.org/about/terms/refund",learnerStatus:{certificateEarned:"certificateEarned",capstoneNotEligible:"capstoneNotEligible",capstoneEligibleNotEnrolled:"capstoneEligibleNotEnrolled",courseNotLaunched:"courseNotLaunched",enrolledNotStarted:"enrolledNotStarted",learnerStarted:"learnerStarted",coursePreLaunched:"coursePreLaunched",courseHasSessions:"courseHasSessions"},partnerNameOverrides:{whartonfoundations:{"University of Pennsylvania":"The Wharton School, University of Pennsylvania"}},sparkSpecializationIds:{whartonchinese:42,medicaltech:30,datamining:20,virtualteacher:10,reasoning:8,mobilecloudcomputing2:36,fundamentalscomputing2:37,globalaffairs:3,valuation:45,systemsbiology:6,humancomputerinteraction:28,cybersecurity:7,whartonfoundations:38,neuro:14,cloudcomputing:19,bioinformatics:34,entrepreneurship:26,finance:39,genomics:41,contentstrategy:27,jhudatascience:1,fundamentosempresariales:46}}});
define("js/json/constants",[],function(){return{openCourses:["calculus1","childnutrition","competitivestrategy","sustainabledevelopment1","chineseforbeginners","ageofjefferson","epidemiology","kennedy","publicspeaking","businessinsociety","togetherteacher","competitivestrategyzh","financialengineering1","financialengineering2","insidetheinternet","advancedchemistry"],pinnedCourses:["publicspeaking"],specializationsFlaggedForNoPayment:["businessoperations","digitalmarketing","interactiondesign","projectmanagement","bizcommunication","managementbasics","biztools","engineeringgraphics","compsci","socialscience"],topicsFlaggedForNoPayment:["foundationmedneuro"],specializationsFlaggedForPriceChange:["jhudatascience","genomics"],chineseOnlyTopicToCourses:{datascitoolbox:[973978,973979,973980,974721,974722],rprog:[973973,973974,973975,973976,973977],getdata:[974176,974764,974770,974771,974772],exdata:[974177,974765,974766,974767,974768]},flexjoin_course_ids:[970641,972058,971830,971921,971981,972197,972476,972475,972296,972242,972189,972750,972893,972894,972895,971772,970726,972974,972902,971727,971558,972832,972560,972196,971211,971994,973098,5e6,5000001],student_stories_topics:{88:[{text:"I've begun using Python for data analysis. My Certificate not only gave me commitmment to complete the course but also something to highlight in school applications.",student:"Timothy W.",title:"Business Analyst at Boeing"},{text:"The course material made me a better data analyst. I was able to get a promotion and raise within weeks of completing my first course. I am just thrilled!",student:"Corey K.",title:"IT & Support Professional"},{text:"I needed to upgrade my programming skills to cope with the ever-increasing software-defined infrastructure in the industry. I know the Course Certificate will help my career.",student:"Bernard T.",title:"Hardware Engineer at Cisco"},{text:"I took this course to better prepare myself for upcoming projects at work. The Certificate helps to verify my effort. It reassures my employer that Im capable to take on Python-related tasks.",student:"Andy L.",title:"Systems Administrator - Florida Museum of History"}],168:[{text:"The course improved my knowledge in the field, and the Course Certificate gives me a lot more credibility.",student:"Clayton S.",title:"Business Development Manager"},{text:"I'm using what I learned in the course to develop new products in my company, one of the oldest and most respected newspapers in Brazil.",student:"Nelson P.",title:"CIO from Brazil"},{text:"After the course, I was inspired to write the business plan for my start-up. My certificate proves what Ive accomplished!",student:"Florian A.",title:"Account Manager from Switzerland"},{text:"By showing my Course Certificate to my employer, I was able to get support to turn my idea into a new project.",student:"Sebastian S.",title:"Programmer from Costa Rica"}],747:[{text:"This course helped me identify a target market and understand aspects of marketing that I hadn't been aware of, and for that I am grateful. I'll use the certificate I received from Coursera as a seal of approval for my work.",student:"Bartholomew N.",title:"Director of Fundraising at WQED in Pittsburgh, PA"},{text:"The course validated the analytics functions weve instituted within our company. And the Course Certificate validates my skill set.",student:"Michael D.",title:"Director of Sales from Portland"},{text:"Learning is a never-ending process. Now I know what needs to get done before I start rebranding my company.",student:"Saundra L.",title:"CEO from Miami, Florida"},{text:"My employers were happy to hear that I'd completed the course. The Course Certificate shows my dedication to performing better at my current position.",student:"Stephanie N.",title:"Marketing Communications Manager from Newark, Delaware"}]}}});
define("js/json/nls/specializations",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define("js/json/s12n_faq",["require","exports","module"],function(require,exports,module){module.exports=[{question:"What is a Specialization?",answer:"A Specialization is a group of related courses designed to help you deepen your expertise in a subject. You will earn a Specialization Certificate when you successfully earn a Course Certificate for each course in a Specialization and complete the Capstone Project."},{question:"How do I complete a Specialization?",answer:"To complete a Specialization, you must earn a Course Certificate for every course in the Specialization and complete the Capstone Project. The Capstone Project is available after youve completed all courses in the Specialization."},{question:"What is the Capstone Project?",answer:"A Capstone Project is an assignment designed specifically to apply and showcase the skills you learned in the Specialization. Every Specialization ends with a Capstone Project."},{question:"What is a Specialization Certificate?",answer:"A Specialization Certificate is an electronic document issued by the participating school and Coursera that demonstrates you have successfully completed a group of related courses (plus a Capstone Project) in a specific subject. It also links your accomplishment to your real identity. You will not receive a Course Certificate upon completion of the Capstone Project, but instead the Specialization Certificate."},{question:"How do I pay for the Specialization?",answer:"There are two payment options. You can pay once for the whole Specialization, or you can pay individually for each course as you progress."},{question:"Can I take the Specialization for free?",answer:'No, the Specialization is a premium product, but <a href="{financialAidLink}" target="_blank">financial aid</a> is available to all learners with demonstrated need. To preview material in each course, visit the course description pages.'},{question:"What is the refund policy?",answer:'You are eligible for a full refund until two weeks after payment, or until two weeks after the first course in the Specialization opens, whichever is later. You are not eligible for a refund after you earn your Course Certificate, even if you complete the course within the two-week refund period. View the full <a href="{refundPolicyLink}" target="_blank">refund policy</a>.'}]});
define("bundles/catalogP/models/s12n",["require","exports","module","moment","underscore","bundles/catalogP/lib/stringifyList","bundles/catalogP/models/catalogModel","bundles/phoenix/template/models/userIdentity","bundles/s12n/service/constants","js/json/constants","i18n!js/json/nls/specializations","js/json/s12n_faq","js/lib/path","js/vendor/store.v1-3-16"],function(require,exports,module){var n=require("moment"),_=require("underscore"),o=require("bundles/catalogP/lib/stringifyList"),a=require("bundles/catalogP/models/catalogModel"),g=require("bundles/phoenix/template/models/userIdentity"),r=require("bundles/s12n/service/constants"),s=require("js/json/constants"),i=require("i18n!js/json/nls/specializations"),h=require("js/json/s12n_faq"),u=require("js/lib/path"),t=require("js/vendor/store.v1-3-16"),c=s.specializationsFlaggedForPriceChange,l=s.specializationsFlaggedForNoPayment,e=r.partnerNameOverrides,d=a.extend({fields:["name","slug","interchangeableCourseIds"],includes:{courses:{resource:"courses.v1",attribute:"courseIds"},interchangeableCourses:{resource:"courses.v1",attribute:"interchangeableCourseIds"},partners:{resource:"partners.v1",attribute:"partnerIds"},instructors:{resource:"instructors.v1",attribute:"instructorIds"},membership:{resource:"onDemandSpecializationMemberships.v1",attribute:"memberships"}},resourceName:"onDemandSpecializations.v1",get:function get(t){var e=this.constructor.__super__.get.apply(this,arguments);switch(t){case"name":return i(e);default:return e}},getSlug:function getSlug(){return this.get("slug")},getByline:function getByline(){return this.get("tagline")},getIncentives:function getIncentives(){return this.get("metadata").incentives},getDescription:function getDescription(){var e=arguments.length<=0||void 0===arguments[0]?{cml:!1}:arguments[0],t=e.cml;return t?this.get("cmlDescription")||{}:this.get("description")},getUnlocalizedName:function getUnlocalizedName(){return this.constructor.__super__.get.apply(this,"name")},getPartnerNamesString:function getPartnerNamesString(){var t=this.get("slug"),n=this.get("partners").map(function(n){return _(e).has(t)&&_(e[t]).has(n.get("name"))?e[t][n.get("name")]:n.get("name")});return o(n)},hasOverrideForPartnerName:function hasOverrideForPartnerName(n){var t=this.get("slug");return _(e).has(t)?_(e[t]).chain().keys().contains(n).value():!1},getPartnersWithNamesOverride:function getPartnersWithNamesOverride(){return this.get("partners").map(function(t){var n=t.get("name");return this.hasOverrideForPartnerName(n)&&t.set("name",e[this.get("slug")][n]),t}.bind(this))},getLink:function getLink(){return u.join(r.s12nRoot,this.get("slug"))},getCapstone:function getCapstone(){return this.get("courses").filter(function(e){return e.isCapstone()})[0]},isEligibleForCapstone:function isEligibleForCapstone(){return this.get("courses").every(function(e){return e.hasPassed(!0)||this.getHybridCourse(e)||e.isCapstone()}.bind(this))},getFaqs:function getFaqs(){var e=this.get("metadata"),t=e.useDefaultFaqs?h:[];return t=t.concat(e.additionalFaqs)},getCertificateLogos:function getCertificateLogos(){if(this.get("metadata").certificateLogo)return[this.get("metadata").certificateLogo];var e=this.get("partners").chain().map(function(e){return e.get("logo")||e.get("classLogo")||e.get("squareLogo")}).compact().value();return e},getPartnerLogo:function getPartnerLogo(e){return this.get("partnerLogoOverrides")&&this.get("partnerLogoOverrides")[e.get("id")]||e.getLogoForCdp()||e.getSquareLogo()},getInterchangeableCourses:function getInterchangeableCourses(t){var e=this.get("interchangeableMap");if(e)return e[t.get("id")]},getHybridCourse:function getHybridCourse(t){var n=this.getInterchangeableCourses(t),e=_(n).map(function(e){return e.find(function(e){return e.hasPassed(!0)})}).filter(function(e){return e});return e&&e.length?e[0]:null},hide:function hide(){var e=g.get("id")+".hidden-specialization-ids",n=t.get(e),r=this.get("id");n?t.set(e,n+","+r):t.set(e,r)},getNumCourses:function getNumCourses(){return this.get("courses").length},getNumOtherCourses:function getNumOtherCourses(){return this.get("courses").length-1},getCertificateImageName:function getCertificateImageName(){return this.get("slug")},isSuperuserOnly:function isSuperuserOnly(){var e="TEST"===this.get("internalType"),t=n(),r=this.get("launchedAt")&&n(this.get("launchedAt")).isBefore(t);return e||!r},isFlaggedForPriceChange:function isFlaggedForPriceChange(){return _(c).contains(this.get("slug"))},isFlaggedForNoPayment:function isFlaggedForNoPayment(){return _(l).contains(this.get("slug"))},getCompanyLogos:function getCompanyLogos(){return this.get("metadata").companyLogos},getLevel:function getLevel(){return this.get("metadata").level},getPartnerImage:function getPartnerImage(e){var n=e===this.get("partnerIds")[0],t=this.get("metadata").partnerImages;return t&&t.hasOwnProperty(e)&&t[e]||n&&this.get("metadata").partnerImage},getPartnerMarketingBlurb:function getPartnerMarketingBlurb(e){var n=e===this.get("partnerIds")[0],t=this.get("metadata").partnerMarketingBlurbs;return t&&t.hasOwnProperty(e)&&t[e]||n&&this.get("metadata").partnerMarketingBlurb},getHeaderImage:function getHeaderImage(){return this.get("metadata").headerImage},getAdditionalFaqs:function getAdditionalFaqs(){var e=arguments.length<=0||void 0===arguments[0]?{cml:!1}:arguments[0],t=e.cml;return t?this.get("metadata").cmlAdditionalFaqs:this.get("metadata").additionalFaqs},getHeadline:function getHeadline(){return this.get("metadata").headline},getSubheader:function getSubheader(){return this.get("metadata").subheader}});module.exports=d});
define("bundles/catalogP/models/s12ns",["require","exports","module","bundles/catalogP/models/catalogCollection","bundles/catalogP/models/s12n","underscore"],function(require,exports,module){var e=require("bundles/catalogP/models/catalogCollection"),o=require("bundles/catalogP/models/s12n"),_=require("underscore"),t=e.extend({model:o,resourceName:"onDemandSpecializations.v1",includes:{},sortByFeaturedIndex:function sortByFeaturedIndex(){this.models=_(this.models).sortBy(function(o){var e=o.get("metadata")||o.get("details");return e&&e.featuredIndex?e.featuredIndex:1e6})}});module.exports=t});
define("js/lib/underscore.extend",["require","exports","module","underscore"],function(require,exports,module){var _=require("underscore"),r=function courseraSimpleDeepClone(e){if(_(e).isArray())return _(e).map(function(e){return courseraSimpleDeepClone(e)});if(_(e).isObject()&&!_(e).isFunction()){var r={};return _(e).chain().keys().each(function(n){r[n]=courseraSimpleDeepClone(e[n])}).value(),r}return _(e).clone()},e=function courseraCamelize(e,r){return e=e.trim().replace(/[-_\s]+(.)?/g,function(r,e){return e?e.toUpperCase():""}),r===!0?e.charAt(0).toUpperCase()+e.slice(1):e.charAt(0).toLowerCase()+e.slice(1)};_.mixin({courseraPick:function courseraPick(r,n){var e={};return _(n).each(function(n){e[n]=r[n]}),e},courseraSimpleDeepClone:r,courseraCamelize:e,courseraMapValues:function courseraMapValues(e,r){return _(e).chain().map(function(e,n){return[n,r(e)]}).object().value()},courseraSum:function courseraSum(n,r){var e=r||_.identity;return _.isFunction(e)||(e=function(e){return e[r]}),_(n).chain().map(e).reduce(function(e,r){return e+r},0).value()},courseraCamelizeKeys:function courseraCamelizeKeys(r){return _(r).chain().map(function(r,n){return[e(n,!1),r]}).object().value()}}),module.exports=_});
define("bundles/catalogP/models/searchDebug",["require","exports","module","underscore","backbone-associations"],function(require,exports,module){var _=require("underscore"),Backbone=require("backbone-associations"),e=Backbone.AssociatedModel.extend({parse:function parse(e){return e=_.reduce(e.explain,function(t,n,o){var r=_(e.boosts[o]).omit("score"),s=_(r).reduce(function(e,t){return e*t},1),a=n.value/s;t[o]=_({boostMultiplier:s,rawScore:a}).extend(n,{boosts:r});var i=_(t[o].details).last();return i&&(i.details=[{description:"product of",value:s,details:_(r).map(function(e,t){return{value:e,description:t}})}]),t},{})},merge:function merge(e){this.set(e.attributes)}});module.exports=e});
define("bundles/catalogP/models/search",["require","exports","module","backbone-associations","bundles/catalogP/models/catalogModel","bundles/catalogP/models/searchDebug"],function(require,exports,module){var Backbone=require("backbone-associations"),e=require("bundles/catalogP/models/catalogModel"),s=require("bundles/catalogP/models/searchDebug"),o=e.extend({resourceName:"search.v1",fields:["courseIds"],includes:{courses:{resource:"courses.v1",attribute:"courseIds"}},relations:[{type:Backbone.One,key:"debugData",relatedModel:s,options:{parse:!0}}]});module.exports=o});
define("bundles/catalogP/models/searches",["require","exports","module","bundles/catalogP/models/catalogCollection","bundles/catalogP/models/search"],function(require,exports,module){var e=require("bundles/catalogP/models/catalogCollection"),l=require("bundles/catalogP/models/search"),o=e.extend({model:l,resourceName:"search.v1"});module.exports=o});
define("bundles/catalogP/models/specialization",["require","exports","module","underscore","bundles/catalogP/constants","bundles/s12n/service/constants","bundles/catalogP/lib/stringifyList","bundles/catalogP/models/catalogModel","bundles/catalogP/models/partners","bundles/phoenix/lib/apiWrapper","bundles/phoenix/template/models/userIdentity","js/json/constants","i18n!js/json/nls/specializations","js/lib/path","js/vendor/store.v1-3-16"],function(require,exports,module){var _=require("underscore"),t=require("bundles/catalogP/constants"),s=require("bundles/s12n/service/constants"),g=require("bundles/catalogP/lib/stringifyList"),l=require("bundles/catalogP/models/catalogModel"),c=require("bundles/catalogP/models/partners"),r=require("bundles/phoenix/lib/apiWrapper"),d=require("bundles/phoenix/template/models/userIdentity"),o=require("js/json/constants"),u=require("i18n!js/json/nls/specializations"),i=require("js/lib/path"),n=require("js/vendor/store.v1-3-16"),e=s.partnerNameOverrides,a=l.extend({fields:["name","shortName","byline","logo","video"],includes:{courses:{resource:"courses.v1",attribute:"primaryCourseIds"},interchangeableCourses:{resource:"courses.v1",attribute:"interchangeableCourseIds"},partners:{resource:"partners.v1",attribute:"partnerIds"},instructors:{resource:"instructors.v1",attribute:"instructorIds"}},resourceName:"specializations.v1",get:function get(t){var e=this.constructor.__super__.get.apply(this,arguments);switch(t){case"name":return u(e);default:return e}},getSlug:function getSlug(){return this.get("shortName")},getUnlocalizedName:function getUnlocalizedName(){return this.constructor.__super__.get.apply(this,"name")},getPartnerNamesString:function getPartnerNamesString(){var t=this.get("slug"),n=this.get("partners").map(function(n){return _(e).has(t)&&_(e[t]).has(n.get("name"))?e[t][n.get("name")]:n.get("name")});return g(n)},getByline:function getByline(){return this.get("details").byline},getIncentives:function getIncentives(){return this.get("details").incentives},getDescription:function getDescription(){var e=arguments.length<=0||void 0===arguments[0]?{cml:!1}:arguments[0],t=e.cml;return t?this.get("details").auxInfo.cmlDescription||{}:this.get("details").description},hasOverrideForPartnerName:function hasOverrideForPartnerName(n){var t=this.get("shortName");return _(e).has(t)?_(e[t]).chain().keys().contains(n).value():!1},getPartnersWithNamesOverride:function getPartnersWithNamesOverride(){return new c(this.get("partners").map(function(t){var n=t.get("name");return this.hasOverrideForPartnerName(n)&&t.set("name",e[this.get("shortName")][n]),t}.bind(this)))},getPartnerLogo:function getPartnerLogo(e){return e.getLogoForCdp()||e.getSquareLogo()},getLink:function getLink(){return i.join(s.s12nRoot,this.get("shortName"))},getInterchangeableCourses:function getInterchangeableCourses(e){return this.has("interchangeableMap")?this.get("interchangeableMap")[e.get("id")]:[]},getCapstoneCourse:function getCapstoneCourse(){return this.get("courses").chain().filter(function(e){return e.isCapstone()}).first().value()},getCapstone:function getCapstone(){return this.getCapstoneCourse(arguments)},getCompanyLogos:function getCompanyLogos(){return this.get("details")&&this.get("details").auxInfo&&this.get("details").auxInfo.companyLogos||[]},getLevel:function getLevel(){return this.get("details")&&this.get("details").auxInfo&&this.get("details").auxInfo.level},isSuperuserOnly:function isSuperuserOnly(){return!1},isFlaggedForNoPayment:function isFlaggedForNoPayment(){return _(o.specializationsFlaggedForNoPayment).contains(this.get("shortName"))},getNumCourses:function getNumCourses(){return this.get("courses").length-(this.getCapstoneCourse()?1:0)},getCertificateImageName:function getCertificateImageName(){return this.get("shortName")},getPartnerImage:function getPartnerImage(){return this.get("details")&&this.get("details").auxInfo&&this.get("details").auxInfo.partnerImage},getHeaderImage:function getHeaderImage(){return this.get("details")&&this.get("details").auxInfo&&this.get("details").auxInfo.headerImage},getPartnerMarketingBlurb:function getPartnerMarketingBlurb(){return this.get("details")&&this.get("details").auxInfo&&this.get("details").auxInfo.partnerMarketingBlurb},getAdditionalFaqs:function getAdditionalFaqs(){var e=arguments.length<=0||void 0===arguments[0]?{cml:!1}:arguments[0],t=e.cml;if(t)return this.get("details").auxInfo.cmlAdditionalFaqs||[];var n=JSON.parse(this.get("details").faqs),s=this.get("details")&&this.get("details").auxInfo&&this.get("details").auxInfo.faqs||[];return n.concat(s)},getHeadline:function getHeadline(){return this.get("details")&&this.get("details").auxInfo&&this.get("details").auxInfo.headline},getSubheader:function getSubheader(){return this.get("details")&&this.get("details").auxInfo&&this.get("details").auxInfo.subheader},hasPassed:function hasPassed(){return this.get("courses").all(function(e){var t=this.getInterchangeableCourses(e);return e.hasPassed()||t.length>0&&t.any(function(e){return e.all(function(e){return e.hasPassed(!0)})})})},isEligibleForCapstone:function isEligibleForCapstone(){return this.get("courses").every(function(e){return e.hasPassed(!0)||e.isCapstone()})},hide:function hide(){var e=d.get("id")+".hidden-specialization-ids",t=n.get(e),s=this.get("id");t?n.set(e,t+","+s):n.set(e,s)}},{getLinkForSession:function getLinkForSession(e,n){return i.join(t.config.dir.home,"signature/specializationCourse",e.get("slug"),n.get("id"))},enrollWithVoucher:function enrollWithVoucher(e,n){return r(t.config.url.api).post(t.paymentsApi,{data:{"course-id":e,"voucher-id":n}})}});module.exports=a});
define("bundles/catalogP/models/session",["require","exports","module","moment","q","underscore","bundles/catalogP/models/catalogModel","bundles/catalogP/models/specialization","bundles/phoenix/lib/apiWrapper","bundles/phoenix/template/models/userIdentity","js/json/constants"],function(require,exports,module){var t=require("moment"),n=require("q"),_=require("underscore"),i=require("bundles/catalogP/models/catalogModel"),o=require("bundles/catalogP/models/specialization"),r=require("bundles/phoenix/lib/apiWrapper"),s=require("bundles/phoenix/template/models/userIdentity"),a=require("js/json/constants").chineseOnlyTopicToCourses,e=function now(){return t.utc()},u=i.extend({api:new r("/api/enrollments.v1"),unenrollApi:new r("maestro/api/course/unenroll"),resourceName:"v1Sessions.v1",urlPath:"sessions",includes:{instructors:{resource:"instructors.v1",attribute:"instructorIds"},vcDetails:{resource:"v1VcDetails.v1",attribute:"vcDetails"}},getLink:function getLink(){return this.get("homeLink")},getName:function getName(){var t=this.get("homeLink")?this.get("homeLink"):"";return t.replace(/http.*coursera.org\//,"").replace("/","")},hasStarted:function hasStarted(){var t=this.getStartMoment();return t&&t.isBefore(e())},getStartMoment:function getStartMoment(){if(this.get("startYear")&&this.get("startMonth"))return t([this.get("startYear"),this.get("startMonth")-1,this.get("startDay")||1])},getStartString:function getStartString(){var t=this.getStartMoment();if(!t)return"No Start Date";return void 0!==this.get("startDay")?t.format("LL"):t.format("MMMM YYYY")},setStartMoment:function setStartMoment(t,e){this.set({startYear:t.year(),startMonth:t.month()+1,startDay:t.date()},e)},getStartMomentFromToday:function getStartMomentFromToday(){var n=this.getStartMoment().diff(e());return t.duration(n)},isChineseOnly:function isChineseOnly(){var t=_(a).chain().values().flatten().value();return _(t).contains(this.get("id"))},getDuration:function getDuration(){return this.get("durationString")},getDurationMoment:function getDurationMoment(){var e=(this.getDuration()||"").split(" ");return t.duration(parseInt(e[0],10),e[1])},getDurationDays:function getDurationDays(){return Math.floor(this.getDurationMoment().asDays())},getDurationWeeks:function getDurationWeeks(){return Math.floor(this.getDurationMoment().asDays()/7)},getEndMoment:function getEndMoment(){if(this.get("dbEndDate"))return t(this.get("dbEndDate"));var e=this.getStartMoment();return e&&e.add(this.getDurationMoment())},getEndString:function getEndString(){var t=this.getEndMoment();return t&&t.format("LL")},hasEnded:function hasEnded(){var t=this.getEndMoment();if(t)return e().isAfter(t.clone().utc().endOf("day"))},eligibleForSignatureTrack:function eligibleForSignatureTrack(){return this.get("hasSigTrack")},isEligibleForVC:function isEligibleForVC(){return this.eligibleForSignatureTrack()},enroll:function enroll(){return n(this.api.put(s.get("id")+"~"+this.get("id"),{data:"{}",contentType:"application/json"}))},enrollWithVoucher:function enrollWithVoucher(t){return o.enrollWithVoucher(this.get("id"),t)},unenroll:function unenroll(){return n(this.unenrollApi.post("",{data:{"course-id":this.get("id")}}))}});module.exports=u});
define("bundles/catalogP/models/sessions",["require","exports","module","bundles/catalogP/models/catalogCollection","bundles/catalogP/models/session","js/lib/language"],function(require,exports,module){var s=require("bundles/catalogP/models/catalogCollection"),n=require("bundles/catalogP/models/session"),t=require("js/lib/language"),e=s.extend({model:n,resourceName:"sessions.v1",getVCSessions:function getVCSessions(){return new e(this.filter(function(e){return e.has("vcDetails")}))},getVCRegistrationOpenSessions:function getVCRegistrationOpenSessions(){return new e(this.filter(function(e){return e.has("vcDetails")&&e.get("vcDetails.vcRegistrationOpen")}))},firstForLanguagePreference:function firstForLanguagePreference(){var e="zh"===t.getLanguageCode()&&this.some(function(e){return e.isChineseOnly()});return this.chain().filter(function(s){return e?s.isChineseOnly():!s.isChineseOnly()}).first().value()}});module.exports=e});
define("bundles/catalogP/models/course",["require","exports","module","moment","underscore","bundles/catalogP/constants","bundles/catalogP/models/catalogModel","bundles/catalogP/models/sessions","js/json/constants","i18n!js/json/nls/topics","js/lib/path","pages/open-course/common/constants"],function(require,exports,module){var e=require("moment"),_=require("underscore"),s=require("bundles/catalogP/constants"),i=require("bundles/catalogP/models/catalogModel"),r=require("bundles/catalogP/models/sessions"),o=require("js/json/constants"),a=require("i18n!js/json/nls/topics"),t=require("js/lib/path"),u=require("pages/open-course/common/constants"),n=i.extend({defaults:{categories:[],certificates:[]},includes:{instructors:{resource:"instructors.v1",attribute:"instructorIds"},details:{resource:"v1Details.v1",attribute:"v1Details"},v2Details:{resource:"v2Details.v1",attribute:"v2Details"},partners:{resource:"partners.v1",attribute:"partnerIds"},primaryLanguages:{resource:"languages.v1",attribute:"primaryLanguages"},subtitleLanguages:{resource:"languages.v1",attribute:"subtitleLanguages"},categories:{resource:"categories.v1",attribute:"categories"},specializations:{resource:"specializations.v1",attribute:"specializations"},s12ns:{resource:"onDemandSpecializations.v1",attribute:"s12nIds"},memberships:{resource:"memberships.v1",attribute:"membershipIds"},courseProgress:{resource:"onDemandCoursesProgress.v1",attribute:"courseProgress"},vcMemberships:{resource:"vcMemberships.v1",attribute:"vcMembershipIds"}},resourceName:"courses.v1",get:function get(e){var t=this.constructor.__super__.get.apply(this,arguments);switch(e){case"name":return a(t);default:return t}},getSlug:function getSlug(){return this.get("slug")},getUnlocalizedName:function getUnlocalizedName(){this.constructor.__super__.get.apply(this,"name")},getCertLogo:function getCertLogo(){var t=this.get("partners").chain().map(function(t){return t.get("classLogo")||t.get("logo")}).compact().first().value();return this.get("certificatePartnerLogo")||this.get("partnerLogo")||t},hasValidCertLogo:function hasValidCertLogo(){var t;return this.has("partners")&&(t=this.get("partners").chain().map(function(t){return t.get("classLogo")||t.get("logo")}).compact().first().value()),!!(this.get("certificatePartnerLogo")||this.get("partnerLogo")||t)},getLink:function getLink(){return this.isOnDemand()?t.join("/","learn",this.get("slug")):t.join(s.config.dir.home,"course",this.get("slug"),this.get("session.id"))},getHomeLink:function getHomeLink(){return t.join("/","learn",this.get("slug"),"home","welcome")},getFullLink:function getFullLink(){return t.join(s.config.url.base,this.getLink())},getCourseRecordsLink:function getCourseRecordsLink(){return"/accomplishments"},getTeachLink:function getTeachLink(){return t.join(u.teachRoot,this.get("slug"))},getName:function getName(){return this.get("name")},eligibleFor:function eligibleFor(t){return _(this.get("certificates")).contains(t)},canEarnVCForSession:function canEarnVCForSession(t){return t.isEligibleForVC()&&!!t.get("vcDetails.vcRegistrationOpen")&&!this.isEnrolledInVCSession(t)&&!this.isFlaggedForNoPayment()},isOnDemand:function isOnDemand(){return"v2.ondemand"===this.get("courseType")||"v2.capstone"===this.get("courseType")},hasPhoenixSessions:function hasPhoenixSessions(){return!!this.get("v2Details.sessionsEnabledAt")},phoenixSessionExists:function phoenixSessionExists(){var t=this.get("v2Details.sessions");return this.isOnDemand()&&(this.isOnDemandCapstone()||t&&Object.keys(t.models).length>0)},isCapstone:function isCapstone(t){return this.isSessionCapstone()||this.isOnDemandCapstone()},isSessionCapstone:function isSessionCapstone(){return"v1.capstone"===this.get("courseType")},isOnDemandCapstone:function isOnDemandCapstone(){return"v2.capstone"===this.get("courseType")},isSession:function isSession(){return"v1.session"===this.get("courseType")},isVCOnDemand:function isVCOnDemand(){return this.isOnDemand()&&this.eligibleFor("VerifiedCert")},getStartDate:function getStartDate(){if(this.get("startDate"))return e.utc(this.get("startDate"))},getShortStartDate:function getShortStartDate(){if(this.get("startDate"))return e(this.get("startDate")).format("LL")},hasStartDate:function hasStartDate(){return this.get("startDate")&&9999999999999!==this.get("startDate")},hasStarted:function hasStarted(){return this.get("startDate")&&e().isAfter(this.get("startDate"))},getUpcomingSession:function getUpcomingSession(){return this.isOnDemand()?this.get("v2Details.sessions")&&this.get("v2Details.sessions").getUpcomingSession():this.get("details.upcomingSession")},hasUpcomingSession:function hasUpcomingSession(){return void 0!==this.getUpcomingSession()},isUpcomingSessionSigTrack:function isUpcomingSessionSigTrack(){return this.get("details.upcomingSession.hasSigTrack")},getOnDemandVCLink:function getOnDemandVCLink(){return this.isVCOnDemand()?t.join("/","certificate",this.get("slug")):void 0},getUpcomingSessionSigTrackLink:function getUpcomingSessionSigTrackLink(){if(this.isUpcomingSessionSigTrack()){var e=this.getUpcomingSession();return t.join(s.config.dir.home,"signature","course",this.get("slug"),e.get("id"))}return""},isEnrolled:function isEnrolled(){if(this.get("memberships").length)return this.isOnDemand()?this.get("memberships").first().isEnrolled():_(this.getEnrolledSessions()).any(function(t){return t.get("active")});return!1},getEnrolledSessions:function getEnrolledSessions(){return this.get("memberships").getEnrolledSessions()},getVCSessions:function getVCSessions(){return this.get("details.sessions")?this.get("details.sessions").getVCSessions():[]},getUpcomingVCSessions:function getUpcomingVCSessions(){return new r(this.getVCSessions().filter(function(t){var e=this.isEnrolledInVCSession(t),s=(1===t.get("status")||this.isEnrolledInSession(t))&&!!t.get("vcDetails.vcRegistrationOpen");return e||s},this))},isEnrolledInVCSession:function isEnrolledInVCSession(t){return this.get("memberships")?!this.get("memberships").getMembershipsForVCSession(t).isEmpty():!1},isEnrolledInSession:function isEnrolledInSession(e){var t=this.get("memberships");return t?!t.getMembershipsForSession(e).isEmpty():!1},isFlaggedForNoPayment:function isFlaggedForNoPayment(){var t=!1,s=_(o.topicsFlaggedForNoPayment).contains(this.get("slug")),e=this.getFirstSpecialization();return e&&(t=e.isFlaggedForNoPayment()),s||t},hasPassed:function hasPassed(t){return this.has("memberships")&&this.get("memberships").any(function(e){return e.hasPassed(t)})},getPassedMembership:function getPassedMembership(){return this.get("memberships").find(function(t){return t.hasPassed(!0)})},courseLengthInWeeks:function courseLengthInWeeks(){return this.get("details.upcomingSession.durationWeeks")},getRealInstructors:function getRealInstructors(){return this.get("instructors").reject(function(t){return""===t.getFullName().trim()})},getFirstSpecialization:function getFirstSpecialization(){return this.isOnDemand()?this.get("s12ns")&&this.get("s12ns").first():this.get("specializations")&&this.get("specializations").first()},isOnDemandPreEnroll:function isOnDemandPreEnroll(){return this.isOnDemand()&&"preenroll"===this.get("courseStatus")},getPlannedLaunchDate:function getPlannedLaunchDate(){return this.get("v2Details.plannedLaunchDate")}});n.NOT_FOUND=new n("notfound"),module.exports=n});
define("bundles/catalogP/models/courses",["require","exports","module","moment","underscore","bundles/catalogP/models/catalogCollection","bundles/catalogP/models/course"],function(require,exports,module){var e=require("moment"),_=require("underscore"),r=require("bundles/catalogP/models/catalogCollection"),o=require("bundles/catalogP/models/course"),t=r.extend({model:o,resourceName:"courses.v1",RECENT_COURSE_CUTOFF:7,sortCourses:function sortCourses(){var r=e().subtract(this.RECENT_COURSE_CUTOFF,"days"),o=this.filter(function(t){return t.isOnDemand()}),n=this.chain().filter(function(t){return t.getStartDate()&&t.getStartDate().isAfter(r)}).sortBy(function(t){return t.getStartDate()}).value(),a=this.chain().filter(function(t){return t.getStartDate()&&t.getStartDate().isBefore(r)}).sortBy(function(t){return-1*t.getStartDate()}).value(),s=this.filter(function(t){return void 0===t.getStartDate()}),u=_.union(o,n,a,s);return new t(u)}});module.exports=t});
define("pages/open-course/common/data/courseProgress",["require","exports","module","q","bundles/phoenix/template/models/userIdentity","pages/open-course/common/api"],function(require,exports,module){var e=require("q"),o=require("bundles/phoenix/template/models/userIdentity"),s=require("pages/open-course/common/api");module.exports=function(n){return o.get("id")?e(s.get("user/"+o.get("id")+"/course/"+n)):e.fcall(function(){return{modules:{},lessons:{},items:{}}})}});

define("pages/open-course/common/models/progress",["require","exports","module","backbone-associations","underscore","pages/open-course/common/constants"],function(require,exports,module){var Backbone=require("backbone-associations"),_=require("underscore"),t=require("pages/open-course/common/constants"),e=function stateToPercent(e){switch(e){case t.progressCompleted:return 100;case t.progressStarted:return 50;case t.progressNotStarted:return 0;default:throw new Error("Unknown progressState: "+e)}},r=function percentToState(e){return 100===e?t.progressCompleted:e>0&&100>e?t.progressStarted:t.progressNotStarted},n=Backbone.AssociatedModel.extend({initialize:function initialize(t){_.isObject(t)&&(_.has(t,"progressState")?this.setState(t.progressState):_.has(t,"completionPercent")&&this.setPercent(t.completionPercent))},getState:function getState(){return this.get("progressState")},setState:function setState(t,r){var n=r||{};return this.set({progressState:t,completionPercent:e(t)},n),this},getPercent:function getPercent(){return this.get("completionPercent")},setPercent:function setPercent(t){return this.set({progressState:r(t),completionPercent:t}),this},getContent:function getContent(){return this.get("content")},getDefinition:function getDefinition(r){var t=this.getContent(),e=t&&t.definition;return e&&e[r]},getPercentString:function getPercentString(){return this.getPercent()+"%"},getPercentDegrees:function getPercentDegrees(){return this.getPercent()/100*360},isComplete:function isComplete(){return this.getState()===t.progressCompleted},hasStarted:function hasStarted(){return this.getState()===t.progressStarted},hasNotStarted:function hasNotStarted(){return!(this.isComplete()||this.hasStarted())},getTimestamp:function getTimestamp(){return this.get("timestamp")}});module.exports=n});
define("pages/open-course/outline/views/progressBarVariant",["require","exports","module","js/lib/coursera.ab","underscore","pages/open-course/common/constants","bundles/phoenix/template/models/userIdentity"],function(require,exports,module){var s=require("js/lib/coursera.ab"),_=require("underscore"),e=require("pages/open-course/common/constants"),n=require("bundles/phoenix/template/models/userIdentity"),r={get:function get(){var e="control";return this.isLoggedIn()&&this.isValidCourse()&&(e=s.user.getExperiment("lesson_progress_bar").getChosenVariant()),e},isValidCourse:function isValidCourse(){var s=e.showLessonProgressBar[e.config.environment];return _(s).contains(e.courseSlug)},isLoggedIn:function isLoggedIn(){return n.get("authenticated")},convert:function convert(e){this.isValidCourse()&&this.isLoggedIn()&&s.user.getExperiment("lesson_progress_bar").convert(e)}};module.exports=r});
define("pages/open-course/common/models/courseProgress",["require","exports","module","backbone-associations","underscore","pages/open-course/common/constants","memoize!pages/open-course/common/data/courseProgress","pages/open-course/common/models/progress","pages/open-course/outline/views/progressBarVariant","js/app/multitrackerSingleton"],function(require,exports,module){var Backbone=require("backbone-associations"),_=require("underscore"),e=require("pages/open-course/common/constants"),n=require("memoize!pages/open-course/common/data/courseProgress"),t=require("pages/open-course/common/models/progress"),o=require("pages/open-course/outline/views/progressBarVariant"),r=require("js/app/multitrackerSingleton"),s=Backbone.AssociatedModel.extend({resourceName:"onDemandCoursesProgress.v1",defaults:{items:{},lessons:{}},initialize:function initialize(){this.progressMapping={},this.completedLessons=this.calculateCompletedLessons(),this.completedModules=this.calculateCompletedModules(),this.on("refresh",this.refresh,this)},hasStarted:function hasStarted(){return this.get("overall")>0},checkLessonCompletion:function checkLessonCompletion(){var t=this.calculateCompletedLessons(),s=_.difference(t,this.completedLessons);0!==s.length&&(this.completedLessons=t,o.convert("lesson_completed"),r.pushV2(["open_course.lesson.complete",{lesson_id:s[0],open_course_slug:e.courseSlug}]))},checkModuleCompletion:function checkModuleCompletion(){var t=this.calculateCompletedModules(),s=_.difference(t,this.completedModules);0!==s.length&&(this.completedModules=t,o.convert("module_completed"),r.pushV2(["open_course.module.complete",{module_id:s[0],open_course_slug:e.courseSlug}]))},_calculateCompleted:function _calculateCompleted(e){return _(this.get(e)).chain().pairs().filter(function(e){return 100===e[1]}).map(function(e){return e[0]}).value()},calculateCompletedLessons:function calculateCompletedLessons(){return this._calculateCompleted("lessons")},calculateCompletedModules:function calculateCompletedModules(){return this._calculateCompleted("modules")},refresh:function refresh(){var t=n.force(e.courseSlug).then(function(e){return this.set(e),this.updateItemProgresses(),this.checkLessonCompletion(),this.checkModuleCompletion(),this.trigger("refreshed"),this}.bind(this));return t.done(),t},getNextUpItem:function getNextUpItem(){return this.get("nextItem")},hasItem:function hasItem(e){return _(this.get("items")).has(e)},getItem:function getItem(e){return this.get("items")[e]},getItemProgressAttributes:function getItemProgressAttributes(t){var s={id:t,timestamp:Date.now(),progressState:e.progressNotStarted};return this.hasItem(t)&&_(s).extend(this.getItem(t)),s},getItemProgress:function getItemProgress(e){if(!this.progressMapping[e]){var o=this.getItemProgressAttributes(e),s=new t(o);this.listenTo(s,"change:progressState",function(t,s,e){e.refreshCourseProgress&&this.trigger("refresh")}.bind(this)),this.progressMapping[e]=s}return this.progressMapping[e]},updateItemProgresses:function updateItemProgresses(){_(this.progressMapping).each(function(t,e){var s=this.getItemProgressAttributes(e);t.setState(s.progressState,{refreshCourseProgress:!1}),this.hasItem(e)&&t.set(this.getItem(e))}.bind(this))},hasModule:function hasModule(e){return _(this.get("modules")).has(e)},getModuleCompletionPercent:function getModuleCompletionPercent(e){return this.get("modules")[e]},getModuleProgress:function getModuleProgress(e){var s=0;return this.hasModule(e)&&(s=this.getModuleCompletionPercent(e)),new t({id:e,timestamp:Date.now(),completionPercent:s})},getOverallProgressPercent:function getOverallProgressPercent(){var e=_(this.get("modules")).keys().length;return e?_(this.get("modules")).reduce(function(e,t,s){return e+t},0)/e:0},getProgressForLesson:function getProgressForLesson(s){var e=this.get("lessons")[s],t;return t=100===e?"Completed":e>0?"Started":"NotStarted",{completionPercent:e,progressState:t}},getItemProgressesForLesson:function getItemProgressesForLesson(e){var t=e.get("elements"),s=t.map(function(e){var t=this.getItemProgress(e.get("id"));return{item:e,progress:t}}.bind(this));return s},getNextItemForLesson:function getNextItemForLesson(e){var t=this.getItemProgressesForLesson(e);return _(t).find(function(e){return"Completed"!==e.progress.getState()})}}),i={hasNotStarted:function hasNotStarted(){return!0},getNextUpItem:function getNextUpItem(){return!1},getItemProgress:function getItemProgress(s){return new t({id:s,timestamp:Date.now(),progressState:e.progressNotStarted})},getModuleProgress:function getModuleProgress(e){return new t({id:e,timestamp:Date.now(),completionPercent:0})}};s.nullProgressSingleton=Object.freeze(_({}).extend(new s,i)),module.exports=s});
define("bundles/catalogP/models/courseProgress",["require","exports","module","bundles/catalogP/models/catalogCollection","pages/open-course/common/models/courseProgress"],function(require,exports,module){var e=require("bundles/catalogP/models/catalogCollection"),o=require("pages/open-course/common/models/courseProgress"),s=e.extend({model:o,resourceName:"onDemandCoursesProgress.v1"});module.exports=s});
define("bundles/catalogP/models/courseList",["require","exports","module","bundles/catalogP/models/catalogModel"],function(require,exports,module){var e=require("bundles/catalogP/models/catalogModel");module.exports=e.extend({includes:{courses:{resource:"courses.v1",attribute:"courseIds"},partners:{resource:"partners.v1",attribute:"partnerIds"}},resourceName:"courseLists.v1"})});
define("bundles/catalogP/models/courseLists",["require","exports","module","bundles/catalogP/models/catalogCollection","bundles/catalogP/models/courseList"],function(require,exports,module){var e=require("bundles/catalogP/models/catalogCollection"),o=require("bundles/catalogP/models/courseList"),s=e.extend({model:o,resourceName:"courseLists.v1"});module.exports=s});
define("bundles/catalogP/models/language",["require","exports","module","i18n!js/json/nls/languages","bundles/catalogP/models/catalogModel"],function(require,exports,module){var e=require("i18n!js/json/nls/languages"),s=require("bundles/catalogP/models/catalogModel"),a=s.extend({fields:["name"],resourceName:"languages.v1",get:function get(a){var s=this.constructor.__super__.get.apply(this,arguments);switch(a){case"name":return e(s);default:return s}},getUnlocalizedName:function getUnlocalizedName(){return this.constructor.__super__.get.apply(this,"name")}});module.exports=a});
define("bundles/catalogP/models/languages",["require","exports","module","bundles/catalogP/lib/stringifyList","bundles/catalogP/models/catalogCollection","bundles/catalogP/models/language"],function(require,exports,module){var e=require("bundles/catalogP/lib/stringifyList"),l=require("bundles/catalogP/models/catalogCollection"),a=require("bundles/catalogP/models/language"),t=l.extend({model:a,resourceName:"languages.v1",getLanguagesString:function getLanguagesString(){return e(this.pluck("name"))}});module.exports=t});
define("bundles/catalogP/models/v1Detail",["require","exports","module","bundles/catalogP/models/catalogModel"],function(require,exports,module){var e=require("bundles/catalogP/models/catalogModel"),s=e.extend({fields:["classId","aboutTheCourse","aboutTheInstructor","courseFormat","courseSyllabus","faq","recommendedBackground","shortDescription","readings","video"],includes:{sessions:{resource:"v1Sessions.v1",attribute:"sessionIds"},upcomingSession:{resource:"v1Sessions.v1",attribute:"upcomingSessionId"}},resourceName:"v1Details.v1"});module.exports=s});
define("bundles/catalogP/models/v1Details",["require","exports","module","bundles/catalogP/models/catalogCollection","bundles/catalogP/models/v1Detail"],function(require,exports,module){var e=require("bundles/catalogP/models/catalogCollection"),l=require("bundles/catalogP/models/v1Detail"),o=e.extend({model:l,resourceName:"v1details.v1"});module.exports=o});
define("bundles/catalogP/models/v2Detail",["require","exports","module","bundles/catalogP/models/catalogModel"],function(require,exports,module){var e=require("bundles/catalogP/models/catalogModel"),s=e.extend({fields:["plannedLaunchDate"],includes:{sessions:{resource:"onDemandSessions.v1",attribute:"onDemandSessions"}},resourceName:"v2Details.v1"});module.exports=s});
define("bundles/catalogP/models/v2Details",["require","exports","module","bundles/catalogP/models/catalogCollection","bundles/catalogP/models/v2Detail"],function(require,exports,module){var e=require("bundles/catalogP/models/catalogCollection"),l=require("bundles/catalogP/models/v2Detail"),o=e.extend({model:l,resourceName:"v2Details.v1"});module.exports=o});
define("js/json/nls/categories",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define("bundles/catalogP/models/category",["require","exports","module","bundles/catalogP/models/catalogModel","i18n!js/json/nls/categories"],function(require,exports,module){var e=require("bundles/catalogP/models/catalogModel"),s=require("i18n!js/json/nls/categories"),t=e.extend({resourceName:"categories.v1",get:function get(t){var e=this.constructor.__super__.get.apply(this,arguments);switch(t){case"name":return s(e);default:return e}}});module.exports=t});
define("bundles/catalogP/models/categories",["require","exports","module","bundles/catalogP/models/catalogCollection","bundles/catalogP/models/category"],function(require,exports,module){var e=require("bundles/catalogP/models/catalogCollection"),o=require("bundles/catalogP/models/category"),l=e.extend({model:o,resourceName:"categories.v1"});module.exports=l});
define("bundles/catalogP/models/specializations",["require","exports","module","bundles/catalogP/models/catalogCollection","bundles/catalogP/models/specialization"],function(require,exports,module){var e=require("bundles/catalogP/models/catalogCollection"),l=require("bundles/catalogP/models/specialization"),o=e.extend({model:l,resourceName:"specializations.v1",includes:{}});module.exports=o});
define("bundles/phoenix/template/models/backbone.immutable",["require","exports","module"],function(require,exports,module){function makeImmutableModel(e){var t=e.prototype.initialize;return e.extend({initialize:function initialize(){t&&t.apply(this,arguments),this.set=function(){console.error("set called on immutable model")}}})}module.exports=makeImmutableModel});
define("bundles/thirdPartyAuth/constants",["require","exports","module","js/app/config"],function(require,exports,module){var e=require("js/app/config");module.exports={config:e,naptimeResource:"thirdPartyAccounts.v1",authApi:"thirdpartyauth.v1/web",linkApi:"thirdpartyauth.v1/link",authTypes:["facebook"],facebook:{loginParams:{scope:"public_profile,email,user_friends,user_education_history,user_work_history",return_scopes:!0}}}});
define("bundles/thirdPartyAuth/api",["require","exports","module","q","underscore","bundles/thirdPartyAuth/constants","js/lib/memoize","js/lib/path","pages/auth/common/api/api"],function(require,exports,module){var r=require("q"),_=require("underscore"),t=require("bundles/thirdPartyAuth/constants"),a=require("js/lib/memoize"),i=require("js/lib/path"),n=require("pages/auth/common/api/api"),e=function _apiCall(i){for(var e=arguments.length,a=Array(e>1?e-1:0),t=1;e>t;t++)a[t-1]=arguments[t];return r(n[i].apply(n,a)).then(function(t){try{return _.isString(t)?JSON.parse(t):t}catch(e){return t}})["catch"](function(t){try{return r.reject(JSON.parse(t.responseText))}catch(e){return r.reject({code:t.responseText})}})};module.exports={list:a(function(){return e("get",t.naptimeResource)}),login:function login(r){return e("post",t.authApi,{data:r})},link:function link(r){return e("post",t.linkApi,{data:r})},delink:function delink(r,n){var a=i.join(t.naptimeResource,r);return e("delete",a,{data:n})}}});
define("bundles/socialPlugins/constants",["require","exports","module","js/app/config"],function(require,exports,module){var e=require("js/app/config"),n="development"==e.environment?"823600451039783":"823425307723964";module.exports={config:e,facebook:{init:{appId:n,status:!0,xfbml:!0,version:"v2.4"}}}});
define("js/constants/cloudfront",["require","exports","module"],function(require,exports,module){var t={prodAssetsRoot:"https://d3njjcbhbojbot.cloudfront.net/web"};module.exports=t});
define("js/components/Imgix",["require","exports","module","react-with-addons","js/lib/imgix","js/lib/path","js/constants/cloudfront"],function(require,exports,module){var s=require("react-with-addons"),r=require("js/lib/imgix"),i=require("js/lib/path"),e=require("js/constants/cloudfront"),p=e.prodAssetsRoot,t=s.createClass({displayName:"Imgix",propTypes:{src:s.PropTypes.string.isRequired,alt:s.PropTypes.string.isRequired,width:s.PropTypes.number,height:s.PropTypes.number,imgParams:s.PropTypes.object,className:s.PropTypes.string},mixins:[s.addons.PureRenderMixin],getOptimizedSrcs:function getOptimizedSrcs(){if(!this.props.src)return{};var e="http"===this.props.src.slice(0,4)||"//"===this.props.src.slice(0,2),s=e?this.props.src:i.join(p,this.props.src),t=Object.assign({width:this.props.width,height:this.props.height},this.props.imgParams);return{dpr1:r.processImage(s,Object.assign(t,{dpr:1})),dpr2:r.processImage(s,Object.assign(t,{dpr:2})),dpr3:r.processImage(s,Object.assign(t,{dpr:3}))}},render:function render(){var r=this.getOptimizedSrcs(),t=r.dpr2+" 2x, "+r.dpr3+" 3x";return s.createElement("img",{src:r.dpr1,srcSet:t,className:this.props.className,width:this.props.width,height:this.props.height,style:{maxWidth:this.props.width,maxHeight:this.props.height},alt:this.props.alt})}});t.DECORATIVE="",module.exports=t});
define("js/vendor/qrcode",["require","exports","module"],function(require,exports,module){var t;!function(){function QR8bitByte(o){this.mode=n.MODE_8BIT_BYTE,this.data=o,this.parsedData=[];for(var r=0,i=this.data.length;i>r;r++){var e=[],t=this.data.charCodeAt(r);t>65536?(e[0]=240|(1835008&t)>>>18,e[1]=128|(258048&t)>>>12,e[2]=128|(4032&t)>>>6,e[3]=128|63&t):t>2048?(e[0]=224|(61440&t)>>>12,e[1]=128|(4032&t)>>>6,e[2]=128|63&t):t>128?(e[0]=192|(1984&t)>>>6,e[1]=128|63&t):e[0]=t,this.parsedData.push(e)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function QRCodeModel(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function QRPolynomial(t,o){if(void 0==t.length)throw new Error(t.length+"/"+o);for(var e=0;e<t.length&&0==t[e];)e++;this.num=new Array(t.length-e+o);for(var r=0;r<t.length-e;r++)this.num[r]=t[r+e]}function QRRSBlock(t,e){this.totalCount=t,this.dataCount=e}function QRBitBuffer(){this.buffer=[],this.length=0}function _isSupportCanvas(){return"undefined"!=typeof CanvasRenderingContext2D}function _getAndroid(){var t=!1,r=navigator.userAgent;if(/android/i.test(r)){t=!0;var e=r.toString().match(/android ([0-9]\.[0-9])/i);e&&e[1]&&(t=parseFloat(e[1]))}return t}function _getTypeNumber(o,n){for(var r=1,a=_getUTF8Length(o),t=0,h=s.length;h>=t;t++){var e=0;switch(n){case i.L:e=s[t][0];break;case i.M:e=s[t][1];break;case i.Q:e=s[t][2];break;case i.H:e=s[t][3]}if(e>=a)break;r++}if(r>s.length)throw new Error("Too long data");return r}function _getUTF8Length(t){var e=encodeURI(t).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return e.length+(e.length!=t?3:0)}QR8bitByte.prototype={getLength:function(t){return this.parsedData.length},write:function(e){for(var t=0,r=this.parsedData.length;r>t;t++)e.put(this.parsedData[t],8)}},QRCodeModel.prototype={addData:function(t){var e=new QR8bitByte(t);this.dataList.push(e),this.dataCache=null},isDark:function(t,e){if(0>t||this.moduleCount<=t||0>e||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(r,o){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var t=0;t<this.moduleCount;t++){this.modules[t]=new Array(this.moduleCount);for(var e=0;e<this.moduleCount;e++)this.modules[t][e]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(r,o),this.typeNumber>=7&&this.setupTypeNumber(r),null==this.dataCache&&(this.dataCache=QRCodeModel.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,o)},setupPositionProbePattern:function(r,o){for(var t=-1;7>=t;t++){if(-1>=r+t||this.moduleCount<=r+t)continue;for(var e=-1;7>=e;e++){if(-1>=o+e||this.moduleCount<=o+e)continue;t>=0&&6>=t&&(0==e||6==e)||e>=0&&6>=e&&(0==t||6==t)||t>=2&&4>=t&&e>=2&&4>=e?this.modules[r+t][o+e]=!0:this.modules[r+t][o+e]=!1}}},getBestMaskPattern:function(){for(var r=0,o=0,t=0;8>t;t++){this.makeImpl(!0,t);var n=e.getLostPoint(this);(0==t||r>n)&&(r=n,o=t)}return o},createMovieClip:function(a,s,h){var t=a.createEmptyMovieClip(s,h),e=1;this.make();for(var r=0;r<this.modules.length;r++)for(var o=r*e,n=0;n<this.modules[r].length;n++){var i=n*e,u=this.modules[r][n];u&&(t.beginFill(0,100),t.moveTo(i,o),t.lineTo(i+e,o),t.lineTo(i+e,o+e),t.lineTo(i,o+e),t.endFill())}return t},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++){if(null!=this.modules[t][6])continue;this.modules[t][6]=t%2==0}for(var e=8;e<this.moduleCount-8;e++){if(null!=this.modules[6][e])continue;this.modules[6][e]=e%2==0}},setupPositionAdjustPattern:function(){for(var o=e.getPatternPosition(this.typeNumber),n=0;n<o.length;n++)for(var i=0;i<o.length;i++){var a=o[n],s=o[i];if(null!=this.modules[a][s])continue;for(var t=-2;2>=t;t++)for(var r=-2;2>=r;r++)-2==t||2==t||-2==r||2==r||0==t&&0==r?this.modules[a+t][s+r]=!0:this.modules[a+t][s+r]=!1}},setupTypeNumber:function(r){for(var o=e.getBCHTypeNumber(this.typeNumber),t=0;18>t;t++){var n=!r&&1==(o>>t&1);this.modules[Math.floor(t/3)][t%3+this.moduleCount-8-3]=n}for(var t=0;18>t;t++){var n=!r&&1==(o>>t&1);this.modules[t%3+this.moduleCount-8-3][Math.floor(t/3)]=n}},setupTypeInfo:function(o,i){for(var a=this.errorCorrectLevel<<3|i,n=e.getBCHTypeInfo(a),t=0;15>t;t++){var r=!o&&1==(n>>t&1);6>t?this.modules[t][8]=r:8>t?this.modules[t+1][8]=r:this.modules[this.moduleCount-15+t][8]=r}for(var t=0;15>t;t++){var r=!o&&1==(n>>t&1);8>t?this.modules[8][this.moduleCount-t-1]=r:9>t?this.modules[8][15-t-1+1]=r:this.modules[8][15-t-1]=r}this.modules[this.moduleCount-8][8]=!o},mapData:function(h,u){for(var n=-1,t=this.moduleCount-1,i=7,s=0,r=this.moduleCount-1;r>0;r-=2)for(6==r&&r--;;){for(var o=0;2>o;o++)if(null==this.modules[t][r-o]){var a=!1;s<h.length&&(a=1==(h[s]>>>i&1));var l=e.getMask(u,t,r-o);l&&(a=!a),this.modules[t][r-o]=a,i--,-1==i&&(s++,i=7)}if(t+=n,0>t||this.moduleCount<=t){t-=n,n=-n;break}}}},QRCodeModel.PAD0=236,QRCodeModel.PAD1=17,QRCodeModel.createData=function(a,h,s){for(var i=QRRSBlock.getRSBlocks(a,h),t=new QRBitBuffer,r=0;r<s.length;r++){var n=s[r];t.put(n.mode,4),t.put(n.getLength(),e.getLengthInBits(n.mode,a)),n.write(t)}for(var o=0,r=0;r<i.length;r++)o+=i[r].dataCount;if(t.getLengthInBits()>8*o)throw new Error("code length overflow. ("+t.getLengthInBits()+">"+8*o+")");for(t.getLengthInBits()+4<=8*o&&t.put(0,4);t.getLengthInBits()%8!=0;)t.putBit(!1);for(;;){if(t.getLengthInBits()>=8*o)break;if(t.put(QRCodeModel.PAD0,8),t.getLengthInBits()>=8*o)break;t.put(QRCodeModel.PAD1,8)}return QRCodeModel.createBytes(t,i)},QRCodeModel.createBytes=function(C,o){for(var c=0,u=0,h=0,n=new Array(o.length),i=new Array(o.length),t=0;t<o.length;t++){var a=o[t].dataCount,f=o[t].totalCount-a;u=Math.max(u,a),h=Math.max(h,f),n[t]=new Array(a);for(var r=0;r<n[t].length;r++)n[t][r]=255&C.buffer[r+c];c+=a;var l=e.getErrorCorrectPolynomial(f),v=new QRPolynomial(n[t],l.getLength()-1),d=v.mod(l);i[t]=new Array(l.getLength()-1);for(var r=0;r<i[t].length;r++){var p=r+d.getLength()-i[t].length;i[t][r]=p>=0?d.get(p):0}}for(var m=0,r=0;r<o.length;r++)m+=o[r].totalCount;for(var s=new Array(m),g=0,r=0;u>r;r++)for(var t=0;t<o.length;t++)r<n[t].length&&(s[g++]=n[t][r]);for(var r=0;h>r;r++)for(var t=0;t<o.length;t++)r<i[t].length&&(s[g++]=i[t][r]);return s};for(var n={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},i={L:1,M:0,Q:3,H:2},a={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},e={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(r){for(var t=r<<10;e.getBCHDigit(t)-e.getBCHDigit(e.G15)>=0;)t^=e.G15<<e.getBCHDigit(t)-e.getBCHDigit(e.G15);return(r<<10|t)^e.G15_MASK},getBCHTypeNumber:function(r){for(var t=r<<12;e.getBCHDigit(t)-e.getBCHDigit(e.G18)>=0;)t^=e.G18<<e.getBCHDigit(t)-e.getBCHDigit(e.G18);return r<<12|t},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return e.PATTERN_POSITION_TABLE[t-1]},getMask:function(r,t,e){switch(r){case a.PATTERN000:return(t+e)%2==0;case a.PATTERN001:return t%2==0;case a.PATTERN010:return e%3==0;case a.PATTERN011:return(t+e)%3==0;case a.PATTERN100:return(Math.floor(t/2)+Math.floor(e/3))%2==0;case a.PATTERN101:return t*e%2+t*e%3==0;case a.PATTERN110:return(t*e%2+t*e%3)%2==0;case a.PATTERN111:return(t*e%3+(t+e)%2)%2==0;default:throw new Error("bad maskPattern:"+r)}},getErrorCorrectPolynomial:function(o){for(var t=new QRPolynomial([1],0),e=0;o>e;e++)t=t.multiply(new QRPolynomial([1,r.gexp(e)],0));return t},getLengthInBits:function(t,e){if(e>=1&&10>e)switch(t){case n.MODE_NUMBER:return 10;case n.MODE_ALPHA_NUM:return 9;case n.MODE_8BIT_BYTE:return 8;case n.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(27>e)switch(t){case n.MODE_NUMBER:return 12;case n.MODE_ALPHA_NUM:return 11;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(41>e))throw new Error("type:"+e);switch(t){case n.MODE_NUMBER:return 14;case n.MODE_ALPHA_NUM:return 13;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(r){for(var o=r.getModuleCount(),s=0,t=0;o>t;t++)for(var e=0;o>e;e++){for(var h=0,f=r.isDark(t,e),n=-1;1>=n;n++){if(0>t+n||t+n>=o)continue;for(var i=-1;1>=i;i++){if(0>e+i||e+i>=o)continue;if(0==n&&0==i)continue;f==r.isDark(t+n,e+i)&&h++}}h>5&&(s+=3+h-5)}for(var t=0;o-1>t;t++)for(var e=0;o-1>e;e++){var a=0;r.isDark(t,e)&&a++,r.isDark(t+1,e)&&a++,r.isDark(t,e+1)&&a++,r.isDark(t+1,e+1)&&a++,(0==a||4==a)&&(s+=3)}for(var t=0;o>t;t++)for(var e=0;o-6>e;e++)r.isDark(t,e)&&!r.isDark(t,e+1)&&r.isDark(t,e+2)&&r.isDark(t,e+3)&&r.isDark(t,e+4)&&!r.isDark(t,e+5)&&r.isDark(t,e+6)&&(s+=40);for(var e=0;o>e;e++)for(var t=0;o-6>t;t++)r.isDark(t,e)&&!r.isDark(t+1,e)&&r.isDark(t+2,e)&&r.isDark(t+3,e)&&r.isDark(t+4,e)&&!r.isDark(t+5,e)&&r.isDark(t+6,e)&&(s+=40);for(var u=0,e=0;o>e;e++)for(var t=0;o>t;t++)r.isDark(t,e)&&u++;var l=Math.abs(100*u/o/o-50)/5;return s+=10*l}},r={glog:function(t){if(1>t)throw new Error("glog("+t+")");return r.LOG_TABLE[t]},gexp:function(t){for(;0>t;)t+=255;for(;t>=256;)t-=255;return r.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},o=0;8>o;o++)r.EXP_TABLE[o]=1<<o;for(var o=8;256>o;o++)r.EXP_TABLE[o]=r.EXP_TABLE[o-4]^r.EXP_TABLE[o-5]^r.EXP_TABLE[o-6]^r.EXP_TABLE[o-8];for(var o=0;255>o;o++)r.LOG_TABLE[r.EXP_TABLE[o]]=o;QRPolynomial.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(o){for(var n=new Array(this.getLength()+o.getLength()-1),t=0;t<this.getLength();t++)for(var e=0;e<o.getLength();e++)n[t+e]^=r.gexp(r.glog(this.get(t))+r.glog(o.get(e)));return new QRPolynomial(n,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var n=r.glog(this.get(0))-r.glog(e.get(0)),o=new Array(this.getLength()),t=0;t<this.getLength();t++)o[t]=this.get(t);for(var t=0;t<e.getLength();t++)o[t]^=r.gexp(r.glog(e.get(t))+n);return new QRPolynomial(o,0).mod(e)}},QRRSBlock.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],QRRSBlock.getRSBlocks=function(r,o){var t=QRRSBlock.getRsBlockTable(r,o);if(void 0==t)throw new Error("bad rs block @ typeNumber:"+r+"/errorCorrectLevel:"+o);for(var a=t.length/3,n=[],e=0;a>e;e++)for(var s=t[3*e+0],h=t[3*e+1],u=t[3*e+2],i=0;s>i;i++)n.push(new QRRSBlock(h,u));return n},QRRSBlock.getRsBlockTable=function(t,e){switch(e){case i.L:return QRRSBlock.RS_BLOCK_TABLE[4*(t-1)+0];case i.M:return QRRSBlock.RS_BLOCK_TABLE[4*(t-1)+1];case i.Q:return QRRSBlock.RS_BLOCK_TABLE[4*(t-1)+2];case i.H:return QRRSBlock.RS_BLOCK_TABLE[4*(t-1)+3];default:return void 0}},QRBitBuffer.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(r,e){for(var t=0;e>t;t++)this.putBit(1==(r>>>e-t-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var s=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]],h=function(){var t=function(t,e){this._el=t,this._htOption=e};return t.prototype.draw=function(i){function makeSVG(o,t){var r=document.createElementNS("http://www.w3.org/2000/svg",o);for(var e in t)t.hasOwnProperty(e)&&r.setAttribute(e,t[e]);return r}var e=this._htOption,s=this._el,t=i.getModuleCount(),u=Math.floor(e.width/t),h=Math.floor(e.height/t);this.clear();var r=makeSVG("svg",{viewBox:"0 0 "+String(t)+" "+String(t),width:"100%",height:"100%",fill:e.colorLight});r.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),s.appendChild(r),r.appendChild(makeSVG("rect",{fill:e.colorLight,width:"100%",height:"100%"})),r.appendChild(makeSVG("rect",{fill:e.colorDark,width:"1",height:"1",id:"template"}));for(var n=0;t>n;n++)for(var o=0;t>o;o++)if(i.isDark(n,o)){var a=makeSVG("use",{x:String(n),y:String(o)});a.setAttributeNS("http://www.w3.org/1999/xlink","href","#template"),r.appendChild(a)}},t.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)},t}(),l="svg"===document.documentElement.tagName.toLowerCase(),u=l?h:_isSupportCanvas()?function(){function _onMakeImage(){this._elImage.src=this._elCanvas.toDataURL("image/png"),this._elImage.style.display="block",this._elCanvas.style.display="none"}function _safeSetDataURI(o,n){var t=this;if(t._fFail=n,t._fSuccess=o,null===t._bSupportDataURI){var e=document.createElement("img"),r=function(){t._bSupportDataURI=!1,t._fFail&&t._fFail.call(t)},i=function(){t._bSupportDataURI=!0,t._fSuccess&&t._fSuccess.call(t)};return e.onabort=r,e.onerror=r,e.onload=i,void(e.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==")}t._bSupportDataURI===!0&&t._fSuccess?t._fSuccess.call(t):t._bSupportDataURI===!1&&t._fFail&&t._fFail.call(t)}if(_getAndroid()&&_getAndroid()<=2.1){var e=1/window.devicePixelRatio,r=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(o,i,a,s,h,u,l,n,f){if("nodeName"in o&&/img/i.test(o.nodeName))for(var t=arguments.length-1;t>=1;t--)arguments[t]=arguments[t]*e;else"undefined"==typeof n&&(arguments[1]*=e,arguments[2]*=e,arguments[3]*=e,arguments[4]*=e);r.apply(this,arguments)}}var t=function(e,t){this._bIsPainted=!1,this._htOption=t,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=t.width,this._elCanvas.height=t.height,e.appendChild(this._elCanvas),this._el=e,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._elImage=document.createElement("img"),this._elImage.alt="Scan me!",this._elImage.style.display="none",this._el.appendChild(this._elImage),this._bSupportDataURI=null};return t.prototype.draw=function(u){var c=this._elImage,t=this._oContext,e=this._htOption,r=u.getModuleCount(),a=e.width/r,s=e.height/r,g=Math.round(a),l=Math.round(s);c.style.display="none",this.clear();for(var o=0;r>o;o++)for(var n=0;r>n;n++){var f=u.isDark(o,n),h=n*a,i=o*s;t.strokeStyle=f?e.colorDark:e.colorLight,t.lineWidth=1,t.fillStyle=f?e.colorDark:e.colorLight,t.fillRect(h,i,a,s),t.strokeRect(Math.floor(h)+.5,Math.floor(i)+.5,g,l),t.strokeRect(Math.ceil(h)-.5,Math.ceil(i)-.5,g,l)}this._bIsPainted=!0},t.prototype.makeImage=function(){this._bIsPainted&&_safeSetDataURI.call(this,_onMakeImage)},t.prototype.isPainted=function(){return this._bIsPainted},t.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},t.prototype.round=function(t){if(!t)return t;return Math.floor(1e3*t)/1e3},t}():function(){var t=function(t,e){this._el=t,this._htOption=e};return t.prototype.draw=function(a){for(var t=this._htOption,h=this._el,r=a.getModuleCount(),f=Math.floor(t.width/r),l=Math.floor(t.height/r),e=['<table style="border:0;border-collapse:collapse;">'],n=0;r>n;n++){e.push("<tr>");for(var i=0;r>i;i++)e.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+f+"px;height:"+l+"px;background-color:"+(a.isDark(n,i)?t.colorDark:t.colorLight)+';"></td>');e.push("</tr>")}e.push("</table>"),h.innerHTML=e.join("");var o=h.childNodes[0],s=(t.width-o.offsetWidth)/2,u=(t.height-o.offsetHeight)/2;s>0&&u>0&&(o.style.margin=u+"px "+s+"px")},t.prototype.clear=function(){this._el.innerHTML=""},t}();t=function(e,t){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:i.H},"string"==typeof t&&(t={text:t}),t)for(var r in t)this._htOption[r]=t[r];"string"==typeof e&&(e=document.getElementById(e)),this._htOption.useSVG&&(u=h),this._el=e,this._oQRCode=null,this._oDrawing=new u(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)},t.prototype.makeCode=function(t){this._oQRCode=new QRCodeModel(_getTypeNumber(t,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(t),this._oQRCode.make(),this._el.title=t,this._oDrawing.draw(this._oQRCode),this.makeImage()},t.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!_getAndroid()||_getAndroid()>=3)&&this._oDrawing.makeImage()},t.prototype.clear=function(){this._oDrawing.clear()},t.CorrectLevel=i}(),module.exports=t});
define('normalize.v0-1-8',[],function(){function convertURIBase(r,n,e){if(r.match(u)||r.match(t))return r;r=s(r);var i=e.match(t),a=n.match(t);return!a||i&&i[1]==a[1]&&i[2]==a[2]?relativeURI(absoluteURI(r,n),e):absoluteURI(r,n)}function absoluteURI(r,n){if("./"==r.substr(0,2)&&(r=r.substr(2)),r.match(u)||r.match(t))return r;var s=n.split("/"),i=r.split("/");for(s.pop();curPart=i.shift();)".."==curPart?s.pop():s.push(curPart);return s.join("/")}function relativeURI(r,t){var s=t.split("/");for(s.pop(),t=s.join("/")+"/",i=0;t.substr(i,1)==r.substr(i,1);)i++;for(;"/"!=t.substr(i,1);)i--;t=t.substr(i+1),r=r.substr(i+1),s=t.split("/");var u=r.split("/");for(out="";s.shift();)out+="../";for(;curPart=u.shift();)out+=curPart+"/";return out.substr(0,out.length-1)}var n=/([^:])\/+/g,s=function(t){return t.replace(n,"$1/")},t=/[^\:\/]*:\/\/([^\/])*/,u=/^(\/|data:)/,r=function(r,i,a){i=s(i),a=s(a);for(var u=/@import\s*("([^"]*)"|'([^']*)')|url\s*\((?!#)\s*(\s*"([^"]*)"|'([^']*)'|[^\)]*\s*)\s*\)/gi,t,n,r;t=u.exec(r);){n=t[3]||t[2]||t[5]||t[6]||t[4];var e;e=convertURIBase(n,i,a);var o=t[5]||t[6]?1:0;r=r.substr(0,u.lastIndex-n.length-o-1)+e+r.substr(u.lastIndex-o-1),u.lastIndex=u.lastIndex+(e.length-n.length)}return r};return r.convertURIBase=convertURIBase,r.absoluteURI=absoluteURI,r.relativeURI=relativeURI,r});
define("css",[],function(){if("undefined"==typeof window)return{load:function(t,n,e){e()}};var l=document.getElementsByTagName("head")[0],e=window.navigator.userAgent.match(/Trident\/([^ ;]*)|AppleWebKit\/([^ ;]*)|Opera\/([^ ;]*)|rv\:([^ ;]*)(.*?)Gecko\/([^ ;]*)|MSIE\s([^ ;]*)|AndroidWebKit\/([^ ;]*)/)||0,s=!1,c=!0;e[1]||e[7]?s=parseInt(e[1])<6||parseInt(e[7])<=9:e[2]||e[8]?c=!1:e[4]&&(s=parseInt(e[4])<18);var o={};o.pluginBuilder="./css-builder.v0-1-8";var t,n,i=function(){t=document.createElement("style"),l.appendChild(t),n=t.styleSheet||t.sheet},a=0,u=[],r,d=function(e){a++,32==a&&(i(),a=0),n.addImport(e),t.onload=function(){f()}},f=function(){r();var e=u.shift();if(!e)return void(r=null);r=e[1],d(e[0])},h=function(e,o){if(n&&n.addImport||i(),n&&n.addImport)r?u.push([e,o]):(d(e),r=o);else{t.textContent='@import "'+e+'";';var s=setInterval(function(){try{t.sheet.cssRules,clearInterval(s),o()}catch(e){}},10)}},p=function(n,t){var e=document.createElement("link");if(e.type="text/css",e.rel="stylesheet",c)e.onload=function(){e.onload=function(){},setTimeout(t,7)};else var r=setInterval(function(){for(var n=0;n<document.styleSheets.length;n++){var o=document.styleSheets[n];if(o.href==e.href)return clearInterval(r),t()}},10);e.href=n,l.appendChild(e)};return o.normalize=function(e,t){return".css"==e.substr(e.length-4,4)&&(e=e.substr(0,e.length-4)),t(e)},o.load=function(e,t,n,r){(s?h:p)(t.toUrl(e+".css"),n)},o});

define('css!bundles/socialPlugins/wechat/__styles__/wechat-button',[],function(){})
define("nls/socialPlugins",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define("bundles/socialPlugins/wechat/wechat-button",["require","exports","module","react-with-addons","js/components/Imgix","js/vendor/qrcode","css!./__styles__/wechat-button.css","i18n!nls/socialPlugins"],function(require,exports,module){var e=require("react-with-addons"),a=require("js/components/Imgix"),n=require("js/vendor/qrcode");require("css!./__styles__/wechat-button.css");var t=require("i18n!nls/socialPlugins"),s=57,d=57,o=90,r=90,i="https://s3.amazonaws.com/coursera_assets/wechat/WeChat-button_20b.png",l=e.createClass({displayName:"QrcodeDiv",componentDidMount:function componentDidMount(){new n(e.findDOMNode(this.refs.wechatQrcode),{text:window.location.href,width:o,height:r})},render:function render(){return e.createElement("div",null,e.createElement("div",{id:"wechat-qrcode",ref:"wechatQrcode"}),e.createElement("div",{className:"wechat-qrcode-message"},e.createElement("span",null,t("Scan QR code using WeChat. "),t('Press the "" menu to share with friends.'))))}}),c=e.createClass({displayName:"WechatButton",getInitialState:function getInitialState(){return{showQrcode:!1}},openQrcode:function openQrcode(){this.setState({showQrcode:!0})},closeQrcode:function closeQrcode(){this.setState({showQrcode:!1})},render:function render(){var t=e.createElement(l,null);return e.createElement("div",null,e.createElement("a",{onClick:this.openQrcode},e.createElement(a,{src:i,alt:"Share on Wechat",imgParams:{width:s,height:d},className:"wechat-image",width:s})),this.state.showQrcode&&e.createElement("div",{className:"wechat-qrcode-container"},t,e.createElement("span",{className:"wechat-qrcode-close",onClick:this.closeQrcode},"X")))}});module.exports=c});
define("bundles/socialPlugins/lib",["require","exports","module","jquery","q","react-with-addons","underscore","bundles/epic/client","bundles/socialPlugins/constants","bundles/socialPlugins/wechat/wechat-button","js/app/multitrackerSingleton","js/lib/api","js/lib/memoize","js/lib/timing","js/lib/language","js/lib/thirdParties"],function(require,exports,module){var $=require("jquery"),t=require("q"),r=require("react-with-addons"),_=require("underscore"),p=require("bundles/epic/client"),d=require("bundles/socialPlugins/constants"),g=require("bundles/socialPlugins/wechat/wechat-button"),b=require("js/app/multitrackerSingleton"),m=require("js/lib/api"),a=require("js/lib/memoize"),i=require("js/lib/timing"),u=require("js/lib/language"),c=require("js/lib/thirdParties"),x=m("",{type:"rest"}),e={},o={facebook:{url:"https://connect.facebook.net/"+u.getFacebookLocaleString()+"/sdk.js",exports:"FB"},gplus:{url:"https://apis.google.com/js/plusone.js?onload=onLoadCallback",exports:"gapi"},twitter:{url:"https://platform.twitter.com/widgets.js",exports:"twttr"},wechat:{url:"https://res.wx.qq.com/open/js/jweixin-1.0.0.js",exports:"wx"}},f=function _reportError(t,e){b.push(["socialPlugins."+t+".error",{type:e.type,name:e.name,message:e.message}])},s=function _isEnabled(e){return p.get("siteMisc",e+"PluginEnabled")},n=function _loadGenerator(e){return a(function(){var n=s(e),t=$.Deferred();return n?(i.time(e),c.loadScript(o[e].url,function(){i.timeEnd(e),t.resolve(window[o[e].exports])},function(t){f(e,t)})):t.reject({plugin:e,code:"notEnabled"}),t})},w=n("facebook"),h=_.once(function(e){e.init(d.facebook.init)});e.facebook=function(e){return w().then(function(t){return h(t),t&&t.XFBML&&t.XFBML.parse&&t.XFBML.parse(e),t})};var j=n("twitter");e.twitter=function(e){return j().then(function(t){return t&&t.widgets&&t.widgets.load&&t.widgets.load(e),t})};var k=n("gplus");e.gplus=function(e){return k().then(function(t){return t&&t.plusone&&t.plusone.go&&t.plusone.go(e),t})};var v=n("wechat");e.wechat=function(o){if(-1===navigator.userAgent.toLowerCase().indexOf("micromessenger"))return t.reject();var e=$(o).find(".wechat-share-button"),n=e.data("title"),i=e.data("link"),r=e.data("imgurl"),s=e.data("description");return t.all([t(x.get("/api/wechatIntegration.v1/"+encodeURIComponent(window.location.href))),v()]).spread(function(e,t){t.config({debug:!1,appId:e.appId,timestamp:e.timestamp,nonceStr:e.noncestr,signature:e.signature,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage"]}),t.ready(function(){t.onMenuShareTimeline({title:n,link:i,imgUrl:r}),t.onMenuShareAppMessage({title:n,desc:s,link:i,imgUrl:r,type:"link"})})})};var l=function _renderWechatQrcode(e){if(s("wechat")){var t=r.createElement(g,null);r.render(t,$(e).find(".wechat-share-button")[0])}};e.load=function(n){return l(n),t.all(t(e.facebook()),t(e.twitter()),t(e.gplus()),t(e.wechat(n)))},module.exports=e});
define("bundles/thirdPartyAuth/facebook",["require","exports","module","underscore","jquery","bundles/epic/client","bundles/socialPlugins/lib","bundles/thirdPartyAuth/constants","js/lib/memoize"],function(require,exports,module){var _=require("underscore"),$=require("jquery"),t=require("bundles/epic/client"),n=require("bundles/socialPlugins/lib"),o=require("bundles/thirdPartyAuth/constants"),i=require("js/lib/memoize"),e={enabled:t.get("authentication","facebookEnabled")};e.init=i(function(){return n.facebook()});var u=function deferResponse(e,t){"connected"===t.status?e.resolve(t):"not_authorized"===t.status?e.reject({code:"notAuthorized"}):e.reject({code:"unknownStatus"})};e.getStatusOrLogin=function(n){var t=$.Deferred();return e.init().then(function(e){e.getLoginStatus(function(i){"connected"===i.status?t.resolve(i):e.login(u.bind(null,t),_.extend({},o.facebook.loginParams,n))})}).fail(t.reject),t.promise()},module.exports=e});
define("bundles/thirdPartyAuth/lib",["require","exports","module","q","underscore","bundles/thirdPartyAuth/api","bundles/thirdPartyAuth/facebook"],function(require,exports,module){var e=require("q"),_=require("underscore"),t=require("bundles/thirdPartyAuth/api"),n=require("bundles/thirdPartyAuth/facebook");exports.facebook=n,exports.connect=function(o,u){return"facebook"===o?e(n.getStatusOrLogin()).then(function(c){var n=c.authResponse,r=_({authType:o,token:n.accessToken}).extend(u||{}),a=(n.grantedScopes||"").split(","),i=_(a).contains("email")||_(a).contains("contact_email");return!_(n||{}).has("grantedScopes")||i||r.email||r.password?t.login(r).then(function(e){return _(e).extend({authType:o,authResponse:n})}):e.reject({code:"noEmailAvailable"})}):e.reject({code:"unknownAuthType",authType:o})},exports.getLinkedAccounts=function(){return t.list()},exports.link=function(o,u){return"facebook"===o?e(n.getStatusOrLogin()).then(function(e){var n=e.authResponse,r=_({authType:o,token:n.accessToken}).extend(u||{});return t.link(r)}):e.reject({code:"unknownAuthType",authType:o})},exports.delink=function(e,n){return t.delink(e,n)}});
define("bundles/adsTracking/eventing",["require","exports","module","q","underscore","js/app/multitrackerSingleton","bundles/adsTracking/tracker"],function(require,exports,module){function Eventing(){e.apply(this,arguments)}var t=require("q"),_=require("underscore"),r=require("js/app/multitrackerSingleton"),e=require("bundles/adsTracking/tracker");Eventing.prototype=new e,Eventing.prototype.send=function(e){var n=t.defer();return r.push(["adstracker."+e.key,_(e).omit("key"),n.resolve]),n.promise},Eventing.prototype.prepareParams=function(t,e){return _({key:t}).extend(e)},Eventing.prototype.trackSignup=function(t){return this.track("signup")},Eventing.prototype.trackEnroll=function(t){return this.track("enroll")},Eventing.prototype._trackPaymentEvent=function(r,i,e,o){var n=this;e=_.isArray(e)?e:[e];var a=_(e).map(function(t){return n.track(r,{id:t.id,value:parseInt(t&&t.value,10)})});return t.allSettled(a)},Eventing.prototype.trackS12NBulkPayment=function(t,e,r){return this._trackPaymentEvent("payment_specialization_bulk_pay",t,e,r)},Eventing.prototype.trackS12NVCPayment=function(t,e,r){return this._trackPaymentEvent("payment_specialization",t,e,r)},Eventing.prototype.trackVCPayment=function(t,e,r){return this._trackPaymentEvent("payment_non_specialization",t,e,r)},module.exports=Eventing});
define("bundles/adsTracking/linkshare",["require","exports","module","jquery","q","underscore","bundles/adsTracking/constants","bundles/adsTracking/tracker","jsuri"],function(require,exports,module){function Linkshare(){e.apply(this,arguments)}var $=require("jquery"),n=require("q"),_=require("underscore"),t=require("bundles/adsTracking/constants"),e=require("bundles/adsTracking/tracker"),a=require("jsuri");Linkshare.prototype=new e;var r={PURCHASE:"purchase"};Linkshare.EVENT_TYPE=r,Linkshare.prototype.send=function(a){var t=n.defer(),e=new window.Image,r=$(e);return e.complete===!0?window.setTimeout(function(){t.resolve({cached:!0})},1):(r.on("load",t.resolve),r.on("error",t.reject)),r.attr({src:a}),t.promise},Linkshare.prototype.prepareParams=function(n){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=_(r).chain().values().contains(n).value();if(s){var u=new a(t.linkshare.baseUrl);return e=Object.assign(t.linkshare.defaultParams,e,{img:"1"}),_(e).reduce(function(t,r,e){return r?t.addQueryParam(e,r):t},u).toString()}};var s=function paymentsInfoToParams(t){return _(t).reduce(function(r,t,e){return _(t).has("id")&&_(t).has("value")&&_(t).has("name")&&_(t).has("type")&&_(t).has("currency")&&(r.skulist=t.id,r.qlist=1,r.amtlist=100*parseInt(t.value,10),r.namelist=t.type+"~"+t.name,r.cur=t.currency),r},{})};Linkshare.prototype.trackSignup=function(r){return this.track(t.signup)},Linkshare.prototype.trackEnroll=function(r){return this.track(t.enroll)},Linkshare.prototype._trackPaymentEvent=function(t,e){return t=_.isArray(t)?t:[t],this.track(r.PURCHASE,_({ord:e}).extend(s(t)))},Linkshare.prototype.trackS12NBulkPayment=function(e,t,r){return this._trackPaymentEvent.call(this,t,r)},Linkshare.prototype.trackS12NVCPayment=function(e,t,r){return this._trackPaymentEvent.call(this,t,r)},Linkshare.prototype.trackVCPayment=function(e,t,r){return this._trackPaymentEvent.call(this,t,r)},module.exports=Linkshare});
define("bundles/adsTracking/nanigans",["require","exports","module","jquery","q","underscore","bundles/adsTracking/constants","bundles/adsTracking/tracker","jsuri"],function(require,exports,module){function Nanigans(){n.apply(this,arguments)}var $=require("jquery"),e=require("q"),_=require("underscore"),r=require("bundles/adsTracking/constants"),n=require("bundles/adsTracking/tracker"),a=require("jsuri");Nanigans.prototype=new n;var t={INSTALL:"install",VISIT:"visit",PURCHASE:"purchase",USER:"user"};Nanigans.EVENT_TYPE=t,Nanigans.prototype.send=function(a){var t=e.defer(),n=new window.Image,r=$(n);return n.complete===!0?window.setTimeout(function(){t.resolve({cached:!0})},1):(r.on("load",t.resolve),r.on("error",t.reject)),r.attr({src:a}),t.promise},Nanigans.prototype.prepareParams=function(e,n,i){var o=_(t).chain().values().contains(e).value();if(!o)return this.throwError("Invalid event type: "+e);if(!n||!_.isString(n))return this.throwError("Missing or invalid event name: "+n);var s=new a(r.nanigans.baseUrl);i=_({type:e,name:n,nan_pid:window.localStorage&&window.localStorage.getItem("nan_pid")}).extend(r.nanigans.defaultParams,i);var u=_(i).reduce(function(t,r,n){return r?t.addQueryParam(n,r):t},s);return u.toString()},Nanigans.prototype.trackSignup=function(r){return this.track(t.INSTALL,"signup",{user_id:r})},Nanigans.prototype.trackEnroll=function(r){return this.track(t.USER,"enroll",{user_id:r})},Nanigans.prototype.trackAction=function(r,n){return this.track(t.VISIT,r,{user_id:n})};var i=function paymentsInfoToParams(t){return _(t).reduce(function(t,r,n){return _(r).has("id")&&_(r).has("value")&&(t["sku["+n+"]"]=r.id,t["qty["+n+"]"]=1,t["value["+n+"]"]=100*parseInt(r.value,10)),t},{})};Nanigans.prototype._trackPaymentEvent=function(n,e,r,a){return r=_.isArray(r)?r:[r],this.track(t.PURCHASE,n,_({user_id:e,unique:a}).extend(i(r)))},Nanigans.prototype.trackS12NBulkPayment=function(t,r,n){return this._trackPaymentEvent.call(this,"specialization_bulk_pay",t,r,n)},Nanigans.prototype.trackS12NVCPayment=function(t,r,n){return this._trackPaymentEvent.call(this,"specialization",t,r,n)},Nanigans.prototype.trackVCPayment=function(t,r,n){return this._trackPaymentEvent.call(this,"non_specialization",t,r,n)},module.exports=Nanigans});
define("js/lib/prices",["require","exports","module","underscore","jquery"],function(require,exports,module){var _=require("underscore"),$=require("jquery"),e=function Currency(t,r,n,a){var e=arguments.length<=4||void 0===arguments[4]?{}:arguments[4];this.country=t,this.alpha2=r,this.currency=n,this.symbol=a,this.format=e.format?e.format:"%s%v",this.decimal=e.decimal?e.format:".",this.thousands=e.decimal?e.format:","},r=function Localizer(e){this.outputCountry=e.outputCountry,this.outputCurrency=t.getCurrency(this.outputCountry)},t={instance:null,defaults:{outputCountry:"US"},getLocalizer:function getLocalizer(){return t.instance||t.makeLocalizer()},makeLocalizer:function makeLocalizer(e){return t.instance=new r(_.extend(t.defaults,e)),t.instance.outputCurrency=t.getCurrency(t.instance.outputCountry),t.instance},getMatches:function getMatches(e){var t="\\$?([0-9,]+[.]?[0-9]{0,2})?",r=new RegExp(t,"g");return e.match(r)},decompose:function decompose(t){var r="(\\$)?([0-9,]+[.]?[0-9]{0,2})?",n=new RegExp(r,"g"),e=n.exec(t);return{symbol:e[1],value:e[2]}},getCurrency:function getCurrency(t){var e=_.find(this.currencies,function(e){return e.alpha2===t});return e||(e=_.find(this.currencies,function(e){return"US"===e.alpha2})),e},currencies:[new e("United States","US","USD","$"),new e("Australia","AU","AUD","A$",{format:"%s %v"}),new e("Canada","CA","CAD","C$",{format:"%s %v"}),new e("Andorra","AD","EUR","",{decimal:","}),new e("Austria","AT","EUR","",{format:"%s %v",decimal:",",thousands:"."}),new e("Belgium","BE","EUR","",{format:"%s%v",decimal:",",thousands:"."}),new e("Bulgaria","BG","EUR","",{format:"%v %s",decimal:","}),new e("Cyprus","CY","EUR","",{format:"%s %v"}),new e("Estonia","EE","EUR","",{format:"%v %s",decimal:","}),new e("Finland","FI","EUR","",{format:"%v %s",decimal:",",thousands:" "}),new e("France","FR","EUR","",{format:"%v %s",decimal:",",thousands:" "}),new e("Germany","DE","EUR","",{format:"%v %s",decimal:",",thousands:"."}),new e("Greece","GR","EUR","",{format:"%s%v",decimal:",",thousands:"."}),new e("Ireland","IE","EUR","",{format:"%s%v",decimal:".",thousands:","}),new e("Italy","IT","EUR","",{format:"%s%v",decimal:",",thousands:"."}),new e("Kosovo","XK","EUR","",{decimal:","}),new e("Latvia","LV","EUR","",{decimal:","}),new e("Luxembourg","LU","EUR","",{format:"%s%v",decimal:",",thousands:","}),new e("Malta","MT","EUR",""),new e("Monaco","MC","EUR","",{decimal:","}),new e("Montenegro","ME","EUR","",{decimal:","}),new e("Netherlands","NL","EUR","",{format:"%s%v",decimal:",",thousands:","}),new e("Portugal","PT","EUR","",{format:"%v %s",decimal:",",thousands:" "}),new e("San Marino","SM","EUR",""),new e("Slovakia","SK","EUR","",{format:"%v %s",decimal:","}),new e("Slovenia","SI","EUR","",{format:"%v %s",decimal:","}),new e("Spain","ES","EUR","",{format:"%v %s",decimal:","}),new e("Vatican City","VA","EUR","",{format:"%v %s",decimal:","}),new e("United Kingdom","GB","GBP",""),new e("Russia","RU","RUB","",{format:"%v %s",decimal:","}),new e("Mexico","MX","MXN","MX$",{format:"%s %v"})]};r.prototype.configure=function(e){return this.outputCountry=e.outputCountry,this.outputCurrency=t.getCurrency(this.outputCountry),this},r.prototype.localize=function(e){if(void 0===e)return e;if("USD"===t.getLocalizer().outputCurrency)return e;var n=t.getLocalizer().outputCurrency,a="number"==typeof e?"number":"string";"number"===a&&(e=e.toString());var u=t.getMatches(e),r=e.toString();return _.each(u,function(a){var u=t.decompose(a),c=u.symbol,o=u.value,i=n.format,e=o?i.replace("%v",o):i.replace("%v","");","===n.decimal&&(e=e.replace(/[.]|[,](?=\d)/g,function(e){return{".":",",",":"."}[e]})),e=e.replace("%s",c?n.symbol:""),e=$.trim(e),r=r.replace(a,e)}),r=r.replace(/US(?=\b)/,n.alpha2),"number"===a?parseInt(r,10):r},r.prototype.getCurrencyFromCountry=function(e){return t.getCurrency(e).currency},r.prototype.getSymbolFromCurrency=function(r){var e=_.find(t.currencies,function(e){return e.currency===r});return e||(e=_.find(t.currencies,function(e){return"USD"===e.currency})),e.symbol},r.prototype.symBefore=function(){var e=t.getLocalizer().outputCurrency;return e.format.indexOf("%s")<e.format.indexOf("%v")},r.prototype.supportedCountries=function(e){if("alpha2"===e){var r=_.map(t.currencies,function(e){return e.alpha2});return _.reject(r,function(e){return"US"===e})}var n=_.map(t.currencies,function(e){return e.country});return _.reject(n,function(e){return"United States"===e})},r.prototype.getCurrentOutputCurrency=function(){return t.getLocalizer().outputCurrency},module.exports=t.getLocalizer.apply(null,arguments)||t.makeLocalizer.apply(this,arguments)});
define("bundles/phoenix/template/models/requestCountryCode",["require","exports","module","js/app/config","js/lib/prices","js/lib/cookie"],function(require,exports,module){var t=require("js/app/config"),p=require("js/lib/prices"),e=require("js/lib/cookie"),n="string"==typeof t.requestCountryCode&&2===t.requestCountryCode.length,r=n?t.requestCountryCode.toUpperCase():"US",i=e.get("ip_origin");i&&i===r||e.set("ip_origin",r,{path:"/",secure:!0,expires:1});var o=e.get("ip_currency"),s=p.getCurrencyFromCountry(r);o&&o===s||e.set("ip_currency",s,{path:"/",secure:!0,expires:1}),module.exports=r});
define("bundles/adsTracking/lib",["require","exports","module","q","underscore","bundles/adsTracking/eventing","bundles/adsTracking/GoogleTagManager","bundles/adsTracking/linkshare","bundles/adsTracking/nanigans","bundles/phoenix/template/models/requestCountryCode"],function(require,exports,module){var e=require("q"),_=require("underscore"),a=require("bundles/adsTracking/eventing"),r=require("bundles/adsTracking/GoogleTagManager"),t=require("bundles/adsTracking/linkshare"),s=require("bundles/adsTracking/nanigans"),c=require("bundles/phoenix/template/models/requestCountryCode");"CN"!==c?exports.trackers=[new r,new s,new a,new t]:exports.trackers=[];var n=function trackEvent(n){return function(){var a=_.toArray(arguments),r=_(exports.trackers).map(function(e){return e[n].apply(e,a)});return e.allSettled(r)}};exports.trackSignup=n("trackSignup"),exports.trackEnroll=n("trackEnroll"),exports.trackAction=n("trackAction"),exports.trackS12NBulkPayment=n("trackS12NBulkPayment"),exports.trackS12NVCPayment=n("trackS12NVCPayment"),exports.trackVCPayment=n("trackVCPayment")});
define("bundles/userModal/lib/instrumentation",["require","exports","module","q","underscore","bundles/adsTracking/lib","bundles/thirdPartyAuth/constants","bundles/thirdPartyAuth/lib","js/app/multitrackerSingleton"],function(require,exports,module){var c=require("q"),_=require("underscore"),g=require("bundles/adsTracking/lib"),b=require("bundles/thirdPartyAuth/constants"),m=require("bundles/thirdPartyAuth/lib"),r=require("js/app/multitrackerSingleton"),a=function _trackV1(e){var s=c.defer();return e.push(s.resolve),r.push(e),s.promise},u=function _trackV2(s,t){var e=c.defer();return r.pushV2([s,_(t||{}).extend({facebook_enabled:m.facebook.enabled}),e.resolve]),e.promise},t=function track(e){return u.bind(this,e)},e=function trackForAccountType(e){return function(s){return u(e,{account_type:s||"coursera"})}},d=function trackErrorWithNamespace(e,s){return function(module,t){var i=t&&(t.code||t.errorCode)||t;return u(e,_(t).chain().omit("errorCode").extend({code:i,module:module,namespace:s}).value())}},p=d("system.error.emit","userModal"),i=function trackUserModalErrorForModule(module){return p.bind(null,module)},n=function trackErrorForAccountType(module){var e=i(module);return function(s,t){e(_({}).extend(t,{account_type:s}))}},s={closeModal:t("account.wall.click.close"),loginLinkClick:t("account.wall.click.login"),loginSubmit:e("account.login_detail.click.submit"),loginSuccess:e("account.login_detail.emit.submit_success"),loginView:t("account.login_detail.render"),loginError:i("login"),signupLinkClick:t("account.wall.click.signup"),signupSubmit:e("account.signup_detail.click.submit"),signupSuccess:e("account.signup_detail.emit.submit_success"),signupView:t("account.signup_detail.render"),signupError:i("signup"),thirdPartyAllow:e("account.signup_social.click.allow"),thirdPartyLoginSubmit:e("account.wall_login.click.submit"),thirdPartySignupSubmit:e("account.wall_signup.click.submit"),thirdPartyError:n("signup_social"),requestEmailView:e("account.signup_social_request_email.render"),requestEmailSubmit:e("account.signup_social_request_email.click.submit"),requestEmailError:n("signup_social_request_email"),requestPasswordView:e("account.signup_social_request_password.render"),requestPasswordSubmit:e("account.signup_social_request_password.click.submit"),requestPasswordError:n("signup_social_request_password"),passwordResetRequestLinkClick:t("account.login_detail.click.recover_password"),passwordResetRequestSubmit:t("account.recover_password.click.submit"),passwordResetRequestView:t("account.forget_password.render"),passwordResetRequestError:i("forget_password")},o=function _allSettled(s){var e=c.allSettled(s);return e.done(),e};s.register=function(e,t){return r.get("204").queue.push(["user",e]),o([s.signupSuccess(t),g.trackSignup(e)])},s.login=function(e){return o([s.loginSuccess(e)])};var l=function _permissions(e){return(e||"").split(",")};s.thirdPartyAuth=function(e){var c=e&&e.userId,i=e&&e.authType,n=e&&e.authResponse,t=[];if(e&&e.isRegistration?t.push(s.register(c,"facebook")):t.push(s.login("facebook")),i&&_(n||{}).has("grantedScopes")){var d=l(b.facebook.loginParams.scope),r=l(n.grantedScopes);r.length&&t.push(a(["account.signup_social.permissions.granted",{permissions:r.sort().join(","),account_type:i}]));var u=_(d).difference(r);u.length&&t.push(a(["account.signup_social.permissions.rejected",{permissions:u.sort().join(","),account_type:i}])),t.push(s.thirdPartyAllow(i))}return o(t)},module.exports=s});
define("js/lib/fsm",["require","underscore","js/app/loggerSingleton","jquery"],function(require){var _=require("underscore"),s=require("js/app/loggerSingleton"),$=require("jquery"),i=Array.prototype.slice,t={};return t.FiniteStateMachine={logTransitions:!1,stateProperty:"state",state:function state(){return this.get(this.stateProperty)},isState:function isState(t){var s=_.isArray(t)?t:i.call(arguments);return _(s).contains(this.state())},isValidState:function isValidState(t){if(!t)return!1;if(!this.fsm||!this.fsm.states)return!0;return _(this.fsm.states).contains(t)},isValidTransition:function isValidTransition(s,t){if(!s||!t)return!1;if(!(this.fsm&&this.fsm.transitions&&this.fsm.transitions[t]))return!0;return _(this.fsm.transitions[t]).contains(s)},validTransitionsFrom:function validTransitionsFrom(s){if(!this.fsm||!this.fsm.transitions)return[];var t=this.fsm.transitions;return _(t).keys().filter(function(i){return _(t[i]).include(s)})},validTransitionsTo:function validTransitionsTo(t){if(!(this.fsm&&this.fsm.transitions&&this.fsm.transitions[t]))return[];return this.fsm.transitions[t].concat()},ensureState:function ensureState(){if(!this.isState.apply(this,arguments)){var t=Array.prototype.slice.call(arguments).map(function(t){return'"'+t+'"'});if(1===t.length)throw new Error("Expected state to be "+t[0]+' but was "'+this.state()+'"');var s=_.initial(t).join(", ")+" or "+_.last(t);throw new Error("Expected state to be one of "+s+' but was "'+this.state()+'"')}return this},transition:function transition(t,i){var s=this.state();if(t===s)throw new Error('Attempting transition to the state this fsm is already in: "'+t+'"');if(!this.isValidState(t))throw new Error("Attempting transition to a state that doesn't exist: \""+t+'"');if(!this.isValidTransition(s,t))throw new Error('Attempting an invalid transition from "'+t+'" to "'+s+'"');return i=_({}).extend(i),i[this.stateProperty]=t,this.beforeTransition(s,t),this.set(i),this.afterTransition(s,t),this.trigger("state:change",s,t,this.stateProperty),this},transitionIfNot:function transitionIfNot(t){return this.isState(t)||this.transition(t),this},beforeTransition:function beforeTransition(t,s){return this.trigger("transitioning",t,s),this.trigger("transitioning:"+t+":"+s),this},afterTransition:function afterTransition(t,i){return this.logTransitions&&s.info('[FSM] Transitioned state from "'+t+'" to "'+i+'"'),this.trigger("transitioned",t,i),this.trigger("transitioned:"+t+":"+i),this.trigger("state:exit:"+t,t,i),this.trigger("state:enter:"+i,t,i),this}},t.FiniteStateMachineView={stateModelProperty:"stateModel",renderFsm:function renderFsm(){this.fsm=this.fsm||{},this.fsm.elements={showHide:this.$("[data-state],[data-state-not]"),classToggle:this.$("[data-state-classes]")}},state:function state(){if(!_(this).has(this.stateModelProperty))throw new Error('View has no state model "'+this.stateModelProperty+'"');var t=this[this.stateModelProperty];if(!_.isFunction(t.state))throw new Error('State model "'+this.stateModelProperty+'" has no state method');return t.state()},renderState:function renderState(){var t=this.state(),s=['[data-state~="'+t+'"]:not([data-state-not~="'+t+'"])'],i=['[data-state-not~="'+t+'"]:not([data-state~="'+t+'"])','[data-state]:not([data-state~="'+t+'"])'];this.lastState&&(s.push('[data-state-not~="'+this.lastState+'"]:not([data-state-not~="'+t+'"])'),i.push('[data-state~="'+this.lastState+'"]:not([data-state~="'+t+'"])'));var e=this.fsm.elements.showHide.filter(s.join(",")),a=this.fsm.elements.showHide.filter(i.join(","));this.transitionElements(a,e),this.toggleClasses(),this.lastState=t},transitionElements:function transitionElements(t,s){t.hide(),s.show()},toggleClasses:function toggleClasses(){var t=this.state();this.fsm.elements.classToggle.each(function(){var s=$(this),i="state-classes-parsed";if(!s.data(i)){var a=JSON.parse(s.attr("data-state-classes"));s.data(i,a)}var e=s.data(i);_(e).chain().values().each(function(t){s.removeClass(t)}),_(e).chain().keys().each(function(i){_(i.split(" ")).contains(t)&&s.addClass(e[i])})})}},t});
define("js/lib/schema",["require","exports","module","underscore"],function(require,exports,module){var _=require("underscore"),t=function(t,e){this.param=t,this.rules=e};t.prototype.Error=function(e,t,r){return t},t.prototype.apply=function(t){if(_.isEmpty(t)&&!_.isUndefined(this.rules["default"])&&(t=this.rules["default"]),this.rules.required){if(this.rules.required&&(_.isUndefined(t)||_.isUndefined(this.rules.type)&&/^\s*$/.test(t)))throw this.Error("%p is a required parameter","required",t)}else if(_.isUndefined(t))return t;if(this.rules.filters&&(t=this.filter(t)),this.rules.type)if("string"==typeof this.rules.type&&"function"==typeof i[this.rules.type]){if(!i[this.rules.type](t))throw this.Error("%p is not a "+this.rules.type,"type",t)}else if(!this.rules.type(t))throw this.Error("%p is not a valid type","type",t);return this.rules.properties&&this.check(t),t},t.prototype.filter=function(t){switch(typeof this.rules.filters){case"function":t=this.rules.filters(t);break;case"string":_.isFunction(e[this.rules.filters])&&(t=e[this.rules.filters](t));break;case"object":_.isArray(this.rules.filters)&&this.rules.filters.forEach(function(r){t=e[r](t)})}return t},t.prototype.check=function(e){switch(typeof this.rules.properties){case"function":if(!this.rules.properties(e))throw this.Error("%p is not valid");break;case"object":for(var i=_.keys(this.rules.properties),r=0;r<i.length;r++){var t=i[r];if("function"==typeof n[t]){var s=this.rules.properties[t];if(!n[t].apply(null,[e,s]))throw this.Error("%p failed %r with %v",t)}else if("function"==typeof this.rules.properties[t]&&!this.rules.properties[t].apply(null,[e]))throw this.Error("%p failed on %r with %v",t)}}};var n={max:function(t,e){return _.isArray(t)||_.isString(t)?t.length<=e:"number"==typeof t?e>=t:!1},min:function(t,e){return _.isArray(t)||"string"==typeof t?t.length>=e:"number"==typeof t?t>=e:!1},regex:function(t,e){return e.test(t)},"in":function(t,e){return-1!=e.indexOf(t)},value:function(t,e){return t===e}},i={"string+":function(t){return"string"==typeof t&&""!==t},string:function(t){return"string"==typeof t},alphanum:function(t){return/^[a-zA-Z0-9]+$/i.test(t)},alpha:function(t){return/^[a-zA-Z]+$/i.test(t)},object:function(t){return"object"==typeof t&&!_.isArray(t)},array:function(t){return _.isArray(t)},date:function(t){return _.isDate(t)&&!isNaN(t.getTime())},number:function(t){return"number"==typeof t&&!isNaN(t)},"int":function(t){return"number"==typeof t&&t%1===0&&!isNaN(t)},"boolean":function(t){return _.isBoolean(t)},"float":function(t){return"number"==typeof t&&!isNaN(t)},email:function(t){return/[a-zA-Z0-9!#$%&'*+\/=?\^_`{|}~\-]+(?:\.[a-zA-Z0-9!#$%&'*+\/=?\^_`{|}~\-]+)*@(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z])?$/.test(t)},url:function(t){return/^(http(s)?:\/\/)?([\w\-]+\.{1})*(([\w\-]*){1}(\.{1}[A-Za-z]{2,4}){1}){1}(\:{1}\d*)?([\?\/|\#]+[\@\~\;\+\'\#\,\.\%\-\/\&\?\=\w\$\s]*)*$/i.test(t)},zipcode:function(t){return/\d{5}/.test(t)}},e={toInt:function(t){return parseInt(t,10)},toFloat:function(t){return parseFloat(t,10)},toString:function(t){return t.toString()},toDate:function(t){return new Date(t)},toBoolean:function(t){return 1===t||t===!0||/true|on|yes|1/.test(t)?!0:0===t||t===!1||/false|off|no|0/.test(t)?!1:t},trim:function(t){return _.isString(t)?t.replace(/^\s\s*/,"").replace(/\s\s*$/,""):t},lowercase:function(t){return _.isString(t)?t.toLowerCase():t},uppercase:function(t){return _.isString(t)?t.toUpperCase():t}},r={create:function(e,r){return new t(e,r)},types:i,filters:e,properties:n},s=function(t){this.schema=t};s.prototype.validate=function(u){for(var e=_.keys(this.schema),n={},s={},o,a="function"==typeof u?u:function(t){return u[t]},t=0;t<e.length;t++){var i=this.schema[e[t]];try{o=r.create(e[t],i).apply(a(e[t])),_.isUndefined(o)||(s[e[t]]=o),"object"!=typeof i.schema||_.isArray(i.schema)||!_.keys(i.schema).length||_.isUndefined(s[e[t]])||("object"==i.type?_.keys(i.schema).forEach(function(u){try{o=r.create(e[t]+"."+u,i.schema[u]).apply(a(e[t])[u]),_.isUndefined(o)||(s[e[t]][u]=o)}catch(f){n[e[t]]&&"object"==typeof n[e[t]]||(n[e[t]]={}),n[e[t]][u]=f}}):"array"==i.type&&s[e[t]].forEach(function(u,o){try{s[e[t]][o]=r.create(e[t]+"["+o+"]",i.schema).apply(u)}catch(a){_.isArray(n[e[t]])||(n[e[t]]=[]),n[e[t]][o]=a}}))}catch(f){n[e[t]]=f}}return{data:s,errors:n,valid:0===_.keys(n).length}};var o={test:function(t,e){return new s({input:e}).validate({input:t})},create:function(t){return new s(t)},rules:r};module.exports=o});
define("pages/auth/common/api/organization",["require","exports","module","bundles/phoenix/lib/apiWrapper"],function(require,exports,module){var e=require("bundles/phoenix/lib/apiWrapper");module.exports=e("/api/organizations.v1",{type:"rest"})});
define("pages/auth/common/data/organization",["require","q","pages/auth/common/api/organization"],function(require){var a=require("q"),n=require("pages/auth/common/api/organization");return function(o){return a(n.get(o))}});
define("bundles/catalogP/lib/parseNaptimeResponse",["require","exports","module","underscore"],function(require,exports,module){var _=require("underscore");module.exports=function(e){return e.elements?_(e.elements).map(function(n){var r=_.omit(n,"links"),t=n.links;return _(t).each(function(t,n){r[n]=_(t).map(function(t){var r={id:t},i=_(e.linked[n]).findWhere(r);return i||r})}),r}):e}});
define("pages/auth/constants",["require","js/app/config"],function(require){var r=require("js/app/config");return{config:r,rootPath:"/account",courseraShortName:"coursera",courseraSubdomains:["www","site","cn","es","fr","pt","ru","tr","zh","zh-tw"],typingPauseBeforeValidation:500}});
define("pages/auth/common/models/organization",["require","exports","module","bundles/catalogP/lib/parseNaptimeResponse","js/vendor/backbone.v1-1-2","pages/auth/constants"],function(require,exports,module){var e=require("bundles/catalogP/lib/parseNaptimeResponse"),Backbone=require("js/vendor/backbone.v1-1-2"),s=require("pages/auth/constants"),a=Backbone.Model.extend({isCoursera:function isCoursera(){return this.get("shortName")===s.courseraShortName},parse:function parse(s){return e(s)[0]||s}});module.exports=a});
define("pages/auth/common/promises/organization",["require","exports","module","q","underscore","pages/auth/common/data/organization","pages/auth/common/models/organization","pages/auth/constants"],function(require,exports,module){var o=require("q"),_=require("underscore"),e=require("pages/auth/common/data/organization"),n=require("pages/auth/common/models/organization"),t=require("pages/auth/constants"),a=new n({shortName:"coursera",name:"Coursera",logoUrl:null});module.exports=function(){var r=window.location.hostname.split(".")[0];return _(t.courseraSubdomains).contains(r)?o(a):e(r).then(function(o){return new n(o,{parse:!0})}).fail(function(){return o(a)})}});

define("pages/auth/common/account",["require","exports","module","q","underscore","js/lib/language","js/lib/schema","pages/auth/common/api/api","memoize!pages/auth/common/promises/organization"],function(require,exports,module){var e=require("q"),_=require("underscore"),t=require("js/lib/language"),r=require("js/lib/schema"),i=require("pages/auth/common/api/api"),a=require("memoize!pages/auth/common/promises/organization"),s={makeRequest:function makeRequest(a,t,e,s,r){r=r||"post",this.getOrganization(a).then(function(a){a.isCoursera()||(t.org=a.get("id")),i[r](s,{data:t}).then(e.resolve).fail(function(t){var r;try{r=JSON.parse(t.responseText)}catch(i){r=t.responseText}e.reject(r)})}).fail(function(r){e.reject(r)})},getOrganization:function getOrganization(r){return void 0===r?a():e(r)},loginSchema:r.create({email:{type:"string+",filters:"trim",required:!0},password:{type:"string+",filters:"trim",required:!0},code:{type:"string",filters:"trim",required:!1}}),validateLogin:function validateLogin(e){return this.loginSchema.validate(e)},login:function login(i,a){var r=e.defer(),t=this.validateLogin(i);if(t.valid){var s=_.extend({},t.data,{webrequest:!0});this.makeRequest(a,s,r,"/login/v3")}else r.reject(t.errors);return r.promise},registerSchema:r.create({name:{type:"string+",filters:"trim",properties:{max:255},required:!0},email:{type:"email",filters:"trim",required:!0},verifyEmail:{type:"string+",filters:"trim",required:!0},password:{type:"string",filters:"trim",properties:{max:255,min:6},required:!0},termsAgree:{type:"boolean",filters:"toBoolean",properties:{value:!0},required:!0}}),validateRegister:function validateRegister(r){var e=this.registerSchema.validate(r);return e.data.email!==e.data.verifyEmail&&(e.valid=!1,e.errors.verifyEmail="match"),e},register:function register(o,n){var r=e.defer(),i=this.validateRegister(o);if(i.valid){var a=_(i.data).pick("name","email","verifyEmail","password"),s=t.getIetfLanguageTag();"en-US"!==s&&(a.languageCode=s),this.makeRequest(n,a,r,"/register/v1")}else r.reject(i.errors);return r.promise},passwordResetRequestSchema:r.create({email:{type:"string+",filters:"trim",required:!0}}),validatePasswordResetRequest:function validatePasswordResetRequest(e){return this.passwordResetRequestSchema.validate(e)},requestPasswordReset:function requestPasswordReset(i,a){var r=e.defer(),t=this.validatePasswordResetRequest(i);if(t.valid){var s=t.data;this.makeRequest(a,s,r,"/password/v2/requestReset")}else r.reject(t.errors);return r.promise},verifyResetToken:function verifyResetToken(r,i){var t=e.defer();return r&&r.token?this.makeRequest(i,r,t,"/password/v1/verifyToken","get"):t.reject({code:"missingToken"}),t.promise},passwordResetSchema:r.create({newPassword:{type:"string",filters:"trim",properties:{max:255,min:6},required:!0},token:{type:"string",filters:"trim",properties:{max:255,min:6},required:!0}}),passwordReset:function passwordReset(i,a){var r=e.defer(),t=this.passwordResetSchema.validate(i);if(t.valid){var s=t.data;this.makeRequest(a,s,r,"/password/v1/change")}else r.reject(t.errors);return r.promise}};module.exports=s});

define('css!bundles/userModal/styl/userModal',[],function(){})
define("bundles/userModal/models/userModal",["require","exports","module","backbone","q","underscore","jsuri","bundles/thirdPartyAuth/lib","bundles/userModal/lib/instrumentation","js/lib/coursera.redirect","js/lib/coursera.store","js/lib/fsm","pages/auth/common/account","css!bundles/userModal/styl/userModal.css"],function(require,exports,module){var Backbone=require("backbone"),t=require("q"),_=require("underscore"),i=require("jsuri"),n=require("bundles/thirdPartyAuth/lib"),e=require("bundles/userModal/lib/instrumentation"),s=require("js/lib/coursera.redirect"),o=require("js/lib/coursera.store"),a=require("js/lib/fsm"),r=require("pages/auth/common/account");require("css!bundles/userModal/styl/userModal.css");var u=Backbone.Model.extend(_.extend({},a.FiniteStateMachine,{defaults:{state:"hidden",redirectUrl:null,passwordResetToken:null,authData:{}},fsm:{states:["hidden","signup","login","password-reset-request","password-reset-request-sent","password-reset-confirm","request-email","request-password"]},show:function show(t,r){switch(t){case"login":e.loginView();break;case"signup":e.signupView();break;case"password-reset-request":e.passwordResetRequestView()}this.set("redirectUrl",r),this.transitionIfNot(t||"signup")},reloadOrRedirect:function reloadOrRedirect(){o.setIfEnabled("account.hasLoggedIn",!0),this.get("redirectUrl")?s.setLocation(this.get("redirectUrl")):s.setLocation(new i(window.location.href).deleteQueryParam("authMode").toString())},tryLogin:function tryLogin(s){return r.login(s).fail(function(r){return e.loginError(r),"twoFactorRequired"===(r&&r.errorCode)?this.trigger("twoFactorRequired",r):this.trigger("loginFail",r),t.reject(r)}.bind(this))},trySignup:function trySignup(s){return r.register(s).fail(function(){var r={code:"existingCourseraAccount"};return e.signupError(r),this.trigger("signupFail",r),t.reject(r)}.bind(this))},tryRequestResetPassword:function tryRequestResetPassword(s){return e.passwordResetRequestSubmit(),r.requestPasswordReset(s).then(function(e){this.trigger("passwordResetRequestSent",s&&s.email)}.bind(this)).fail(function(r){return e.passwordResetRequestError(r),this.trigger("passwordResetRequestFail",r),t.reject(r)}.bind(this))},tryVerifyToken:function tryVerifyToken(s){return r.verifyResetToken(s).then(function(e){this.trigger("passwordResetConfirm",e&&e.email)}.bind(this)).fail(function(r){return e.passwordResetRequestError(r),this.trigger("passwordResetFail",r),t.reject(r)}.bind(this))},tryResetPassword:function tryResetPassword(s){return r.passwordReset(s).then(function(e){this.trigger("passwordResetSuccess",e&&e.email)}.bind(this)).fail(function(r){return e.passwordResetRequestError(r),this.trigger("passwordResetFail",r),t.reject(r)}.bind(this))},tryFacebookLogin:function tryFacebookLogin(r){return n.connect("facebook",r).then(function(t){return e.thirdPartyAuth(t).fin(this.reloadOrRedirect.bind(this)),t}.bind(this)).fail(function(r){e.thirdPartyError("facebook",r);var s=r&&r.code;return"noEmailAvailable"===s?this.trigger("thirdPartyAuthRequestEmail","facebook"):"existingCourseraAccount"===s?this.trigger("thirdPartyAuthRequestPassword","facebook"):this.trigger("facebookLoginFail",r),t.reject(r)}.bind(this))}}));module.exports=new u});
define("bundles/phoenix/template/models/userAuthorization",["require","exports","module","backbone","underscore","bundles/phoenix/template/models/backbone.immutable","bundles/userModal/models/userModal","js/app/multitrackerSingleton","js/lib/coursera.redirect","js/lib/coursera.store","pages/home/models/user"],function(require,exports,module){var Backbone=require("backbone"),_=require("underscore"),r=require("bundles/phoenix/template/models/backbone.immutable"),u=require("bundles/userModal/models/userModal"),e=require("js/app/multitrackerSingleton"),n=require("js/lib/coursera.redirect"),t=require("js/lib/coursera.store"),i=require("pages/home/models/user"),s=t.get("account.hasLoggedIn")?"login":"signup",o=Backbone.Model.extend({initialize:function initialize(){this.get("authenticated")&&t.setIfEnabled("account.hasLoggedIn",!0)},parse:function parse(e){return _(e).isEmpty()?{authenticated:!1,is_staff:!1,is_superuser:!1}:_(e).chain().pick(["is_staff","is_superuser"]).extend({authenticated:!0}).value()},isStaffOrSuperuser:function isStaffOrSuperuser(){return this.get("is_staff")||this.get("is_superuser")},isStaff:function isStaff(){return this.get("is_staff")},isSuperuser:function isSuperuser(){return this.get("is_superuser")},ensureAuthenticated:function ensureAuthenticated(t){if(this.get("authenticated"))return!0;return t=_({mode:s,redirectUrl:null}).extend(t),"login"===t.mode?e.pushV2(["open_course.user.login_modal.open"]):"signup"===t.mode&&e.pushV2(["open_course.user.signup_modal.open"]),u.show(t.mode,t.redirectUrl),!1},ensureAuthenticatedByRedirect:function ensureAuthenticatedByRedirect(t){if(this.get("authenticated"))return!0;e.pushV2(["open_course.user.redirected_to_login"]);var r=t&&t.mode||s;return n.authenticate(r,_(t).omit("mode")),!1}}),a=r(o),d=new a(i,{parse:!0});module.exports=d});
define("pages/open-course/common/naptimeApi",["require","exports","module","bundles/phoenix/lib/apiWrapper"],function(require,exports,module){var e=require("bundles/phoenix/lib/apiWrapper"),p=e("/api/",{type:"rest"});module.exports=p});
define("pages/open-course/common/data/courseGrade",["require","exports","module","q","bundles/phoenix/template/models/userAuthorization","js/lib/path","pages/open-course/common/naptimeApi"],function(require,exports,module){var e=require("q"),n=require("bundles/phoenix/template/models/userAuthorization"),o=require("js/lib/path"),t=require("pages/open-course/common/naptimeApi");module.exports=function(s){return n.get("authenticated")?e(t.get(o.join("onDemandCourseGrades.v1",s))).then(function(e){return e.elements[0]}):e(null)}});

define("pages/open-course/common/models/itemGrade",["require","exports","module","backbone"],function(require,exports,module){var Backbone=require("backbone"),e=Backbone.Model.extend({defaults:function defaults(){return{passingState:e.passingStates.notPassed,overallOutcome:{grade:0,isPassed:!1},pendingOutcome:{grade:0,isPassed:!1},verifiedOutcome:{grade:0,isPassed:!1}}},getRelativePassingState:function getRelativePassingState(s){return s.shouldPromptForVerification()?this.get("verifiedOutcome").isPassed?e.relativePassingStates.passed:this.get("pendingOutcome").isPassed?e.relativePassingStates.passedVerificationPending:this.get("overallOutcome").isPassed?e.relativePassingStates.passedUnverified:e.relativePassingStates.notPassed:this.get("overallOutcome").isPassed?e.relativePassingStates.passed:e.relativePassingStates.notPassed},isPassing:function isPassing(){var s=this.get("passingState"),a=[e.passingStates.passed,e.passingStates.verifiedPassed];return-1!==a.indexOf(s)}});e.passingStates={notPassed:"notPassed",passed:"passed",verifiedPassed:"verifiedPassed"},e.relativePassingStates={notPassed:"notPassed",passed:"passed",passedUnverified:"passedUnverified",passedVerificationPending:"passedVerificationPending"},module.exports=e});
define("pages/open-course/common/models/courseGrade",["require","exports","module","backbone","underscore","memoize!pages/open-course/common/data/courseGrade","pages/open-course/common/models/itemGrade"],function(require,exports,module){var Backbone=require("backbone"),_=require("underscore"),s=require("memoize!pages/open-course/common/data/courseGrade"),e=require("pages/open-course/common/models/itemGrade"),t=Backbone.Model.extend({initialize:function initialize(){this.itemGradesCache={},_(this.get("itemGrades")).each(function(s,t){this.itemGradesCache[t]=new e(s)}.bind(this)),this.on("change:itemGrades",this.maybeDispatchPassedItems,this)},refresh:function refresh(){s.force(this.get("id")).then(this.set.bind(this)).then(this.updateItemGradesCache.bind(this)).done()},maybeDispatchPassedItems:function maybeDispatchPassedItems(){var t=this.previous("itemGrades")||{},i=this.get("itemGrades"),s=_(i).chain().pairs().filter(function(s){var i=s[0],a=new e(s[1]),n=new e(t[i]);return a.isPassing()&&!n.isPassing()}.bind(this)).object().value();_(s).isEmpty()||this.trigger("items-passed",s)},isPassable:function isPassable(){return"notPassable"!==this.get("passingState")},hasPassed:function hasPassed(){return _(["passed","verifiedPassed"]).contains(this.get("passingState"))},hasPassedWithVerification:function hasPassedWithVerification(){return"verifiedPassed"===this.get("passingState")},getFractionPassed:function getFractionPassed(){return this.get("overallOutcome").passedItemsCount/this.get("passableItemsCount")},getItemGrade:function getItemGrade(s){return this.itemGradesCache[s]||(this.itemGradesCache[s]=new e(this.get("itemGrades")[s])),this.itemGradesCache[s]},updateItemGradesCache:function updateItemGradesCache(){_(this.itemGradesCache).each(function(e,s){e.set(this.get("itemGrades")[s])}.bind(this))}});module.exports=t});
define("pages/open-course/common/promises/courseGrade",["require","exports","module","pages/open-course/common/data/courseGrade","pages/open-course/common/models/courseGrade"],function(require,exports,module){var e=require("pages/open-course/common/data/courseGrade"),o=require("pages/open-course/common/models/courseGrade");module.exports=function(r){return e(r).then(function(e){return e&&new o(e)})}});
define("pages/open-course/common/promises/courseProgress",["require","exports","module","memoize!pages/open-course/common/data/courseProgress","pages/open-course/common/models/courseProgress"],function(require,exports,module){var e=require("memoize!pages/open-course/common/data/courseProgress"),o=require("pages/open-course/common/models/courseProgress");module.exports=function(r){var s=e(r).then(function(e){return new o(e)});return s.done(),s}});
define("bundles/catalogP/models/membership",["require","exports","module","moment","q","underscore","jsuri","bundles/catalogP/constants","bundles/catalogP/models/catalogModel","bundles/common/constants/CourseRoles","bundles/phoenix/template/models/userAuthorization","js/app/config","js/lib/path","pages/open-course/common/constants","pages/open-course/common/models/membership","pages/open-course/common/promises/courseGrade","pages/open-course/common/promises/courseProgress"],function(require,exports,module){var i=require("moment"),o=require("q"),_=require("underscore"),u=require("jsuri"),t=require("bundles/catalogP/constants"),c=require("bundles/catalogP/models/catalogModel"),n=require("bundles/common/constants/CourseRoles"),r=require("bundles/phoenix/template/models/userAuthorization"),a=require("js/app/config"),s=require("js/lib/path"),h=require("pages/open-course/common/constants"),d=h.courseRolesWithTeachAccess,g=require("pages/open-course/common/models/membership"),m=require("pages/open-course/common/promises/courseGrade"),l=require("pages/open-course/common/promises/courseProgress"),e=c.extend({fields:["courseId","role","enrolledTimestamp","lastAccessedTimestamp","id","grade","vc","v1SessionId","vcMembershipId"],includes:{course:{resource:"courses.v1",attribute:"courseId"},session:{resource:"v1Sessions.v1",attribute:"v1SessionId"},vcMembership:{resource:"vcMemberships.v1",attribute:"vcMembershipId"},signatureTrackProfile:{resource:"signatureTrackProfiles.v1",attribute:"signatureTrackProfile"},onDemandSession:{resource:"onDemandSessions.v1",attribute:"onDemandSessionId"},onDemandSessionMemberships:{resource:"onDemandSessionMemberships.v1",attribute:"onDemandSessionMemberships"}},resourceName:"memberships.v1",getSpecialization:function getSpecialization(){return this.get("course").getFirstSpecialization()},getCourseGrade:function getCourseGrade(e){return(e?this.get("vcMembership.grade"):this.get("grade"))||{}},getCourseGradeString:function getCourseGradeString(t){var e=this.getCourseGrade(t),s;return s=this.get("course").isOnDemand()?100*e.score:e.score,(Math.round(10*(s||0))/10).toFixed(1)},getCertificateGrantMoment:function getCertificateGrantMoment(){return this.get("course").isOnDemand()?i(this.get("vcMembership.grantedAt")):this.get("session")&&this.get("session").getEndMoment()},getRecordsLink:function getRecordsLink(){return s.join(t.accomplishments.baseUrl,"records",this.get("vcMembership.certificateCodeWithGrade"))},getFullRecordsLink:function getFullRecordsLink(){return s.join(t.config.url.base,this.getRecordsLink())},getVerifyLink:function getVerifyLink(){return s.join(t.accomplishments.baseUrl,"verify",this.get("vcMembership.certificateCode"))},getFullVerifyLink:function getFullVerifyLink(){return s.join(t.config.url.base,this.getVerifyLink())},getCertificateLink:function getCertificateLink(){return s.join(t.accomplishments.baseUrl,"certificate",this.get("vcMembership.certificateCode"))},getFullCertificateLink:function getFullCertificateLink(){return s.join(t.config.url.base,this.getCertificateLink())},getCertPdfUrl:function getCertPdfUrl(){if(this.get("course").isOnDemand()){var e=this.get("vcMembership.certificateCode");return s.join(a.url.base,"api/certificate.v1/pdf",e)}var t=s.join(a.url.base,"maestro/api/certificate/get_certificate");return new u(t).addQueryParam("verify-code",this.get("vcMembership.certificateCode")).toString()},getCourseEntryUrl:function getCourseEntryUrl(){var e=this.get("course");return e.isOnDemand()?s.join(e.getHomeLink()):e.getLink()},hasPassed:function hasPassed(s){var t=this.getCourseGrade(s)||{};return s?t.record===e.GRADE.VERIFIED_PASSED:t.record===e.GRADE.PASSED},hasDistinction:function hasDistinction(s){return this.getCourseGrade(s).distinctionLevel===e.DISTINCTION.DISTINCTION},unenroll:function unenroll(){var e=this.get("course");if(e.isOnDemand()){var s=new g({courseId:e.get("id")});return o(s.unenroll())}var t=this.get("session");return o(t.unenroll())},getCourseProgressStatus:function getCourseProgressStatus(){var t=this.get("course");if(t.isOnDemand()){var i=this.getCourseProgressPercent();return void 0===i?void 0:this.hasPassed(!!this.get("vcMembership"))||!this.isGradable()&&100===i||this.get("onDemandSession")&&this.get("onDemandSession").hasEnded()?e.PROGRESS.ENDED:this.get("onDemandSession")&&this.get("onDemandSession").isUpcoming()||t.isOnDemandPreEnroll()?e.PROGRESS.UPCOMING:e.PROGRESS.STARTED}var s=this.get("session");return t.get("selfStudy")?e.PROGRESS.STARTED:s&&s.getStartMoment()?s.hasEnded()?e.PROGRESS.ENDED:s.hasStarted()&&(!s.hasStarted()||s.get("active")||r.get("is_superuser")&&r.get("is_staff"))?e.PROGRESS.STARTED:e.PROGRESS.UPCOMING:e.PROGRESS.TBA},getCourseProgressPercent:function getCourseProgressPercent(){if(this.get("course").isOnDemand()){if(this.get("onDemandSession")){var s=this.get("onDemandSession"),o=i(s.endedAt).diff(s.startedAt),t=i().diff(s.startedAt),u=t>=0?t/o*100:0;return Math.floor(Math.min(u,100))}var r=this.get("progressData"),e=this.get("detailedCourseGrade"),c=r?r.get("overall"):0,n=e?100*e.getFractionPassed():0;if(e&&e.get("overallOutcome").passedItemsCount>0)return n;return Math.round(Math.max(c,n))}var h=this.get("session").getDurationDays(),d=Math.abs(Math.floor(this.get("session").getStartMomentFromToday().asDays())),a=Math.floor(d/h*100);return Math.min(a,100)},canTeachCourse:function canTeachCourse(){var e=_(d).contains(this.get("role"));return e||r.get("is_superuser")},isEnrolled:function isEnrolled(){return!_([n.BROWSER,n.NOT_ENROLLED,n.PRE_ENROLLED_LEARNER]).contains(this.get("role"))},getOnDemandProgressData:function getOnDemandProgressData(){var e=this;return l(this.get("course.slug")).then(function(s){return e.set({progressData:s}),s})},getDetailedCourseGrade:function getDetailedCourseGrade(){var s=this;if(this.isGradable()){var e=m(this.get("course.id")).then(function(e){s.set({detailedCourseGrade:e})});return e.done(),e}},getResumeLink:function getResumeLink(){var e=this.get("course");if(e.isOnDemand()){var t=this.get("progressData");return t?s.join("/learn",e.get("slug"),"item",t.get("nextItem")):s.join("/learn",e.get("slug"))}if(this.get("session"))return this.get("session").getLink()},getPhoto:function getPhoto(){var e=this.get("course"),s=this.get("nextItem");return e.isOnDemand()&&s?e.get("photoUrl"):e.get("photoUrl")},isGradable:function isGradable(){return this.get("grade")&&this.get("grade").record!==e.GRADE.NOT_PASSABLE},hasVerifiedCertificate:function hasVerifiedCertificate(){return this.get("vcMembership")&&this.hasPassed(!0)},hasSessionVerifiedCertificate:function hasSessionVerifiedCertificate(){var e=this.get("course");return e&&(e.isSession()||e.isCapstone())&&this.hasVerifiedCertificate()&&this.get("session.certificatesReleased")},hasOnDemandVerifiedCertificate:function hasOnDemandVerifiedCertificate(){var e=this.get("course");return e&&e.isOnDemand()&&this.hasVerifiedCertificate()},hasEnrolledForVerification:function hasEnrolledForVerification(){return this.hasEnrolledForOnDemandVerification()||this.hasEnrolledForSessionVerification()},hasEnrolledForSessionVerification:function hasEnrolledForSessionVerification(){var e=this.get("course");return e&&e.isSession()&&this.get("vcMembership")},hasEnrolledForOnDemandVerification:function hasEnrolledForOnDemandVerification(){var e=this.get("course");return e&&e.isOnDemand()&&this.get("vcMembership")},hasStatementOfAccomplishment:function hasStatementOfAccomplishment(){var e=this.get("course");return e&&e.isSession()&&this.get("session.eligibleForCertificate")&&this.get("session.certificatesReleased")&&this.hasPassedWithoutVC()},hasPassedWithoutVC:function hasPassedWithoutVC(){var e=this.get("course");if(e.isSession()||e.isCapstone())return this.hasPassed()&&!this.hasPassed(!0)&&this.get("session.certificatesReleased");if(e.isOnDemand())return this.hasPassed()&&!this.hasPassed(!0)},hasPassedCapstone:function hasPassedCapstone(){var e=this.get("course");return e&&e.isCapstone()&&this.get("session.certificatesReleased")&&this.hasPassed(!0)},getSpecializationMembership:function getSpecializationMembership(e){return e.find(function(e){var s=e.get("specialization.courses").pluck("id");return _(s).contains(this.get("course.id"))}.bind(this))},hasEnrolledForSparkCertificate:function hasEnrolledForSparkCertificate(){return!!this.get("vcMembershipId")}},{GRADE:{PASSED:"PASSED",NOT_PASSED:"NOT_PASSED",NOT_PASSABLE:"NOT_PASSABLE",VERIFIED_PASSED:"VERIFIED_PASSED"},DISTINCTION:{NO_DISTINCTION:"NO_DISTINCTION",NORMAL:"NORMAL",DISTINCTION:"DISTINCTION"},PROGRESS:{STARTED:"STARTED",ENDED:"ENDED",UPCOMING:"UPCOMING",TBA:"TBA"}});module.exports=e});
define("bundles/catalogP/models/memberships",["require","exports","module","underscore","bundles/catalogP/models/catalogCollection","bundles/catalogP/models/membership"],function(require,exports,module){var _=require("underscore"),n=require("bundles/catalogP/models/catalogCollection"),t=require("bundles/catalogP/models/membership"),e=n.extend({model:t,resourceName:"memberships.v1",getEnrolledSessions:function getEnrolledSessions(){return this.pluck("session")},getMembershipsForSession:function getMembershipsForSession(t){return new e(this.findWhere({v1SessionId:t.get("id")}))},getMembershipsForVCSession:function getMembershipsForVCSession(t){return new e(this.getMembershipsForSession(t).filter(function(e){return e.get("vcMembership")}))},filterByProgressStatus:function filterByProgressStatus(n){var r=_(t.PROGRESS).chain().values().contains(n).value();if(r)return new e(this.filter(function(e){return e.getCourseProgressStatus()===n}));throw new Error("Invalid Progress Status: "+n)},filterByOnDemand:function filterByOnDemand(){return new e(this.filter(function(e){return e.get("course").isOnDemand()}))},filterBySessionVerifiedCertificate:function filterBySessionVerifiedCertificate(){return new e(this.filter(function(e){return e.hasSessionVerifiedCertificate()}))},filterByOnDemandVerifiedCertificate:function filterByOnDemandVerifiedCertificate(){return new e(this.filter(function(e){return e.hasOnDemandVerifiedCertificate()}))},filterByEnrolledForOnDemandVerification:function filterByEnrolledForOnDemandVerification(){return new e(this.filter(function(e){return e.hasEnrolledForOnDemandVerification()}))},filterByPassedWithoutVC:function filterByPassedWithoutVC(){return new e(this.filter(function(e){return e.hasPassedWithoutVC()||e.hasPassedCapstone()}))},filterBySessionCertificatesReleased:function filterBySessionCertificatesReleased(){return new e(this.filter(function(e){return e.get("course").isSession()&&e.get("session.certificatesReleased")}))},filterByPassed:function filterByPassed(){return new e(this.filter(function(e){return e.hasPassed()||e.hasPassed(!0)}))},filterByPassedWithVC:function filterByPassedWithVC(){return new e(this.filter(function(e){return e.hasPassed(!0)}))},getMembershipsWithHighestGrade:function getMembershipsWithHighestGrade(e){return this.length?this.max(function(t){return t.getCourseGrade(e).score}):void 0}});module.exports=e});
define("bundles/catalogP/models/specializationMembership",["require","exports","module","moment","underscore","bundles/catalogP/constants","bundles/catalogP/models/catalogModel","bundles/catalogP/models/courses","js/lib/path"],function(require,exports,module){var i=require("moment"),_=require("underscore"),t=require("bundles/catalogP/constants"),n=require("bundles/catalogP/models/catalogModel"),e=require("bundles/catalogP/models/courses"),s=require("js/lib/path"),r=n.extend({resourceName:"specializationMemberships.v1",fields:["specializationId","bulkVoucher","eligibleForCapstone","certificateCode"],includes:{specialization:{resource:"specializations.v1",attribute:"specializationId"},signatureTrackProfile:{resource:"signatureTrackProfiles.v1",attribute:"signatureTrackProfile"}},getFirstInterchangeableCourse:function getFirstInterchangeableCourse(i){var n=this.get("specialization").getInterchangeableCourses(i),t=_(n).chain().reduce(function(e,t){return e.add(t.models,{silent:!0})},new e).filter(function(e){return e.has("memberships")&&!e.get("memberships").isEmpty()}).value(),s=_(t).find(function(e){return e.hasPassed(!0)});return s?s:_(t).find(function(e){return _(e.getEnrolledSessions()).pluck("active")})},shouldDisplay:function shouldDisplay(){return this.get("specialization.display")},getEnrolledCourses:function getEnrolledCourses(){return new e(this.get("specialization.courses").filter(function(e){return _(e.getEnrolledSessions()).any(function(e){return e.get("active")})}))},getPassedCourses:function getPassedCourses(){var s=arguments.length<=0||void 0===arguments[0]?{forVc:!0}:arguments[0],t=s.forVc;return new e(this.get("specialization.courses").filter(function(e){var s=this.getFirstInterchangeableCourse(e),i=s&&s.hasPassed(t);return e.hasPassed(t)||i},this))},getPassedCoursesIncludingInterchangeable:function getPassedCoursesIncludingInterchangeable(){var s=arguments.length<=0||void 0===arguments[0]?{forVc:!0}:arguments[0],t=s.forVc;return new e(this.get("specialization.courses").reduce(function(e,s){var i=this.getFirstInterchangeableCourse(s),n=i&&i.hasPassed(t);return s.hasPassed(t)?e.push(s):n&&e.push(i),e}.bind(this),[]))},hasPassed:function hasPassed(){return this.getPassedCourses().length===this.get("specialization.courses").length},getCertificateCode:function getCertificateCode(){return this.get("certificateCode")},hasSpecializationCertificate:function hasSpecializationCertificate(){if("foundationsteaching"===this.get("specialization.shortName")){var t=new e(this.get("specialization.courses").filter(function(e){return e.hasPassed(!0)})),s=new e(this.get("specialization.courses").reject(function(e){return _(t.pluck("slug")).contains(e.get("slug"))}));if(1===s.length&&"teach1"===s.at(0).get("slug")&&8===t.length)return!!this.getCertificateCode()}return this.hasPassed()&&this.getCertificateCode()},getRecordsLink:function getRecordsLink(){return s.join(t.accomplishments.baseUrl,"specialization",this.getCertificateCode())},getFullRecordsLink:function getFullRecordsLink(){return s.join(t.config.url.base,this.getRecordsLink())},getCertificateLink:function getCertificateLink(){return s.join(t.accomplishments.baseUrl,"specialization","certificate",this.getCertificateCode())},getFullCertificateLink:function getFullCertificateLink(){return s.join(t.config.url.base,this.getCertificateLink())},getCompletionDate:function getCompletionDate(){return this.has("grantedAt")?i(this.get("grantedAt")):null},hasBulkPaid:function hasBulkPaid(){return!!this.get("bulkVoucherId")},getLastActiveCourseId:function getLastActiveCourseId(){return void 0},isCoursePassedViaInterchangeableCourses:function isCoursePassedViaInterchangeableCourses(e){var t=arguments.length<=1||void 0===arguments[1]?{forVc:!0}:arguments[1],s=t.forVc;return this.getPassedCourses({forVc:s}).includes(e)}});module.exports=r});
define("bundles/catalogP/models/specializationMemberships",["require","exports","module","bundles/catalogP/models/catalogCollection","bundles/catalogP/models/specializationMembership"],function(require,exports,module){var i=require("bundles/catalogP/models/catalogCollection"),t=require("bundles/catalogP/models/specializationMembership"),e=i.extend({model:t,resourceName:"specializationMemberships.v1",includes:{},filterWithSpecializationCertificates:function filterWithSpecializationCertificates(){return new e(this.filter(function(e){return e.hasSpecializationCertificate()}))},getByCertificateCode:function getByCertificateCode(e){return this.find(function(i){return i.getCertificateCode()===e})}});module.exports=e});
define("bundles/common/constants/S12nRoles",["require","exports","module","js/lib/keysToConstants"],function(require,exports,module){var s=require("js/lib/keysToConstants");module.exports=s(["NOT_ENROLLED","LEARNER"])});
define("bundles/s12n/service/s12nMembershipApi",["require","exports","module","bundles/phoenix/lib/apiWrapper","bundles/s12n/service/constants"],function(require,exports,module){var e=require("bundles/phoenix/lib/apiWrapper"),s=require("bundles/s12n/service/constants");module.exports=e(s.s12nMembershipsApi,{type:"rest"})});
define("bundles/catalogP/models/s12nMembership",["require","exports","module","moment","q","underscore","bundles/catalogP/constants","bundles/catalogP/models/catalogModel","bundles/catalogP/models/courses","bundles/common/constants/S12nRoles","js/lib/path","bundles/s12n/service/s12nMembershipApi"],function(require,exports,module){var i=require("moment"),s=require("q"),_=require("underscore"),e=require("bundles/catalogP/constants"),o=require("bundles/catalogP/models/catalogModel"),n=require("bundles/catalogP/models/courses"),r=require("bundles/common/constants/S12nRoles"),t=require("js/lib/path"),a=require("bundles/s12n/service/s12nMembershipApi"),u=o.extend({api:a,resourceName:"onDemandSpecializationMemberships.v1",fields:["createdAt","updatedAt","status","role","eligibleForCapstone","completionStatus"],includes:{specialization:{resource:"onDemandSpecializations.v1",attribute:"s12nId"},signatureTrackProfile:{resource:"signatureTrackProfiles.v1",attribute:"signatureTrackProfile"},progress:{resource:"onDemandSpecializationProgress.v1",attribute:"progress"}},getLastActiveCourseId:function getLastActiveCourseId(){return this.get("progress.lastActiveCourseId")},enroll:function enroll(){this.set("role",r.LEARNER);var e={data:this.toJSON()};return s(this.api.post("",e))},unenroll:function unenroll(){return this.set("role",r.NOT_ENROLLED),s(this.api["delete"](this.get("id")))},getInterchangeableCourseCollections:function getInterchangeableCourseCollections(t){var e=this.get("specialization");if(e){var n=e.getInterchangeableCourses(t);return _(n).filter(function(e){return e.some(function(e){return e.get("memberships").some(function(e){return e.hasVerifiedCertificate()})})})}return[]},isCoursePassedViaInterchangeableCourses:function isCoursePassedViaInterchangeableCourses(t,n){var e=n.forVC,r=void 0===e?!0:e;return this.getInterchangeableCourseCollections(t).some(function(e){return e.all(function(e){return e.hasPassed(r)})})},getFirstPassedInterchangeableCourseCollection:function getFirstPassedInterchangeableCourseCollection(e){var t=arguments.length<=1||void 0===arguments[1]?{forVc:!0}:arguments[1],n=t.forVc;return this.getInterchangeableCourseCollections(e).find(function(e){return!e.isEmpty()&&e.all(function(e){return e.hasPassed(n)})})},getPassedCoursesIncludingInterchangeable:function getPassedCoursesIncludingInterchangeable(){var e=arguments.length<=0||void 0===arguments[0]?{forVc:!0}:arguments[0],t=e.forVc;return new n(this.get("specialization.courses").reduce(function(e,n){var r=this.getFirstPassedInterchangeableCourseCollection(n);return n.hasPassed(t)?e.push(n):r&&e.concat(r.toArray()),e}.bind(this),[]))},getFirstHybridCourseCollection:function getFirstHybridCourseCollection(t){var e=this.getInterchangeableCourseCollections(t);if(e.length>0)return e[0];return null},getHybridCourse:function getHybridCourse(t){var e=this.getFirstHybridCourseCollection(t);if(e&&e.length>0)return e.at(0);return null},isHybrid:function isHybrid(){var e=this.get("specialization.courses");return e&&e.length?e.chain().map(this.getInterchangeableCourseCollections.bind(this)).filter(function(e){return e.length>0}).flatten().map(function(e){return e.models}).flatten().invoke("isSession").some().value():!1},isEnrolled:function isEnrolled(){return"LEARNER"===this.get("role")},shouldDisplay:function shouldDisplay(){return this.isEnrolled()},getEnrolledCourses:function getEnrolledCourses(){return new n(this.get("specialization.courses").filter(function(e){return e.get("courseProgress.overall")>0}))},getPassedCourses:function getPassedCourses(){return new n(this.get("specialization.courses").filter(function(e){return e.get("memberships").map(function(e){return e.has("vcMembership")&&e.get("vcMembership")}).filter(function(e){return!!e}).map(function(e){return"VERIFIED_PASSED"===e.get("grade").record}).reduce(function(e,t){return e&&t},!0)}))},hasPassed:function hasPassed(){return!!this.getCertificateCode()},hasS12nCertificate:function hasS12nCertificate(){return this.hasPassed()},getCertificateCode:function getCertificateCode(){return this.has("progress.certificateMetadata")?this.get("progress.certificateMetadata").verifyCode:void 0},getRecordsLink:function getRecordsLink(){return t.join(e.accomplishments.baseUrl,"specialization",this.getCertificateCode())},getFullRecordsLink:function getFullRecordsLink(){return t.join(e.config.url.base,this.getRecordsLink())},getCertificateLink:function getCertificateLink(){return t.join(e.accomplishments.baseUrl,"specialization","certificate",this.getCertificateCode())},getFullCertificateLink:function getFullCertificateLink(){return t.join(e.config.url.base,this.getCertificateLink())},getCompletionDate:function getCompletionDate(){var e=this.get("progress");if(e.has("certificateMetadata"))return e.has("certificateMetadata")?i(e.get("certificateMetadata").grantedAt):null;return!1}},r);module.exports=u});
define("bundles/catalogP/models/s12nMemberships",["require","exports","module","bundles/catalogP/models/catalogCollection","bundles/catalogP/models/s12nMembership"],function(require,exports,module){var t=require("bundles/catalogP/models/catalogCollection"),n=require("bundles/catalogP/models/s12nMembership"),e=t.extend({model:n,resourceName:"onDemandSpecializationMemberships.v1",includes:{},filterWithS12nCertificates:function filterWithS12nCertificates(){return new e(this.filter(function(e){return e.hasS12nCertificate()}))},getByCertificateCode:function getByCertificateCode(e){return this.find(function(t){return t.getCertificateCode()===e})}});module.exports=e});
define("bundles/catalogP/models/vcMembership",["require","exports","module","bundles/catalogP/models/catalogModel"],function(require,exports,module){var e=require("bundles/catalogP/models/catalogModel"),d=e.extend({fields:["courseGradeRecord","certificateCode","certificateCodeWithGrade","grade"],includes:{},resourceName:"vcMemberships.v1"},{COURSE_GRADE:{PASSED:"PASSED",VERIFIED_PASSED:"VERIFIED_PASSED",NOT_PASSED:"NOT_PASSED",NOT_PASSABLE:"NOT_PASSABLE"}});module.exports=d});
define("bundles/catalogP/models/vcMemberships",["require","exports","module","bundles/catalogP/models/catalogCollection","bundles/catalogP/models/vcMembership"],function(require,exports,module){var e=require("bundles/catalogP/models/catalogCollection"),l=require("bundles/catalogP/models/vcMembership"),o=e.extend({model:l,resourceName:"vcMemberships.v1"});module.exports=o});
define("bundles/catalogP/models/v1VcDetail",["require","exports","module","moment","bundles/catalogP/models/catalogModel"],function(require,exports,module){var e=require("moment"),t=require("bundles/catalogP/models/catalogModel"),l=t.extend({fields:["vcRegistrationOpen","eligibleForFlexJoin","vcRefundDeadline"],includes:{},resourceName:"v1VcDetails.v1",getRefundDeadline:function getRefundDeadline(){var t=this.get("vcRefundDeadline");if(this.get("vcRegistrationOpen")&&t)return e(t).format("LL");return null}});module.exports=l});
define("bundles/catalogP/models/v1VcDetails",["require","exports","module","bundles/catalogP/models/catalogCollection","bundles/catalogP/models/v1VcDetail"],function(require,exports,module){var e=require("bundles/catalogP/models/catalogCollection"),l=require("bundles/catalogP/models/v1VcDetail"),o=e.extend({model:l,resourceName:"v1VcDetails.v1"});module.exports=o});
define("bundles/catalogP/models/signatureTrackProfile",["require","exports","module","bundles/catalogP/models/catalogModel","bundles/catalogP/lib/concatName"],function(require,exports,module){var e=require("bundles/catalogP/models/catalogModel"),a=require("bundles/catalogP/lib/concatName"),t=e.extend({resourceName:"signatureTrackProfiles.v1",fields:["firstName","middleName","lastName"],getFullName:function getFullName(){return a({first:this.get("firstName"),middle:this.get("middleName"),last:this.get("lastName")})}});module.exports=t});
define("bundles/catalogP/models/signatureTrackProfiles",["require","exports","module","bundles/catalogP/models/catalogCollection","bundles/catalogP/models/signatureTrackProfile"],function(require,exports,module){var e=require("bundles/catalogP/models/catalogCollection"),l=require("bundles/catalogP/models/signatureTrackProfile"),o=e.extend({model:l,resourceName:"signatureTrackProfiles.v1"});module.exports=o});
define("bundles/catalogP/models/s12nProgress",["require","exports","module","bundles/catalogP/models/catalogModel"],function(require,exports,module){var e=require("bundles/catalogP/models/catalogModel"),s=e.extend({fields:["userId","s12nId","lastActiveCourseId","lastActiveAt","certificateMetadata"],resourceName:"onDemandSpecializationProgress.v1"});module.exports=s});
define("bundles/catalogP/models/s12nProgresses",["require","exports","module","bundles/catalogP/models/catalogCollection","bundles/catalogP/models/s12nProgress"],function(require,exports,module){var e=require("bundles/catalogP/models/catalogCollection"),o=require("bundles/catalogP/models/s12nProgress"),s=e.extend({model:o,resourceName:"onDemandSpecializationProgress.v1"});module.exports=s});
define("bundles/catalogP/models/onDemandSessionMembership",["require","exports","module","bundles/catalogP/models/catalogModel"],function(require,exports,module){var e=require("bundles/catalogP/models/catalogModel"),o=e.extend({resourceName:"onDemandSessionMemberships.v1"});module.exports=o});
define("bundles/catalogP/models/onDemandSessionMemberships",["require","exports","module","bundles/catalogP/models/catalogCollection","bundles/catalogP/models/onDemandSessionMembership"],function(require,exports,module){var e=require("bundles/catalogP/models/catalogCollection"),o=require("bundles/catalogP/models/onDemandSessionMembership"),s=e.extend({model:o,resourceName:"onDemandSessionMemberships.v1"});module.exports=s});
define("bundles/catalogP/lib/resources",["require","exports","module","bundles/catalogP/models/searches","bundles/catalogP/models/courses","bundles/catalogP/models/courseProgress","bundles/catalogP/models/courseLists","bundles/catalogP/models/instructors","bundles/catalogP/models/languages","bundles/catalogP/models/sessions","bundles/catalogP/models/v1Details","bundles/catalogP/models/v2Details","bundles/catalogP/models/partners","bundles/catalogP/models/categories","bundles/catalogP/models/specializations","bundles/catalogP/models/memberships","bundles/catalogP/models/specializationMemberships","bundles/catalogP/models/s12nMemberships","bundles/catalogP/models/vcMemberships","bundles/catalogP/models/v1VcDetails","bundles/catalogP/models/signatureTrackProfiles","bundles/catalogP/models/s12ns","bundles/catalogP/models/s12nProgresses","bundles/ondemand/sessions/models/Sessions","bundles/catalogP/models/onDemandSessionMemberships"],function(require,exports,module){module.exports={"search.v1":require("bundles/catalogP/models/searches"),"courses.v1":require("bundles/catalogP/models/courses"),"onDemandCoursesProgress.v1":require("bundles/catalogP/models/courseProgress"),"courseLists.v1":require("bundles/catalogP/models/courseLists"),"instructors.v1":require("bundles/catalogP/models/instructors"),"languages.v1":require("bundles/catalogP/models/languages"),"v1Sessions.v1":require("bundles/catalogP/models/sessions"),"v1Details.v1":require("bundles/catalogP/models/v1Details"),"v2Details.v1":require("bundles/catalogP/models/v2Details"),"partners.v1":require("bundles/catalogP/models/partners"),"categories.v1":require("bundles/catalogP/models/categories"),"specializations.v1":require("bundles/catalogP/models/specializations"),"memberships.v1":require("bundles/catalogP/models/memberships"),"specializationMemberships.v1":require("bundles/catalogP/models/specializationMemberships"),"onDemandSpecializationMemberships.v1":require("bundles/catalogP/models/s12nMemberships"),"vcMemberships.v1":require("bundles/catalogP/models/vcMemberships"),"v1VcDetails.v1":require("bundles/catalogP/models/v1VcDetails"),"signatureTrackProfiles.v1":require("bundles/catalogP/models/signatureTrackProfiles"),"onDemandSpecializations.v1":require("bundles/catalogP/models/s12ns"),"onDemandSpecializationProgress.v1":require("bundles/catalogP/models/s12nProgresses"),"onDemandSessions.v1":require("bundles/ondemand/sessions/models/Sessions").Sessions,"onDemandSessionMemberships.v1":require("bundles/catalogP/models/onDemandSessionMemberships")}});
define("bundles/catalogP/lib/catalogUrl",["require","exports","module","underscore","jsuri","js/lib/path","bundles/catalogP/lib/resources"],function(require,exports,module){var _=require("underscore"),e=require("jsuri"),t=require("js/lib/path"),i=require("bundles/catalogP/lib/resources");module.exports={build:function build(s,r){var d=_(r).omit("id","fields","includes"),o=i[s].prototype.model.prototype,n=this.parseIncludes(o,r.includes);this.addToList(n.fields,s,r.fields);var u=_({fields:this.stringifyMapping(n.fields,s),includes:this.stringifyMapping(n.includes,s)}).extend(d),a=void 0!==r.id?t.join(s,r.id):s,c=_(u).reduce(function(e,i,t){return _(i).isUndefined()||_(i).isArray()&&_(i).isEmpty()||""===i?e:(_(i).isArray()&&(i=_(i).sortBy(_.identity)),e.addQueryParam(t,i))},(new e).setPath(a));return c.toString().replace(/%2C/g,",")},parseIncludes:function parseIncludes(t,n){var r=t.resourceName,e={},s={};return _(n||{}).each(function(d,o){var u=t.getIncludeAttribute(o),n=t.getIncludeResource(o);if(void 0===n)return{};var a=i[n],c=a&&a.prototype.model.prototype;if(void 0===c)return{};this.addToList(e,r,u),this.addToList(s,r,u),this.addToList(e,n,d.fields);var l=this.parseIncludes(c,d.includes);_(l.fields).each(function(i,t){this.addToList(e,t,i)}.bind(this)),_(l.includes).each(function(i,e){this.addToList(s,e,i)}.bind(this))}.bind(this)),{fields:e,includes:s}},addToList:function addToList(e,t,i){_(i).isArray()||(i=[i]),e[t]=_(e[t]||[]).union(i)},stringifyMapping:function stringifyMapping(i,e){var t=_(i).map(function(i,t){if(i=_(i).compact(),_(i).isEmpty())return;var s=_(i).sortBy(_.identity).join(",");return t===e?s:t+"("+s+")"});return _(t).compact().join(",")}}});
define("bundles/catalogP/data/s12ns",["require","exports","module","memoize!bundles/catalogP/api/api.promise","bundles/catalogP/models/s12n","bundles/catalogP/lib/catalogUrl"],function(require,exports,module){var e=require("memoize!bundles/catalogP/api/api.promise"),a=require("bundles/catalogP/models/s12n"),l=require("bundles/catalogP/lib/catalogUrl");module.exports=function(o){return e(l.build(a.prototype.resourceName,o))}});

define("bundles/catalogP/lib/createLinkedModels",["require","exports","module","underscore","bundles/catalogP/lib/resources"],function(require,exports,module){var _=require("underscore"),e=require("bundles/catalogP/lib/resources"),r=function createLinkedModels(o,u){var c={},a=function createRelatedCollections(n,r){c[r.cid]={},_(r.includes).each(function(n,t){var o=n.resource,u=e[o];c[r.cid][t]=r.get(n.attribute),r.set(t,new u)})},n=e[o],t=n&&n.prototype.model,r=_(e).chain().map(function(e,r){return[r,new e]}).object().value();return r[t.prototype.resourceName]=new n(u.elements),r[t.prototype.resourceName].each(function(e){a(t.prototype.resourceName,e)}),_(u.linked).each(function(n,c){var e=r[c];void 0!==e&&(e.add(n),e.each(function(e){a(c,e)}))}),_(r).each(function(e,n){e.each(function(e){_(e.includes).each(function(o,n){var t=c[e.cid][n];if(t)if(_(t).isArray()){var u=_(t).chain().map(function(e){return r[o.resource].get(e)}).compact().value();e.get(n).add(u)}else e.set(n,r[o.resource].get(t));else e.unset(n)})})}),r[o]};module.exports=r});
define("bundles/catalogP/promises/s12ns",["require","exports","module","js/lib/underscore.extend","memoize!bundles/catalogP/data/s12ns","bundles/catalogP/lib/createLinkedModels","bundles/catalogP/models/s12n","bundles/catalogP/models/s12nMembership","bundles/catalogP/models/memberships","bundles/phoenix/template/models/userIdentity","bundles/catalogP/models/courses"],function(require,exports,module){var _=require("js/lib/underscore.extend"),n=require("memoize!bundles/catalogP/data/s12ns"),s=require("bundles/catalogP/lib/createLinkedModels"),i=require("bundles/catalogP/models/s12n"),d=require("bundles/catalogP/models/s12nMembership"),r=require("bundles/catalogP/models/memberships"),e=require("bundles/phoenix/template/models/userIdentity"),a=require("bundles/catalogP/models/courses");module.exports=function(l){return n(l).then(function(n){if(n.linked&&n.linked["v2Details.v1"]&&n.linked["onDemandSessions.v1"]&&n.linked["v2Details.v1"].map(function(e){e.onDemandSessions=n.linked["onDemandSessions.v1"].filter(function(n){var s=n.courseId;return s===e.id}).map(function(e){return e.id})}),n.linked&&n.linked["onDemandCoursesProgress.v1"]&&n.linked["courses.v1"]&&(n.linked["courses.v1"]=_(n.linked["courses.v1"]).map(function(n){return n.courseProgress=e.get("id")+"~"+n.id,n.v2Details=n.id,n})),n.linked&&n.linked["memberships.v1"]&&n.linked["vcMemberships.v1"]&&(n.linked["memberships.v1"]=_(n.linked["memberships.v1"]).map(function(e){var s=_(n.linked["vcMemberships.v1"]).find(function(n){return n.id===e.id});return s&&(e.vcMembershipId=e.id),e})),n.linked&&n.linked["memberships.v1"]&&n.linked["courses.v1"]){var l=_(n.linked["memberships.v1"]).groupBy("courseId");n.linked["courses.v1"]=_(n.linked["courses.v1"]).map(function(e){return e.membershipIds=_(l[e.id]).pluck("id"),e.memberships=new r(l[e.id]),e})}n.linked&&n.linked["v2Details.v1"]&&(n.linked["courses.v1"]=_(n.linked["courses.v1"]).map(function(e){return"v2.ondemand"===e.courseType&&(e.v2Details=_(n.linked["v2Details.v1"]).findWhere({id:e.id})),e})),n.linked&&n.linked["onDemandSpecializationProgress.v1"]&&n.linked["onDemandSpecializationMemberships.v1"]&&_(n.linked["onDemandSpecializationMemberships.v1"]).each(function(e){e.progress=e.id}),n.linked&&n.linked["onDemandSpecializationMemberships.v1"]&&(n.elements=_(n.elements).map(function(e){var s=_(n.linked["onDemandSpecializationMemberships.v1"]).findWhere({s12nId:e.id});return s&&(e.memberships=s.id),e})),n.elements=_(n.elements).map(function(e){return e.interchangeableMap=Object.assign({},e.interchangeableCourseIds),e.interchangeableCourseIds=_(e.interchangeableCourseIds).chain().values().flatten().uniq().value(),e});var t=s(i.prototype.resourceName,n);return t.each(function(n){if(!n.has("membership")){var s=e.get("id");n.set("membership",new d({id:s+"~"+n.get("id"),userId:s,s12nId:n.get("id"),role:"NOT_ENROLLED"}))}n.has("interchangeableMap")&&!function(){var e=n.get("interchangeableCourses"),s=_(n.get("interchangeableMap")).courseraMapValues(function(n){return n.map(function(n){return new a(_(n).map(function(n){return e.get(n)}))})});n.set("interchangeableMap",s)}()}),t})}});

define("nls/payments",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define("bundles/payments/constants",["require","exports","module","js/app/config","i18n!nls/payments"],function(require,exports,module){var a=require("js/app/config"),i=require("i18n!nls/payments");module.exports={config:a,rootPath:"/payments",refundProductAction:"Refund",buyProductAction:"Buy",finaidAppMinWords:10,daphneImg:"https://s3.amazonaws.com/coursera/media/Daphne_Koller.png",andrewImg:"https://s3.amazonaws.com/coursera/media/Andrew_Ng.png",VC_DEFAULT_CURRENCY:840,VC_DEFAULT_COUNTRY_ALPHA2:"US",VC_DEFAULT_CURRENCY_CODE:"USD",epicNamespace:"payments",courseMigrationParameter:"sparkPaymentsInGringotts",specializationMigrationParameter:"sparkSpecializationPaymentsInGringotts",ProductType:{VERIFIED_CERTIFICATE:"VerifiedCertificate",SPARK_VERIFIED_CERTIFICATE:"SparkVerifiedCertificate",SPECIALIZATION:"Specialization",SPARK_SPECIALIZATION:"SparkSpecialization"},ServicePeriod:{VERIFIED_CERTIFICATE:180,SPECIALIZATION:365},finaidSignature:i("I promise that I will provide truthful and honest information on the Financial Aid application that I am about to submit.")}});
define("bundles/payments/api/productPrices",["require","exports","module","bundles/phoenix/lib/apiWrapper"],function(require,exports,module){var e=require("bundles/phoenix/lib/apiWrapper");module.exports=e("/api/productPrices.v3",{type:"rest"})});
define("bundles/payments/data/productPrices",["require","exports","module","underscore","bundles/payments/api/productPrices","q","jsuri"],function(require,exports,module){var _=require("underscore"),r=require("bundles/payments/api/productPrices"),e=require("q"),s=require("jsuri");module.exports=function(t){if(_(t).isArray()){var n=(new s).addQueryParam("ids",t.join());return e(r.get(n.toString()))}return e(r.get(t))}});

function _classCallCheck(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(e,o){for(var n=0;n<o.length;n++){var t=o[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(t,n,o){return n&&defineProperties(t.prototype,n),o&&defineProperties(t,o),t}}();define("bundles/payments/models/productPrice",["require","exports","module"],function(require,exports,module){var t=function FormattedFinalAmount(t){_classCallCheck(this,FormattedFinalAmount),Object.assign(this,t)},n=function(){function PromotionInfo(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];_classCallCheck(this,PromotionInfo),this.discountAmount=t.discountAmount,this.discountPercent=t.discountPercent,this.promotionName=t.promotionName}return _createClass(PromotionInfo,[{key:"getDiscountString",value:function getDiscountString(){return this.discountAmount}},{key:"getDiscountPercent",value:function getDiscountPercent(){return this.discountPercent}},{key:"getPromotionName",value:function getPromotionName(){return this.promotionName}}]),PromotionInfo}(),o=function(){function ProductPrice(){var o=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];_classCallCheck(this,ProductPrice),this.productType=o.productType,this.productItemId=o.productItemId,this.currencyCode=o.currencyCode,this.countryIsoCode=o.countryIsoCode,this.id=o.id,this.amount=o.amount,this.finalAmount=o.finalAmount,this.priceCountryIsoCode=o.priceCountryIsoCode,this.formattedFinalAmount=o.formattedFinalAmount?new t(o.formattedFinalAmount):null,this.promotionInfo=o.promotionInfo?new n(o.promotionInfo):null}return _createClass(ProductPrice,[{key:"_displayCheck",value:function _displayCheck(){if(!this.formattedFinalAmount)throw new Error("Cannot display price due to missing display format.")}},{key:"getOriginalAmount",value:function getOriginalAmount(){return this.amount}},{key:"getDisplayAmount",value:function getDisplayAmount(){return this._displayCheck(),this.formattedFinalAmount.amount}},{key:"getDisplayCurrencyCode",value:function getDisplayCurrencyCode(){return this._displayCheck(),this.formattedFinalAmount.currencyCode}},{key:"getDisplayCurrencySymbol",value:function getDisplayCurrencySymbol(){return this._displayCheck(),this.formattedFinalAmount.currencySymbol}},{key:"getServerFormattedString",value:function getServerFormattedString(){return this._displayCheck(),this.formattedFinalAmount.formattedString}},{key:"hasPromotion",value:function hasPromotion(){return this.promotionInfo}},{key:"getDiscountPercent",value:function getDiscountPercent(){return this.hasPromotion()&&this.promotionInfo.getDiscountPercent()||0}},{key:"getDiscountAmount",value:function getDiscountAmount(){return this.hasPromotion()&&this.promotionInfo.getDiscountAmount()||0}},{key:"getPromotionName",value:function getPromotionName(){return this.hasPromotion()?this.promotionInfo.getPromotionName():null}}]),ProductPrice}();module.exports=o});
define("bundles/payments/promises/productPrices",["require","exports","module","q","underscore","bundles/payments/constants","memoize!bundles/payments/data/productPrices","bundles/phoenix/template/models/requestCountryCode","bundles/payments/models/productPrice","js/lib/prices"],function(require,exports,module){var s=require("q"),_=require("underscore"),e=require("bundles/payments/constants"),n=require("memoize!bundles/payments/data/productPrices"),r=require("bundles/phoenix/template/models/requestCountryCode"),t=require("bundles/payments/models/productPrice"),o=require("js/lib/prices"),c=[e.ProductType.VERIFIED_CERTIFICATE,e.ProductType.SPECIALIZATION],u=exports.getPriceForProduct=function(u,s){var c=o.getCurrencyFromCountry(r),e=n([u,s,c,r].join("~")).then(function(e){return new t(e.elements[0])});return e.done(),e};exports.getPricesForProducts=function(e){if(0===e.length)return s([]);var c=e.map(function(e){var n=e.productType,t=e.productTypeId,u=o.getCurrencyFromCountry(r);return[n,t,u,r].join("~")}),u=n(c).then(function(e){return e.elements.map(function(e){return new t(e)})});return u.done(),u},exports.getPriceForVC=function(r){return u(e.ProductType.VERIFIED_CERTIFICATE,r.courseId)},exports.getPriceForSpecialization=function(r){return u(e.ProductType.SPECIALIZATION,r.specializationId)}});
define("bundles/payments/promises/s12nPrice",["require","exports","module","bundles/payments/promises/productPrices"],function(require,exports,module){var e=require("bundles/payments/promises/productPrices").getPriceForSpecialization;module.exports=function(r){var s=e({specializationId:r});return s.done(),s}});
define("bundles/payments/promises/vcPrices",["require","exports","module","bundles/payments/constants","bundles/payments/promises/productPrices"],function(require,exports,module){var e=require("bundles/payments/constants"),s=require("bundles/payments/promises/productPrices").getPricesForProducts;module.exports=function(r){var n=r.map(function(s){return{productType:e.ProductType.VERIFIED_CERTIFICATE,productTypeId:s.get("id")}}),t=s(n);return t.done(),t}});
define("bundles/s12n/service/promises/s12ns",["require","exports","module","q","underscore","memoize!bundles/catalogP/promises/s12ns","js/lib/memoize","bundles/payments/promises/s12nPrice","bundles/payments/promises/vcPrices"],function(require,exports,module){var e=require("q"),_=require("underscore"),t=require("memoize!bundles/catalogP/promises/s12ns"),r=require("js/lib/memoize"),u=require("bundles/payments/promises/s12nPrice"),a=require("bundles/payments/promises/vcPrices"),o=["logo","tagline","partnerLogoOverrides","description","metadata","capstone","interchangeableCourseIds","cmlDescription"],i={partners:{fields:["description","squareLogo","classLogo"]},instructors:{fields:["shortName","profileId"],includes:{partners:{fields:["name"]}}},courses:{fields:["name","description","workload","subtitleLanguages","courseType","startDate","v2Details","courseStatus"],includes:{v2Details:{fields:["plannedLaunchDate"],includes:{sessions:{}}},courseProgress:{},memberships:{fields:["grade","vcMembershipId"]},vcMemberships:{fields:["certificateCodeWithGrade"]},subtitleLanguages:{},instructors:{fields:["shortName","prefixName","firstName","middleName","lastName","suffixName","photo","title"]}}}},c=["logo","interchangeableCourseIds","metadata"],d={membership:{},partners:{fields:["name","homeLink"]},courses:{fields:["startDate","description"],includes:{v2Details:{fields:["plannedLaunchDate"]},courseProgress:{},memberships:{fields:["grade","vcMembershipId"]},vcMemberships:{fields:["certificateCodeWithGrade"]}}},memberships:{}},n=function handleOptions(e){e.includeMembership&&(i.membership={fields:["createdAt","updatedAt","status","role","eligibleForCapstone","completionStatus"],includes:{}})},s=function addPrices(s){return e.all([u(s.get("id")),a(s.get("courses"))]).spread(function(e,r){return s.set({price:e}),s.get("courses").each(function(e){var s=_(r).findWhere({productItemId:e.get("id")});e.set("price",s)}),s})["catch"](function(){return e(s)})};exports.fromId=r(function(r,e){return e&&n(e),t({id:r,fields:o,includes:i}).then(function(e){return e.at(0)}).then(s)}),exports.fromSlug=r(function(r,e){return e&&n(e),t({q:"slug",slug:r,fields:o,includes:i}).then(function(e){if(e.length>0)return e.at(0);throw new Error("No specialization with that slug exists.")}).then(s)}),exports.relatedToCourse=r(function(r){if(!r)return e.reject(new Error("Missing courseId argument"));return t({q:"course",courseId:r,fields:c,includes:d}).then(function(r){return e.allSettled(r.map(s)).then(function(){return r})})})});
define("pages/open-course/common/singletons/course",["require","exports","module","q","pages/open-course/common/constants","pages/open-course/common/promises/course"],function(require,exports,module){function redirectAsNeeded(o,n){var r=o.getPathname();if(n.get("slug")!==e.courseSlug&&"string"==typeof r&&0===r.indexOf("/learn")){var s=r,t=s.replace(e.courseSlug,n.get("slug"));o.setPathname(t)}}function getCourseOrRedirect(e){return o.fromSlug(e).then(function(e){return require(["js/lib/coursera.redirect"],function(r){return redirectAsNeeded(r,e)}),e})["catch"](function(e){return require(["origami"],function(e){return e.router.trigger("error",404,location.href)}),r.reject(e)})}var r=require("q"),e=require("pages/open-course/common/constants"),o=require("pages/open-course/common/promises/course");module.exports=e.courseSlug?getCourseOrRedirect(e.courseSlug):r.reject(new Error("Course singleton missing courseSlug constant"))});
define("pages/open-course/common/singletons/s12n",["require","exports","module","bundles/catalogP/models/s12ns","bundles/s12n/service/promises/s12ns","pages/open-course/common/singletons/course"],function(require,exports,module){var s=require("bundles/catalogP/models/s12ns"),e=require("bundles/s12n/service/promises/s12ns"),n=require("pages/open-course/common/singletons/course");module.exports=n.then(function(s){return e.relatedToCourse(s.id)})["catch"](function(e){return new s})});
define("bundles/ondemand/utils/courseModeOverrideUtils",["require","exports","module","js/lib/coursera.store","js/lib/keysToConstants","pages/open-course/common/constants"],function(require,exports,module){var e=require("js/lib/coursera.store"),s=require("js/lib/keysToConstants"),r=require("pages/open-course/common/constants"),o=function getLocalStorageKey(){return"CourseModeOverride."+r.courseId};exports.getCourseModeOverride=function(){return e.get(o())},exports.setCourseModeOverride=function(s){e.set(o(),s)},exports.removeCourseModeOverride=function(){e.remove(o())},exports.courseModes=s(["PRE_ENROLL","ON_DEMAND","SESSIONS"])});
define("bundles/outsourcing/utils",["require","exports","module"],function(require,exports,module){exports.isOutsourcing=function(u){return!!u.get("email_address").match(/[a-zA-Z0-9._%+-@]+@support.coursera.org/)}});
define("bundles/ondemand/sessions/lib/experiment",["require","exports","module","q","bundles/ondemand/utils/onDemandSessionsApi","bundles/phoenix/template/models/userIdentity","pages/open-course/common/promises/course","pages/open-course/common/promises/membership","pages/open-course/common/singletons/s12n","bundles/ondemand/utils/courseModeOverrideUtils","bundles/outsourcing/utils"],function(require,exports,module){var u=require("q"),i=require("bundles/ondemand/utils/onDemandSessionsApi"),e=require("bundles/phoenix/template/models/userIdentity"),d=require("pages/open-course/common/promises/course"),r=require("pages/open-course/common/promises/membership"),o=require("pages/open-course/common/singletons/s12n"),s=require("bundles/ondemand/utils/courseModeOverrideUtils"),t=s.getCourseModeOverride,n=s.courseModes,m=require("bundles/outsourcing/utils"),l=m.isOutsourcing;exports.isEnabledInCourse=function(e){return d.fromId(e).then(function(e){return e.hasSessions()})},exports.isSessionsEnabled=function(s,d){if(!e.get("authenticated"))return exports.isEnabledInCourse(s);return u([o,r(e.get("id"),s),i.getSessionMembershipsForCourse(s),exports.isEnabledInCourse(s)]).spread(function(a,o,r,i){var u=e.get("is_superuser")||o.hasTeachingRole()||l(e),s=t();if(u&&s){if(s===n.SESSIONS)return!0;if(s===n.ON_DEMAND)return!1}var d=r.length>0,m=o.hasEnrolledRole();if(i&&(d||!m))return!0;return!1})}});
function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(n,s){for(var t=0;t<s.length;t++){var e=s[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(e,t,s){return t&&defineProperties(e.prototype,t),s&&defineProperties(e,s),e}}();define("bundles/ondemand/stores/SessionStore",["require","exports","module","moment","q","bundles/ondemand/actions/SessionActions","bundles/ondemand/sessions/lib/experiment","bundles/ondemand/sessions/models/Sessions","bundles/ondemand/utils/onDemandSessionsApi","bundles/phoenix/template/models/userIdentity","js/lib/alt","pages/open-course/common/singletons/course"],function(require,exports,module){var e=require("moment"),a=require("q"),i=require("bundles/ondemand/actions/SessionActions"),n=require("bundles/ondemand/sessions/lib/experiment"),s=n.isSessionsEnabled,o=require("bundles/ondemand/sessions/models/Sessions"),t=o.Session,r=require("bundles/ondemand/utils/onDemandSessionsApi"),u=r.getCurrentSession,l=require("bundles/phoenix/template/models/userIdentity"),d=require("js/lib/alt"),c=require("pages/open-course/common/singletons/course"),f=function(){function SessionStore(){var e=this;_classCallCheck(this,SessionStore),this.bindActions(i),this.deferred=a.defer(),this.loaded=!1,this.on("init",function(){c.then(function(t){return e.isSessionsCourse=t.hasSessions(),s(t.get("id"),t.get("slug"))}).then(function(t){e.isSessionsEnabled=t,s?u():e.onUpdateLoaded()})["catch"](function(){e.isSessionsEnabled=!1,e.onUpdateLoaded()}).done()})}return _createClass(SessionStore,[{key:"onUpdateSession",value:function onUpdateSession(e){this.session=e}},{key:"onUpdateMembership",value:function onUpdateMembership(e){this.membership=e}},{key:"onUpdateLoaded",value:function onUpdateLoaded(){this.loaded=!0,this.deferred.resolve()}},{key:"onUpdateEnrollableSession",value:function onUpdateEnrollableSession(e){this.enrollableSession=e}},{key:"onUpdateFollowingSession",value:function onUpdateFollowingSession(e){this.followingSession=e}}],[{key:"isSessionsEnabled",value:function isSessionsEnabled(){return this.getState().isSessionsEnabled}},{key:"deferUntilLoaded",value:function deferUntilLoaded(){return this.getState().deferred.promise}},{key:"hasLoaded",value:function hasLoaded(){return this.getState().loaded}},{key:"getSession",value:function getSession(){return this.getState().session}},{key:"getSessionId",value:function getSessionId(){var t=this.getState(),e=t.session;return e&&e.id}},{key:"isSessionsCourse",value:function isSessionsCourse(){return this.getState().isSessionsCourse}},{key:"isPreviewMode",value:function isPreviewMode(){return this.isSessionsCourse()&&!l.get("authenticated")||this.isSessionsEnabled()&&(this.isUpcoming()||!this.isEnrolled())}},{key:"isEnrolled",value:function isEnrolled(){return!!this.getState().membership}},{key:"isSessionAvailable",value:function isSessionAvailable(){return!!this.getSession()}},{key:"isUpcoming",value:function isUpcoming(){if(this.isSessionsEnabled()&&this.isSessionAvailable()){var t=this.getStartTime();return!!e().isBefore(t)}return!1}},{key:"hasStarted",value:function hasStarted(){var t=this.getStartTime();return t?e().isAfter(t):!1}},{key:"hasEnded",value:function hasEnded(){var t=this.getEndTime();return t?e().isAfter(t):!1}},{key:"getStartTime",value:function getStartTime(){var t=this.getState(),e=t.session;return e&&e.startedAt}},{key:"getEndTime",value:function getEndTime(){var t=this.getState(),e=t.session;return e&&e.endedAt}},{key:"formatDate",value:function formatDate(t){return e(t).local().format("MMMM D")}},{key:"getStartDate",value:function getStartDate(){var e=this.getSession();return e&&this.formatDate(e.startedAt)}},{key:"getEndDate",value:function getEndDate(){return this.formatDate(this.getSession().endedAt)}},{key:"getEnrollmentEndDate",value:function getEnrollmentEndDate(){return this.formatDate(this.getSession().enrollmentEndedAt)}},{key:"getEnrollmentDaysLeft",value:function getEnrollmentDaysLeft(){return e(this.getSession().enrollmentEndedAt).diff(e(),"days")}},{key:"getSessionDates",value:function getSessionDates(){return this.getStartDate()+"  "+this.getEndDate()}},{key:"getNumWeeks",value:function getNumWeeks(){return e(this.getEndTime()).diff(this.getStartTime(),"weeks")}},{key:"getTimeUntilStart",value:function getTimeUntilStart(){return e(this.getStartTime()).fromNow(!0)}},{key:"getCurrentWeek",value:function getCurrentWeek(){return e().diff(this.getStartTime(),"weeks")+1}},{key:"isItemLocked",value:function isItemLocked(e){var t=e.get("lesson.module.week"),s=this.isSessionsEnabled()&&e.isAssessment()&&(!this.isEnrolled()||1!==t),n=this.isPreviewMode()&&s,i=this.isSessionsEnabled()&&e.isAssessment()&&this.hasEnded(),o=e.get("isLocked")===!0;return n||i||o}},{key:"isWeekLocked",value:function isWeekLocked(e,t,s){return this.isPreviewMode()&&(s||t.isWeekLocked()&&e>1)}},{key:"getEnrollableSession",value:function getEnrollableSession(){var s=this.getState(),e=s.enrollableSession;if(e)return new t(e)}},{key:"getFollowingSession",value:function getFollowingSession(){var s=this.getState(),e=s.followingSession;if(e)return new t(e)}}]),SessionStore}();module.exports=d.createStore(f,"SessionStore")});
var _extends=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i};define("pages/open-course/common/models/itemMetadata",["require","exports","module","backbone-associations","moment","underscore","bundles/ondemand/stores/SessionStore","js/lib/path","i18n!nls/ondemand","pages/open-course/common/constants"],function(require,exports,module){var Backbone=require("backbone-associations"),i=require("moment"),_=require("underscore"),r=require("bundles/ondemand/stores/SessionStore"),t=require("js/lib/path"),e=require("i18n!nls/ondemand"),n=require("pages/open-course/common/constants"),s=2592e5,a=Backbone.AssociatedModel.extend({comparator:"sequence",getLink:function getLink(){return t.join(this.get("course").getLink(),this.getCourseRelativeLink())},getCourseRelativeLink:function getCourseRelativeLink(){var e=t.join(this.getUrlTypeName(),this.get("id"),this.get("slug"));return this.isReviewPartForSplitPeer()&&(e=t.join(e,"give-feedback")),e},getTimeCommitment:function getTimeCommitment(){var e=this.get("timeCommitment");return this.isLecture()&&this.getDefinition("optional")&&(e=this.getDefinition("duration")),i.duration(e)},getUrlTypeName:function getUrlTypeName(){var e=this.getTypeName(),t={assessOpenSinglePage:"quiz",closedPeer:"peer",gradedPeer:"peer",phasedPeer:"peer",splitPeerReviewItem:"peer",gradedProgramming:"programming",ungradedProgramming:"programming"};return t[e]||e},getTypeName:function getTypeName(){return this.getContent().typeName},getContent:function getContent(){return this.get("content")},getDefinition:function getDefinition(e){return this.getContent().definition[e]},getName:function getName(){return"assessOpenSinglePage"===this.getTypeName()?"Quiz: "+this.get("name"):this.get("name")},getTypePrefix:function getTypePrefix(){switch(this.getTypeName()){case"assessOpenSinglePage":case"quiz":return e("Practice Quiz");case"closedPeer":case"gradedPeer":case"peer":case"phasedPeer":return e("Assignment");case"gradedProgramming":case"programming":case"ungradedProgramming":return e("Assignment");case"exam":return e("Quiz");case"splitPeerReviewItem":return e("Review Classmates");default:return""}},getId:function getId(){return this.get("id")},getLectureIndexInModule:function getLectureIndexInModule(){if(!this.isLecture())return-1;return this.get("lesson.module").getLectureItemMetadatas().indexOf(this)},getLectureIndexInCourse:function getLectureIndexInCourse(){if(!this.isLecture())return-1;return this.get("courseMaterials").getLectureItemMetadatas().indexOf(this)},isLecture:function isLecture(){return"lecture"===this.getTypeName()},isSignatureTrack:function isSignatureTrack(){return this.get("course").get("signatureTrack")},isAssignmentPartForSplitPeer:function isAssignmentPartForSplitPeer(){return-1!==["phasedPeer","gradedPeer","closedPeer"].indexOf(this.getTypeName())},isReviewPartForSplitPeer:function isReviewPartForSplitPeer(){return"splitPeerReviewItem"===this.getTypeName()},isGradable:function isGradable(){return _(n.items.gradableTypes).contains(this.getTypeName())},isAssessment:function isAssessment(){return _(n.items.assessmentTypes).contains(this.getTypeName())},isLocked:function isLocked(e){return this.get("locked")||e&&r.isItemLocked(this,e)},getReviewPartFromSplitPeer:function getReviewPartFromSplitPeer(){if(!this.isAssignmentPartForSplitPeer())return void 0;var e=this.clone(),t=_extends({},e.get("content"));return t.typeName="splitPeerReviewItem",t.definition.reviewDeadlineOffset||(t.definition.reviewDeadlineOffset=s),e.set("content",t),e.assignmentPart=this,e}});module.exports=a});
define("js/lib/coursera.react-intl",["require","exports","module","react-intl"],function(require,exports,module){var e=require("react-intl");e.__addLocaleData({locale:"es",pluralRuleFunction:function pluralRuleFunction(e){if(e=Math.floor(e),1===e)return"one";return"other"},fields:{second:{displayName:"segundo",relative:{0:"ahora"},relativeTime:{future:{one:"dentro de {0} segundo",other:"dentro de {0} segundos"},past:{one:"hace {0} segundo",other:"hace {0} segundos"}}},minute:{displayName:"minuto",relativeTime:{future:{one:"dentro de {0} minuto",other:"dentro de {0} minutos"},past:{one:"hace {0} minuto",other:"hace {0} minutos"}}},hour:{displayName:"hora",relativeTime:{future:{one:"dentro de {0} hora",other:"dentro de {0} horas"},past:{one:"hace {0} hora",other:"hace {0} horas"}}},day:{displayName:"da",relative:{0:"hoy",1:"maana",2:"pasado maana","-2":"antes de ayer","-1":"ayer"},relativeTime:{future:{one:"dentro de {0} da",other:"dentro de {0} das"},past:{one:"hace {0} da",other:"hace {0} das"}}},month:{displayName:"mes",relative:{0:"este mes",1:"el prximo mes","-1":"el mes pasado"},relativeTime:{future:{one:"dentro de {0} mes",other:"dentro de {0} meses"},past:{one:"hace {0} mes",other:"hace {0} meses"}}},year:{displayName:"ao",relative:{0:"este ao",1:"el prximo ao","-1":"el ao pasado"},relativeTime:{future:{one:"dentro de {0} ao",other:"dentro de {0} aos"},past:{one:"hace {0} ao",other:"hace {0} aos"}}}}}),e.__addLocaleData({locale:"en",pluralRuleFunction:function pluralRuleFunction(e){var a=Math.floor(Math.abs(e)),t=e.toString().replace(/^[^.]*\.?/,"").length;if(e=Math.floor(e),1===a&&0===t)return"one";return"other"},fields:{second:{displayName:"Second",relative:{0:"now"},relativeTime:{future:{one:"in {0} second",other:"in {0} seconds"},past:{one:"{0} second ago",other:"{0} seconds ago"}}},minute:{displayName:"Minute",relativeTime:{future:{one:"in {0} minute",other:"in {0} minutes"},past:{one:"{0} minute ago",other:"{0} minutes ago"}}},hour:{displayName:"Hour",relativeTime:{future:{one:"in {0} hour",other:"in {0} hours"},past:{one:"{0} hour ago",other:"{0} hours ago"}}},day:{displayName:"Day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},month:{displayName:"Month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{one:"in {0} month",other:"in {0} months"},past:{one:"{0} month ago",other:"{0} months ago"}}},year:{displayName:"Year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{one:"in {0} year",other:"in {0} years"},past:{one:"{0} year ago",other:"{0} years ago"}}}}}),e.__addLocaleData({locale:"fr",pluralRuleFunction:function pluralRuleFunction(e){var a=Math.floor(Math.abs(e));if(e=Math.floor(e),0===a||1===a)return"one";return"other"},fields:{second:{displayName:"seconde",relative:{0:"maintenant"},relativeTime:{future:{one:"dans {0} seconde",other:"dans {0} secondes"},past:{one:"il y a {0} seconde",other:"il y a {0} secondes"}}},minute:{displayName:"minute",relativeTime:{future:{one:"dans {0} minute",other:"dans {0} minutes"},past:{one:"il y a {0} minute",other:"il y a {0} minutes"}}},hour:{displayName:"heure",relativeTime:{future:{one:"dans {0} heure",other:"dans {0} heures"},past:{one:"il y a {0} heure",other:"il y a {0} heures"}}},day:{displayName:"jour",relative:{0:"aujourdhui",1:"demain",2:"aprs-demain","-2":"avant-hier","-1":"hier"},relativeTime:{future:{one:"dans {0} jour",other:"dans {0} jours"},past:{one:"il y a {0} jour",other:"il y a {0} jours"}}},month:{displayName:"mois",relative:{0:"ce mois-ci",1:"le mois prochain","-1":"le mois dernier"},relativeTime:{future:{one:"dans {0} mois",other:"dans {0} mois"},past:{one:"il y a {0} mois",other:"il y a {0} mois"}}},year:{displayName:"anne",relative:{0:"cette anne",1:"lanne prochaine","-1":"lanne dernire"},relativeTime:{future:{one:"dans {0} an",other:"dans {0} ans"},past:{one:"il y a {0} an",other:"il y a {0} ans"}}}}}),e.__addLocaleData({locale:"pt",pluralRuleFunction:function pluralRuleFunction(e){var a=Math.floor(Math.abs(e)),t=e.toString().replace(/^[^.]*\.?/,"").length,o=parseInt(e.toString().replace(/^[^.]*\.?|0+$/g,""),10);if(e=Math.floor(e),1===a&&(0===t||0===a&&1===o))return"one";return"other"},fields:{second:{displayName:"Segundo",relative:{0:"agora"},relativeTime:{future:{one:"Dentro de {0} segundo",other:"Dentro de {0} segundos"},past:{one:"H {0} segundo",other:"H {0} segundos"}}},minute:{displayName:"Minuto",relativeTime:{future:{one:"Dentro de {0} minuto",other:"Dentro de {0} minutos"},past:{one:"H {0} minuto",other:"H {0} minutos"}}},hour:{displayName:"Hora",relativeTime:{future:{one:"Dentro de {0} hora",other:"Dentro de {0} horas"},past:{one:"H {0} hora",other:"H {0} horas"}}},day:{displayName:"Dia",relative:{0:"hoje",1:"amanh",2:"depois de amanh","-2":"anteontem","-1":"ontem"},relativeTime:{future:{one:"Dentro de {0} dia",other:"Dentro de {0} dias"},past:{one:"H {0} dia",other:"H {0} dias"}}},month:{displayName:"Ms",relative:{0:"este ms",1:"prximo ms","-1":"ms passado"},relativeTime:{future:{one:"Dentro de {0} ms",other:"Dentro de {0} meses"},past:{one:"H {0} ms",other:"H {0} meses"}}},year:{displayName:"Ano",relative:{0:"este ano",1:"prximo ano","-1":"ano passado"},relativeTime:{future:{one:"Dentro de {0} ano",other:"Dentro de {0} anos"},past:{one:"H {0} ano",other:"H {0} anos"}}}}}),e.__addLocaleData({locale:"ru",pluralRuleFunction:function pluralRuleFunction(t){var e=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;if(t=Math.floor(t),0===a&&e%10===1&&e%100!==11)return"one";if(0===a&&e%10===Math.floor(e%10)&&e%10>=2&&4>=e%10&&!(e%100>=12&&14>=e%100))return"few";if(0===a&&(e%10===0||0===a&&(e%10===Math.floor(e%10)&&e%10>=5&&9>=e%10||0===a&&e%100===Math.floor(e%100)&&e%100>=11&&14>=e%100)))return"many";return"other"},fields:{second:{displayName:"",relative:{0:""},relativeTime:{future:{one:" {0} ",few:" {0} ",many:" {0} ",other:" {0} "},past:{one:"{0}  ",few:"{0}  ",many:"{0}  ",other:"{0}  "}}},minute:{displayName:"",relativeTime:{future:{one:" {0} ",few:" {0} ",many:" {0} ",other:" {0} "},past:{one:"{0}  ",few:"{0}  ",many:"{0}  ",other:"{0}  "}}},hour:{displayName:"",relativeTime:{future:{one:" {0} ",few:" {0} ",many:" {0} ",other:" {0} "},past:{one:"{0}  ",few:"{0}  ",many:"{0}  ",other:"{0}  "}}},day:{displayName:"",relative:{0:"",1:"",2:"","-2":"","-1":""},relativeTime:{future:{one:" {0} ",few:" {0} ",many:" {0} ",other:" {0} "},past:{one:"{0}  ",few:"{0}  ",many:"{0}  ",other:"{0}  "}}},month:{displayName:"",relative:{0:"  ",1:"  ","-1":"  "},relativeTime:{future:{one:" {0} ",few:" {0} ",many:" {0} ",other:" {0} "},past:{one:"{0}  ",few:"{0}  ",many:"{0}  ",other:"{0}  "}}},year:{displayName:"",relative:{0:"  ",1:"  ","-1":"  "},relativeTime:{future:{one:" {0} ",few:" {0} ",many:" {0} ",other:" {0} "},past:{one:"{0}  ",few:"{0}  ",many:"{0}  ",other:"{0}  "}}}}}),e.__addLocaleData({locale:"tr",pluralRuleFunction:function pluralRuleFunction(e){if(e=Math.floor(e),1===e)return"one";return"other"},fields:{second:{displayName:"Saniye",relative:{0:"imdi"},relativeTime:{future:{one:"{0} saniye sonra",other:"{0} saniye sonra"},past:{one:"{0} saniye nce",other:"{0} saniye nce"}}},minute:{displayName:"Dakika",relativeTime:{future:{one:"{0} dakika sonra",other:"{0} dakika sonra"},past:{one:"{0} dakika nce",other:"{0} dakika nce"}}},hour:{displayName:"Saat",relativeTime:{future:{one:"{0} saat sonra",other:"{0} saat sonra"},past:{one:"{0} saat nce",other:"{0} saat nce"}}},day:{displayName:"Gn",relative:{0:"bugn",1:"yarn",2:"br gn","-2":"evvelsi gn","-1":"dn"},relativeTime:{future:{one:"{0} gn sonra",other:"{0} gn sonra"},past:{one:"{0} gn nce",other:"{0} gn nce"}}},month:{displayName:"Ay",relative:{0:"bu ay",1:"gelecek ay","-1":"geen ay"},relativeTime:{future:{one:"{0} ay sonra",other:"{0} ay sonra"},past:{one:"{0} ay nce",other:"{0} ay nce"}}},year:{displayName:"Yl",relative:{0:"bu yl",1:"gelecek yl","-1":"geen yl"},relativeTime:{future:{one:"{0} yl sonra",other:"{0} yl sonra"},past:{one:"{0} yl nce",other:"{0} yl nce"}}}}}),e.__addLocaleData({locale:"zh",pluralRuleFunction:function pluralRuleFunction(e){return"other"},fields:{second:{displayName:"",relative:{0:""},relativeTime:{future:{other:"{0}"},past:{other:"{0}"}}},minute:{displayName:"",relativeTime:{future:{other:"{0}"},past:{other:"{0}"}}},hour:{displayName:"",relativeTime:{future:{other:"{0}"},past:{other:"{0}"}}},day:{displayName:"",relative:{0:"",1:"",2:"","-2":"","-1":""},relativeTime:{future:{other:"{0}"},past:{other:"{0}"}}},month:{displayName:"",relative:{0:"",1:"","-1":""},relativeTime:{future:{other:"{0}"},past:{other:"{0}"}}},year:{displayName:"",relative:{0:"",1:"","-1":""},relativeTime:{future:{other:"{0}"},past:{other:"{0}"}}}}}),module.exports=e});
define("pages/open-course/common/models/lesson",["require","exports","module","backbone-associations","moment","react-with-addons","underscore","js/lib/coursera.react-intl","js/lib/path","i18n!nls/ondemand","pages/open-course/common/models/itemMetadata"],function(require,exports,module){var Backbone=require("backbone-associations"),e=require("moment"),i=require("react-with-addons"),_=require("underscore"),t=require("js/lib/coursera.react-intl"),o=t.FormattedMessage,n=require("js/lib/path"),r=require("i18n!nls/ondemand"),s=require("pages/open-course/common/models/itemMetadata"),a=Backbone.AssociatedModel.extend({initialize:function initialize(e){this.getItemMetadatas().invoke("set",{lesson:this}),_(["course","courseMaterials"]).each(function(e){this.on("change:"+e,this.passReference(e),this)},this)},passReference:function passReference(e){return function(){this.getItemMetadatas().invoke("set",e,this.get(e))}},relations:[{type:Backbone.Associations.Many,key:"elements",relatedModel:s}],getLink:function getLink(e){return n.join(this.get("course").getLink(),"lesson",this.get("id"))},getItemMetadata:function getItemMetadata(e){return this.getItemMetadatas().get(e)},getItemMetadatas:function getItemMetadatas(){return this.get("elements")},getLectureItemMetadatas:function getLectureItemMetadatas(){return new Backbone.Collection(this.getItemMetadatas().filter(function(e){return e.isLecture()}))},getAssessmentItemMetadatas:function getAssessmentItemMetadatas(){return new Backbone.Collection(this.getItemMetadatas().filter(function(e){return e.isAssessment()}))},getGradableItemMetadatas:function getGradableItemMetadatas(){return new Backbone.Collection(this.getItemMetadatas().filter(function(e){return e.isGradable()}))},getTimeCommitment:function getTimeCommitment(){return e.duration(this.get("timeCommitment"))}});module.exports=a});
define("pages/open-course/common/models/module",["require","exports","module","backbone-associations","moment","underscore","js/lib/path","pages/open-course/common/models/lesson"],function(require,exports,module){var Backbone=require("backbone-associations"),e=require("moment"),_=require("underscore"),t=require("js/lib/path"),n=require("pages/open-course/common/models/lesson"),s=Backbone.AssociatedModel.extend({defaults:{optional:!1},relations:[{type:Backbone.Associations.Many,key:"elements",relatedModel:n}],initialize:function initialize(e){this.getLessons().invoke("set","module",this),_(["course","courseMaterials"]).each(function(e){this.on("change:"+e,this.passReference(e),this)},this)},passReference:function passReference(e){return function(){this.getLessons().invoke("set",e,this.get(e))}},getLink:function getLink(){return t.join(this.get("course").getLink(),"module",this.get("id"))},getHomeLink:function getHomeLink(){return this.get("course").getHomeLink()+"?module="+this.get("id")},getLessons:function getLessons(){return this.get("elements")},getLesson:function getLesson(e){return this.getLessons().get(e)},getTotalItemCount:function getTotalItemCount(){return this.getLessons().reduce(function(e,t){return e+t.getItemMetadatas().length},0)},getItemMetadata:function getItemMetadata(e){return this.getItemMetadatas().get(e)},getItemMetadatas:function getItemMetadatas(){if(!this.allItemMetadatas){var e=this.getLessons().chain().invoke("getItemMetadatas").invoke("toArray").flatten().value();this.allItemMetadatas=new Backbone.Collection(e)}return this.allItemMetadatas},isGradable:function isGradable(){return!!this.getGradables().length},getGradables:function getGradables(){return this.getItemMetadatas().filter(function(e){return e.isGradable()})},getTotalLectureItemCount:function getTotalLectureItemCount(){return this.getLectureItemMetadatas().length},getLectureItemMetadatas:function getLectureItemMetadatas(){return new Backbone.Collection(this.getItemMetadatas().filter(function(e){return e.isLecture()}))},getTimeCommitment:function getTimeCommitment(){return e.duration(this.get("timeCommitment"))}});module.exports=s});
define("pages/open-course/common/models/courseMaterials",["require","exports","module","backbone-associations","underscore","pages/open-course/common/models/itemMetadata","pages/open-course/common/models/lesson","pages/open-course/common/models/module"],function(require,exports,module){var Backbone=require("backbone-associations"),_=require("underscore"),t=require("pages/open-course/common/models/itemMetadata"),s=require("pages/open-course/common/models/lesson"),e=require("pages/open-course/common/models/module"),n=Backbone.AssociatedModel.extend({parse:function parse(e,t){return e},initialize:function initialize(t,e){if(!e||!e.course)throw new Error("Please pass in a reference to course to CourseMaterials during initialization");this.getModules().each(function(module,t){module.set({index:t+1,course:e.course,courseMaterials:this})},this),this.getRequiredModules().each(function(module,e){module.set({requiredIndex:e+1})}),this.set("course",e.course)},relations:[{type:Backbone.Associations.Many,key:"elements",relatedModel:e}],getModules:function getModules(){return this.get("elements")||new Backbone.Collection},getRequiredModules:function getRequiredModules(){return new Backbone.Collection(this.getModules().where({optional:!1}),{model:e})},getLesson:function getLesson(e){var t=this.getModules().invoke("getLesson",e);return _(t).compact()[0]},getModuleCount:function getModuleCount(){return this.get("elements").length},getItemMetadata:function getItemMetadata(e){return this.getItemMetadatas().findWhere({id:e})},getItemMetadatas:function getItemMetadatas(){if(!this.allItemMetadatas){var e=this.getModules().chain().invoke("getItemMetadatas").invoke("toArray").flatten().value();this.allItemMetadatas=new Backbone.Collection(e,{model:t})}return this.allItemMetadatas},getLectureItemMetadatas:function getLectureItemMetadatas(){return new Backbone.Collection(this.getItemMetadatas().filter(function(e){return e.isLecture()}))},getModulesWithGradableItems:function getModulesWithGradableItems(){return this.getModules().filter(function(module){return module.isGradable()})},getGradableItemMetadatas:function getGradableItemMetadatas(){return this.getItemMetadatas().filter(function(e){return e.isGradable()})},getItemMetadataAt:function getItemMetadataAt(e){return this.getItemMetadatas().at(e)},getNeighboringItemMetadata:function getNeighboringItemMetadata(o){var t=this.getItemMetadatas(),e=t.indexOf(o),s,n;return e>0&&(s=this.getItemMetadataAt(e-1)),e>=0&&e<t.length-1&&(n=this.getItemMetadataAt(e+1)),{previous:s,next:n}},getLessons:function getLessons(){if(!this.allLessons){var e=this.get("elements").chain().invoke("getLessons").invoke("toArray").flatten().value();this.allLessons=new Backbone.Collection(e,{model:s})}return this.allLessons},getLessonAt:function getLessonAt(e){return this.getLessons().at(e)},getNeighboringLessons:function getNeighboringLessons(o){var t=this.getLessons(),e=t.indexOf(o),s,n;return e>0&&(s=this.getLessonAt(e-1)),e<t.length-1&&(n=this.getLessonAt(e+1)),{previous:s,next:n}},getModuleForItem:function getModuleForItem(e){return this.getItemMetadata(e).get("lesson").get("module")},getFirstLectureId:function getFirstLectureId(){var e=this.getItemMetadatas().find(function(e){return e.isLecture()});return e.get("id")}});module.exports=n});
define("pages/open-course/common/promises/courseMaterials",["require","exports","module","q","pages/open-course/common/data/courseMaterials","pages/open-course/common/models/courseMaterials","pages/open-course/common/promises/course"],function(require,exports,module){var o=require("q"),s=require("pages/open-course/common/data/courseMaterials"),e=require("pages/open-course/common/models/courseMaterials"),r=require("pages/open-course/common/promises/course");module.exports=function(a){return o.allSettled([s.fromSlug(a),r.fromSlug(a)]).spread(function(s,o){if("rejected"===s.state&&"fulfilled"===o.state)return new e({},{course:o.value,parse:!0});return new e(s.value,{course:o.value,parse:!0})})}});

define("pages/open-course/common/singletons/courseMaterials",["require","exports","module","pages/open-course/common/constants","memoize!pages/open-course/common/promises/courseMaterials"],function(require,exports,module){var e=require("pages/open-course/common/constants"),o=require("memoize!pages/open-course/common/promises/courseMaterials");module.exports=o(e.courseSlug)["catch"](function(e){return null})});
define("pages/open-course/item/redirector",["require","exports","module","underscore","bundles/phoenix/lib/exceptions","js/lib/path","jsuri","origami","pages/open-course/common/singletons/courseMaterials"],function(require,exports,module){var _=require("underscore"),r=require("bundles/phoenix/lib/exceptions"),o=require("js/lib/path"),t=require("jsuri"),n=require("origami"),i=require("pages/open-course/common/singletons/courseMaterials"),e={redirectWithSubpath:function redirectWithSubpath(m,u,c,p,g,d,l,a,f,v,h,b,j,w){var s=_([u,c,p,g,d,l,a,f,v,h,b,j]).compact().join("/");return i.then(function(u){var i=u.getItemMetadata(m);if(!i)throw new r.NotFound;var a=new t(o.join(i.getCourseRelativeLink(),s));e.appendQueryParams(a,w),n.router.navigate(a.toString(),{replace:!0,trigger:!0})})},redirect:function redirect(o,a){return i.then(function(u){var i=u.getItemMetadata(o);if(!i)throw new r.NotFound;var s=new t(i.getCourseRelativeLink());e.appendQueryParams(s,a),n.router.navigate(s.toString(),{replace:!0,trigger:!0})})},appendQueryParams:function appendQueryParams(t,e){if(e)for(var r in e)t.addQueryParam(r,e[r])}};module.exports=e});
define("bundles/requirejs/plugins/lazy",["require","exports","module"],function(require,exports,module){var e={version:"0.0.1",load:function load(e,r,u,i){var n=function getModule(n){r([e],function(e){return n(e)})};return n.lazy={moduleId:e},u(n)}};module.exports=e});








define("bundles/ondemand/actions/CourseMembershipActions",["require","exports","module","js/lib/alt"],function(require,exports,module){var e=require("js/lib/alt");module.exports=e.generateActions("updateMembership")});

define("bundles/ondemand/utils/courseMembershipApi",["require","exports","module","bundles/ondemand/actions/CourseMembershipActions","bundles/ondemand/actions/ServerActionCreators","bundles/phoenix/template/models/userIdentity","pages/open-course/common/models/membership","memoize!pages/open-course/common/promises/membership","pages/open-course/common/singletons/course"],function(require,exports,module){var e=require("bundles/ondemand/actions/CourseMembershipActions"),s=require("bundles/ondemand/actions/ServerActionCreators"),r=require("bundles/phoenix/template/models/userIdentity"),t=require("pages/open-course/common/models/membership"),n=require("memoize!pages/open-course/common/promises/membership"),o=require("pages/open-course/common/singletons/course"),i={getCourseMembership:function getCourseMembership(){var i=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=i.force,m=void 0===t?!1:t,u=m?n.force:n;o.get("id").then(function(e){return u(r.get("id"),e)}).then(function(n){e.updateMembership(n)}).fail(function(e){s.displayError(e)}).done()},enroll:function enroll(){var n;return o.get("id").then(function(e){return n=new t({courseId:e}),n.enroll()}).then(function(){e.updateMembership(n)})}};module.exports=i});
function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(n,t){for(var r=0;r<t.length;r++){var e=t[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(e,r,t){return r&&defineProperties(e.prototype,r),t&&defineProperties(e,t),e}}();define("bundles/certificate-enroll/actions/EnrollActions",["require","exports","module","underscore","q","js/lib/coursera.store","bundles/adsTracking/lib","bundles/phoenix/template/models/userAuthorization","pages/open-course/common/constants","bundles/phoenix/template/models/userIdentity","js/lib/alt","js/lib/coursera.redirect","pages/open-course/common/models/membership"],function(require,exports,module){var _=require("underscore"),c=require("q"),s=require("js/lib/coursera.store"),t=require("bundles/adsTracking/lib"),n=require("bundles/phoenix/template/models/userAuthorization"),o=require("pages/open-course/common/constants"),r=require("bundles/phoenix/template/models/userIdentity"),i=require("js/lib/alt"),l=require("js/lib/coursera.redirect"),a=require("pages/open-course/common/models/membership"),e=function enrollAction(e,u){var i=u||{redirectUrlAfterAuth:e.getLink()},d=i.redirectUrlAfterAuth,p=i.role;if(n.ensureAuthenticated({redirectUrl:d})){var f=new a({courseId:e.get("id")}),l=f.enroll(p);return l.then(function(){return s.set(o.onboardModalStorageKey+e.get("id"),!0),t.trackEnroll(r.get("id"))}).done(),l}return c.reject()},u=function(){function EnrollActions(){_classCallCheck(this,EnrollActions),this.generateActions("updateHasCertificate","updateEnrolled","updateShowModal","openModalWithRedirectUrlAfterAuth")}return _createClass(EnrollActions,[{key:"enrollWithoutCertificate",value:function enrollWithoutCertificate(n,r){var o=r||{},t=o.redirectUrlAfterEnroll;return e(n,r).then(function(){_(t).isEmpty()||l.setLocation(t)})}},{key:"enroll",value:function enroll(r,t){return e(r,t)}}]),EnrollActions}();module.exports=i.createActions(u)});
function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(r,n){for(var t=0;t<n.length;t++){var e=n[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(r,e.key,e)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();define("bundles/ondemand/stores/CourseMembershipStore",["require","exports","module","q","bundles/ondemand/actions/CourseMembershipActions","bundles/ondemand/utils/courseMembershipApi","bundles/certificate-enroll/actions/EnrollActions","js/lib/alt"],function(require,exports,module){var t=require("q"),n=require("bundles/ondemand/actions/CourseMembershipActions"),r=require("bundles/ondemand/utils/courseMembershipApi"),e=r.getCourseMembership,i=require("bundles/certificate-enroll/actions/EnrollActions"),s=require("js/lib/alt"),o=function(){function CourseMembershipStore(){_classCallCheck(this,CourseMembershipStore),this.bindActions(n),this.bindAction(i.updateEnrolled,this.onUpdateEnrolled),this.deferred=t.defer(),this.loaded=!1,this.on("init",function(){e()})}return _createClass(CourseMembershipStore,[{key:"onUpdateEnrolled",value:function onUpdateEnrolled(){e({force:!0})}},{key:"onUpdateMembership",value:function onUpdateMembership(e){this.membership=e,this.deferred.resolve()}}],[{key:"deferUntilLoaded",value:function deferUntilLoaded(){return this.getState().deferred.promise}},{key:"getCourseMembership",value:function getCourseMembership(){return this.getState().membership}},{key:"hasLoaded",value:function hasLoaded(){return void 0!==this.membership}},{key:"isEnrolled",value:function isEnrolled(){var t=this.getState(),e=t.membership;if(e)return e.hasEnrolledRole()}},{key:"isPreEnrolled",value:function isPreEnrolled(){var t=this.getState(),e=t.membership;if(e)return e.hasPreEnrolled()}},{key:"hasTeachingRole",value:function hasTeachingRole(){var t=this.getState(),e=t.membership;if(e)return e.hasTeachingRole()}},{key:"enrollmentTime",value:function enrollmentTime(){var t=this.getState(),e=t.membership;if(e)return e.get("timestamp")}}]),CourseMembershipStore}();module.exports=s.createStore(o,"CourseMembershipStore")});
define("bundles/s12n-common/service/promises/s12nForCoursePromiseFactory",["require","exports","module","q","jsuri","pages/open-course/common/naptimeApi"],function(require,exports,module){var e=require("q"),r=require("jsuri"),o=require("pages/open-course/common/naptimeApi");module.exports=function(n){var s=new r("onDemandSpecializations.v1").addQueryParam("q","course").addQueryParam("courseId",n);return e(o.get(s.toString()))}});
define("bundles/ondemand/utils/isPreviewMode",["require","exports","module","bundles/ondemand/stores/CourseMembershipStore","bundles/ondemand/stores/SessionStore","bundles/phoenix/template/models/userIdentity"],function(require,exports,module){var e=require("bundles/ondemand/stores/CourseMembershipStore"),s=require("bundles/ondemand/stores/SessionStore"),n=require("bundles/phoenix/template/models/userIdentity");module.exports=function(){return n.get("authenticated")?s.isPreviewMode()?!0:e.isEnrolled()?!1:!0:!0}});
define("bundles/phoenix/utils/removeLoadingIcon",["require","exports","module","jquery"],function(require,exports,module){var $=require("jquery"),e=function removeLoadingIcon(){$("#coursera-loading-js").remove()};module.exports=e});
var _extends=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t};define("bundles/common/components/loadOnRoute",["require","exports","module","react-with-addons","bundles/phoenix/utils/removeLoadingIcon","js/app/loggerSingleton"],function(require,exports,module){function createAsyncHandler(i){function loadHandler(n){i(function(module){t=module,t.navigateActionDependencies&&t.navigateActionDependencies.forEach(function(n){return r.push(n)}),n()})}if(!i.lazy)throw new Error("loadOnRoute must be invoked with a module factory, not a module id. see D25459");var t=null,r=[];return n.createClass({statics:{navigateActionDependencies:r,willTransitionTo:function willTransitionTo(o,i,r,n){t?"function"==typeof t.willTransitionTo?(t.willTransitionTo(o,i,r,n),t.willTransitionTo.length<4&&n()):n():loadHandler(function(){e(),n()})},willTransitionFrom:function willTransitionFrom(e,o,n){t&&"function"==typeof t.willTransitionFrom?(t.willTransitionFrom(e,o,n),t.willTransitionFrom.length<3&&n()):n()}},render:function render(){if(t)return n.createElement(t,_extends({ref:"targetComponent"},this.props));var e=i.lazy.moduleId;return o.error("Handler '"+e+"' not loaded in loadOnRoute.render"),n.createElement("div",null,n.createElement("i",{className:"cif-spinner cif-spin"}))}})}var n=require("react-with-addons"),e=require("bundles/phoenix/utils/removeLoadingIcon"),o=require("js/app/loggerSingleton");"undefined"==typeof window?module.exports=function(n){var e=n.lazy.moduleId;return require(e)}:module.exports=createAsyncHandler});

define("bundles/discussions/discussionsRoutes",["require","exports","module","react-with-addons","react-router","bundles/common/components/loadOnRoute","lazy!bundles/discussions/components/DiscussionsApp"],function(require,exports,module){var e=require("react-with-addons"),i=require("react-router"),s=i.Route,o=require("bundles/common/components/loadOnRoute"),n=o(require("lazy!bundles/discussions/components/DiscussionsApp"));module.exports=[e.createElement(s,{path:"discussions/?:question_id?",handler:n}),e.createElement(s,{path:"discussions/:question_id/replies/:answer_id",handler:n}),e.createElement(s,{path:"discussions/:question_id/replies/:answer_id/comments/:comment_id",handler:n}),e.createElement(s,{path:"module/:module_id/discussions/?:question_id?",handler:n}),e.createElement(s,{path:"module/:module_id/discussions/:question_id/replies/:answer_id",handler:n}),e.createElement(s,{path:"module/:module_id/discussions/:question_id/replies/:answer_id/comments/:comment_id",handler:n}),e.createElement(s,{path:"forum/:forum_id/discussions/?:question_id?",handler:n}),e.createElement(s,{path:"forum/:forum_id/discussions/:question_id/replies/:answer_id",handler:n}),e.createElement(s,{path:"forum/:forum_id/discussions/:question_id/replies/:answer_id/comments/:comment_id",handler:n}),e.createElement(s,{path:"group/:group_id/discussions/?:question_id?",handler:n}),e.createElement(s,{path:"group/:group_id/discussions/:question_id/replies/:answer_id",handler:n}),e.createElement(s,{path:"group/:group_id/discussions/:question_id/replies/:answer_id/comments/:comment_id",handler:n}),e.createElement(s,{path:"country/:country_code/discussions/?:question_id?",handler:n}),e.createElement(s,{path:"country/:country_code/discussions/:question_id/replies/:answer_id",handler:n}),e.createElement(s,{path:"country/:country_code/discussions/:question_id/replies/:answer_id/comments/:comment_id",handler:n})]});
define("bundles/mobile/lib/eligibility",["require","exports","module","js/lib/cookie"],function(require,exports,module){function deferPromotion(){i.set(e,!0,{expires:r,path:"/"})}function isFreshMobile(t,r,s){if(!r)throw new Error("Missing userAgent");var n=!1;if(s||i){var l=s?s[e]:i.get(e);n="true"===l}var u=r.isIOS||r.isAndroid;if(n||r.isCourseraMobileApp||!u)return!1;var a=!!o.find(function(e){return e.test(t)});return a}var i=require("js/lib/cookie"),e="mobile-promo-dismissed",r=1,o=[/^\/$/,/^\/courses$/,/^\/specializations$/,/^\/(course|learn)\/([^\/])+$/,/^\/specialization\/([^\/])+$/,/^\/ssr/],s=function mkDeferPromotionHref(i){return"javascript:\n    function dismissMobilePromo() {\n      var wall = document.querySelector('"+i+"');\n      if (wall) wall.style.display = 'none';\n      document.cookie = '"+e+"=true; max-age="+24*r*60*60+"';\n    }\n    dismissMobilePromo();"};module.exports={deferPromotion:deferPromotion,isFreshMobile:isFreshMobile,mkDeferPromotionHref:s}});
define("vendor/cnpm/inherits.v2/inherits_browser",["require","exports","module"],function(require,exports,module){"function"==typeof Object.create?module.exports=function inherits(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:module.exports=function inherits(e,t){e.super_=t;var o=function(){};o.prototype=t.prototype,e.prototype=new o,e.prototype.constructor=e}});
define("vendor/cnpm/eventemitter3.v1/index",["require","exports","module"],function(require,exports,module){function EE(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function EventEmitter(){}EventEmitter.prototype._events=void 0,EventEmitter.prototype.listeners=function listeners(n,i){var e="symbol"!=typeof n?"~"+n:n,s=this._events&&this._events[e];if(i)return!!s;if(!s)return[];if(this._events[e].fn)return[this._events[e].fn];for(var t=0,r=this._events[e].length,o=new Array(r);r>t;t++)o[t]=this._events[e][t].fn;return o},EventEmitter.prototype.emit=function emit(f,n,i,h,v,a){var c="symbol"!=typeof f?"~"+f:f;if(!this._events||!this._events[c])return!1;var e=this._events[c],r=arguments.length,s,t;if("function"==typeof e.fn){switch(e.once&&this.removeListener(f,e.fn,void 0,!0),r){case 1:return e.fn.call(e.context),!0;case 2:return e.fn.call(e.context,n),!0;case 3:return e.fn.call(e.context,n,i),!0;case 4:return e.fn.call(e.context,n,i,h),!0;case 5:return e.fn.call(e.context,n,i,h,v),!0;case 6:return e.fn.call(e.context,n,i,h,v,a),!0}for(t=1,s=new Array(r-1);r>t;t++)s[t-1]=arguments[t];e.fn.apply(e.context,s)}else{var p=e.length,o;for(t=0;p>t;t++)switch(e[t].once&&this.removeListener(f,e[t].fn,void 0,!0),r){case 1:e[t].fn.call(e[t].context);break;case 2:e[t].fn.call(e[t].context,n);break;case 3:e[t].fn.call(e[t].context,n,i);break;default:if(!s)for(o=1,s=new Array(r-1);r>o;o++)s[o-1]=arguments[o];e[t].fn.apply(e[t].context,s)}}return!0},EventEmitter.prototype.on=function on(t,s,r){var n=new EE(s,r||this),e="symbol"!=typeof t?"~"+t:t;return this._events||(this._events={}),this._events[e]?this._events[e].fn?this._events[e]=[this._events[e],n]:this._events[e].push(n):this._events[e]=n,this},EventEmitter.prototype.once=function once(t,s,r){var n=new EE(s,r||this,!0),e="symbol"!=typeof t?"~"+t:t;return this._events||(this._events={}),this._events[e]?this._events[e].fn?this._events[e]=[this._events[e],n]:this._events[e].push(n):this._events[e]=n,this},EventEmitter.prototype.removeListener=function removeListener(o,i,s,f){var r="symbol"!=typeof o?"~"+o:o;if(!this._events||!this._events[r])return this;var e=this._events[r],t=[];if(i)if(e.fn)(e.fn!==i||f&&!e.once||s&&e.context!==s)&&t.push(e);else for(var n=0,h=e.length;h>n;n++)(e[n].fn!==i||f&&!e[n].once||s&&e[n].context!==s)&&t.push(e[n]);return t.length?this._events[r]=1===t.length?t[0]:t:delete this._events[r],this},EventEmitter.prototype.removeAllListeners=function removeAllListeners(e){if(!this._events)return this;return e?delete this._events["symbol"!=typeof e?"~"+e:e]:this._events={},this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.addListener=EventEmitter.prototype.on,EventEmitter.prototype.setMaxListeners=function setMaxListeners(){return this},module.exports=EventEmitter});
define("vendor/cnpm/dispatchr.v0-3/addons/BaseStore",["require","exports","module","vendor/cnpm/inherits.v2/inherits_browser","vendor/cnpm/eventemitter3.v1/index"],function(require,exports,module){function BaseStore(e){this.dispatcher=e,this._hasChanged=!1,this.initialize&&this.initialize()}var t=require("vendor/cnpm/inherits.v2/inherits_browser"),n=require("vendor/cnpm/eventemitter3.v1/index"),e="change";t(BaseStore,n),BaseStore.prototype.getContext=function getContext(){return this.dispatcher.getContext()},BaseStore.prototype.addChangeListener=function addChangeListener(t){this.on(e,t)},BaseStore.prototype.removeChangeListener=function removeChangeListener(t){this.removeListener(e,t)},BaseStore.prototype.shouldDehydrate=function shouldDehydrate(){return this._hasChanged},BaseStore.prototype.emitChange=function emitChange(t){this._hasChanged=!0,this.emit(e,t||this)},module.exports=BaseStore});
define("vendor/cnpm/dispatchr.v0-3/addons/createStore",["require","exports","module","vendor/cnpm/inherits.v2/inherits_browser","./BaseStore"],function(require,exports,module){function createChainedFunction(e,t){return function chainedFunction(){e.apply(this,arguments),t.apply(this,arguments)}}function mixInto(e,t){Object.keys(t).forEach(function(i){if(-1!==r.indexOf(i))return;if("initialize"===i)e[i]?e[i]=createChainedFunction(e[i],t[i]):e[i]=t[i];else{if(e.hasOwnProperty(i))throw new Error('Mixin property collision for property "'+i+'"');e[i]=t[i]}})}var t=require("vendor/cnpm/inherits.v2/inherits_browser"),e=require("./BaseStore"),r=["statics","storeName","handlers","mixins"];module.exports=function createStore(i){if(i.statics=i.statics||{},!i.storeName&&!i.statics.storeName)throw new Error("createStore called without a storeName");var r=function(t){e.call(this,t)};return t(r,e),Object.keys(i.statics).forEach(function(e){r[e]=i.statics[e]}),r.storeName=i.storeName||r.storeName,r.handlers=i.handlers||r.handlers,r.mixins=i.mixins||r.mixins,r.mixins&&r.mixins.forEach(function(e){mixInto(r.prototype,e)}),mixInto(r.prototype,i),r}});
define("vendor/cnpm/dispatchr.v0-3/addons/index",["require","exports","module","./BaseStore","./createStore"],function(require,exports,module){module.exports={BaseStore:require("./BaseStore"),createStore:require("./createStore")}});
define("vendor/cnpm/fluxible.v0-4/addons/createStore",["require","exports","module","vendor/cnpm/dispatchr.v0-3/addons/index"],function(require,exports,module){module.exports=require("vendor/cnpm/dispatchr.v0-3/addons/index").createStore});
define("bundles/ssr/stores/ApplicationStore",["require","exports","module","underscore","bundles/mobile/lib/eligibility","js/lib/cookie","js/lib/useragent","vendor/cnpm/fluxible.v0-4/addons/createStore"],function(require,exports,module){var _=require("underscore"),i=require("bundles/mobile/lib/eligibility"),s=i.isFreshMobile,e=require("js/lib/cookie"),o=require("js/lib/useragent"),n=require("vendor/cnpm/fluxible.v0-4/addons/createStore"),t=["csrfToken","currentRoute","mobilePromoEligible","requestCountryCode","userAgent","userData"],r=n({storeName:"ApplicationStore",handlers:{CHANGE_ROUTE:"handleNavigate",LOAD_COOKIES:"loadCookies",INFER_MOBILE_PROMO_ELIGIBILITY:"inferMobilePromoElibility",SET_CSRF_TOKEN:"setCsrfToken",SET_CAUTH_TOKEN:"setCauthToken",SET_REQUEST_COUNTRY:"setRequestCountry",SET_USER_AGENT:"setUserAgent",SET_USER_DATA:"setUserData"},initialize:function initialize(){this.currentRoute=null,e&&(this.csrfToken=e.get("CSRF3-Token"))},setCsrfToken:function setCsrfToken(e){this.csrfToken=e,this.emitChange()},loadCookies:function loadCookies(e){this.cookies=e,this.emitChange()},inferMobilePromoElibility:function inferMobilePromoElibility(){if(!this.cookies)throw new Error("Missing cookies");var e="/";this.mobilePromoEligible=s(e,this.userAgent,this.cookies)},setRequestCountry:function setRequestCountry(e){this.requestCountryCode=e,this.emitChange()},setUserAgent:function setUserAgent(e){this.userAgent=new o(e),this.emitChange()},setUserData:function setUserData(e){this.userData=e,this.emitChange()},handleNavigate:function handleNavigate(e){if(this.currentRoute&&e.path===this.currentRoute.path)return;this.currentRoute=e,this.emitChange()},getState:function getState(){var e;return(e=_(this)).pick.apply(e,t)},dehydrate:function dehydrate(){return this.getState()},rehydrate:function rehydrate(i){var e,s=(e=_(i)).pick.apply(e,t);Object.assign(this,s)}});module.exports=r});
define("pages/accomplishments/common/lib/linkedIn",["require","exports","module","jsuri"],function(require,exports,module){function trackingId(r,e){var t=["Csra",r];return e&&t.push(e),t.join("-")}function addQueryParams(t,e){var i=e.slug,n=e.certName,u=e.url,r=e.date&&e.date.format("YYYYMM"),a=e.licenseNo;return t.addQueryParam("pfCertificationName",n).addQueryParam("pfCertStartDate",r).addQueryParam("pfCertificationUrl",u).addQueryParam("trk",trackingId(i,r)).addQueryParam("source","o"),a&&t.addQueryParam("pfLicenseNo",a),t.toString()}var e=require("jsuri"),r=function courseraAuthority(){return new e("https://www.linkedin.com/profile/add").addQueryParam("_ed","0_7nTFLiuDkkQkdELSpruCwCD2kFclsz0DRTK4Lyo-RzUi2jZONhKdZJIGem_4Z53kaSgvthvZk7wTBMS3S-m0L6A6mLjErM6PJiwMkk6nYZylU7__75hCVwJdOTZCAkdv")},t=function vcAuthority(){return new e("https://www.linkedin.com/profile/add").addQueryParam("_ed","0_7nTFLiuDkkQkdELSpruCwCJL9hWgzRX4brtRI6kWt30i2jZONhKdZJIGem_4Z53kaSgvthvZk7wTBMS3S-m0L6A6mLjErM6PJiwMkk6nYZylU7__75hCVwJdOTZCAkdv")};module.exports={courseUrlWithMembership:function courseUrlWithMembership(e){var a=e.get("course"),i=e.getCertificateGrantMoment();if(e.hasVerifiedCertificate())return addQueryParams(t(),{slug:a.get("slug"),certName:a.get("name"),url:e.getFullVerifyLink(),date:i,licenseNo:e.get("vcMembership.certificateCode")});if(e.hasStatementOfAccomplishment())return addQueryParams(r(),{slug:a.get("slug"),certName:a.get("name"),url:a.getFullLink(),date:i})},specializationUrl:function specializationUrl(e){var r=e.get("specialization");return addQueryParams(t(),{slug:r.get("shortName"),certName:r.get("name")+" Specialization",url:e.getFullRecordsLink(),date:e.getCompletionDate(),licenseNo:e.getCertificateCode()})}}});
define("bundles/ondemand/stores/CertificateStore",["require","exports","module","pages/open-course/common/constants","vendor/cnpm/fluxible.v0-4/addons/createStore","pages/accomplishments/common/lib/linkedIn"],function(require,exports,module){var e=require("pages/open-course/common/constants"),i=require("vendor/cnpm/fluxible.v0-4/addons/createStore"),s=require("pages/accomplishments/common/lib/linkedIn"),t=i({storeName:"CertificateStore",initialize:function initialize(){this.loaded=!1,this.memberships={}},hasLoaded:function hasLoaded(){return this.loaded},passedWithVerification:function passedWithVerification(){var t=this.memberships[e.courseId];return t&&t.hasVerifiedCertificate()},hasCertificate:function hasCertificate(){var t=this.memberships[e.courseId];return t&&"undefined"!=typeof t.get("vcMembership.certificateCode")},getCertificateLink:function getCertificateLink(){if(this.hasCertificate())return this.memberships[e.courseId].getFullCertificateLink()},getCertifcatePdfUrl:function getCertifcatePdfUrl(){if(this.hasCertificate())return this.memberships[e.courseId].getCertPdfUrl()},getLinkedInUrl:function getLinkedInUrl(){if(this.hasCertificate())return s.courseUrlWithMembership(this.memberships[e.courseId])},getCourseCertificateGrantTime:function getCourseCertificateGrantTime(){if(this.hasCertificate())return this.memberships[e.courseId].get("vcMembership.grantedAt")},getCourseGradeTimestamp:function getCourseGradeTimestamp(){if(this.passedWithVerification())return this.memberships[e.courseId].getCourseGrade().timestamp},getCourseCompletionTime:function getCourseCompletionTime(){if(this.passedWithVerification())return this.hasCertificate()?this.getCourseCertificateGrantTime():this.getCourseGradeTimestamp()}});t.handlers={LOAD_MEMBERSHIPS:function LOAD_MEMBERSHIPS(e){var t=this;e.each(function(e){t.memberships[e.get("course").get("id")]=e}),this.loaded=!0,this.emitChange()}},module.exports=t});
define("bundles/discussions/utils/hydrate",["require","exports","module","underscore"],function(require,exports,module){var _=require("underscore");exports.hydrate=function(e){return _(e.elements).each(function(r){_(e.links.elements).each(function(n,i){if("profiles.v0"===n){var s="creatorId"===i?"creator":i,t=r[i];r[s]=_(e.linked[n]).where({id:t})[0]}else r[n]=_(e.linked[n]).where({id:r[i]})[0]})})}});
define("bundles/classmates/stores/ClassmatesProfileStore",["require","exports","module","underscore","vendor/cnpm/fluxible.v0-4/addons/createStore","bundles/discussions/utils/hydrate","bundles/epic/client"],function(require,exports,module){var _=require("underscore"),t=require("vendor/cnpm/fluxible.v0-4/addons/createStore"),n=require("bundles/discussions/utils/hydrate"),i=n.hydrate,r=require("bundles/epic/client"),s=function normalizeProfiles(e){return e.map(function(e){return e.externalId=e.id,Object.assign({},e,e["onDemandSocialProfiles.v1"])})},e=t({storeName:"ClassmatesProfileStore",initialize:function initialize(){this.profiles=[],this.learnerCount=0},get10Profiles:function get10Profiles(e){var t=this.profiles;return e&&(t=this.profiles.filter(function(t){return t.countryCode===e})),_(t).first(10)}});e.handlers={LOAD_CLASSMATES_PROFILES:function LOAD_CLASSMATES_PROFILES(e){var t=s(i(e)),n=r.get("featureBlacklist","privacyUsers"),o=_(t).filter(function(e){return!_(n).contains(e.id)});this.profiles=_(o.concat(this.profiles)).uniq(function(e){return e.userId}),this.emitChange()},LOAD_LEARNER_COUNT:function LOAD_LEARNER_COUNT(e){this.learnerCount=e,this.emitChange()}},module.exports=e});
define("bundles/ondemand/stores/ContentAccessStore",["require","exports","module","bundles/epic/client","vendor/cnpm/fluxible.v0-4/addons/createStore","bundles/ondemand/stores/SessionStore","js/lib/cookie"],function(require,exports,module){var t=require("bundles/epic/client"),r=require("vendor/cnpm/fluxible.v0-4/addons/createStore"),n=require("bundles/ondemand/stores/SessionStore"),i=require("js/lib/cookie"),e={hidden:"hidden",locked:"locked",read:"read",write:"write"},s={weekOnSidebar:"weekOnPreviewSidebar",cdpEnrollForFree:"cdpEnrollForFree",assessmentOnPreview:"assessmentOnPreview",forumOnPreview:"forumOnPreview",auditEnrollModal:"auditEnrollModal",assessmentOnEnrollment:"assessmentOnEnrollment"},o=[{accessControlItemName:"weekOnSidebar",accessControlLevel:"locked"},{accessControlItemName:"cdpEnrollForFree",accessControlLevel:"write"},{accessControlItemName:"assessmentOnPreview",accessControlLevel:"locked"},{accessControlItemName:"forumOnPreview",accessControlLevel:"hidden"},{accessControlItemName:"auditEnrollModal",accessControlLevel:"hidden"},{accessControlItemName:"assessmentOnEnrollment",accessControlLevel:"write"}],c=r({storeName:"ContentAccessStore",handlers:{LOAD_CONTENT_ACCESS_LEVELS:"onLoadAccessLevels"},permissionOrdering:{hidden:0,locked:1,read:2,write:3},initialize:function initialize(){this.loaded=!1,this.accessLevels=o},onLoadAccessLevels:function onLoadAccessLevels(e){this.accessLevels=e,this.loaded=!0,this.emitChange()},hasLoaded:function hasLoaded(){return this.loaded},canReadForumOnPreview:function canReadForumOnPreview(){return this._hasAccess(s.forumOnPreview,e.read)},canReadCdpEnrollForFree:function canReadCdpEnrollForFree(){return this._hasAccess(s.cdpEnrollForFree,e.read)},canReadAuditEnrollModal:function canReadAuditEnrollModal(){return this._hasAccess(s.auditEnrollModal,e.read)},canWriteForumOnPreview:function canWriteForumOnPreview(){return this._hasAccess(s.forumOnPreview,e.write)},isForumLockedOnPreview:function isForumLockedOnPreview(){return this._hasStrictAccess(s.forumOnPreview,e.locked)},isAuditModeOnPreviewSidebar:function isAuditModeOnPreviewSidebar(){return this._hasStrictAccess(s.auditEnrollModal,e.read)||this._hasStrictAccess(s.cdpEnrollForFree,e.hidden)},isWeekLocked:function isWeekLocked(){return!this._hasAccess(s.weekOnSidebar,e.read)},isHiddenAssessmentOnPreview:function isHiddenAssessmentOnPreview(t){return this._isItemExam(t)&&n.isPreviewMode()&&this._hasStrictAccess(s.assessmentOnPreview,e.hidden)},isReadAssessmentOnPreview:function isReadAssessmentOnPreview(n){return this._isItemExam(n)&&!this._hasPurchasedVC()&&(this._hasStrictAccess(s.assessmentOnPreview,e.read)||this._hasStrictAccess(s.assessmentOnPreview,e.write))},isPremiumGrading:function isPremiumGrading(n){return this._isItemExam(n)&&(!this._hasPurchasedVC()&&this._hasStrictAccess(s.assessmentOnEnrollment,e.read)||this.isReadAssessmentOnPreview(n))},renderUpsellOnLessonList:function renderUpsellOnLessonList(t){return this._isItemExam(t)&&n.isPreviewMode()&&(this._hasStrictAccess(s.assessmentOnEnrollment,e.read)||this._hasStrictAccess(s.assessmentOnEnrollment,e.locked))},shouldSkipVerification:function shouldSkipVerification(e){return this.isPremiumGrading(e)},lockedTooltipShowsPremiumGrading:function lockedTooltipShowsPremiumGrading(n){return this._isItemExam(n)&&!this._hasPurchasedVC()&&(this._hasStrictAccess(s.assessmentOnEnrollment,e.locked)||this._hasStrictAccess(s.assessmentOnEnrollment,e.read)||this._hasStrictAccess(s.forumOnPreview,e.locked)||this.isReadAssessmentOnPreview(n))},isLockedTooltip:function isLockedTooltip(e){return this._isLockedAssessment(e)||this.isPremiumGrading(e)},isCoherentXEnrollmentModal:function isCoherentXEnrollmentModal(){return this._hasAccess(s.auditEnrollModal,e.read)||this._hasStrictAccess(s.cdpEnrollForFree,e.hidden)},_hasAccess:function _hasAccess(e,s){var n=function comparingFunction(e,s){return e>=s};return this._getPermissionsAndCompare(e,s,n)},_hasUseEpicCookie:function _hasUseEpicCookie(){return"true"===i.get("useEpicForCoherentExp")},_hasStrictAccess:function _hasStrictAccess(e,s){var n=function comparingFunction(e,s){return e===s};return this._getPermissionsAndCompare(e,s,n)},_hasPurchasedVC:function _hasPurchasedVC(){return this.dispatcher.getStore("VerificationStore").hasPurchasedVC()},_isItemExam:function _isItemExam(e){return e.isGradable()},_isLockedAssessment:function _isLockedAssessment(t){var r=n.isPreviewMode()&&this._hasStrictAccess(s.assessmentOnPreview,e.locked),i=!this._hasPurchasedVC()&&this._hasStrictAccess(s.assessmentOnEnrollment,e.locked);return this._isItemExam(t)&&(i||r)},_getPermissionsAndCompare:function _getPermissionsAndCompare(e,n,t){var s=this._getPermissionFromState(e),r=s&&!this._hasUseEpicCookie()?s:this._getPermissionFromEpic(e);return t(this.permissionOrdering[r],this.permissionOrdering[n])},_getPermissionFromState:function _getPermissionFromState(s){var e=this.accessLevels.find(function(e){return e.accessControlItemName===s});return e?e.accessControlLevel:null},_getPermissionFromEpic:function _getPermissionFromEpic(e){return t.get("Growth",e)}});module.exports=c});
define("bundles/ondemand/stores/CourseGradeStore",["require","exports","module","underscore","pages/open-course/common/models/courseGrade","pages/open-course/common/models/itemGrade","vendor/cnpm/fluxible.v0-4/addons/createStore"],function(require,exports,module){var _=require("underscore"),r=require("pages/open-course/common/models/courseGrade"),t=require("pages/open-course/common/models/itemGrade"),e=t.relativePassingStates,i=require("vendor/cnpm/fluxible.v0-4/addons/createStore"),s=i({storeName:"CourseGradeStore",handlers:{LOAD_COURSE_GRADE:"onLoadCourseGrade",LOAD_VERIFICATION_DISPLAY:"onLoadVerificationDisplay"},onLoadCourseGrade:function onLoadCourseGrade(e){if(!(e instanceof r))throw new Error("onLoadCourseGrade called with invalid type "+typeof e);this.courseGrade=e,this.emitChange()},onLoadVerificationDisplay:function onLoadVerificationDisplay(){this.emitChange()},hasLoaded:function hasLoaded(){var e=this.dispatcher.getStore("VerificationStore");return!!this.courseGrade&&e.hasLoaded()},getCourseGrade:function getCourseGrade(){return this.courseGrade},hasPassedCourse:function hasPassedCourse(){return this.dispatcher.getStore("VerificationStore").hasPurchasedVC()?this.hasPassedCourseWithVerification():this.hasPassedCourseUnverified()},hasPassedCourseUnverified:function hasPassedCourseUnverified(){var e=this.getCourseGrade();if(e)return e.hasPassed()},hasPassedCourseWithVerification:function hasPassedCourseWithVerification(){var e=this.getCourseGrade();if(e)return e.hasPassedWithVerification()},getFinalPercentCourseGrade:function getFinalPercentCourseGrade(e){var r;if(r=e&&(e.useVerifiedGrade||this.hasPassedCourseWithVerification())?this.getVerifiedPercentCourseGrade():this.getPercentCourseGrade())return 100*r.toPrecision(3)},getPercentCourseGrade:function getPercentCourseGrade(){var e=this.getCourseGrade();if(e)return e.get("overallOutcome")&&e.get("overallOutcome").courseGrade},getVerifiedPercentCourseGrade:function getVerifiedPercentCourseGrade(){var e=this.getCourseGrade();if(e)return e.get("verifiedOutcome")&&e.get("verifiedOutcome").courseGrade},getUnverifiedAssignments:function getUnverifiedAssignments(r){var t=this,i=this.dispatcher.getStore("VerificationStore").getVerificationDisplay(),s=r.filter(function(r){var s=t.getRelativePassingState(i,r.getId());return s===e.passedUnverified});return s},allVerifiedPassedOrPending:function allVerifiedPassedOrPending(t){var i=this,r=this.getCourseGrade();if(r){var s=_(r.get("itemGrades")).keys(),allVerifiedPassedOrPending=_(s).every(function(s){var r=i.getRelativePassingState(t,s),a=r===e.passed,n=r===e.passedVerificationPending;return a||n});return allVerifiedPassedOrPending}},hasPendingItem:function hasPendingItem(t){var i=this,r=this.getCourseGrade();if(r){var s=_(r.get("itemGrades")).keys(),a=_(s).find(function(r){var s=e.passedVerificationPending;return i.getRelativePassingState(t,r)===s});return!!a}},isItemPassed:function isItemPassed(r){var e=this.getItemGrade(r);if(e)return e.isPassing()},getItemGrade:function getItemGrade(r){var e=this.getCourseGrade();if(e)return e.getItemGrade(r)},getRelativePassingState:function getRelativePassingState(r,t){var e=this.getItemGrade(t);if(e)return e.getRelativePassingState(r)}});module.exports=s});
function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(e,n,r){return n&&defineProperties(e.prototype,n),r&&defineProperties(e,r),e}}();define("bundles/ondemand/sessions/models/Schedule",["require","exports","module","underscore"],function(require,exports,module){var _=require("underscore"),e=function(){function Schedule(){var n=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];_classCallCheck(this,Schedule),this.periods=n;var e=Schedule.createMaps(this.periods),r=e.weekMap,t=e.moduleMap;this.weekMap=r,this.moduleMap=t}return _createClass(Schedule,null,[{key:"createMaps",value:function createMaps(t){var e=1,n={},r={};return _(t).each(function(t){var a=t.numberOfWeeks;_(a).range().map(function(n){r[e+n]=t}),t.moduleIds.forEach(function(r){n[r]=e}),e+=a}),{moduleMap:n,weekMap:r}}}]),_createClass(Schedule,[{key:"containsWeek",value:function containsWeek(e){return void 0!==this.weekMap[e]}},{key:"getModuleIdsForWeek",value:function getModuleIdsForWeek(n){var e=this.weekMap[n];return e?e.moduleIds:[]}},{key:"getWeekForModuleId",value:function getWeekForModuleId(e){return this.moduleMap[e]}},{key:"getPeriods",value:function getPeriods(){return this.periods}},{key:"getMenuItems",value:function getMenuItems(){var e=_(this.weekMap).map(function(n,e){return{type:"week",id:parseInt(e,10)}});return e}}]),Schedule}();module.exports=e});
define("bundles/ondemand/utils/deadlineFormatter",["require","exports","module","moment"],function(require,exports,module){var t=require("moment"),e={toTimezone:function toTimezone(e){return e.utcOffset(-8)},getTimezoneCode:function getTimezoneCode(e){return"PT"},getFormattedDeadline:function getFormattedDeadline(n){var o=e.toTimezone(t(n));return o.format("MMMM D, hh:mm A")+" "+e.getTimezoneCode()}};module.exports=e});
function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}define("bundles/ondemand/stores/CourseScheduleStore",["require","exports","module","underscore","moment","react-with-addons","bundles/ondemand/sessions/models/Schedule","bundles/ondemand/utils/deadlineFormatter","vendor/cnpm/fluxible.v0-4/addons/createStore","js/lib/keysToConstants"],function(require,exports,module){var _=require("underscore"),t=require("moment"),r=require("react-with-addons"),o=require("bundles/ondemand/sessions/models/Schedule"),s=require("bundles/ondemand/utils/deadlineFormatter"),a=require("vendor/cnpm/fluxible.v0-4/addons/createStore"),u=require("js/lib/keysToConstants"),n=u(["DEADLINES_ENABLED","DEADLINES_DISABLED","INELIGIBLE_FOR_DEADLINES"]),d=["COMPLETE","UPCOMING","OVERDUE"],i=u(d);i.keys=d;var e=a({storeName:"CourseScheduleStore",initialize:function initialize(){this.loaded=!1,this.schedule=new o,this.deadlinesStatus=n.INELIGIBLE_FOR_DEADLINES,this.moduleDeadlines=[]},hasLoaded:function hasLoaded(){return this.loaded},getSchedule:function getSchedule(){return this.schedule},getNumberOfWeeks:function getNumberOfWeeks(){var e=Object.keys(this.getSchedule().weekMap);return e.length},getModulesForWeek:function getModulesForWeek(e){var t=this.dispatcher.getStore("CourseStore");return _(this.getSchedule().getModuleIdsForWeek(e).map(t.getModule)).compact()},getModuleIdsForWeek:function getModuleIdsForWeek(e){return this.getSchedule().getModuleIdsForWeek(e)},getLessonsForWeek:function getLessonsForWeek(e){var t=this.getModulesForWeek(e);return t.reduce(function(e,module){return e.concat(module.getLessons().models)},[])},getCurrentWeek:function getCurrentWeek(){var e=this,r=Object.keys(this.getSchedule().weekMap),n;return n=this.moduleDeadlines.length?r.find(function(r){return t().isBefore(e.getDeadlineForWeek(r))}):r.find(function(t){return!e.isWeekComplete(t)}),parseInt(n,10)},isWeekComplete:function isWeekComplete(n){var e=this.dispatcher.getStore("ProgressStore"),t=this.getModulesForWeek(n).filter(function(module){return!module.get("optional")}),r=t.filter(function(module){return module.isGradable()});return r.length>0?e.areModuleIdsComplete(r.map(function(module){return module.id})):e.areModuleIdsComplete(t.map(function(module){return module.id}))},isCourseComplete:function isCourseComplete(){var e=this;return _.range(this.getNumberOfWeeks()).every(function(t){return e.isWeekComplete(t+1)})},isWeekOverdue:function isWeekOverdue(e){var r=this;if(!t().isAfter(this.getDeadlineForWeek(e))||this.isWeekComplete(e))return!1;var n=this.getModulesForWeek(e);if(n.length)return n.some(function(module){var e=r.dispatcher.getStore("ProgressStore");return module.getGradables().filter(function(t){return!e.isItemComplete(t)||t.isAssignmentPartForSplitPeer()}).some(function(n){if(n.isAssignmentPartForSplitPeer()){var s=!e.isItemComplete(n),i=n.getReviewPartFromSplitPeer(),o=t().isAfter(r.getDeadlineForItem(i))&&!e.isItemComplete(i);return s||o}return!0})})},getDeadlineForWeek:function getDeadlineForWeek(i){var r=arguments.length<=1||void 0===arguments[1]?this.moduleDeadlines:arguments[1],s=this.getSchedule().getModuleIdsForWeek(i);if(r.length){var n=s.map(function(e){return _(r).findWhere({moduleId:e})}).filter(function(e){return!!e}).map(function(e){var r=e.deadline;return t(r)});if(n.length>0)return e.toTimezone(t.max.apply(t,_toConsumableArray(n)))}},getDeadlineForModuleId:function getDeadlineForModuleId(e){var t=this.getSchedule().getWeekForModuleId(e);return this.getDeadlineForWeek(t)},getDeadlineForItem:function getDeadlineForItem(e){var r=this.getSchedule().getWeekForModuleId(e.get("lesson.module.id")),t=this.getDeadlineForWeek(r);return t&&e.isReviewPartForSplitPeer()&&t.add(e.getDefinition("reviewDeadlineOffset"),"ms"),t},getDeadlineProgressForWeek:function getDeadlineProgressForWeek(e){return this.isWeekComplete(e)?i.COMPLETE:this.isWeekOverdue(e)?i.OVERDUE:i.UPCOMING},getGradableItemsForWeek:function getGradableItemsForWeek(e){return this.getModulesForWeek(e).reduce(function(e,module){return e.concat(module.getGradables())},[])},getWeeksBehind:function getWeeksBehind(){var e=Object.keys(this.getSchedule().weekMap),t=e.filter(this.isWeekGradable.bind(this)).map(this.getDeadlineProgressForWeek.bind(this)).filter(function(e){return"OVERDUE"===e});return t.length},isWeekGradable:function isWeekGradable(e){return this.getModulesForWeek(e).some(function(module){return module.getGradables().length})},isLagging:function isLagging(){return this.getWeeksBehind()>=2},areDeadlinesEnabled:function areDeadlinesEnabled(){return this.deadlinesStatus===n.DEADLINES_ENABLED},areDeadlinesDisabled:function areDeadlinesDisabled(){return this.deadlinesStatus===n.DEADLINES_DISABLED}});e.handlers={LOAD_HOME_PROGRESS:function LOAD_HOME_PROGRESS(){var e=this;this.dispatcher.waitFor("ProgressStore",function(){e.emitChange()})},LOAD_COURSE_PROGRESS:function LOAD_COURSE_PROGRESS(){var e=this;this.dispatcher.waitFor("ProgressStore",function(){e.emitChange()})},LOAD_COURSE_SCHEDULE:function LOAD_COURSE_SCHEDULE(e){var t=e.periods;this.schedule=new o(t),this.loaded=!0,this.emitChange()},LOAD_COURSE_DEADLINES:function LOAD_COURSE_DEADLINES(e){var t=e.moduleDeadlines;this.moduleDeadlines=t,this.deadlinesStatus=n.DEADLINES_ENABLED,this.emitChange()},DISABLE_DEADLINES:function DISABLE_DEADLINES(){this.deadlinesStatus=n.DEADLINES_DISABLED,this.moduleDeadlines=[],this.emitChange()}},e.deadlineProgress=i,e.toTimezone=function(e){return s.toTimezone(e)},e.getTimezone=function(){return s.getTimezoneCode()},e.getFormattedDeadline=function(e){return s.getFormattedDeadline(e)},e.shapes={moduleDeadlines:r.PropTypes.arrayOf(r.PropTypes.shape({moduleIds:r.PropTypes.arrayOf(r.PropTypes.string),deadline:r.PropTypes.number}))},module.exports=e});
define("bundles/ondemand/stores/CourseStore",["require","exports","module","underscore","bundles/ondemand/stores/CourseMembershipStore","pages/open-course/common/models/course","pages/open-course/common/models/courseMaterials","bundles/ondemand/utils/courseModeOverrideUtils","vendor/cnpm/fluxible.v0-4/addons/createStore"],function(require,exports,module){var _=require("underscore"),r=require("bundles/ondemand/stores/CourseMembershipStore"),o=require("pages/open-course/common/models/course"),e=require("pages/open-course/common/models/courseMaterials"),t=require("bundles/ondemand/utils/courseModeOverrideUtils"),s=t.getCourseModeOverride,a=t.courseModes,i=require("vendor/cnpm/fluxible.v0-4/addons/createStore"),n=i({storeName:"CourseStore",handlers:{LOAD_COURSE_MATERIALS:"onLoadMaterials",LOAD_COURSE_SCHEDULE:"onLoadCourseSchedule"},initialize:function initialize(){_.bindAll(this,"getModule"),this.loaded=!1,this.materials=new e({},{course:new o})},onLoadMaterials:function onLoadMaterials(t){if(!(t instanceof e))throw new Error("onLoadMaterials called with invalid type "+typeof t);this.materials=t,this.loaded=!0,this.emitChange()},onLoadCourseSchedule:function onLoadCourseSchedule(){var e=this;this.dispatcher.waitFor("CourseScheduleStore",function(){var t=e.dispatcher.getStore("CourseScheduleStore").getSchedule();e.getMaterials().getModules().forEach(function(module){module.set("week",t.getWeekForModuleId(module.get("id")))}),e.emitChange()})},hasLoaded:function hasLoaded(){return this.loaded},getModule:function getModule(e){return this.materials.getModules().get(e)},getMaterials:function getMaterials(){return this.materials},hasSessions:function hasSessions(){return this.getMetadata().hasSessions()},getMetadata:function getMetadata(){if(this.materials)return this.materials.get("course")},getWeekMaterials:function getWeekMaterials(e){if(this.materials)return this.materials.getRequiredModules().at(e-1)},getInstructorsToDisplay:function getInstructorsToDisplay(){if(this.materials&&this.getMetadata().get("instructors"))return this.getMetadata().get("instructors").filter(function(e){return e.shouldDisplay()})},isPreEnrollEnabledForCourse:function isPreEnrollEnabledForCourse(){return this.getMetadata().isPreEnrollEnabled()},isPreEnrollEnabledForUser:function isPreEnrollEnabledForUser(){return this.isPreEnrollEnabledForCourse()&&!r.isEnrolled()&&(!s()||s()===a.PRE_ENROLL)},hasGradableItems:function hasGradableItems(){if(this.materials)return this.materials.getGradableItemMetadatas().length>0},getGradableItems:function getGradableItems(){if(this.materials)return this.materials.getGradableItemMetadatas()}});module.exports=n});
define("bundles/epic/lib/epicPlugin",["require","exports","module","bundles/epic/lib/EpicClient","bundles/epic/client"],function(require,exports,module){function getServerEpicClient(i){var n=i.epicOverrides;n.elements&&(n=n.elements);var t=console.log.bind(console),o=new e(t,n);return o}function getBrowserEpicClient(){return require("bundles/epic/client")}var e=require("bundles/epic/lib/EpicClient");module.exports=function epicPlugin(){return{name:"EpicPlugin",plugContext:function plugContext(e){var i="undefined"==typeof window,t=i?getServerEpicClient:getBrowserEpicClient,n=t(e);return{plugComponentContext:function plugComponentContext(e){e.getEpicParam=n.get.bind(n)},plugActionContext:function plugActionContext(n,i,t){n.cookies=e.req&&e.req.cookies}}}}}});
define("bundles/ondemand/stores/InstructorMessageStore",["require","exports","module","vendor/cnpm/fluxible.v0-4/addons/createStore"],function(require,exports,module){var e=require("vendor/cnpm/fluxible.v0-4/addons/createStore"),s=e({storeName:"InstructorMessageStore",handlers:{LOAD_MODULE_MESSAGE:"onLoadModuleMessage",LOAD_WELCOME_MESSAGE:"onLoadWelcomeMessage",LOAD_THANKYOU_MESSAGE:"onLoadThankYouMessage"},initialize:function initialize(){this.moduleMessages={},this.courseMessages={},this.loaded=!1},hasLoaded:function hasLoaded(){return this.loaded},onLoadModuleMessage:function onLoadModuleMessage(e){var s=e.message,o=e.instructors,t=e.moduleId;this.loaded=!0,this.moduleMessages[t]={message:s,instructors:o},this.emitChange()},onLoadWelcomeMessage:function onLoadWelcomeMessage(e){var s=e.message,o=e.instructors;this.loaded=!0,this.courseMessages.start={message:s,instructors:o},this.emitChange()},onLoadThankYouMessage:function onLoadThankYouMessage(e){var s=e.message,o=e.instructors;this.loaded=!0,this.courseMessages.end={message:s,instructors:o},this.emitChange()},getMessage:function getMessage(s,e){return e?this.moduleMessages[e]||{}:this.courseMessages[s]||{}}});module.exports=s});
define("bundles/naptimejs/util/requireFieldsDecorator",["require","exports","module","underscore"],function(require,exports,module){var _=require("underscore");exports.requireFields=function(){for(var e=arguments.length,n=Array(e),r=0;e>r;r++)n[r]=arguments[r];return function(t,e,u){if(!u.get)return;var r=t.constructor;r.REQUIRED_FIELDS||(r.REQUIRED_FIELDS={});var i=r.REQUIRED_FIELDS[e]||[];r.REQUIRED_FIELDS[e]=_(i).union(n)}};var r=function expandRequiredFields(a){for(var r=arguments,e=!0;e;){var n=a;t=u=i=o=f=void 0;var t=r.length<=1||void 0===r[1]?{}:r[1];e=!1;var u=r.length<=2||void 0===r[2]?[]:r[2];if(!u.length)return n;var i=_(u).chain().map(function(r){return t[r]||[]}).flatten().uniq().value(),o=_(n).union(i),f=_(i).difference(n);r=[a=o,t,f],e=!0}};exports.getRequiredFields=function(a){for(var u=a.REQUIRED_FIELDS,i=void 0===u?{}:u,o=_(i).keys(),n=arguments.length,t=Array(n>1?n-1:0),e=1;n>e;e++)t[e-1]=arguments[e];return _(r(t,i,t)).difference(o)}});
function _toConsumableArray(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(a,t){for(var r=0;r<t.length;r++){var e=t[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(a,e.key,e)}}return function(e,r,t){return r&&defineProperties(e.prototype,r),t&&defineProperties(e,t),e}}();define("bundles/naptimejs/client/NaptimeClient",["require","exports","module","jsuri","bundles/naptimejs/util/requireFieldsDecorator"],function(require,exports,module){var e=require("jsuri"),r=require("bundles/naptimejs/util/requireFieldsDecorator"),t=r.getRequiredFields,a=function(){function NaptimeClient(e,r){_classCallCheck(this,NaptimeClient),this.resource=e,this.resourceName=e.RESOURCE_NAME,this.data=r||{}}return _createClass(NaptimeClient,[{key:"getBaseUri",value:function getBaseUri(){return new e("/api/"+this.resourceName)}},{key:"getUri",value:function getUri(){var r=this,e=this.getBaseUri();return Object.keys(this.data.params||{}).forEach(function(t){var a=r.data.params[t];if("undefined"==typeof a)throw new Error("missing value for param key "+t);e.addQueryParam(t,a.toString())}),e}},{key:"getParams",value:function getParams(){return this.data.params}},{key:"getFields",value:function getFields(){var e=this.data.fields||[];return t.apply(void 0,[this.resource].concat(_toConsumableArray(e)))}},{key:"getIncludes",value:function getIncludes(){return this.data.includes||[]}},{key:"getSubcomponents",value:function getSubcomponents(){return this.data.subcomponents||[]}},{key:"stringFormat",value:function stringFormat(){return JSON.stringify([this.resourceName,this.data.params])}},{key:"isValid",value:function isValid(){return!0}}]),NaptimeClient}();module.exports=a});
function _defaults(e,o){for(var i=Object.getOwnPropertyNames(o),t=0;t<i.length;t++){var r=i[t],n=Object.getOwnPropertyDescriptor(o,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var _createClass=function(){function defineProperties(n,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),_get=function get(i,l,c){var o=!0;e:for(;o;){var t=i,u=l,a=c;e=r=n=void 0,o=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,u);if(void 0===e){var r=Object.getPrototypeOf(t);if(null===r)return void 0;i=r,l=u,c=a,o=!0;continue e}if("value"in e)return e.value;var n=e.get;if(void 0===n)return void 0;return n.call(a)}};define("bundles/naptimejs/client/Get",["require","exports","module","./NaptimeClient","jsuri"],function(require,exports,module){var e=require("./NaptimeClient"),t=require("jsuri"),r=function(e){function Get(e,t,r){_classCallCheck(this,Get),_get(Object.getPrototypeOf(Get.prototype),"constructor",this).call(this,e,r),this.id=t}return _inherits(Get,e),_createClass(Get,[{key:"getBaseUri",value:function getBaseUri(){return new t("/api/"+this.resourceName+"/"+this.id)}},{key:"isValid",value:function isValid(){return void 0!==this.id}}]),Get}(e);module.exports=r});
function _defaults(e,o){for(var i=Object.getOwnPropertyNames(o),t=0;t<i.length;t++){var r=i[t],n=Object.getOwnPropertyDescriptor(o,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var _createClass=function(){function defineProperties(n,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),_get=function get(i,l,c){var o=!0;e:for(;o;){var t=i,u=l,a=c;e=r=n=void 0,o=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,u);if(void 0===e){var r=Object.getPrototypeOf(t);if(null===r)return void 0;i=r,l=u,c=a,o=!0;continue e}if("value"in e)return e.value;var n=e.get;if(void 0===n)return void 0;return n.call(a)}};define("bundles/naptimejs/client/LocalGet",["require","exports","module","./NaptimeClient","jsuri"],function(require,exports,module){var e=require("./NaptimeClient"),t=require("jsuri"),r=function(e){function LocalGet(e,t,r){_classCallCheck(this,LocalGet),_get(Object.getPrototypeOf(LocalGet.prototype),"constructor",this).call(this,e,r),this.id=t}return _inherits(LocalGet,e),_createClass(LocalGet,[{key:"getBaseUri",value:function getBaseUri(){return new t("/api/"+this.resourceName+"/"+this.id)}},{key:"isValid",value:function isValid(){return void 0!==this.id}}]),LocalGet}(e);module.exports=r});
function _defaults(e,i){for(var o=Object.getOwnPropertyNames(i),t=0;t<o.length;t++){var r=o[t],n=Object.getOwnPropertyDescriptor(i,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var _createClass=function(){function defineProperties(n,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),_get=function get(o,s,c){var i=!0;e:for(;i;){var t=o,a=s,u=c;e=r=n=void 0,i=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,a);if(void 0===e){var r=Object.getPrototypeOf(t);if(null===r)return void 0;o=r,s=a,c=u,i=!0;continue e}if("value"in e)return e.value;var n=e.get;if(void 0===n)return void 0;return n.call(u)}};define("bundles/naptimejs/client/MultiGet",["require","exports","module","./NaptimeClient","jsuri"],function(require,exports,module){var e=require("./NaptimeClient"),t=require("jsuri"),r=function(e){function MultiGet(t,e,r){_classCallCheck(this,MultiGet),_get(Object.getPrototypeOf(MultiGet.prototype),"constructor",this).call(this,t,Object.assign({ids:e},r)),this.ids=e}return _inherits(MultiGet,e),_createClass(MultiGet,[{key:"getBaseUri",value:function getBaseUri(){var e=new t("/api/"+this.resourceName);return e.addQueryParam("ids",this.ids.join(",")),e}},{key:"isValid",value:function isValid(){return void 0!==this.ids}}]),MultiGet}(e);module.exports=r});
function _defaults(t,n){for(var i=Object.getOwnPropertyNames(n),e=0;e<i.length;e++){var r=i[e],o=Object.getOwnPropertyDescriptor(n,r);o&&o.configurable&&void 0===t[r]&&Object.defineProperty(t,r,o)}return t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}var _get=function get(i,a,u){var n=!0;t:for(;n;){var e=i,c=a,l=u;t=r=o=void 0,n=!1,null===e&&(e=Function.prototype);var t=Object.getOwnPropertyDescriptor(e,c);if(void 0===t){var r=Object.getPrototypeOf(e);if(null===r)return void 0;i=r,a=c,u=l,n=!0;continue t}if("value"in t)return t.value;var o=t.get;if(void 0===o)return void 0;return o.call(l)}};define("bundles/naptimejs/client/GetAll",["require","exports","module","./NaptimeClient"],function(require,exports,module){var t=require("./NaptimeClient"),e=function(t){function GetAll(t,e){_classCallCheck(this,GetAll),_get(Object.getPrototypeOf(GetAll.prototype),"constructor",this).call(this,t,e)}return _inherits(GetAll,t),GetAll}(t);module.exports=e});
function _defaults(e,i){for(var o=Object.getOwnPropertyNames(i),t=0;t<o.length;t++){var r=o[t],n=Object.getOwnPropertyDescriptor(i,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var _createClass=function(){function defineProperties(n,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),_get=function get(o,s,c){var i=!0;e:for(;i;){var t=o,a=s,u=c;e=r=n=void 0,i=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,a);if(void 0===e){var r=Object.getPrototypeOf(t);if(null===r)return void 0;o=r,s=a,c=u,i=!0;continue e}if("value"in e)return e.value;var n=e.get;if(void 0===n)return void 0;return n.call(u)}};define("bundles/naptimejs/client/Finder",["require","exports","module","./NaptimeClient","jsuri"],function(require,exports,module){var e=require("./NaptimeClient"),t=require("jsuri"),r=function(e){function Finder(e,t,r){_classCallCheck(this,Finder),_get(Object.getPrototypeOf(Finder.prototype),"constructor",this).call(this,e,r),this.finderName=t}return _inherits(Finder,e),_createClass(Finder,[{key:"getBaseUri",value:function getBaseUri(){var e=new t("/api/"+this.resourceName);return e.addQueryParam("q",this.finderName),e}},{key:"stringFormat",value:function stringFormat(){return JSON.stringify([this.resourceName,this.finderName,this.data.params])}},{key:"isValid",value:function isValid(){return void 0!==this.finderName}}]),Finder}(e);module.exports=r});
define("bundles/naptimejs/client/index",["require","exports","module","./Get","./LocalGet","./MultiGet","./GetAll","./Finder"],function(require,exports,module){module.exports={Get:require("./Get"),LocalGet:require("./LocalGet"),MultiGet:require("./MultiGet"),GetAll:require("./GetAll"),Finder:require("./Finder")}});
function _defaults(e,o){for(var i=Object.getOwnPropertyNames(o),t=0;t<i.length;t++){var r=i[t],n=Object.getOwnPropertyDescriptor(o,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var _createClass=function(){function defineProperties(n,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),_get=function get(i,l,c){var o=!0;e:for(;o;){var t=i,u=l,a=c;e=r=n=void 0,o=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,u);if(void 0===e){var r=Object.getPrototypeOf(t);if(null===r)return void 0;i=r,l=u,c=a,o=!0;continue e}if("value"in e)return e.value;var n=e.get;if(void 0===n)return void 0;return n.call(a)}};define("bundles/naptimejs/resources/NaptimeResource",["require","exports","module","bundles/naptimejs/client/index"],function(require,exports,module){function assertType(e,r,t){if("undefined"==typeof e)return;var n=typeof e===t||"array"===t&&Array.isArray(e);if(!n)throw new u('argument "'+r+'" must be '+t)}var e=require("bundles/naptimejs/client/index"),t=e.Get,r=e.LocalGet,n=e.MultiGet,o=e.GetAll,i=e.Finder,u=function(e){function NaptimeResourceError(e){_classCallCheck(this,NaptimeResourceError),_get(Object.getPrototypeOf(NaptimeResourceError.prototype),"constructor",this).call(this),this.name="NaptimeResourceError",this.message=e||""}return _inherits(NaptimeResourceError,e),NaptimeResourceError}(Error),a=function(){function NaptimeResource(e){_classCallCheck(this,NaptimeResource),Object.assign(this,e)}return _createClass(NaptimeResource,null,[{key:"get",value:function get(r,e){return e&&assertType(e,"query","object"),new t(this,r,e)}},{key:"localGet",value:function localGet(t,e){return e&&assertType(e,"query","object"),new r(this,t,e)}},{key:"getAll",value:function getAll(e){return e&&assertType(e,"query","object"),new o(this,e)}},{key:"finder",value:function finder(t,e){return assertType(t,"finderName","string"),e&&assertType(e,"query","object"),new i(this,t,e)}},{key:"multiGet",value:function multiGet(t,e){return assertType(t,"ids","array"),e&&assertType(e,"query","object"),new n(this,t,e)}}]),NaptimeResource}();module.exports=a});
function _defaults(e,o){for(var i=Object.getOwnPropertyNames(o),t=0;t<i.length;t++){var r=i[t],n=Object.getOwnPropertyDescriptor(o,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var _createClass=function(){function defineProperties(n,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),_get=function get(i,l,c){var o=!0;e:for(;o;){var t=i,u=l,a=c;e=r=n=void 0,o=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,u);if(void 0===e){var r=Object.getPrototypeOf(t);if(null===r)return void 0;i=r,l=u,c=a,o=!0;continue e}if("value"in e)return e.value;var n=e.get;if(void 0===n)return void 0;return n.call(a)}};define("bundles/naptimejs/resources/basicProfiles.v1",["require","exports","module","./NaptimeResource"],function(require,exports,module){var e=require("./NaptimeResource"),t=function(e){function BasicProfile(){_classCallCheck(this,BasicProfile),_get(Object.getPrototypeOf(BasicProfile.prototype),"constructor",this).apply(this,arguments)}return _inherits(BasicProfile,e),_createClass(BasicProfile,null,[{key:"RESOURCE_NAME",value:"basicProfiles.v1",enumerable:!0}]),BasicProfile}(e);module.exports=t});
function _defaults(e,o){for(var u=Object.getOwnPropertyNames(o),t=0;t<u.length;t++){var r=u[t],n=Object.getOwnPropertyDescriptor(o,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var _createClass=function(){function defineProperties(n,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),_get=function get(u,l,c){var o=!0;e:for(;o;){var t=u,a=l,i=c;e=r=n=void 0,o=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,a);if(void 0===e){var r=Object.getPrototypeOf(t);if(null===r)return void 0;u=r,l=a,c=i,o=!0;continue e}if("value"in e)return e.value;var n=e.get;if(void 0===n)return void 0;return n.call(i)}};define("bundles/naptimejs/resources/catalogResults.v2",["require","exports","module","./NaptimeResource"],function(require,exports,module){var e=require("./NaptimeResource"),t=function(e){function CatalogResult(){_classCallCheck(this,CatalogResult),_get(Object.getPrototypeOf(CatalogResult.prototype),"constructor",this).apply(this,arguments)}return _inherits(CatalogResult,e),_createClass(CatalogResult,null,[{key:"RESOURCE_NAME",value:"catalogResults.v2",enumerable:!0}]),CatalogResult}(e);module.exports=t});
function _defaults(e,o){for(var i=Object.getOwnPropertyNames(o),t=0;t<i.length;t++){var r=i[t],n=Object.getOwnPropertyDescriptor(o,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var _createClass=function(){function defineProperties(n,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),_get=function get(i,l,c){var o=!0;e:for(;o;){var t=i,u=l,a=c;e=r=n=void 0,o=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,u);if(void 0===e){var r=Object.getPrototypeOf(t);if(null===r)return void 0;i=r,l=u,c=a,o=!0;continue e}if("value"in e)return e.value;var n=e.get;if(void 0===n)return void 0;return n.call(a)}};define("bundles/naptimejs/resources/countries.v1",["require","exports","module","./NaptimeResource"],function(require,exports,module){var e=require("./NaptimeResource"),t=function(e){function Country(){_classCallCheck(this,Country),_get(Object.getPrototypeOf(Country.prototype),"constructor",this).apply(this,arguments)}return _inherits(Country,e),_createClass(Country,null,[{key:"RESOURCE_NAME",value:"countries.v1",enumerable:!0}]),Country}(e);module.exports=t});
function _defaults(e,o){for(var i=Object.getOwnPropertyNames(o),t=0;t<i.length;t++){var r=i[t],n=Object.getOwnPropertyDescriptor(o,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var _createDecoratedClass=function(){function defineProperties(u,s,a){for(var t=0;t<s.length;t++){var e=s[t],r=e.decorators,n=e.key;if(delete e.key,delete e.decorators,e.enumerable=e.enumerable||!1,e.configurable=!0,("value"in e||e.initializer)&&(e.writable=!0),r){for(var o=0;o<r.length;o++){var i=r[o];if("function"!=typeof i)throw new TypeError("The decorator for method "+e.key+" is of the invalid type "+typeof i);e=i(u,n,e)||e}if(void 0!==e.initializer){a[n]=e;continue}}Object.defineProperty(u,n,e)}}return function(e,t,r,n,o){return t&&defineProperties(e.prototype,t,n),r&&defineProperties(e,r,o),e}}(),_get=function get(i,c,a){var o=!0;e:for(;o;){var t=i,u=c,s=a;e=r=n=void 0,o=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,u);if(void 0===e){var r=Object.getPrototypeOf(t);if(null===r)return void 0;i=r,c=u,a=s,o=!0;continue e}if("value"in e)return e.value;var n=e.get;if(void 0===n)return void 0;return n.call(s)}};define("bundles/naptimejs/resources/courses.v1",["require","exports","module","moment","underscore","./NaptimeResource","bundles/naptimejs/util/requireFieldsDecorator","js/lib/path"],function(require,exports,module){var t=require("moment"),_=require("underscore"),r=require("./NaptimeResource"),n=require("bundles/naptimejs/util/requireFieldsDecorator"),e=n.requireFields,o=require("js/lib/path"),i=function(r){function Course(){_classCallCheck(this,Course),_get(Object.getPrototypeOf(Course.prototype),"constructor",this).apply(this,arguments)}return _inherits(Course,r),_createDecoratedClass(Course,[{key:"link",decorators:[e("slug")],get:function get(){return o.join("/",this.isOnDemand?"learn":"course",this.slug)}},{key:"iconSrc",decorators:[e("photoUrl")],get:function get(){return this.photoUrl}},{key:"isOnDemand",decorators:[e("courseType")],get:function get(){return"v2.ondemand"===this.courseType||"v2.capstone"===this.courseType}},{key:"startMoment",decorators:[e("startDate")],get:function get(){if(this.startDate)return t.utc(this.startDate)}},{key:"isPublic",decorators:[e("courseStatus")],get:function get(){return"launched"===this.courseStatus||"preenroll"===this.courseStatus}}],[{key:"RESOURCE_NAME",value:"courses.v1",enumerable:!0},{key:"RECENT_COURSE_CUTOFF",value:7,enumerable:!0},{key:"sortCourses",value:function value(e){var r=t().subtract(Course.RECENT_COURSE_CUTOFF,"days"),n=e.filter(function(e){return e.isOnDemand}),o=_(e).chain().filter(function(e){return e.startMoment&&e.startMoment.isAfter(r)}).sortBy(function(e){return e.startMoment}).value(),i=_(e).chain().filter(function(e){return e.startMoment&&e.startMoment.isBefore(r)}).sortBy(function(e){return-1*e.startMoment}).value(),u=e.filter(function(e){return void 0===e.startMoment});return _.union(n,o,i,u)},enumerable:!0}]),Course}(r);module.exports=i});
function _defaults(e,o){for(var i=Object.getOwnPropertyNames(o),t=0;t<i.length;t++){var r=i[t],n=Object.getOwnPropertyDescriptor(o,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var _createClass=function(){function defineProperties(n,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),_get=function get(i,s,c){var o=!0;e:for(;o;){var t=i,u=s,a=c;e=r=n=void 0,o=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,u);if(void 0===e){var r=Object.getPrototypeOf(t);if(null===r)return void 0;i=r,s=u,c=a,o=!0;continue e}if("value"in e)return e.value;var n=e.get;if(void 0===n)return void 0;return n.call(a)}};define("bundles/naptimejs/resources/courseLists.v1",["require","exports","module","./NaptimeResource"],function(require,exports,module){var e=require("./NaptimeResource"),t=function(e){function CourseList(){_classCallCheck(this,CourseList),_get(Object.getPrototypeOf(CourseList.prototype),"constructor",this).apply(this,arguments)}return _inherits(CourseList,e),_createClass(CourseList,null,[{key:"RESOURCE_NAME",value:"courseLists.v1",enumerable:!0}]),CourseList}(e);module.exports=t});
function _defaults(e,o){for(var i=Object.getOwnPropertyNames(o),t=0;t<i.length;t++){var r=i[t],n=Object.getOwnPropertyDescriptor(o,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var _createClass=function(){function defineProperties(n,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),_get=function get(i,l,c){var o=!0;e:for(;o;){var t=i,u=l,a=c;e=r=n=void 0,o=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,u);if(void 0===e){var r=Object.getPrototypeOf(t);if(null===r)return void 0;i=r,l=u,c=a,o=!0;continue e}if("value"in e)return e.value;var n=e.get;if(void 0===n)return void 0;return n.call(a)}};define("bundles/naptimejs/resources/domains.v1",["require","exports","module","./NaptimeResource"],function(require,exports,module){var e=require("./NaptimeResource"),t=function(e){function Domain(){_classCallCheck(this,Domain),_get(Object.getPrototypeOf(Domain.prototype),"constructor",this).apply(this,arguments)}return _inherits(Domain,e),_createClass(Domain,null,[{key:"RESOURCE_NAME",value:"domains.v1",enumerable:!0}]),Domain}(e);module.exports=t});
function _defaults(e,o){for(var a=Object.getOwnPropertyNames(o),t=0;t<a.length;t++){var r=a[t],i=Object.getOwnPropertyDescriptor(o,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var _createDecoratedClass=function(){function defineProperties(n,s,l){for(var t=0;t<s.length;t++){var e=s[t],r=e.decorators,i=e.key;if(delete e.key,delete e.decorators,e.enumerable=e.enumerable||!1,e.configurable=!0,("value"in e||e.initializer)&&(e.writable=!0),r){for(var o=0;o<r.length;o++){var a=r[o];if("function"!=typeof a)throw new TypeError("The decorator for method "+e.key+" is of the invalid type "+typeof a);e=a(n,i,e)||e}if(void 0!==e.initializer){l[i]=e;continue}}Object.defineProperty(n,i,e)}}return function(e,t,r,i,o){return t&&defineProperties(e.prototype,t,i),r&&defineProperties(e,r,o),e}}(),_get=function get(a,u,l){var o=!0;e:for(;o;){var t=a,n=u,s=l;e=r=i=void 0,o=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,n);if(void 0===e){var r=Object.getPrototypeOf(t);if(null===r)return void 0;a=r,u=n,l=s,o=!0;continue e}if("value"in e)return e.value;var i=e.get;if(void 0===i)return void 0;return i.call(s)}};define("bundles/naptimejs/resources/instructors.v1",["require","exports","module","./NaptimeResource","bundles/catalogP/lib/concatName","bundles/naptimejs/util/requireFieldsDecorator","js/lib/path"],function(require,exports,module){var r=require("./NaptimeResource"),t=require("bundles/catalogP/lib/concatName"),i=require("bundles/naptimejs/util/requireFieldsDecorator"),e=i.requireFields,o=require("js/lib/path"),a=function(r){function Instructor(){_classCallCheck(this,Instructor),_get(Object.getPrototypeOf(Instructor.prototype),"constructor",this).apply(this,arguments)}return _inherits(Instructor,r),_createDecoratedClass(Instructor,[{key:"fullDisplayName",decorators:[e("fullName","prefixName","firstName","middleName","lastName","suffixName")],get:function get(){return this.fullName||t({prefix:this.prefixName,first:this.firstName,middle:this.middleName,last:this.lastName,suffix:this.suffixName})}},{key:"displayName",decorators:[e("firstName","lastName")],get:function get(){return t({first:this.firstName,last:this.lastName})}},{key:"link",decorators:[e("shortName","profileId")],get:function get(){return o.join("/","instructor",this.shortName||"~"+this.profileId)}},{key:"shouldDisplay",decorators:[e("fullDisplayName")],get:function get(){return!!this.fullDisplayName}},{key:"shouldDisplayOnPartnerPage",decorators:[e("displayOnPartnerPage","shouldDisplay")],get:function get(){return this.shouldDisplay&&this.displayOnPartnerPage}}],[{key:"RESOURCE_NAME",value:"instructors.v1",enumerable:!0}]),Instructor}(r);module.exports=a});
function _defaults(e,o){for(var u=Object.getOwnPropertyNames(o),t=0;t<u.length;t++){var r=u[t],n=Object.getOwnPropertyDescriptor(o,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var _createClass=function(){function defineProperties(n,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),_get=function get(u,l,c){var o=!0;e:for(;o;){var t=u,a=l,i=c;e=r=n=void 0,o=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,a);if(void 0===e){var r=Object.getPrototypeOf(t);if(null===r)return void 0;u=r,l=a,c=i,o=!0;continue e}if("value"in e)return e.value;var n=e.get;if(void 0===n)return void 0;return n.call(i)}};define("bundles/naptimejs/resources/languages.v1",["require","exports","module","./NaptimeResource"],function(require,exports,module){var e=require("./NaptimeResource"),t=function(e){function Language(){_classCallCheck(this,Language),_get(Object.getPrototypeOf(Language.prototype),"constructor",this).apply(this,arguments)}return _inherits(Language,e),_createClass(Language,null,[{key:"RESOURCE_NAME",value:"languages.v1",enumerable:!0}]),Language}(e);module.exports=t});
function _defaults(e,n){for(var i=Object.getOwnPropertyNames(n),t=0;t<i.length;t++){var r=i[t],o=Object.getOwnPropertyDescriptor(n,r);o&&o.configurable&&void 0===e[r]&&Object.defineProperty(e,r,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var _createDecoratedClass=function(){function defineProperties(a,u,c){for(var t=0;t<u.length;t++){var e=u[t],r=e.decorators,o=e.key;if(delete e.key,delete e.decorators,e.enumerable=e.enumerable||!1,e.configurable=!0,("value"in e||e.initializer)&&(e.writable=!0),r){for(var n=0;n<r.length;n++){var i=r[n];if("function"!=typeof i)throw new TypeError("The decorator for method "+e.key+" is of the invalid type "+typeof i);e=i(a,o,e)||e}if(void 0!==e.initializer){c[o]=e;continue}}Object.defineProperty(a,o,e)}}return function(e,t,r,o,n){return t&&defineProperties(e.prototype,t,o),r&&defineProperties(e,r,n),e}}(),_get=function get(i,s,c){var n=!0;e:for(;n;){var t=i,a=s,u=c;e=r=o=void 0,n=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,a);if(void 0===e){var r=Object.getPrototypeOf(t);if(null===r)return void 0;i=r,s=a,c=u,n=!0;continue e}if("value"in e)return e.value;var o=e.get;if(void 0===o)return void 0;return o.call(u)}};define("bundles/naptimejs/resources/onDemandSpecializations.v1",["require","exports","module","./NaptimeResource","bundles/naptimejs/util/requireFieldsDecorator","js/lib/path"],function(require,exports,module){var t=require("./NaptimeResource"),r=require("bundles/naptimejs/util/requireFieldsDecorator"),e=r.requireFields,o=require("js/lib/path"),n=function(t){function OnDemandSpecialization(){_classCallCheck(this,OnDemandSpecialization),_get(Object.getPrototypeOf(OnDemandSpecialization.prototype),"constructor",this).apply(this,arguments)}return _inherits(OnDemandSpecialization,t),_createDecoratedClass(OnDemandSpecialization,[{key:"link",decorators:[e("slug")],get:function get(){return o.join("/","specializations",this.slug)}},{key:"iconSrc",decorators:[e("logo")],get:function get(){return this.logo}},{key:"courseCount",decorators:[e("courseIds")],get:function get(){return this.courseIds.length}},{key:"isPublic",decorators:[e("launchedAt")],get:function get(){return this.launchedAt&&this.launchedAt<=Date.now()}}],[{key:"RESOURCE_NAME",value:"onDemandSpecializations.v1",enumerable:!0}]),OnDemandSpecialization}(t);module.exports=n});
function _defaults(e,n){for(var i=Object.getOwnPropertyNames(n),t=0;t<i.length;t++){var r=i[t],o=Object.getOwnPropertyDescriptor(n,r);o&&o.configurable&&void 0===e[r]&&Object.defineProperty(e,r,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var _createDecoratedClass=function(){function defineProperties(a,s,u){for(var t=0;t<s.length;t++){var e=s[t],r=e.decorators,o=e.key;if(delete e.key,delete e.decorators,e.enumerable=e.enumerable||!1,e.configurable=!0,("value"in e||e.initializer)&&(e.writable=!0),r){for(var n=0;n<r.length;n++){var i=r[n];if("function"!=typeof i)throw new TypeError("The decorator for method "+e.key+" is of the invalid type "+typeof i);e=i(a,o,e)||e}if(void 0!==e.initializer){u[o]=e;continue}}Object.defineProperty(a,o,e)}}return function(e,t,r,o,n){return t&&defineProperties(e.prototype,t,o),r&&defineProperties(e,r,n),e}}(),_get=function get(i,c,u){var n=!0;e:for(;n;){var t=i,a=c,s=u;e=r=o=void 0,n=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,a);if(void 0===e){var r=Object.getPrototypeOf(t);if(null===r)return void 0;i=r,c=a,u=s,n=!0;continue e}if("value"in e)return e.value;var o=e.get;if(void 0===o)return void 0;return o.call(s)}};define("bundles/naptimejs/resources/partners.v1",["require","exports","module","./NaptimeResource","bundles/naptimejs/util/requireFieldsDecorator","js/lib/path"],function(require,exports,module){var t=require("./NaptimeResource"),r=require("bundles/naptimejs/util/requireFieldsDecorator"),e=r.requireFields,o=require("js/lib/path"),n=function(t){function Partner(){_classCallCheck(this,Partner),_get(Object.getPrototypeOf(Partner.prototype),"constructor",this).apply(this,arguments)}return _inherits(Partner,t),_createDecoratedClass(Partner,[{key:"prettyWebsiteUrl",decorators:[e("links")],get:function get(){var e=this.links.website;return e=e.replace(/^.*:\/\//,""),e=e.replace(/\/$/,"")}},{key:"partnerPageUrl",decorators:[e("homeLink","shortName")],get:function get(){return this.homeLink?this.homeLink:o.join("/",this.shortName)}}],[{key:"RESOURCE_NAME",value:"partners.v1",enumerable:!0}]),Partner}(t);module.exports=n});
function _defaults(e,o){for(var i=Object.getOwnPropertyNames(o),t=0;t<i.length;t++){var r=i[t],n=Object.getOwnPropertyDescriptor(o,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var _createClass=function(){function defineProperties(n,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),_get=function get(i,l,c){var o=!0;e:for(;o;){var t=i,u=l,a=c;e=r=n=void 0,o=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,u);if(void 0===e){var r=Object.getPrototypeOf(t);if(null===r)return void 0;i=r,l=u,c=a,o=!0;continue e}if("value"in e)return e.value;var n=e.get;if(void 0===n)return void 0;return n.call(a)}};define("bundles/naptimejs/resources/profiles.v1",["require","exports","module","./NaptimeResource"],function(require,exports,module){var e=require("./NaptimeResource"),t=function(e){function Profile(){_classCallCheck(this,Profile),_get(Object.getPrototypeOf(Profile.prototype),"constructor",this).apply(this,arguments)}return _inherits(Profile,e),_createClass(Profile,null,[{key:"RESOURCE_NAME",value:"profiles.v1",enumerable:!0}]),Profile}(e);module.exports=t});
function _defaults(e,o){for(var i=Object.getOwnPropertyNames(o),t=0;t<i.length;t++){var r=i[t],n=Object.getOwnPropertyDescriptor(o,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var _createClass=function(){function defineProperties(n,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),_get=function get(i,l,c){var o=!0;e:for(;o;){var t=i,u=l,a=c;e=r=n=void 0,o=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,u);if(void 0===e){var r=Object.getPrototypeOf(t);if(null===r)return void 0;i=r,l=u,c=a,o=!0;continue e}if("value"in e)return e.value;var n=e.get;if(void 0===n)return void 0;return n.call(a)}};define("bundles/naptimejs/resources/search.v1",["require","exports","module","./NaptimeResource"],function(require,exports,module){var e=require("./NaptimeResource"),t=function(e){function Search(){_classCallCheck(this,Search),_get(Object.getPrototypeOf(Search.prototype),"constructor",this).apply(this,arguments)}return _inherits(Search,e),_createClass(Search,null,[{key:"RESOURCE_NAME",value:"search.v1",enumerable:!0}]),Search}(e);module.exports=t});
function _defaults(e,n){for(var i=Object.getOwnPropertyNames(n),t=0;t<i.length;t++){var r=i[t],o=Object.getOwnPropertyDescriptor(n,r);o&&o.configurable&&void 0===e[r]&&Object.defineProperty(e,r,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var _createDecoratedClass=function(){function defineProperties(s,a,u){for(var t=0;t<a.length;t++){var e=a[t],r=e.decorators,o=e.key;if(delete e.key,delete e.decorators,e.enumerable=e.enumerable||!1,e.configurable=!0,("value"in e||e.initializer)&&(e.writable=!0),r){for(var n=0;n<r.length;n++){var i=r[n];if("function"!=typeof i)throw new TypeError("The decorator for method "+e.key+" is of the invalid type "+typeof i);e=i(s,o,e)||e}if(void 0!==e.initializer){u[o]=e;continue}}Object.defineProperty(s,o,e)}}return function(e,t,r,o,n){return t&&defineProperties(e.prototype,t,o),r&&defineProperties(e,r,n),e}}(),_get=function get(i,c,u){var n=!0;e:for(;n;){var t=i,s=c,a=u;e=r=o=void 0,n=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,s);if(void 0===e){var r=Object.getPrototypeOf(t);if(null===r)return void 0;i=r,c=s,u=a,n=!0;continue e}if("value"in e)return e.value;var o=e.get;if(void 0===o)return void 0;return o.call(a)}};define("bundles/naptimejs/resources/specializations.v1",["require","exports","module","./NaptimeResource","bundles/naptimejs/util/requireFieldsDecorator","bundles/s12n/service/constants","js/lib/path"],function(require,exports,module){var t=require("./NaptimeResource"),r=require("bundles/naptimejs/util/requireFieldsDecorator"),e=r.requireFields,o=require("bundles/s12n/service/constants"),n=require("js/lib/path"),i=function(t){function Specialization(){_classCallCheck(this,Specialization),_get(Object.getPrototypeOf(Specialization.prototype),"constructor",this).apply(this,arguments)}return _inherits(Specialization,t),_createDecoratedClass(Specialization,[{key:"link",decorators:[e("shortName")],get:function get(){return n.join(o.s12nRoot,this.shortName)}},{key:"iconSrc",decorators:[e("logo")],get:function get(){return this.logo}},{key:"courseCount",decorators:[e("primaryCourseIds")],get:function get(){return this.primaryCourseIds.length}},{key:"isPublic",decorators:[e("display")],get:function get(){return this.display}}],[{key:"RESOURCE_NAME",value:"specializations.v1",enumerable:!0}]),Specialization}(t);module.exports=i});
function _defaults(e,o){for(var i=Object.getOwnPropertyNames(o),t=0;t<i.length;t++){var r=i[t],n=Object.getOwnPropertyDescriptor(o,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var _createClass=function(){function defineProperties(n,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),_get=function get(i,l,c){var o=!0;e:for(;o;){var t=i,u=l,a=c;e=r=n=void 0,o=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,u);if(void 0===e){var r=Object.getPrototypeOf(t);if(null===r)return void 0;i=r,l=u,c=a,o=!0;continue e}if("value"in e)return e.value;var n=e.get;if(void 0===n)return void 0;return n.call(a)}};define("bundles/naptimejs/resources/stats.v1",["require","exports","module","./NaptimeResource"],function(require,exports,module){var e=require("./NaptimeResource"),t=function(e){function Stat(){_classCallCheck(this,Stat),_get(Object.getPrototypeOf(Stat.prototype),"constructor",this).apply(this,arguments)}return _inherits(Stat,e),_createClass(Stat,null,[{key:"RESOURCE_NAME",value:"stats.v1",enumerable:!0}]),Stat}(e);module.exports=t});
function _defaults(e,o){for(var i=Object.getOwnPropertyNames(o),t=0;t<i.length;t++){var r=i[t],n=Object.getOwnPropertyDescriptor(o,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var _createClass=function(){function defineProperties(n,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),_get=function get(i,l,c){var o=!0;e:for(;o;){var t=i,u=l,a=c;e=r=n=void 0,o=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,u);if(void 0===e){var r=Object.getPrototypeOf(t);if(null===r)return void 0;i=r,l=u,c=a,o=!0;continue e}if("value"in e)return e.value;var n=e.get;if(void 0===n)return void 0;return n.call(a)}};define("bundles/naptimejs/resources/subdomains.v1",["require","exports","module","./NaptimeResource"],function(require,exports,module){var e=require("./NaptimeResource"),t=function(e){function Subdomain(){_classCallCheck(this,Subdomain),_get(Object.getPrototypeOf(Subdomain.prototype),"constructor",this).apply(this,arguments)}return _inherits(Subdomain,e),_createClass(Subdomain,null,[{key:"RESOURCE_NAME",value:"subdomains.v1",enumerable:!0}]),Subdomain}(e);module.exports=t});
function _defaults(e,o){for(var i=Object.getOwnPropertyNames(o),t=0;t<i.length;t++){var r=i[t],n=Object.getOwnPropertyDescriptor(o,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var _createClass=function(){function defineProperties(n,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),_get=function get(i,s,c){var o=!0;e:for(;o;){var t=i,u=s,a=c;e=r=n=void 0,o=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,u);if(void 0===e){var r=Object.getPrototypeOf(t);if(null===r)return void 0;i=r,s=u,c=a,o=!0;continue e}if("value"in e)return e.value;var n=e.get;if(void 0===n)return void 0;return n.call(a)}};define("bundles/naptimejs/resources/userPaymentHistories.v1",["require","exports","module","./NaptimeResource"],function(require,exports,module){var e=require("./NaptimeResource"),t=function(e){function UserPaymentHistory(){_classCallCheck(this,UserPaymentHistory),_get(Object.getPrototypeOf(UserPaymentHistory.prototype),"constructor",this).apply(this,arguments)}return _inherits(UserPaymentHistory,e),_createClass(UserPaymentHistory,null,[{key:"RESOURCE_NAME",value:"userPaymentHistories.v1",enumerable:!0}]),UserPaymentHistory}(e);module.exports=t});
function _defaults(e,o){for(var i=Object.getOwnPropertyNames(o),t=0;t<i.length;t++){var r=i[t],n=Object.getOwnPropertyDescriptor(o,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var _createClass=function(){function defineProperties(n,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),_get=function get(i,l,c){var o=!0;e:for(;o;){var t=i,u=l,a=c;e=r=n=void 0,o=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,u);if(void 0===e){var r=Object.getPrototypeOf(t);if(null===r)return void 0;i=r,l=u,c=a,o=!0;continue e}if("value"in e)return e.value;var n=e.get;if(void 0===n)return void 0;return n.call(a)}};define("bundles/naptimejs/resources/v1Details.v1",["require","exports","module","./NaptimeResource"],function(require,exports,module){var e=require("./NaptimeResource"),t=function(e){function V1Details(){_classCallCheck(this,V1Details),_get(Object.getPrototypeOf(V1Details.prototype),"constructor",this).apply(this,arguments)}return _inherits(V1Details,e),_createClass(V1Details,null,[{key:"RESOURCE_NAME",value:"v1Details.v1",enumerable:!0}]),V1Details}(e);module.exports=t});
function _defaults(e,n){for(var i=Object.getOwnPropertyNames(n),t=0;t<i.length;t++){var r=i[t],o=Object.getOwnPropertyDescriptor(n,r);o&&o.configurable&&void 0===e[r]&&Object.defineProperty(e,r,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var _createDecoratedClass=function(){function defineProperties(a,s,u){for(var t=0;t<s.length;t++){var e=s[t],r=e.decorators,o=e.key;if(delete e.key,delete e.decorators,e.enumerable=e.enumerable||!1,e.configurable=!0,("value"in e||e.initializer)&&(e.writable=!0),r){for(var n=0;n<r.length;n++){var i=r[n];if("function"!=typeof i)throw new TypeError("The decorator for method "+e.key+" is of the invalid type "+typeof i);e=i(a,o,e)||e}if(void 0!==e.initializer){u[o]=e;continue}}Object.defineProperty(a,o,e)}}return function(e,t,r,o,n){return t&&defineProperties(e.prototype,t,o),r&&defineProperties(e,r,n),e}}(),_get=function get(i,c,u){var n=!0;e:for(;n;){var t=i,a=c,s=u;e=r=o=void 0,n=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,a);if(void 0===e){var r=Object.getPrototypeOf(t);if(null===r)return void 0;i=r,c=a,u=s,n=!0;continue e}if("value"in e)return e.value;var o=e.get;if(void 0===o)return void 0;return o.call(s)}};define("bundles/naptimejs/resources/v2Details.v1",["require","exports","module","./NaptimeResource","bundles/naptimejs/util/requireFieldsDecorator"],function(require,exports,module){var e=require("./NaptimeResource"),t=require("bundles/naptimejs/util/requireFieldsDecorator"),r=t.requireFields,o=function(e){function V2Details(){_classCallCheck(this,V2Details),_get(Object.getPrototypeOf(V2Details.prototype),"constructor",this).apply(this,arguments)}return _inherits(V2Details,e),_createDecoratedClass(V2Details,[{key:"hasPhoenixSessions",decorators:[r("sessionsEnabledAt")],get:function get(){return!!this.sessionsEnabledAt}}],[{key:"RESOURCE_NAME",value:"v2Details.v1",enumerable:!0}]),V2Details}(e);module.exports=o});
define("bundles/naptimejs/resources/index",["require","exports","module","./basicProfiles.v1","./catalogResults.v2","./countries.v1","./courses.v1","./courseLists.v1","./domains.v1","./instructors.v1","./languages.v1","./onDemandSpecializations.v1","./partners.v1","./profiles.v1","./search.v1","./specializations.v1","./stats.v1","./subdomains.v1","./userPaymentHistories.v1","./v1Details.v1","./v2Details.v1"],function(require,exports,module){var s=[require("./basicProfiles.v1"),require("./catalogResults.v2"),require("./countries.v1"),require("./courses.v1"),require("./courseLists.v1"),require("./domains.v1"),require("./instructors.v1"),require("./languages.v1"),require("./onDemandSpecializations.v1"),require("./partners.v1"),require("./profiles.v1"),require("./search.v1"),require("./specializations.v1"),require("./stats.v1"),require("./subdomains.v1"),require("./userPaymentHistories.v1"),require("./v1Details.v1"),require("./v2Details.v1")];module.exports=s.reduce(function(s,e){return s[e.RESOURCE_NAME]=e,s},{})});
define("vendor/cnpm/fluxible.v0-4/addons/BaseStore",["require","exports","module","vendor/cnpm/dispatchr.v0-3/addons/index"],function(require,exports,module){module.exports=require("vendor/cnpm/dispatchr.v0-3/addons/index").BaseStore});
define("bundles/naptimejs/util/initialRehydration",["require","exports","module"],function(require,exports,module){module.exports=null});
function _defaults(e,i){for(var o=Object.getOwnPropertyNames(i),t=0;t<o.length;t++){var n=o[t],r=Object.getOwnPropertyDescriptor(i,n);r&&r.configurable&&void 0===e[n]&&Object.defineProperty(e,n,r)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var _createClass=function(){function defineProperties(r,n){for(var t=0;t<n.length;t++){var e=n[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(r,e.key,e)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),_get=function get(o,c,u){var i=!0;e:for(;i;){var t=o,a=c,s=u;e=n=r=void 0,i=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,a);if(void 0===e){var n=Object.getPrototypeOf(t);if(null===n)return void 0;o=n,c=a,u=s,i=!0;continue e}if("value"in e)return e.value;var r=e.get;if(void 0===r)return void 0;return r.call(s)}};define("bundles/naptimejs/stores/NaptimeStore",["require","exports","module","bundles/naptimejs/resources/index","vendor/cnpm/fluxible.v0-4/addons/BaseStore","bundles/naptimejs/client/index","bundles/naptimejs/util/initialRehydration"],function(require,exports,module){var i=require("bundles/naptimejs/resources/index"),s=require("vendor/cnpm/fluxible.v0-4/addons/BaseStore"),e=require("bundles/naptimejs/client/index"),t=e.Finder,n=e.GetAll,o=e.Get,u=e.MultiGet,r=e.LocalGet,a=require("bundles/naptimejs/util/initialRehydration"),c=function(e){function NaptimeStore(e){var t=this;_classCallCheck(this,NaptimeStore),_get(Object.getPrototypeOf(NaptimeStore.prototype),"constructor",this).call(this,e),this.dispatcher=e,this.storage={},Object.keys(i).forEach(function(e){t.storage[e]={}}),this.fulfilledUrls=[],this.responseCache={},a&&this.rehydrate(a)}return _inherits(NaptimeStore,e),_createClass(NaptimeStore,null,[{key:"storeName",value:"NaptimeStore",enumerable:!0},{key:"handlers",value:{RECEIVE_DATA:"handleReceiveData"},enumerable:!0}]),_createClass(NaptimeStore,[{key:"shouldDehydrate",value:function shouldDehydrate(){return!0}},{key:"generateUniqueId",value:function generateUniqueId(){return(65536*(1+Math.random())|0).toString(16).substring(1)}},{key:"eventKey",value:function eventKey(e){return"REQUEST:"+e}},{key:"addRequestListener",value:function addRequestListener(t){var e=this.generateUniqueId();return this.on(this.eventKey(e),t),e}},{key:"removeRequestListener",value:function removeRequestListener(e,t){this.off(this.eventKey(e),t)}},{key:"addResources",value:function addResources(e,r){var t=this,n=i[e];if(void 0===n)throw new Error("Could not find model definition for "+e+".\n        Create a model for this resource in 'naptimejs/models'");r.forEach(function(r){if(void 0===r.id)throw new Error("Undefined id on element",r);if(void 0!==t.storage[e][r.id]){var i=t.storage[e][r.id];Object.assign(i,r)}else t.storage[e][r.id]=new n(r)})}},{key:"handleReceiveData",value:function handleReceiveData(r){var e=this,o=r.requestId,i=r.responseData,a=void 0===i?[]:i;a.map(function(r){if(r&&r.client){var i=r.client,a=r.data,o=a.elements,s=a.linked,u=a.paging,c=void 0===u?{}:u;if(o&&e.addResources(i.resourceName,o),s&&Object.keys(s).forEach(function(t){e.addResources(t,s[t])}),i instanceof t||i instanceof n){if(!o)throw new Error("No elements in response",r);e.responseCache[i.stringFormat()]={ids:o.map(function(e){return e.id}),paging:c}}}e.fulfilledUrls.push(r.url)}),this.emit(this.eventKey(o))}},{key:"getIdsForClient",value:function getIdsForClient(e){if(e instanceof t||e instanceof n){var i=this.responseCache[e.stringFormat()];return i&&i.ids}if(e instanceof o||e instanceof r)return[e.id];if(e instanceof u)return e.ids;throw Error("Unknown client type found.")}},{key:"clientDataIsLoaded",value:function clientDataIsLoaded(e){var n=this;if(e instanceof r)return!0;var t=this.getIdsForClient(e);return t&&t.every(function(t){return n.resourceIsLoaded(e.resourceName,t,e.getFields())})}},{key:"getDataForClient",value:function getDataForClient(e){var t=this.getIdsForClient(e);if(t){var i=this.storage[e.resourceName],n=t.map(function(e){return i[e]});return e instanceof o||e instanceof r?n[0]:n.filter(function(e){return!!e})}}},{key:"getPagingForClient",value:function getPagingForClient(e){return e instanceof n||e instanceof t?this.responseCache[e.stringFormat()].paging:{}}},{key:"resourceIsLoaded",value:function resourceIsLoaded(r,i,e){var t=this.storage[r];if(t){var n=t[i];return n?0===e.length||e.some(function(e){return void 0!==n[e]}):!1}return!1}},{key:"dehydrate",value:function dehydrate(){var t=this,e={};return Object.keys(this.storage).map(function(n){e[n]=[],Object.keys(t.storage[n]).map(function(r){e[n].push(t.storage[n][r])})}),{data:e,responseCache:this.responseCache}}},{key:"rehydrate",value:function rehydrate(e){var i=this,t=e.data,n=void 0===t?{}:t,r=e.responseCache,o=void 0===r?{}:r;Object.keys(n).map(function(e){var t=n[e];i.addResources(e,t)}),this.responseCache=o}}]),NaptimeStore}(s);module.exports=c});
define("js/lib/retracked",["require","exports","module","react-with-addons"],function(require,exports,module){function setup(e,t){n=e,r=t}function cloneWithPropertyEval(e){var n={};return Object.keys(e).forEach(function(t){var r=e[t];n[t]="function"==typeof r?r():r}),n}function makeTracker(){function expandKey(n){return e.namespace?e.namespace+"."+n:n}function track(i,a,r){var u=expandKey(i),o=cloneWithPropertyEval(e.include||{}),t=Object.assign({},o,a);if(r&&r.currentTarget){var c=r.currentTarget;c.href&&(t.href=c.href)}n(u,t)}var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return track.handle=function(e,n){return track.bind(null,e,n)},r.forEach(function(e){track[e]=function(n,r){var t=e+"."+n;return track.bind(null,t,r)}}),track.clickKey=function(e){return expandKey("click."+e)},track}function createContainer(n,r){var t=n.displayName||n.name,c=e.createClass({displayName:t+"TrackingProvider",childContextTypes:{track:e.PropTypes.func.isRequired},getChildContext:function getChildContext(){return Object.assign({},this.context,{track:makeTracker(r)})},render:function render(){return e.createElement(n,this.props)}});return c}var e=require("react-with-addons"),n=function _recordEvent(e,n){throw new Error("Retracked setup() must first be called with an event recording function.")},r=[];module.exports={setup:setup,createContainer:createContainer,makeTracker:makeTracker}});
define("bundles/ondemand/components/inviteFriends/inviteFriendsUtils",["require","exports","module","underscore","pages/open-course/common/constants","bundles/epic/client","bundles/phoenix/template/models/userIdentity","js/lib/retracked","jsuri","bundles/ondemand/stores/SessionStore"],function(require,exports,module){var _=require("underscore"),t=require("pages/open-course/common/constants"),s=require("bundles/epic/client"),n=require("bundles/phoenix/template/models/userIdentity"),r=require("js/lib/retracked"),i=require("jsuri"),e=require("bundles/ondemand/stores/SessionStore");exports.getShareLink=function(e){var s=e.getFullLink();return new i(s).addQueryParam("referrerId",n.get("external_id")).toString()},exports.showInviteFriends=function(){if(!e.isSessionsEnabled()||e.getEnrollmentDaysLeft()<=0)return!1;var n=s.get("siteOnDemandCompletion","showInviteFriendsSessions");if(!_(n).contains(e.getSessionId()))return!1;return"default"!==s.get("siteOnDemandCompletion","showInviteFriends")},exports.makeTracker=function(){return r.makeTracker({namespace:"open_course_home.invite_friends",include:{open_course_id:t.courseId,session_id:e.getSessionId(),user_id:n.get("id"),user_external_id:n.get("external_id")}})}});
define("bundles/iconfont/cifNamePropType",["require","exports","module"],function(require,exports,module){var e=["bundles/iconfont/Icon","eye","expand","compress","captions","film","file-o","pin","upload","download","minus","plus","square","plus-square","minus-square","settings","cog","heart","circle","star","star-o","user","close2","times","clock-o","volume-off","volume-down","volume-up","bookmark","edit","pencil-square-o","play","pause","chevron-left","chevron-right","ellipsis-h","check-circle ","question-circle","ban","arrow-left","arrow-right","arrow-up","arrow-down","calendar","comment","chevron-up","chevron-down","heart-o","external-link","certificate","globe","group","users","chain","link","file-text-o","quote-left","quote-right","spinner","refresh","star-half-empty","star-half-full","star-half-o","chevron-circle-left","chevron-circle-right","chevron-circle-up","chevron-circle-down","play-circle","file-image-o","file-photo-o","file-picture-o","circle-o-notch","paper-plane","send","circle-thin","genderless","facebook-official","lock","info","discussions","checkmark","home","course-list","item-video","prog-assignment","item-peer","item-formative","doc","item-doc","close","cancel-hint","back","warning","circle","search","caret-up","caret-down","linkedin-square","google-plus","twitter","facebook","times-circle-o","chain-broken","envelope-o","thumbs-o-down","thumbs-o-up","thumbs-up","flag-o","flag","check-circle-o","check","star","star-o","heart-o","assignment","camera","get-vc","summative-incomplete","summative-complete","circle-outer"];module.exports=function(r,c,i){var o=r[c];if(-1===e.indexOf(o))throw new Error(o+" is not a valid icon font name. Make sure the name is correct or that the icon font exists.")}});
define("bundles/iconfont/utils/propTypes",["require","exports","module","bundles/iconfont/cifNamePropType"],function(require,exports,module){var e=require("bundles/iconfont/cifNamePropType");module.exports={iconName:e}});
define("bundles/iconfont/utils/index",["require","exports","module","./propTypes"],function(require,exports,module){var e=require("./propTypes");module.exports={PropTypes:e}});
function _defineProperty(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}define("bundles/iconfont/Icon",["require","exports","module","classnames","react-with-addons","bundles/iconfont/utils/index"],function(require,exports,module){var s=require("classnames"),e=require("react-with-addons"),t=require("bundles/iconfont/utils/index"),a=function iconSizeValidator(e,s,t){if(e[s]&&(e.outer||e.inner))return new Error("When defining icons inside an icon stack, you should not be specifying size. Instead, specify the size on the parent IconStack component to increase the size of the icon.");if(e[s]&&-1===["lg","2x","3x","4x","5x"].indexOf(e[s]))return new Error("`size` should be one of [`lg`, `2x`, `3x`, `4x`, `5x`]")},n=e.createClass({displayName:"Icon",propTypes:{name:t.PropTypes.iconName,className:e.PropTypes.string,innerIcon:e.PropTypes.string,spin:e.PropTypes.bool,pulse:e.PropTypes.bool,rotate:e.PropTypes.oneOf([90,180,270]),flip:e.PropTypes.oneOf(["horizontal","vertical"]),size:a,inverse:e.PropTypes.bool,outer:e.PropTypes.bool,inner:e.PropTypes.bool},contextTypes:{inStack:e.PropTypes.bool},getDefaultProps:function getDefaultProps(){return{spin:!1,size:""}},render:function render(){var t,a=s("cif-"+this.props.name,this.props.className,(t={"cif-spin":this.props.spin,"cif-inverse":this.props.inverse,"cif-pulse":this.props.pulse},_defineProperty(t,"cif-rotate-"+this.props.rotate,this.props.rotate&&this.props.rotate>0),_defineProperty(t,"cif-flip-"+this.props.flip,!!this.props.flip),_defineProperty(t,"cif-"+this.props.size,this.props.size.length>0&&!this.context.inStack),_defineProperty(t,"cif-stack-2x",this.context.inStack&&this.props.outer),_defineProperty(t,"cif-stack-1x",this.context.inStack&&this.props.inner),t));switch(this.props.name){case"get-vc":return e.createElement("span",{className:a},e.createElement("span",{className:"path1"}),e.createElement("span",{className:"path2"}),e.createElement("span",{className:"path3"}),e.createElement("span",{className:"path4"}),e.createElement("span",{className:"path5"}),e.createElement("span",{className:"path6"}),e.createElement("span",{className:"path7"}),e.createElement("span",{className:"path8"}),e.createElement("span",{className:"path9"}));case"summative-incomplete":return e.createElement("span",{className:a},e.createElement("span",{className:"path1"}),e.createElement("span",{className:"path2"}));case"summative-complete":return e.createElement("span",{className:a},e.createElement("span",{className:"path1"}),e.createElement("span",{className:"path2"}),e.createElement("span",{className:"path3"}));case"circle-outer":var n=s("cif-stack",this.props.className),r=s("cif-"+this.props.innerIcon,"cif-stack-1x","cif-inverse");return e.createElement("span",{className:n},e.createElement("i",{className:"cif-circle cif-stack-2x"}),e.createElement("i",{className:r}));default:return e.createElement("i",{className:a})}}});module.exports=n});
define("bundles/ondemand/utils/onDemandTutorialViewsApi",["require","exports","module","q","bundles/ondemand/constants/Constants","bundles/phoenix/lib/apiWrapper","bundles/phoenix/template/models/userIdentity"],function(require,exports,module){var e=require("q"),i=require("bundles/ondemand/constants/Constants"),s=require("bundles/phoenix/lib/apiWrapper"),n=require("bundles/phoenix/template/models/userIdentity"),t=s(i.onDemandTutorialViewsApi),o={storeKey:function storeKey(i){e(t.put(n.get("id")+"~"+i)).done()},hasKey:function hasKey(i){return e(t.get(n.get("id")+"~"+i)).then(function(){return!0}).fail(function(){return!1})}};module.exports=o});

define('css!bundles/ondemand/components/common/__styles__/BarNotification',[],function(){})
define("bundles/ondemand/components/common/BarNotification",["require","exports","module","react-with-addons","bundles/iconfont/Icon","bundles/ondemand/utils/onDemandTutorialViewsApi","pages/open-course/common/constants","css!./__styles__/BarNotification"],function(require,exports,module){var e=require("react-with-addons"),s=require("bundles/iconfont/Icon"),t=require("bundles/ondemand/utils/onDemandTutorialViewsApi"),o=t.storeKey,i=t.hasKey,n=require("pages/open-course/common/constants");require("css!./__styles__/BarNotification");var a=e.createClass({displayName:"BarNotification",propTypes:{message:e.PropTypes.node.isRequired,name:e.PropTypes.string.isRequired,isDismissable:e.PropTypes.bool,showWarnIcon:e.PropTypes.bool,children:e.PropTypes.node,button:e.PropTypes.node},getDefaultProps:function getDefaultProps(){return{isDismissable:!0,showWarnIcon:!1}},getInitialState:function getInitialState(){return{showNotification:!1}},componentWillMount:function componentWillMount(){this.props.isDismissable?(this.key=this.props.name+"."+n.courseId,this.checkIfClosed()):this.setState({showNotification:!0})},handleClick:function handleClick(){this.setState({showNotification:!1}),o(this.key)},checkIfClosed:function checkIfClosed(){var e=this;return i(this.key).then(function(s){s||e.setState({showNotification:!0})})},render:function render(){if(!this.state.showNotification)return null;return e.createElement("div",{className:"rc-BarNotification horizontal-box align-items-vertical-center",key:this.props.name},this.props.showWarnIcon&&e.createElement(s,{name:"warning"}),e.createElement("p",{className:"flex-1 color-primary-text"},this.props.message),this.props.children,this.props.isDismissable&&e.createElement("button",{onClick:this.handleClick,className:"nostyle","aria-label":"Dismiss"},e.createElement(s,{name:"close",className:"dismiss"})),this.props.button)}});module.exports=a});
define("vendor/cnpm/fluxible.v0-4/lib/contextTypes",["require","exports","module","react-with-addons"],function(require,exports,module){var e=require("react-with-addons");module.exports={executeAction:e.PropTypes.func.isRequired,getStore:e.PropTypes.func.isRequired}});
define("vendor/cnpm/fluxible.v0-4/addons/connectToStores",["require","exports","module","react-with-addons","vendor/cnpm/object-assign.v3/index","../lib/contextTypes"],function(require,exports,module){var t=require("react-with-addons"),e=require("vendor/cnpm/object-assign.v3/index"),n=require("../lib/contextTypes");module.exports=function connectToStores(r,i,o){var s=r.displayName||r.name,c=t.createClass({displayName:s+"StoreConnector",contextTypes:{getStore:n.getStore},getInitialState:function getInitialState(){return this.getStateFromStores(this.props)},componentDidMount:function componentDidMount(){i.forEach(function storesEach(t){this.context.getStore(t).addChangeListener(this._onStoreChange)},this)},componentWillReceiveProps:function componentWillReceiveProps(t){this.setState(this.getStateFromStores(t))},componentWillUnmount:function componentWillUnmount(){i.forEach(function storesEach(t){this.context.getStore(t).removeChangeListener(this._onStoreChange)},this)},getStateFromStores:function(t){if(t=t||this.props,"function"==typeof o){var n={};return i.forEach(function(t){var e=t.name||t.storeName||t;n[e]=this.context.getStore(t)},this),o(n,t)}var r={};return Object.keys(o).forEach(function(n){var i=o[n],s=this.context.getStore(n);e(r,i(s,t))},this),r},_onStoreChange:function onStoreChange(){this.setState(this.getStateFromStores())},render:function render(){return t.createElement(r,e({},this.props,this.state))}});return c}});
define("bundles/ondemand/components/notifications/DeadlinesNotification",["require","exports","module","react-with-addons","bundles/ondemand/components/common/BarNotification","bundles/ondemand/stores/SessionStore","i18n!nls/ondemand","vendor/cnpm/fluxible.v0-4/addons/connectToStores"],function(require,exports,module){var e=require("react-with-addons"),s=require("bundles/ondemand/components/common/BarNotification"),o=require("bundles/ondemand/stores/SessionStore"),n=require("i18n!nls/ondemand"),a=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),t=e.createClass({displayName:"DeadlinesNotification",propTypes:{areDeadlinesEnabled:e.PropTypes.bool.isRequired},render:function render(){if(!this.props.areDeadlinesEnabled)return null;var a=n("This course has deadlines to help you keep on track. To complete the course, pass all assignments that have due dates."),t=n("This course has suggested deadlines to help you keep on track. To complete the course, pass all assignments that have due dates."),d=o.isSessionsEnabled()?a:t;return e.createElement(s,{message:d,isDismissable:!0,name:"deadlinesExplanation"})}});module.exports=a(t,["CourseScheduleStore"],function(e,s){var n=e.CourseScheduleStore;return{areDeadlinesEnabled:n.areDeadlinesEnabled()}})});
define("bundles/phoenix/lib/waitForStores",["require","exports","module","react-with-addons","vendor/cnpm/object-assign.v3/index","vendor/cnpm/fluxible.v0-4/lib/contextTypes"],function(require,exports,module){var e=require("react-with-addons"),t=require("vendor/cnpm/object-assign.v3/index"),r=require("vendor/cnpm/fluxible.v0-4/lib/contextTypes");module.exports=function waitForStores(i,o,n){var s=i.displayName||i.name,a=e.createClass({displayName:s+"StoreConnector",contextTypes:{getStore:r.getStore},getInitialState:function getInitialState(){return this.parseStores(),this.getStateFromStores(this.props)},componentDidMount:function componentDidMount(){o.forEach(function storesEach(e){this.context.getStore(e).addChangeListener(this._onStoreChange)},this)},componentWillReceiveProps:function componentWillReceiveProps(e){this.setState(this.getStateFromStores(e))},componentWillUnmount:function componentWillUnmount(){o.forEach(function storesEach(e){this.context.getStore(e).removeChangeListener(this._onStoreChange)},this)},getStateFromStores:function getStateFromStores(s){if(!this.haveRequiredStoresLoaded())return{};var e=s||this.props;if("function"==typeof n){var r={};return o.forEach(function(e){var t=e.name||e.storeName||e;r[t]=this.context.getStore(e)},this),n(r,e)}var i={};return Object.keys(n).forEach(function(r){var o=n[r],s=this.context.getStore(r);t(i,o(s,e))},this),i},parseStores:function parseStores(){if(o instanceof Array)this.requiredStores=o;else if(o.hasOwnProperty("requiredStores")){var e=o.requiredStores,t=o.lazyStores;o=e,this.requiredStores=e,t&&(o=o.concat(t))}},_onStoreChange:function _onStoreChange(){this.setState(this.getStateFromStores())},haveRequiredStoresLoaded:function haveRequiredStoresLoaded(){return this.requiredStores.every(function storesEach(e){var t=this.context.getStore(e);if(t.hasLoaded)return t.hasLoaded();throw new Error("waitForStores wrapping "+this.displayName+": hasLoaded is not defined for "+e+".\n Define the method or, if the method cannot be defined, include the store in 'lazyStores' instead.")}.bind(this))},render:function render(){if(!this.haveRequiredStoresLoaded())return null;return e.createElement(i,t({},this.props,this.state))}});return a}});
define("bundles/ondemand/components/notifications/ExpirationNotification",["require","exports","module","react-with-addons","pages/open-course/common/constants","bundles/ondemand/components/common/BarNotification","js/lib/coursera.react-intl","bundles/phoenix/lib/waitForStores","i18n!nls/ondemand","moment"],function(require,exports,module){var e=require("react-with-addons"),c=require("pages/open-course/common/constants"),i=require("bundles/ondemand/components/common/BarNotification"),o=require("js/lib/coursera.react-intl"),t=o.FormattedHTMLMessage,n=require("bundles/phoenix/lib/waitForStores"),s=require("i18n!nls/ondemand"),r=require("moment"),a=e.createClass({displayName:"ExpirationNotification",propTypes:{hasPurchasedVC:e.PropTypes.bool.isRequired,expiresInNextMonth:e.PropTypes.bool.isRequired,expirationDate:e.PropTypes.number.isRequired,hasPassedCourseWithVerification:e.PropTypes.bool.isRequired},render:function render(){var o=this.props,n=o.hasPurchasedVC,a=o.expiresInNextMonth,c=o.expirationDate,d=o.hasPassedCourseWithVerification;if(!n||!a||d)return null;var p=e.createElement(t,{message:s("Your eligibility to earn a certificate in this course expires\n          <span class='od-text-bold'>{relativetime}</span>. Pass and verify all\n          assignments before then to earn your certificate."),relativetime:r(c).fromNow()});return e.createElement(i,{message:p,isDismissable:!1,showWarnIcon:!0,name:"expirationNotice"})}});module.exports=n(a,["VerificationStore","CourseGradeStore"],function(i,t){var e=i.VerificationStore,o=i.CourseGradeStore;return{hasPurchasedVC:e.hasPurchasedVC(),expiresInNextMonth:e.expiresInNextMonth(),expirationDate:e.getExpirationDate(),hasPassedCourseWithVerification:o.hasPassedCourseWithVerification()}})});
define("bundles/ondemand/components/notifications/NotVerifiedNotification",["require","exports","module","react-with-addons","bundles/ondemand/components/common/BarNotification","bundles/phoenix/lib/waitForStores"],function(require,exports,module){var o=require("react-with-addons"),e=require("bundles/ondemand/components/common/BarNotification"),i=require("bundles/phoenix/lib/waitForStores"),n=o.createClass({displayName:"NotVerifiedNotification",propTypes:{shouldShow:o.PropTypes.bool.isRequired,message:o.PropTypes.node.isRequired,button:o.PropTypes.node},render:function render(){if(!this.props.shouldShow)return null;return o.createElement(e,{message:this.props.message,button:this.props.button,isDismissable:!1,showWarnIcon:!0})}});module.exports=i(n,["VerificationStore"],function(o,i){var e=o.VerificationStore;return{shouldShow:e.hasPurchasedVC()}})});
define("bundles/ondemand/utils/url",["require","exports","module","pages/open-course/common/constants","js/lib/path"],function(require,exports,module){var o=require("pages/open-course/common/constants"),e=require("js/lib/path");exports.getDiscussionsUrl=function(){return o.courseRootPath+"/discussions"},exports.getBaseUrl=function(){return o.courseRootPath+"/home"},exports.getAssignmentsUrl=function(){return o.courseRootPath+"/home/assignments"},exports.getThankYouUrl=function(){return o.courseRootPath+"/home/thank-you"},exports.getModuleUrl=function(t){return e.join(o.courseRootPath,"home/module",t)},exports.getWeekUrl=function(t){return e.join(o.courseRootPath+"/home/week/"+t)},exports.getHomeUrl=function(){return e.join(o.courseRootPath+"/home/welcome")},exports.getClassmatesUrl=function(){return e.join(o.courseRootPath+"/classmates")},exports.getCourseInfoUrl=function(){return e.join(o.courseRootPath+"/home/info")},exports.getEndOfCourseUrl=function(e){var o=exports.getHomeUrl();return e&&(o+="?action=hideMenu"),o}});
define("bundles/ondemand/components/notifications/HomeNotVerifiedNotification",["require","exports","module","react-router","react-with-addons","bundles/ondemand/components/notifications/NotVerifiedNotification","bundles/ondemand/utils/url","bundles/phoenix/lib/waitForStores","js/lib/coursera.react-intl","i18n!nls/ondemand"],function(require,exports,module){var u=require("react-router"),o=u.Link,e=require("react-with-addons"),i=require("bundles/ondemand/components/notifications/NotVerifiedNotification"),s=require("bundles/ondemand/utils/url"),r=s.getAssignmentsUrl,t=require("bundles/phoenix/lib/waitForStores"),a=require("js/lib/coursera.react-intl"),d=a.FormattedHTMLMessage,n=require("i18n!nls/ondemand"),m=n('<span class="body-2-text">Verification Required:</span>\n {numAssignments} of your assignments {numAssignments, plural, =1 {was} other {were}} not verified.\n Retake with verification to be eligible for a Course Certificate.'),l=e.createClass({displayName:"HomeNotVerifiedNotification",propTypes:{numUnverifiedAssignments:e.PropTypes.number.isRequired},render:function render(){if(0===this.props.numUnverifiedAssignments)return null;var t=e.createElement(d,{message:m,numAssignments:this.props.numUnverifiedAssignments}),s=e.createElement(o,{to:r(),className:"link-button secondary"},n("Retake"));return e.createElement(i,{message:t,button:s})}});module.exports=t(l,["CourseStore","CourseGradeStore","VerificationStore"],function(e,r){var n=e.CourseStore,t=e.CourseGradeStore,o=e.VerificationStore,i=n.getGradableItems(),s=t.getUnverifiedAssignments(i);return{numUnverifiedAssignments:s.length}})});
define("bundles/ondemand/components/inviteFriends/InviteFriendsFacebookButton",["require","exports","module","q","react-with-addons","i18n!nls/ondemand","bundles/socialPlugins/lib","bundles/iconfont/Icon"],function(require,exports,module){var n=require("q"),e=require("react-with-addons"),o=require("i18n!nls/ondemand"),t=require("bundles/socialPlugins/lib"),i=require("bundles/iconfont/Icon"),s=e.createClass({displayName:"InviteFriendsFacebookButton",propTypes:{shareLink:e.PropTypes.string.isRequired,course:e.PropTypes.object.isRequired,from:e.PropTypes.string},getInitialState:function getInitialState(){return{FB:null}},contextTypes:{track:e.PropTypes.func.isRequired},componentDidMount:function componentDidMount(){var e=this;n(t.facebook()).then(function(o){e.setState({FB:o})})},openFacebookSharePopup:function openFacebookSharePopup(){var e={link:this.props.shareLink};this.props.from&&(e.from=this.props.from),this.context.track("click.facebook_share",e),this.state.FB.ui({method:"feed",link:this.props.shareLink,name:o("Want to take ")+this.props.course.get("name")+o(" with me on Coursera? Click here to join."),description:this.props.course.get("description"),picture:this.props.course.get("promoPhoto")},null)},render:function render(){return this.state.FB?e.createElement("button",{className:"rc-InviteFriendsFacebookButton facebook",onClick:this.openFacebookSharePopup},e.createElement(i,{name:"facebook-official"}),e.createElement("span",null,o("Invite on Facebook"))):null}});module.exports=s});

define('css!bundles/phoenix/components/__styles__/Modal',[],function(){})
define("bundles/phoenix/components/Modal",["require","exports","module","classnames","react-with-addons","jquery","css!./__styles__/Modal"],function(require,exports,module){var s=require("classnames"),e=require("react-with-addons"),$=require("jquery");require("css!./__styles__/Modal");var o=e.createClass({displayName:"Modal",propTypes:{allowClose:e.PropTypes.bool,handleClose:e.PropTypes.func,modalName:e.PropTypes.string.isRequired,className:e.PropTypes.string,type:e.PropTypes.oneOf(["box","layer"]),children:e.PropTypes.any},getDefaultProps:function getDefaultProps(){return{type:"box",allowClose:!0}},componentDidMount:function componentDidMount(){window.addEventListener("keydown",this.checkForEsc,!0),window.addEventListener("keydown",this.cycleTabs,!0)},componentWillUnmount:function componentWillUnmount(){window.removeEventListener("keydown",this.checkForEsc,!0),window.removeEventListener("keydown",this.cycleTabs,!0)},checkForEsc:function checkForEsc(e){(27===e.keyCode||"Escape"===e.key)&&this.handleClose()},handleXClose:function handleXClose(e){e.preventDefault(),this.props.handleClose("x")},handleClose:function handleClose(e){this.props.allowClose&&this.props.handleClose()},cycleTabs:function cycleTabs(o){var s=$(e.findDOMNode(this.refs.modalContent)).find("a,button,textarea,input,select").filter(":visible");if("layer"===this.props.type){var t=e.findDOMNode(this.refs.closeButton);s.push(t)}9===o.keyCode&&$(o.target).is(s.last())&&window.setTimeout(function(){s.first().focus()},0)},render:function render(){var t="?",o=e.createElement("div",{className:"c-modal-x-out"},e.createElement("a",{className:"nostyle",onClick:this.handleXClose,"aria-label":"close",href:t,ref:"closeButton"},"")),l=s("rc-Modal",this.props.type,this.props.className);return e.createElement("div",{className:l},e.createElement("div",{className:"c-modal-overlay",onClick:this.handleClose}),"layer"===this.props.type&&this.props.allowClose&&o,e.createElement("div",{className:"c-modal-content",role:"dialog","aria-label":this.props.modalName,ref:"modalContent"},this.props.children,"box"===this.props.type&&this.props.allowClose&&o))}});module.exports=o});
!function(b,h){var n=b,i=n.document,p=n.navigator,T=n.setTimeout,B=n.encodeURIComponent,Fe=n.ActiveXObject,Xe=n.Error,ie=n.Number.parseInt||n.parseInt,Y=n.Number.parseFloat||n.parseFloat,ze=n.Number.isNaN||n.isNaN,x=n.Math.round,X=n.Date.now,A=n.Object.keys,se=n.Object.defineProperty,l=n.Object.prototype.hasOwnProperty,ke=n.Array.prototype.slice,Le=function(){var e=function unwrapper(e){return e};if("function"==typeof n.wrap&&"function"==typeof n.unwrap)try{var t=i.createElement("div"),r=n.unwrap(t);1===t.nodeType&&r&&1===r.nodeType&&(e=n.unwrap)}catch(a){}return e}(),a=function _args(e){return ke.call(e,0)},o=function _extend(){var t,s,n,e,u,r,o=a(arguments),i=o[0]||{};for(t=1,s=o.length;s>t;t++)if(null!=(n=o[t]))for(e in n)l.call(n,e)&&(u=i[e],r=n[e],i!==r&&r!==h&&(i[e]=r));return i},m=function _deepCopy(e){var t,n,a,r;if("object"!=typeof e||null==e)t=e;else if("number"==typeof e.length)for(t=[],n=0,a=e.length;a>n;n++)l.call(e,n)&&(t[n]=_deepCopy(e[n]));else{t={};for(r in e)l.call(e,r)&&(t[r]=_deepCopy(e[r]))}return t},Ye=function _pick(n,t){for(var r={},e=0,a=t.length;a>e;e++)t[e]in n&&(r[t[e]]=n[t[e]]);return r},M=function _omit(t,r){var n={};for(var e in t)-1===r.indexOf(e)&&(n[e]=t[e]);return n},ee=function _deleteOwnProperties(e){if(e)for(var t in e)l.call(e,t)&&delete e[t];return e},z=function _containedBy(e,t){if(e&&1===e.nodeType&&e.ownerDocument&&t&&(1===t.nodeType&&t.ownerDocument&&t.ownerDocument===e.ownerDocument||9===t.nodeType&&!t.ownerDocument&&t===e.ownerDocument))do{if(e===t)return!0;e=e.parentNode}while(e);return!1},N=function _getDirPathOfUrl(e){var t;return"string"==typeof e&&e&&(t=e.split("#")[0].split("?")[0],t=e.slice(0,e.lastIndexOf("/")+1)),t},ue=function _getCurrentScriptUrlFromErrorStack(t){var n,e;return"string"==typeof t&&t&&(e=t.match(/^(?:|[^:@]*@|.+\)@(?=http[s]?|file)|.+?\s+(?: at |@)(?:[^:\(]+ )*[\(]?)((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),e&&e[1]?n=e[1]:(e=t.match(/\)@((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),e&&e[1]&&(n=e[1]))),n},pe=function _getCurrentScriptUrlFromError(){var t,e;try{throw new Xe}catch(n){e=n}return e&&(t=e.sourceURL||e.fileName||ue(e.stack)),t},he=function _getCurrentScriptUrl(){var t,e,n;if(i.currentScript&&(t=i.currentScript.src))return t;if(e=i.getElementsByTagName("script"),1===e.length)return e[0].src||h;if("readyState"in e[0])for(n=e.length;n--;)if("interactive"===e[n].readyState&&(t=e[n].src))return t;if("loading"===i.readyState&&(t=e[e.length-1].src))return t;if(t=pe())return t;return h},xe=function _getUnanimousScriptParentDir(){var n,e,t,r=i.getElementsByTagName("script");for(n=r.length;n--;){if(!(t=r[n].src)){e=null;break}if(t=N(t),null==e)e=t;else if(e!==t){e=null;break}}return e||h},Ee=function _getDefaultSwfPath(){var e=N(he())||xe()||"";return e+"ZeroClipboard.swf"},t={bridge:null,version:"0.0.0",pluginType:"unknown",disabled:null,outdated:null,unavailable:null,deactivated:null,overdue:null,ready:null},I="11.0.0",c={},u,D,f={},C=null,Je={ready:"Flash communication is established",error:{"flash-disabled":"Flash is disabled or not installed","flash-outdated":"Flash is too outdated to support ZeroClipboard","flash-unavailable":"Flash is unable to communicate bidirectionally with JavaScript","flash-deactivated":"Flash is too outdated for your browser and/or is configured as click-to-activate","flash-overdue":"Flash communication was established but NOT within the acceptable time limit"}},r={swfPath:Ee(),trustedDomains:b.location.host?[b.location.host]:[],cacheBust:!0,forceEnhancedClipboard:!1,flashLoadTimeout:3e4,autoActivate:!0,bubbleEvents:!0,containerId:"global-zeroclipboard-html-bridge",containerClass:"global-zeroclipboard-container",swfObjectId:"global-zeroclipboard-flash-bridge",hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",forceHandCursor:!1,title:null,zIndex:999999999},P=function _config(e){if("object"==typeof e&&null!==e)for(var n in e)if(l.call(e,n))if(/^(?:forceHandCursor|title|zIndex|bubbleEvents)$/.test(n))r[n]=e[n];else if(null==t.bridge)if("containerId"===n||"swfObjectId"===n){if(!ae(e[n]))throw new Error("The specified `"+n+"` value is not valid as an HTML4 Element ID");r[n]=e[n]}else r[n]=e[n];if("string"==typeof e&&e){if(l.call(r,e))return r[e];return}return m(r)},R=function _state(){return{browser:Ye(p,["userAgent","platform","appName"]),flash:M(t,["bridge"]),zeroclipboard:{version:e.version,config:e.config()}}},Z=function _isFlashUnusable(){return!!(t.disabled||t.outdated||t.unavailable||t.deactivated)},V=function _on(r,u){var n,i,a,o={};if("string"==typeof r&&r)a=r.toLowerCase().split(/\s+/);else if("object"==typeof r&&r&&"undefined"==typeof u)for(n in r)l.call(r,n)&&"string"==typeof n&&n&&"function"==typeof r[n]&&e.on(n,r[n]);if(a&&a.length){for(n=0,i=a.length;i>n;n++)r=a[n].replace(/^on/,""),o[r]=!0,c[r]||(c[r]=[]),c[r].push(u);if(o.ready&&t.ready&&e.emit({type:"ready"}),o.error){var s=["disabled","outdated","unavailable","deactivated","overdue"];for(n=0,i=s.length;i>n;n++)if(t[s[n]]===!0){e.emit({type:"error",name:"flash-"+s[n]});break}}}return e},K=function _off(t,o){var n,s,i,a,r;if(0===arguments.length)a=A(c);else if("string"==typeof t&&t)a=t.split(/\s+/);else if("object"==typeof t&&t&&"undefined"==typeof o)for(n in t)l.call(t,n)&&"string"==typeof n&&n&&"function"==typeof t[n]&&e.off(n,t[n]);if(a&&a.length)for(n=0,s=a.length;s>n;n++)if(t=a[n].toLowerCase().replace(/^on/,""),r=c[t],r&&r.length)if(o)for(i=r.indexOf(o);-1!==i;)r.splice(i,1),i=r.indexOf(o,i);else r.length=0;return e},U=function _listeners(e){var t;return t="string"==typeof e&&e?m(c[e])||null:m(c)},G=function _emit(n){var a,i,r;if(n=k(n),!n)return;if(ce(n))return;if("ready"===n.type&&t.overdue===!0)return e.emit({type:"error",name:"flash-overdue"});return a=o({},n),fe.call(this,a),"copy"===n.type&&(r=me(f),i=r.data,C=r.formatMap),i},J=function _create(){if("boolean"!=typeof t.ready&&(t.ready=!1),!e.isFlashUnusable()&&null===t.bridge){var n=r.flashLoadTimeout;"number"==typeof n&&n>=0&&T(function(){"boolean"!=typeof t.deactivated&&(t.deactivated=!0),t.deactivated===!0&&e.emit({type:"error",name:"flash-deactivated"})},n),t.overdue=!1,ye()}},W=function _destroy(){e.clearData(),e.blur(),e.emit("destroy"),ve(),e.off()},q=function _setData(r,a){var t;if("object"==typeof r&&r&&"undefined"==typeof a)t=r,e.clearData();else{if("string"!=typeof r||!r)return;t={},t[r]=a}for(var n in t)"string"==typeof n&&n&&l.call(t,n)&&"string"==typeof t[n]&&t[n]&&(f[n]=t[n])},Q=function _clearData(e){"undefined"==typeof e?(ee(f),C=null):"string"==typeof e&&l.call(f,e)&&delete f[e]},qe=function _getData(e){if("undefined"==typeof e)return m(f);if("string"==typeof e&&l.call(f,e))return f[e]},te=function _focus(e){if(!e||1!==e.nodeType)return;u&&(v(u,r.activeClass),u!==e&&v(u,r.hoverClass)),u=e,L(e,r.hoverClass);var n=e.getAttribute("title")||r.title;if("string"==typeof n&&n){var a=y(t.bridge);a&&a.setAttribute("title",n)}var i=r.forceHandCursor===!0||"pointer"===je(e,"cursor");Ne(i),Ie()},ne=function _blur(){var e=y(t.bridge);e&&(e.removeAttribute("title"),e.style.left="0px",e.style.top="-9999px",e.style.width="1px",e.style.top="1px"),u&&(v(u,r.hoverClass),v(u,r.activeClass),u=null)},re=function _activeElement(){return u||null},ae=function _isValidHtml4Id(e){return"string"==typeof e&&e&&/^[A-Za-z][A-Za-z0-9_:\-\.]*$/.test(e)},k=function _createEvent(n){var r;if("string"==typeof n&&n?(r=n,n={}):"object"==typeof n&&n&&"string"==typeof n.type&&n.type&&(r=n.type),!r)return;!n.target&&/^(copy|aftercopy|_click)$/.test(r.toLowerCase())&&(n.target=D),o(n,{type:r.toLowerCase(),target:n.target||u||null,relatedTarget:n.relatedTarget||null,currentTarget:t&&t.bridge||null,timeStamp:n.timeStamp||X()||null});var a=Je[n.type];return"error"===n.type&&n.name&&a&&(a=a[n.name]),a&&(n.message=a),"ready"===n.type&&o(n,{target:null,version:t.version}),"error"===n.type&&(/^flash-(disabled|outdated|unavailable|deactivated|overdue)$/.test(n.name)&&o(n,{target:null,minimumVersion:I}),/^flash-(outdated|unavailable|deactivated|overdue)$/.test(n.name)&&o(n,{version:t.version})),"copy"===n.type&&(n.clipboardData={setData:e.setData,clearData:e.clearData}),"aftercopy"===n.type&&(n=ge(n,C)),n.target&&!n.relatedTarget&&(n.relatedTarget=oe(n.target)),n=le(n)},oe=function _getRelatedTarget(e){var t=e&&e.getAttribute&&e.getAttribute("data-clipboard-target");return t?i.getElementById(t):null},le=function _addMouseData(e){if(e&&/^_(?:click|mouse(?:over|out|down|up|move))$/.test(e.type)){var a=e.target,p="_mouseover"===e.type&&e.relatedTarget?e.relatedTarget:h,d="_mouseout"===e.type&&e.relatedTarget?e.relatedTarget:h,l=j(a),v=n.screenLeft||n.screenX||0,m=n.screenTop||n.screenY||0,c=i.body.scrollLeft+i.documentElement.scrollLeft,f=i.body.scrollTop+i.documentElement.scrollTop,s=l.left+("number"==typeof e._stageX?e._stageX:0),u=l.top+("number"==typeof e._stageY?e._stageY:0),t=s-c,r=u-f,g=v+t,b=m+r,w="number"==typeof e.movementX?e.movementX:0,y="number"==typeof e.movementY?e.movementY:0;delete e._stageX,delete e._stageY,o(e,{srcElement:a,fromElement:p,toElement:d,screenX:g,screenY:b,pageX:s,pageY:u,clientX:t,clientY:r,x:t,y:r,movementX:w,movementY:y,offsetX:0,offsetY:0,layerX:0,layerY:0})}return e},O=function _shouldPerformAsync(e){var t=e&&"string"==typeof e.type&&e.type||"";return!/^(?:(?:before)?copy|destroy)$/.test(t)},S=function _dispatchCallback(e,t,n,r){r?T(function(){e.apply(t,n)},0):e.apply(t,n)},fe=function _dispatchCallbacks(t){if("object"!=typeof t||!t||!t.type)return;var d=O(t),u=c["*"]||[],f=c[t.type]||[],a=u.concat(f);if(a&&a.length){var r,l,e,i,s,p=this;for(r=0,l=a.length;l>r;r++)e=a[r],i=p,"string"==typeof e&&"function"==typeof n[e]&&(e=n[e]),"object"==typeof e&&e&&"function"==typeof e.handleEvent&&(i=e,e=e.handleEvent),"function"==typeof e&&(s=o({},t),S(e,i,[s],d))}return this},ce=function _preprocessEvent(n){var a=n.target||u||null,l="swf"===n._source;delete n._source;var h=["flash-disabled","flash-outdated","flash-unavailable","flash-deactivated","flash-overdue"];switch(n.type){case"error":-1!==h.indexOf(n.name)&&o(t,{disabled:"flash-disabled"===n.name,outdated:"flash-outdated"===n.name,unavailable:"flash-unavailable"===n.name,deactivated:"flash-deactivated"===n.name,overdue:"flash-overdue"===n.name,ready:!1});break;case"ready":var p=t.deactivated===!0;o(t,{disabled:!1,outdated:!1,unavailable:!1,deactivated:!1,overdue:p,ready:!p});break;case"beforecopy":D=a;break;case"copy":var s,c,i=n.relatedTarget;!f["text/html"]&&!f["text/plain"]&&i&&(c=i.value||i.outerHTML||i.innerHTML)&&(s=i.value||i.textContent||i.innerText)?(n.clipboardData.clearData(),n.clipboardData.setData("text/plain",s),c!==s&&n.clipboardData.setData("text/html",c)):!f["text/plain"]&&n.target&&(s=n.target.getAttribute("data-clipboard-text"))&&(n.clipboardData.clearData(),n.clipboardData.setData("text/plain",s));break;case"aftercopy":e.clearData(),a&&a!==Te()&&a.focus&&a.focus();break;case"_mouseover":e.focus(a),r.bubbleEvents===!0&&l&&(a&&a!==n.relatedTarget&&!z(n.relatedTarget,a)&&d(o({},n,{type:"mouseenter",bubbles:!1,cancelable:!1})),d(o({},n,{type:"mouseover"})));break;case"_mouseout":e.blur(),r.bubbleEvents===!0&&l&&(a&&a!==n.relatedTarget&&!z(n.relatedTarget,a)&&d(o({},n,{type:"mouseleave",bubbles:!1,cancelable:!1})),d(o({},n,{type:"mouseout"})));break;case"_mousedown":L(a,r.activeClass),r.bubbleEvents===!0&&l&&d(o({},n,{type:n.type.slice(1)}));break;case"_mouseup":v(a,r.activeClass),r.bubbleEvents===!0&&l&&d(o({},n,{type:n.type.slice(1)}));break;case"_click":D=null,r.bubbleEvents===!0&&l&&d(o({},n,{type:n.type.slice(1)}));break;case"_mousemove":r.bubbleEvents===!0&&l&&d(o({},n,{type:n.type.slice(1)}))}if(/^_(?:click|mouse(?:over|out|down|up|move))$/.test(n.type))return!0},d=function _fireMouseEvent(t){if(!t||"string"!=typeof t.type||!t)return;var r,a=t.target||null,l=a&&a.ownerDocument||i,s={view:l.defaultView||n,canBubble:!0,cancelable:!0,detail:"click"===t.type?1:0,button:"number"==typeof t.which?t.which-1:"number"==typeof t.button?t.button:l.createEvent?0:1},e=o(s,t);if(!a)return;l.createEvent&&a.dispatchEvent&&(e=[e.type,e.canBubble,e.cancelable,e.view,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget],r=l.createEvent("MouseEvents"),r.initMouseEvent&&(r.initMouseEvent.apply(r,e),r._source="js",a.dispatchEvent(r)))},de=function _createHtmlBridge(){var e=i.createElement("div");return e.id=r.containerId,e.className=r.containerClass,e.style.position="absolute",e.style.left="0px",e.style.top="-9999px",e.style.width="1px",e.style.height="1px",e.style.zIndex=""+F(r.zIndex),e},y=function _getHtmlBridge(t){for(var e=t&&t.parentNode;e&&"OBJECT"===e.nodeName&&e.parentNode;)e=e.parentNode;return e||null},ye=function _embedSwf(){var f,a=t.bridge,o=y(a);if(!a){var u=Ce(n.location.host,r),h="never"===u?"none":"all",d=we(r),c=r.swfPath+be(r.swfPath,r);o=de();var p=i.createElement("div");o.appendChild(p),i.body.appendChild(o);var l=i.createElement("div"),s="activex"===t.pluginType;l.innerHTML='<object id="'+r.swfObjectId+'" name="'+r.swfObjectId+'" width="100%" height="100%" '+(s?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"':'type="application/x-shockwave-flash" data="'+c+'"')+">"+(s?'<param name="movie" value="'+c+'"/>':"")+'<param name="allowScriptAccess" value="'+u+'"/><param name="allowNetworking" value="'+h+'"/><param name="menu" value="false"/><param name="wmode" value="transparent"/><param name="flashvars" value="'+d+'"/></object>',a=l.firstChild,l=null,Le(a).ZeroClipboard=e,o.replaceChild(a,p)}return a||(a=i[r.swfObjectId],a&&(f=a.length)&&(a=a[f-1]),!a&&o&&(a=o.firstChild)),t.bridge=a||null,a},ve=function _unembedSwf(){var e=t.bridge;if(e){var n=y(e);n&&("activex"===t.pluginType&&"readyState"in e?(e.style.display="none",function removeSwfFromIE(){if(4===e.readyState){for(var t in e)"function"==typeof e[t]&&(e[t]=null);e.parentNode&&e.parentNode.removeChild(e),n.parentNode&&n.parentNode.removeChild(n)}else T(removeSwfFromIE,10)}()):(e.parentNode&&e.parentNode.removeChild(e),n.parentNode&&n.parentNode.removeChild(n))),t.ready=null,t.bridge=null,t.deactivated=null}},me=function _mapClipDataToFlash(t){var n={},r={};if("object"!=typeof t||!t)return;for(var e in t)if(e&&l.call(t,e)&&"string"==typeof t[e]&&t[e])switch(e.toLowerCase()){case"text/plain":case"text":case"air:text":case"flash:text":n.text=t[e],r.text=e;break;case"text/html":case"html":case"air:html":case"flash:html":n.html=t[e],r.html=e;break;case"application/rtf":case"text/rtf":case"rtf":case"richtext":case"air:rtf":case"flash:rtf":n.rtf=t[e],r.rtf=e}return{data:n,formatMap:r}},ge=function _mapClipResultsFromFlash(t,r){if("object"!=typeof t||!t||"object"!=typeof r||!r)return t;var a={};for(var e in t)if(l.call(t,e)){if("success"!==e&&"data"!==e){a[e]=t[e];continue}a[e]={};var i=t[e];for(var n in i)n&&l.call(i,n)&&l.call(r,n)&&(a[e][r[n]]=i[n])}return a},be=function _cacheBust(t,e){var n=null==e||e&&e.cacheBust===!0;return n?(-1===t.indexOf("?")?"?":"&")+"noCache="+X():""},we=function _vars(e){var r,s,a,t,i="",o=[];if(e.trustedDomains&&("string"==typeof e.trustedDomains?t=[e.trustedDomains]:"object"==typeof e.trustedDomains&&"length"in e.trustedDomains&&(t=e.trustedDomains)),t&&t.length)for(r=0,s=t.length;s>r;r++)if(l.call(t,r)&&t[r]&&"string"==typeof t[r]){if(a=w(t[r]),!a)continue;if("*"===a){o.length=0,o.push(a);break}o.push.apply(o,[a,"//"+a,n.location.protocol+"//"+a])}return o.length&&(i+="trustedOrigins="+B(o.join(","))),e.forceEnhancedClipboard===!0&&(i+=(i?"&":"")+"forceEnhancedClipboard=true"),"string"==typeof e.swfObjectId&&e.swfObjectId&&(i+=(i?"&":"")+"swfObjectId="+B(e.swfObjectId)),i},w=function _extractDomain(e){if(null==e||""===e)return null;if(e=e.replace(/^\s+|\s+$/g,""),""===e)return null;var t=e.indexOf("//");e=-1===t?e:e.slice(t+2);var n=e.indexOf("/");if(e=-1===n?e:-1===t||0===n?null:e.slice(0,n),e&&".swf"===e.slice(-4).toLowerCase())return null;return e||null},Ce=function(){var e=function _extractAllDomains(e){var n,a,r,t=[];if("string"==typeof e&&(e=[e]),"object"!=typeof e||!e||"number"!=typeof e.length)return t;for(n=0,a=e.length;a>n;n++)if(l.call(e,n)&&(r=w(e[n]))){if("*"===r){t.length=0,t.push("*");break}-1===t.indexOf(r)&&t.push(r)}return t};return function(t,i){var n=w(i.swfPath);null===n&&(n=t);var r=e(i.trustedDomains),a=r.length;if(a>0){if(1===a&&"*"===r[0])return"always";if(-1!==r.indexOf(t)){if(1===a&&t===n)return"sameDomain";return"always"}}return"never"}}(),Te=function _safeActiveElement(){try{return i.activeElement}catch(e){return null}},L=function _addClass(e,t){if(!e||1!==e.nodeType)return e;if(e.classList)return e.classList.contains(t)||e.classList.add(t),e;if(t&&"string"==typeof t){var r=(t||"").split(/\s+/);if(1===e.nodeType)if(e.className){for(var i=" "+e.className+" ",a=e.className,n=0,o=r.length;o>n;n++)i.indexOf(" "+r[n]+" ")<0&&(a+=" "+r[n]);e.className=a.replace(/^\s+|\s+$/g,"")}else e.className=t}return e},v=function _removeClass(e,t){if(!e||1!==e.nodeType)return e;if(e.classList)return e.classList.contains(t)&&e.classList.remove(t),e;if("string"==typeof t&&t){var a=t.split(/\s+/);if(1===e.nodeType&&e.className){for(var n=(" "+e.className+" ").replace(/[\n\t]/g," "),r=0,i=a.length;i>r;r++)n=n.replace(" "+a[r]+" "," ");e.className=n.replace(/^\s+|\s+$/g,"")}}return e},je=function _getStyle(t,r){var e=n.getComputedStyle(t,null).getPropertyValue(r);if("cursor"===r&&(!e||"auto"===e)&&"A"===t.nodeName)return"pointer";return e},Oe=function _getZoomFactor(){var e,t,n,r=1;return"function"==typeof i.body.getBoundingClientRect&&(e=i.body.getBoundingClientRect(),t=e.right-e.left,n=i.body.offsetWidth,r=x(t/n*100)/100),r},j=function _getDOMObjectPosition(l){var t={left:0,top:0,width:0,height:0};if(l.getBoundingClientRect){var e=l.getBoundingClientRect(),r,a,o;"pageXOffset"in n&&"pageYOffset"in n?(r=n.pageXOffset,a=n.pageYOffset):(o=Oe(),r=x(i.documentElement.scrollLeft/o),a=x(i.documentElement.scrollTop/o));var s=i.documentElement.clientLeft||0,u=i.documentElement.clientTop||0;t.left=e.left+r-s,t.top=e.top+a-u,t.width="width"in e?e.width:e.right-e.left,t.height="height"in e?e.height:e.bottom-e.top}return t},Ie=function _reposition(){var n;if(u&&(n=y(t.bridge))){var e=j(u);o(n.style,{width:e.width+"px",height:e.height+"px",top:e.top+"px",left:e.left+"px",zIndex:""+F(r.zIndex)})}},Ne=function _setHandCursor(e){t.ready===!0&&(t.bridge&&"function"==typeof t.bridge.setHandCursor?t.bridge.setHandCursor(e):t.ready=!1)},F=function _getSafeZIndex(e){if(/^(?:auto|inherit)$/.test(e))return e;var t;return"number"!=typeof e||ze(e)?"string"==typeof e&&(t=_getSafeZIndex(ie(e,10))):t=e,"number"==typeof t?t:"auto"},_e=function _detectFlashSupport(i){function parseFlashVersion(t){var e=t.match(/[\d]+/g);return e.length=3,e.join(".")}function isPepperFlash(e){return!!e&&(e=e.toLowerCase())&&(/^(pepflashplayer\.dll|libpepflashplayer\.so|pepperflashplayer\.plugin)$/.test(e)||"chrome.plugin"===e.slice(-13))}function inspectPlugin(t){t&&(n=!0,t.version&&(e=parseFlashVersion(t.version)),!e&&t.description&&(e=parseFlashVersion(t.description)),t.filename&&(s=isPepperFlash(t.filename)))}var a,r,l,n=!1,o=!1,s=!1,e="";if(p.plugins&&p.plugins.length)a=p.plugins["Shockwave Flash"],inspectPlugin(a),p.plugins["Shockwave Flash 2.0"]&&(n=!0,e="2.0.0.11");else if(p.mimeTypes&&p.mimeTypes.length)l=p.mimeTypes["application/x-shockwave-flash"],a=l&&l.enabledPlugin,inspectPlugin(a);else if("undefined"!=typeof i){o=!0;try{r=new i("ShockwaveFlash.ShockwaveFlash.7"),n=!0,e=parseFlashVersion(r.GetVariable("$version"))}catch(u){try{r=new i("ShockwaveFlash.ShockwaveFlash.6"),n=!0,e="6.0.21"}catch(f){try{r=new i("ShockwaveFlash.ShockwaveFlash"),n=!0,e=parseFlashVersion(r.GetVariable("$version"))}catch(c){o=!1}}}}t.disabled=n!==!0,t.outdated=e&&Y(e)<Y(I),t.version=e||"0.0.0",t.pluginType=s?"pepper":o?"activex":n?"netscape":"unknown"};_e(Fe);var e=function ZeroClipboard(){if(!(this instanceof ZeroClipboard))return new ZeroClipboard;"function"==typeof ZeroClipboard._createClient&&ZeroClipboard._createClient.apply(this,a(arguments))};se(e,"version",{value:"2.1.6",writable:!1,configurable:!0,enumerable:!0}),e.config=function(){return P.apply(this,a(arguments))},e.state=function(){return R.apply(this,a(arguments))},e.isFlashUnusable=function(){return Z.apply(this,a(arguments))},e.on=function(){return V.apply(this,a(arguments))},e.off=function(){return K.apply(this,a(arguments))},e.handlers=function(){return U.apply(this,a(arguments))},e.emit=function(){return G.apply(this,a(arguments))},e.create=function(){return J.apply(this,a(arguments))},e.destroy=function(){return W.apply(this,a(arguments))},e.setData=function(){return q.apply(this,a(arguments))},e.clearData=function(){return Q.apply(this,a(arguments))},e.getData=function(){return qe.apply(this,a(arguments))},e.focus=e.activate=function(){return te.apply(this,a(arguments))},e.blur=e.deactivate=function(){return ne.apply(this,a(arguments))},e.activeElement=function(){return re.apply(this,a(arguments))};var Se=0,s={},Ae=0,g={},E={};o(r,{autoActivate:!0});var $e=function _clientConstructor(n){var t=this;t.id=""+Se++,s[t.id]={instance:t,elements:[],handlers:{}},n&&t.clip(n),e.on("*",function(e){return t.emit(e)}),e.on("destroy",function(){t.destroy()}),e.create()},Be=function _clientOn(n,f){var e,a,r,i={},o=s[this.id]&&s[this.id].handlers;if("string"==typeof n&&n)r=n.toLowerCase().split(/\s+/);else if("object"==typeof n&&n&&"undefined"==typeof f)for(e in n)l.call(n,e)&&"string"==typeof e&&e&&"function"==typeof n[e]&&this.on(e,n[e]);if(r&&r.length){for(e=0,a=r.length;a>e;e++)n=r[e].replace(/^on/,""),i[n]=!0,o[n]||(o[n]=[]),o[n].push(f);if(i.ready&&t.ready&&this.emit({type:"ready",client:this}),i.error){var u=["disabled","outdated","unavailable","deactivated","overdue"];for(e=0,a=u.length;a>e;e++)if(t[u[e]]){this.emit({type:"error",name:"flash-"+u[e],client:this});break}}}return this},He=function _clientOff(e,i){var t,o,a,r,n,u=s[this.id]&&s[this.id].handlers;if(0===arguments.length)r=A(u);else if("string"==typeof e&&e)r=e.split(/\s+/);else if("object"==typeof e&&e&&"undefined"==typeof i)for(t in e)l.call(e,t)&&"string"==typeof t&&t&&"function"==typeof e[t]&&this.off(t,e[t]);if(r&&r.length)for(t=0,o=r.length;o>t;t++)if(e=r[t].toLowerCase().replace(/^on/,""),n=u[e],n&&n.length)if(i)for(a=n.indexOf(i);-1!==a;)n.splice(a,1),a=n.indexOf(i,a);else n.length=0;return this},Me=function _clientListeners(e){var n=null,t=s[this.id]&&s[this.id].handlers;return t&&(n="string"==typeof e&&e?t[e]?t[e].slice(0):[]:m(t)),n},Pe=function _clientEmit(e){if(Ue.call(this,e)){"object"==typeof e&&e&&"string"==typeof e.type&&e.type&&(e=o({},e));var t=o({},k(e),{client:this});Ge.call(this,t)}return this},Re=function _clientClip(e){e=H(e);for(var t=0;t<e.length;t++)if(l.call(e,t)&&e[t]&&1===e[t].nodeType){e[t].zcClippingId?-1===g[e[t].zcClippingId].indexOf(this.id)&&g[e[t].zcClippingId].push(this.id):(e[t].zcClippingId="zcClippingId_"+Ae++,g[e[t].zcClippingId]=[this.id],r.autoActivate===!0&&We(e[t]));var n=s[this.id]&&s[this.id].elements;-1===n.indexOf(e[t])&&n.push(e[t])}return this},Ze=function _clientUnclip(e){var o=s[this.id];if(!o)return this;var i=o.elements,t;e="undefined"==typeof e?i.slice(0):H(e);for(var n=e.length;n--;)if(l.call(e,n)&&e[n]&&1===e[n].nodeType){for(t=0;-1!==(t=i.indexOf(e[n],t));)i.splice(t,1);var a=g[e[n].zcClippingId];if(a){for(t=0;-1!==(t=a.indexOf(this.id,t));)a.splice(t,1);0===a.length&&(r.autoActivate===!0&&De(e[n]),delete e[n].zcClippingId)}}return this},Ve=function _clientElements(){var e=s[this.id];return e&&e.elements?e.elements.slice(0):[]},Ke=function _clientDestroy(){this.unclip(),this.off(),delete s[this.id]},Ue=function _clientShouldEmit(e){if(!e||!e.type)return!1;if(e.client&&e.client!==this)return!1;var t=s[this.id]&&s[this.id].elements,n=!!t&&t.length>0,r=!e.target||n&&-1!==t.indexOf(e.target),a=e.relatedTarget&&n&&-1!==t.indexOf(e.relatedTarget),i=e.client&&e.client===this;if(!(r||a||i))return!1;return!0},Ge=function _clientDispatchCallbacks(t){if("object"!=typeof t||!t||!t.type)return;var d=O(t),f=s[this.id]&&s[this.id].handlers["*"]||[],c=s[this.id]&&s[this.id].handlers[t.type]||[],a=f.concat(c);if(a&&a.length){var r,l,e,i,u,p=this;for(r=0,l=a.length;l>r;r++)e=a[r],i=p,"string"==typeof e&&"function"==typeof n[e]&&(e=n[e]),"object"==typeof e&&e&&"function"==typeof e.handleEvent&&(i=e,e=e.handleEvent),"function"==typeof e&&(u=o({},t),S(e,i,[u],d))}return this},H=function _prepClip(e){return"string"==typeof e&&(e=[]),"number"!=typeof e.length?[e]:e},We=function _addMouseHandlers(t){if(!t||1!==t.nodeType)return;var r=function _suppressMouseEvents(e){if(!e&&!(e=n.event))return;"js"!==e._source&&(e.stopImmediatePropagation(),e.preventDefault()),delete e._source},a=function _elementMouseOver(a){if(!a&&!(a=n.event))return;r(a),e.focus(t)};t.addEventListener("mouseover",a,!1),t.addEventListener("mouseout",r,!1),t.addEventListener("mouseenter",r,!1),t.addEventListener("mouseleave",r,!1),t.addEventListener("mousemove",r,!1),E[t.zcClippingId]={mouseover:a,mouseout:r,mouseenter:r,mouseleave:r,mousemove:r}},De=function _removeMouseHandlers(e){if(!e||1!==e.nodeType)return;var t=E[e.zcClippingId];if("object"!=typeof t||!t)return;for(var n,r,i=["move","leave","enter","out","over"],a=0,o=i.length;o>a;a++)n="mouse"+i[a],r=t[n],"function"==typeof r&&e.removeEventListener(n,r,!1);delete E[e.zcClippingId]};e._createClient=function(){$e.apply(this,a(arguments))},e.prototype.on=function(){return Be.apply(this,a(arguments))},e.prototype.off=function(){return He.apply(this,a(arguments))},e.prototype.handlers=function(){return Me.apply(this,a(arguments))},e.prototype.emit=function(){return Pe.apply(this,a(arguments))},e.prototype.clip=function(){return Re.apply(this,a(arguments))},e.prototype.unclip=function(){return Ze.apply(this,a(arguments))},e.prototype.elements=function(){return Ve.apply(this,a(arguments))},e.prototype.destroy=function(){return Ke.apply(this,a(arguments))},e.prototype.setText=function(t){return e.setData("text/plain",t),this},e.prototype.setHtml=function(t){return e.setData("text/html",t),this},e.prototype.setRichText=function(t){return e.setData("application/rtf",t),this},e.prototype.setData=function(){return e.setData.apply(this,a(arguments)),this},e.prototype.clearData=function(){return e.clearData.apply(this,a(arguments)),this},e.prototype.getData=function(){return e.getData.apply(this,a(arguments))},"function"==typeof define&&define.amd?define("bundles/zeroclipboard/ZeroClipboard.v2-1-6",[],function(){return e}):"object"==typeof module&&module&&"object"==typeof module.exports&&module.exports?module.exports=e:b.ZeroClipboard=e}(function(){return this||window}());
define("bundles/zeroclipboard/coursera.zeroclipboard.v2-1-6",["require","exports","module","jquery","bundles/zeroclipboard/ZeroClipboard.v2-1-6","js/app/config","js/lib/path"],function(require,exports,module){var $=require("jquery"),a=require("bundles/zeroclipboard/ZeroClipboard.v2-1-6"),e=require("js/app/config"),n=require("js/lib/path"),i=n.join(e.url.app_assets,"bundles/zeroclipboard/ZeroClipboard.swf");a.config({swfPath:i});var r={constants:{"data.clipboard":"clipboard.me"},getClipboard:function getClipboard(a){return $(a).data(r.constants["data.clipboard"])},makeClipboard:function makeClipboard(o){var n=$(o),e=new a(o);return n.data(r.constants["data.clipboard"],e),e}},o=function external(){if(!a.isFlashUnusable())return r.getClipboard.apply(null,arguments)||r.makeClipboard.apply(this,arguments)};o.isEnabled=function(){return!a.isFlashUnusable()},module.exports=o});

define('css!bundles/ondemand/components/inviteFriends/__styles__/CopyLink',[],function(){})
define("bundles/ondemand/components/inviteFriends/CopyLink",["require","exports","module","classnames","bundles/zeroclipboard/coursera.zeroclipboard.v2-1-6","react-with-addons","bundles/iconfont/Icon","i18n!nls/ondemand","css!bundles/ondemand/components/inviteFriends/__styles__/CopyLink.css"],function(require,exports,module){var t=require("classnames"),o=require("bundles/zeroclipboard/coursera.zeroclipboard.v2-1-6"),e=require("react-with-addons"),i=require("bundles/iconfont/Icon"),n=require("i18n!nls/ondemand");require("css!bundles/ondemand/components/inviteFriends/__styles__/CopyLink.css");var s=e.createClass({displayName:"CopyLink",getInitialState:function getInitialState(){return{copied:!1,zeroClipboardEnabled:o.isEnabled()}},propTypes:{shareLink:e.PropTypes.string.isRequired,from:e.PropTypes.string},contextTypes:{track:e.PropTypes.func.isRequired},componentDidMount:function componentDidMount(){this.state.zeroClipboardEnabled&&o(this.refs.copyButton.getDOMNode())},getEventingInfo:function getEventingInfo(){var e={link:this.props.shareLink};return this.props.from&&(e.from=this.props.from),e},copyLinkToClipboard:function copyLinkToClipboard(e){this.context.track("click.copy_button",this.getEventingInfo()),this.setState({copied:!0}),setTimeout(this.reset,3e3)},reset:function reset(){this.setState({copied:!1})},render:function render(){var o=this,s=t("caption-text","color-secondary-text","c-clipboard-message",{"transition-in":this.state.copied}),r=t("color-primary-text","body-1-text",{"bgcolor-white":!this.state.copied,"bgcolor-primary-g1":this.state.copied}),c=t("horizontal-box","c-box",{"card-rich-interaction":!this.state.copied,"c-copied":this.state.copied}),a=e.createElement("button",{ref:"copyButton","data-clipboard-target":"link",onClick:this.copyLinkToClipboard,className:"secondary c-copy"},n("Copy")),l=e.createElement("button",{className:"primary c-check"},e.createElement(i,{name:"check"})),d=function withZeroClipboard(){return e.createElement("div",{className:"rc-CopyLink styleguide"},e.createElement("div",{className:c},e.createElement("div",{id:"link",className:"flex-1 c-link"},e.createElement("div",{className:r},o.props.shareLink)),e.createElement("div",{className:"flex"},o.state.copied?l:a)),e.createElement("div",{className:s},n("Copied to clipboard")))},p=function withoutZeroClipboard(){return e.createElement("div",{className:"rc-CopyLink styleguide"},e.createElement("input",{type:"text",className:"c-link-input color-primary-text body-1-text",value:o.props.shareLink,readOnly:"readonly",onClick:o.context.track.handle("click.copy_link",o.getEventingInfo())}),e.createElement("div",{className:"caption-text color-hint-text c-copy-message"},n("Copy and share this link with friends")))};return this.state.zeroClipboardEnabled?d():p()}});module.exports=s});

define('css!bundles/ondemand/components/inviteFriends/__styles__/InviteFriendsModal',[],function(){})
define("bundles/ondemand/components/inviteFriends/InviteFriendsModal",["require","exports","module","i18n!nls/ondemand","react-with-addons","bundles/ondemand/components/inviteFriends/inviteFriendsUtils","bundles/ondemand/components/inviteFriends/InviteFriendsFacebookButton","bundles/phoenix/components/Modal","bundles/ondemand/components/inviteFriends/CopyLink","css!./__styles__/InviteFriendsModal.css"],function(require,exports,module){var n=require("i18n!nls/ondemand"),e=require("react-with-addons"),s=require("bundles/ondemand/components/inviteFriends/inviteFriendsUtils"),o=require("bundles/ondemand/components/inviteFriends/InviteFriendsFacebookButton"),t=require("bundles/phoenix/components/Modal"),i=require("bundles/ondemand/components/inviteFriends/CopyLink");require("css!./__styles__/InviteFriendsModal.css");var d=e.createClass({displayName:"InviteFriendsModal",propTypes:{handleClose:e.PropTypes.func.isRequired,course:e.PropTypes.object.isRequired},contextTypes:{track:e.PropTypes.func.isRequired},componentDidMount:function componentDidMount(){this.context.track("render.modal")},render:function render(){var d=this.props.course;return e.createElement(t,{className:"rc-InviteFriendsModal",allowClose:!0,handleClose:this.props.handleClose,modalName:"Invite Friends",type:"box"},e.createElement("div",{className:"vertical-box align-items-absolute-center"},e.createElement("h2",{className:"color-primary-text display-1 c-send-invites"},n("Send invitations")),e.createElement(o,{shareLink:s.getShareLink(d),course:d,from:"modal"}),e.createElement("div",{className:"color-secondary-text body-1-text c-copy-heading"},n("Share your invite link")),e.createElement(i,{shareLink:s.getShareLink(d),from:"modal"}),e.createElement("div",{className:"color-secondary-text caption-text c-enroll"},n("Invite your friends before enrollment closes"))))}});module.exports=d});

define('css!bundles/ondemand/components/inviteFriends/__styles__/InviteFriendsButton',[],function(){})
define("bundles/ondemand/components/inviteFriends/InviteFriendsButton",["require","exports","module","i18n!nls/ondemand","vendor/cnpm/fluxible.v0-4/addons/connectToStores","react-with-addons","bundles/ondemand/components/inviteFriends/inviteFriendsUtils","bundles/ondemand/components/inviteFriends/InviteFriendsModal","css!./__styles__/InviteFriendsButton.css"],function(require,exports,module){var e=require("i18n!nls/ondemand"),t=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),n=require("react-with-addons"),s=require("bundles/ondemand/components/inviteFriends/inviteFriendsUtils"),o=require("bundles/ondemand/components/inviteFriends/InviteFriendsModal");require("css!./__styles__/InviteFriendsButton.css");var i=n.createClass({displayName:"InviteFriendsButton",propTypes:{course:n.PropTypes.object.isRequired},childContextTypes:{track:n.PropTypes.func},getChildContext:function getChildContext(){return{track:this.track}},getInitialState:function getInitialState(){return{showModal:!1}},componentWillMount:function componentWillMount(){this.track=s.makeTracker()},componentDidMount:function componentDidMount(){this.track("render.notification")},handleClose:function handleClose(){this.track("close.modal"),this.setState({showModal:!1})},onButtonClick:function onButtonClick(){this.track("click.invite_friends_button"),this.setState({showModal:!0})},render:function render(){return n.createElement("span",null,n.createElement("button",{className:"rc-InviteFriendsButton secondary",onClick:this.onButtonClick},e("Invite Friends")),this.state.showModal&&n.createElement(o,{course:this.props.course,handleClose:this.handleClose}))}});module.exports=t(i,["CourseStore"],function(n){var e=n.CourseStore;return{course:e.getMetadata()}})});
define("bundles/ondemand/components/inviteFriends/InviteFriendsNotification",["require","exports","module","i18n!nls/ondemand","react-with-addons","bundles/ondemand/components/common/BarNotification","bundles/ondemand/components/inviteFriends/InviteFriendsButton"],function(require,exports,module){var e=require("i18n!nls/ondemand"),n=require("react-with-addons"),i=require("bundles/ondemand/components/common/BarNotification"),t=require("bundles/ondemand/components/inviteFriends/InviteFriendsButton"),o=n.createClass({displayName:"InviteFriendsNotification",render:function render(){return n.createElement(i,{message:e("You can now take this course with your friends!"),isDismissable:!0,name:"inviteFriends"},n.createElement(t,null))}});module.exports=o});
define("bundles/ondemand/stores/NotificationsStore",["require","exports","module","react-with-addons","bundles/ondemand/components/inviteFriends/inviteFriendsUtils","bundles/ondemand/components/notifications/DeadlinesNotification","bundles/ondemand/components/notifications/ExpirationNotification","bundles/ondemand/components/notifications/HomeNotVerifiedNotification","bundles/ondemand/components/inviteFriends/InviteFriendsNotification","vendor/cnpm/fluxible.v0-4/addons/createStore"],function(require,exports,module){var n=require("react-with-addons"),i=require("bundles/ondemand/components/inviteFriends/inviteFriendsUtils"),e=require("bundles/ondemand/components/notifications/DeadlinesNotification"),o=require("bundles/ondemand/components/notifications/ExpirationNotification"),t=require("bundles/ondemand/components/notifications/HomeNotVerifiedNotification"),d=require("bundles/ondemand/components/inviteFriends/InviteFriendsNotification"),s=require("vendor/cnpm/fluxible.v0-4/addons/createStore"),a=s({storeName:"NotificationsStore",initialize:function initialize(){this.barNotifications=[n.createElement(t,null),n.createElement(o,null),n.createElement(e,null)],i.showInviteFriends()&&this.barNotifications.push(n.createElement(d,null))},hasLoaded:function hasLoaded(){return!0}});module.exports=a});
define("bundles/profile/constants/constants",["require","exports","module"],function(require,exports,module){module.exports={savingStates:{UNCHANGED:"UNCHANGED",UNSAVED_CHANGES:"UNSAVED_CHANGES",SAVING:"SAVING",SAVED:"SAVED",ERROR:"ERROR"},privacyStates:{NOT_SET:"NOT_SET",PUBLIC:"public",PRIVATE:"private"},Actions:{INIT_PROFILE_DATA:"initProfileData",INIT_PROGRESS_DATA:"initProgressData",INIT_DISCUSSIONS_STATS_DATA:"initDiscussionsStatsData",INIT_USER_POSTS:"initUserPosts",INIT_COURSE_ROLE:"initCourseRole"},Sources:{SERVER:"server",VIEW:"view"},profileApi:"/api/profiles.v1",discussionsStatsAPI:"/api/onDemandDiscussionStatistics.v1",searchAPI:"/api/onDemandDiscussionSearch.v1",courseProgressSummaryAPI:"/api/onDemandCoursesProgressSummary.v1",socialProfilesAPI:"/api/onDemandSocialProfiles.v1",defaultPhotoUrl:"https://coursera-profile-photos.s3.amazonaws.com/18/44206023dd11e4a371d9d7bccf5822/avatar.png"}});
define("bundles/profile/stores/ProfileStore",["require","exports","module","vendor/cnpm/fluxible.v0-4/addons/createStore","bundles/profile/constants/constants"],function(require,exports,module){var o=require("vendor/cnpm/fluxible.v0-4/addons/createStore"),i=require("bundles/profile/constants/constants"),t=i.savingStates,n=function normalizeProfile(t){return t.photoUrl=t.photos.size120,t},e=o({storeName:"ProfileStore",initialize:function initialize(){this.profile={location:{}},this.savingStates={},this.savingStates.location=t.UNCHANGED,this.loaded=!1},getLocationSavedState:function getLocationSavedState(){return this.savingStates.location},hasLoaded:function hasLoaded(){return this.loaded},getProfileImage:function getProfileImage(){return this.profile.photos&&(this.profile.photos.size120||null)}});e.handlers={INIT_PROFILE_STORE:function INIT_PROFILE_STORE(t){try{var e=t.elements[0];this.profile=n(e)}catch(o){this.profile={}}this.loaded=!0,this.emitChange()},UPDATE_LOCATION_START:function UPDATE_LOCATION_START(e){this.savingStates.location=t.SAVING,this.profile.location=e,this.emitChange()},UPDATE_LOCATION_SUCCESS:function UPDATE_LOCATION_SUCCESS(e){this.savingStates.location=t.SAVED;try{this.profile.location=e.elements[0].location}catch(o){return}this.emitChange()},RECEIVE_SOCIAL_PROFILE:function RECEIVE_SOCIAL_PROFILE(t){try{this.profile=Object.assign({},this.profile,t.elements[0])}catch(e){return}this.emitChange()},UPDATE_PROFILE_IMAGE_SUCCESS:function UPDATE_PROFILE_IMAGE_SUCCESS(t){this.profile.photos={"default":t.photo,size24:t.photo_24,size60:t.photo_60,size120:t.photo_120},this.profile.photoUrl=t.photo_120,this.emitChange()}},module.exports=e});
define("bundles/ondemand/utils/penaltiesExperiment",["require","exports","module","underscore","bundles/ondemand/stores/SessionStore","bundles/epic/client"],function(require,exports,module){var _=require("underscore"),e=require("bundles/ondemand/stores/SessionStore"),n=require("bundles/epic/client"),s=function isPenaltiesEnabled(){if(!e.isSessionsEnabled()||e.getStartTime()>1441050572615)return!1;if(e.isEnrolled()&&_(n.get("siteOnDemandCompletion","coursePenaltiesWhitelist")).contains(e.getSessionId()))return n.get("siteOnDemandCompletion","coursePenalties");return!0};module.exports=s});
function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(r,t){for(var n=0;n<t.length;n++){var e=t[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(r,e.key,e)}}return function(e,n,t){return n&&defineProperties(e.prototype,n),t&&defineProperties(e,t),e}}();define("bundles/phoenix/models/evaluation",["require","exports","module","underscore"],function(require,exports,module){var _=require("underscore"),e=function(){function Evaluation(e){if(_classCallCheck(this,Evaluation),!e)return Evaluation.none;_(this).extend(_(e).pick("score","maxScore","passingFraction"))}return _createClass(Evaluation,[{key:"isDefined",value:function isDefined(){return this!==Evaluation.none}},{key:"isPassed",value:function isPassed(){return this===Evaluation.none?void 0:this.getPercentScore()>=this.passingFraction}},{key:"isFailed",value:function isFailed(){return this===Evaluation.none?void 0:this.getPercentScore()<this.passingFraction}},{key:"getMinimumPassingScore",value:function getMinimumPassingScore(){return Math.ceil(this.passingFraction*this.maxScore)}},{key:"getPercentScore",value:function getPercentScore(){return this.score/this.maxScore}},{key:"getHumanPercentScore",value:function getHumanPercentScore(){return Math.floor(100*this.getPercentScore())}}]),Evaluation}();e.none=new e({}),module.exports=e});
function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(n,i){for(var t=0;t<i.length;t++){var e=i[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}();define("bundles/peer/models/PeerState",["require","exports","module","bundles/phoenix/models/evaluation"],function(require,exports,module){var e=require("bundles/phoenix/models/evaluation"),t=function(){function PeerState(e,t){_classCallCheck(this,PeerState),this.itemMetadata=e,this.itemProgress=t}return _createClass(PeerState,[{key:"getEvaluation",value:function getEvaluation(){return new e(this.itemProgress.getDefinition("evaluation"))}},{key:"isEvaluated",value:function isEvaluated(){return this.getEvaluation().isDefined()}},{key:"isFailed",value:function isFailed(){return this.getEvaluation().isFailed()}},{key:"isPassed",value:function isPassed(){return this.getEvaluation().isPassed()}},{key:"isReviewingComplete",value:function isReviewingComplete(){return this.reviewCount()>=this.requiredReviewCount()}},{key:"isSubmitted",value:function isSubmitted(){return!!this.itemProgress.getDefinition("submitted")}},{key:"remainingReviewCount",value:function remainingReviewCount(){return this.requiredReviewCount()-this.reviewCount()}},{key:"requiredReviewCount",value:function requiredReviewCount(){return this.itemProgress.getDefinition("requiredReviewCount")||this.itemMetadata.getDefinition("requiredReviewCount")||0}},{key:"reviewCount",value:function reviewCount(){return this.itemProgress.getDefinition("reviewCount")||0}}]),PeerState}();module.exports=t});
define("bundles/ondemand/stores/ProgressStore",["require","exports","module","underscore","moment","bundles/ondemand/stores/SessionStore","bundles/ondemand/utils/penaltiesExperiment","bundles/peer/models/PeerState","vendor/cnpm/fluxible.v0-4/addons/createStore","pages/open-course/common/models/courseProgress"],function(require,exports,module){var _=require("underscore"),t=require("moment"),s=require("bundles/ondemand/stores/SessionStore"),r=require("bundles/ondemand/utils/penaltiesExperiment"),o=require("bundles/peer/models/PeerState"),n=require("vendor/cnpm/fluxible.v0-4/addons/createStore"),i=require("pages/open-course/common/models/courseProgress"),e=n({storeName:"ProgressStore",handlers:{LOAD_HOME_PROGRESS:"onLoadHomeProgress",LOAD_COURSE_PROGRESS:"onLoadCourseProgress"},initialize:function initialize(){this.modulesCompleted=[],this.modulesPassed=[],this.courseProgress=new i,this.hasCourseProgressLoaded=!1,this.hasHomeProgressLoaded=!1},hasLoaded:function hasLoaded(){return this.hasCourseProgressLoaded&&this.hasHomeProgressLoaded},onLoadHomeProgress:function onLoadHomeProgress(e){var t=e.modulesCompleted,s=e.modulesPassed;this.modulesCompleted=t,this.modulesPassed=s,this.hasHomeProgressLoaded=!0,this.emitChange()},onLoadCourseProgress:function onLoadCourseProgress(e){this.courseProgress=e,this.hasCourseProgressLoaded=!0,this.emitChange()},getNextModuleIdForWeek:function getNextModuleIdForWeek(e){var t=this.dispatcher.getStore("CourseScheduleStore").getSchedule(),s=t.getModuleIdsForWeek(e);return _(s).chain().without(this.modulesCompleted).first().value()},getNextLessonIdForModuleId:function getNextLessonIdForModuleId(t){var s=this,module=this.dispatcher.getStore("CourseStore").getModule(t),e=module.getLessons().find(function(e){return e.get("optional")?!1:s.getNextItemForLesson(e)});return e&&e.get("id")},getNextItemForLesson:function getNextItemForLesson(t){var e=this,r=t.getItemMetadatas(),o=r.find(function(t){return"supplement"===t.getTypeName()||s.isItemLocked(t)?!1:"nearby-intros"===t.getTypeName()?!1:t.isReviewPartForSplitPeer()&&!e.isItemSubmitted(t.assignmentPart)?!1:!e.isItemSubmitted(t)||e.isPeerAssignmentFailed(t)});return o},getLessonProgress:function getLessonProgress(e){return this.courseProgress.getProgressForLesson(e)},getItemProgressesForLesson:function getItemProgressesForLesson(e){return this.courseProgress.getItemProgressesForLesson(e)},getItemPeerState:function getItemPeerState(e){return new o(e,this.courseProgress.getItemProgress(e.getId()))},isItemComplete:function isItemComplete(e){if(e.isAssignmentPartForSplitPeer())return this.getItemPeerState(e).isPassed();if(e.isReviewPartForSplitPeer())return this.getItemPeerState(e).isReviewingComplete();return this.courseProgress.getItemProgress(e.getId()).isComplete()},isCombinedItemComplete:function isCombinedItemComplete(e){if(e.isAssignmentPartForSplitPeer()||e.isReviewPartForSplitPeer()){var t=this.getItemPeerState(e);return t.isReviewingComplete()&&t.isPassed()}return this.courseProgress.getItemProgress(e.getId()).isComplete()},isItemSubmitted:function isItemSubmitted(e){if(e.isAssignmentPartForSplitPeer())return this.getItemPeerState(e).isSubmitted();return this.isItemComplete(e)},isPeerAssignmentFailed:function isPeerAssignmentFailed(e){return e.isAssignmentPartForSplitPeer()&&this.getItemPeerState(e).isFailed()},areModuleIdsComplete:function areModuleIdsComplete(){var e=this,t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];return t.every(function(t){return e.modulesCompleted.indexOf(t)>-1})},areModuleIdsPassed:function areModuleIdsPassed(e){return _(this.modulesPassed).intersection(e).length===this.modulesPassed.length},getModuleProgress:function getModuleProgress(e){return this.courseProgress.getModuleProgress(e)},getLectureViewTime:function getLectureViewTime(s){var e=this,t=this.dispatcher.getStore("CourseStore").getMaterials();return t.getLectureItemMetadatas().chain().map(function(t){var s=t.get("content").definition.duration,r=e.courseProgress.getItemProgress(t.get("id")).getPercent()/100;return s*r}).reduce(function(e,t){return e+t}).value()}});e.getPenalizedScore=function(n,s,e){if(s&&e){if(r()){var i=t(s).isAfter(n),o=i?Math.round(.2*e):0;return{penaltyPercent:o,penalizedScoreInPercent:e-o}}return{penaltyPercent:0,penalizedScoreInPercent:e}}return null},module.exports=e});
function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(s,n){for(var t=0;t<n.length;t++){var e=n[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(s,e.key,e)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();define("bundles/ondemand/models/S12n",["require","exports","module"],function(require,exports,module){var e=function(){function S12n(e){_classCallCheck(this,S12n),this.s12n=e.s12n,this.ownership=e.ownership,this.membership=e.s12n.get("membership")}return _createClass(S12n,[{key:"getBackboneModel",value:function getBackboneModel(){return this.s12n}},{key:"getOwnership",value:function getOwnership(){return this.ownership}},{key:"getId",value:function getId(){return this.s12n.get("id")}},{key:"getName",value:function getName(){return this.s12n.get("name")}},{key:"getLink",value:function getLink(){return this.s12n.getLink()}},{key:"getDescription",value:function getDescription(){return this.s12n.get("description")}},{key:"getLogo",value:function getLogo(){return this.s12n.get("logo")}},{key:"getCourseNumber",value:function getCourseNumber(e){return this.s12n.get("courseIds").indexOf(e)+1}},{key:"getNumCourses",value:function getNumCourses(){return this.s12n.get("courseIds").length}},{key:"getNextCourseId",value:function getNextCourseId(n){var e=this.s12n.get("courseIds"),t=e.indexOf(n);if(t+1<e.length)return e[t+1]}},{key:"getNextCourse",value:function getNextCourse(t){var e=this.getNextCourseId(t);if(e)return this.s12n.get("courses").get(e)}},{key:"getEnrollmentStatus",value:function getEnrollmentStatus(e){return this.isTakingS12n()?"registered":e?"free-enrolled":"browsing"}},{key:"isTakingS12n",value:function isTakingS12n(){return this.membership&&this.membership.isEnrolled()}},{key:"hasBulkPaid",value:function hasBulkPaid(){return this.ownership&&this.ownership.hasBulkPaid()}},{key:"ownsCourse",value:function ownsCourse(e){return this.ownership&&this.ownership.ownsCourse(e)}},{key:"isCapstone",value:function isCapstone(t){var e=this.s12n.get("courses").get(t);if(e)return e.isCapstone();return!1}},{key:"isEligibleForCapstone",value:function isEligibleForCapstone(){return this.s12n.isEligibleForCapstone()}},{key:"getCapstone",value:function getCapstone(){return this.s12n.get("courses").find(function(e){return e.isCapstone()})}},{key:"ownsCapstone",value:function ownsCapstone(t){var e=this.getCapstone();return this.ownsCourse(e.get("id"))}},{key:"getCertificateLogos",value:function getCertificateLogos(){return this.s12n.getCertificateLogos()}},{key:"getHeaderImage",value:function getHeaderImage(){return this.s12n.get("metadata").headerImage}},{key:"getNumberOfCourses",value:function getNumberOfCourses(){return this.s12n.getNumCourses()}},{key:"getNumberOfCoursesCompleted",value:function getNumberOfCoursesCompleted(){return this.s12n.get("courses").chain().filter(function(t){var e=t.get("memberships").last();return e&&e.hasPassed()}).size().value()}}]),S12n}();module.exports=e});
define("bundles/ondemand/stores/S12nStore",["require","exports","module","bundles/ondemand/models/S12n","bundles/ondemand/stores/CourseMembershipStore","pages/open-course/common/constants","vendor/cnpm/fluxible.v0-4/addons/createStore"],function(require,exports,module){var e=require("bundles/ondemand/models/S12n"),n=require("bundles/ondemand/stores/CourseMembershipStore"),s=require("pages/open-course/common/constants"),o=require("vendor/cnpm/fluxible.v0-4/addons/createStore"),t=o({storeName:"S12nStore",handlers:{UPDATE_LOADED:"updateLoaded"},initialize:function initialize(){this.loaded=!1},updateLoaded:function updateLoaded(n){this.loaded=!0,this.s12n=n.s12n?new e(n):null,this.emitChange()},hasLoaded:function hasLoaded(){return this.loaded},getS12n:function getS12n(){if(this.loaded)return this.s12n},isRestrictedCapstone:function isRestrictedCapstone(){if(this.loaded){if(this.s12n){var e=s.courseId;return!n.isEnrolled()&&!(!this.s12n||!this.s12n.isCapstone(e)||this.s12n.isEligibleForCapstone()&&this.s12n.ownsCapstone())}return!1}}});module.exports=t});
define("bundles/profile/common/api/profile",["require","exports","module","bundles/phoenix/lib/apiWrapper","bundles/profile/constants/constants"],function(require,exports,module){var e=require("bundles/phoenix/lib/apiWrapper"),n=require("bundles/profile/constants/constants");module.exports=e(n.profileApi,{type:"rest"})});
define("bundles/profile/common/models/profile",["require","exports","module","backbone","bundles/profile/common/api/profile"],function(require,exports,module){var Backbone=require("backbone"),e=require("bundles/profile/common/api/profile"),o=Backbone.Model.extend({api:e,getPhoto:function getPhoto(e){switch(e){case 24:case 60:case 120:return this.get("photos")[e+e];default:return this.get("photos")["default"]}}},{PRIVACY:{NOT_SET:-1,ONLY_USER:10,ONLY_COURSERA:100,EVERYONE:1e3},GENDER:{FEMALE:1,MALE:2,NOT_STATED:3}});module.exports=o});
define("pages/open-course/common/models/socialProfile",["require","exports","module","backbone-associations"],function(require,exports,module){var Backbone=require("backbone-associations"),o=Backbone.AssociatedModel.extend({idAttribute:"userId",defaults:{fullName:"Unknown",photoUrl:"https://coursera-profile-photos.s3.amazonaws.com/18/44206023dd11e4a371d9d7bccf5822/avatar.png",isDefaultPhoto:!0},initialize:function initialize(){this.get("photoUrl")?this.get("photoUrl")!==this.defaults.photoUrl&&this.set("isDefaultPhoto",!1):this.set("photoUrl",this.defaults.photoUrl)}});module.exports=o});
define("pages/open-course/common/models/currentSocialProfile",["require","exports","module","bundles/phoenix/template/models/userIdentity","pages/open-course/common/models/socialProfile"],function(require,exports,module){var e=require("bundles/phoenix/template/models/userIdentity"),o=require("pages/open-course/common/models/socialProfile");module.exports=new o({userId:e.get("id"),externalUserId:e.get("external_id"),fullName:e.get("display_name"),photoUrl:e.get("photo_120")})});
define("bundles/discussions/constants",["require","exports","module"],function(require,exports,module){exports.questions={limitsPerPage:{peerReview:15,lecture:5,aggregate:15},thought:{maxChars:120},details:{warnChars:9850,maxChars:1e4}},exports.answers={limitPerPage:15,thought:{warnChars:9850,maxChars:1e4}},exports.DTD_NAME="discussion/1",exports.Actions={RECEIVE_SEARCH_RESULTS:"RECEIVE_SEARCH_RESULTS",SEARCH:"SEARCH",SEARCH_SENT:"SEARCH_SENT",SEARCH_API_ERROR:"SEARCH_API_ERROR",SEARCH_PAGE_CHANGE:"SEARCH_PAGE_CHANGE",START_THREADS_LOAD:"START_THREADS_LOAD",RECEIVE_THREADS:"RECEIVE_THREADS",THREADS_API_ERROR:"THREADS_API_ERROR",RECEIVE_NEW_THREAD:"RECEIVE_NEW_THREAD",START_THREADS_POLLING:"START_THREADS_POLLING",STOP_THREADS_POLLING:"STOP_THREADS_POLLING",RECEIVE_THREADS_POLLING:"RECEIVE_THREADS_POLLING",UPDATE_THREADS_POLLING:"UPDATE_THREADS_POLLING"},exports.loadingStates={LOADING:"LOADING",DONE:"DONE",ERROR:"ERROR"},exports.savingStates={UNCHANGED:"UNCHANGED",UNSAVED_CHANGES:"UNSAVED_CHANGES",SAVING:"SAVING",SAVED:"SAVED",ERROR:"ERROR"},exports.PollingState={RUNNING:"RUNNING",STOPPED:"STOPPED",HAS_NEW:"HAS_NEW"},exports.APIConstants={limit:15,searchResource:"/api/onDemandDiscussionSearch.v1"},exports.answerSorts={oldestSort:"createdAtAsc",popularSort:"upvotesDesc",newestSort:"createdAtDesc"},exports.questionSorts={mostRecentSort:"lastActivityAtDesc",popularSort:"popularityDesc",unansweredSort:"answerCountAsc"},exports.defaults={detailSort:exports.answerSorts.oldestSort,detailPage:1,listSort:exports.questionSorts.mostRecentSort,listPage:1}});
define("bundles/discussions/stores/ThreadDetailsStore",["require","exports","module","underscore","vendor/cnpm/fluxible.v0-4/addons/createStore","bundles/phoenix/template/models/userIdentity","bundles/profile/common/models/profile","pages/open-course/common/models/currentSocialProfile","bundles/discussions/constants"],function(require,exports,module){var _=require("underscore"),o=require("vendor/cnpm/fluxible.v0-4/addons/createStore"),e=require("bundles/phoenix/template/models/userIdentity"),a=require("bundles/profile/common/models/profile"),r=require("pages/open-course/common/models/currentSocialProfile"),d=require("bundles/discussions/constants"),h=d.loadingStates,n=function hydrate(t){return _(t.elements).each(function(e){_(t.links.elements).each(function(n,i){if("profiles.v0"===n){var s=e[i];e.creator=new a(_(t.linked[n]).where({id:s})[0])}else"flags.v1"===n?e.flagDetails=_(t.linked[n]).where({id:e[i]})[0]:e[n]=_(t.linked[n]).where({id:e[i]})[0]})})},i=o({storeName:"ThreadDetailsStore",initialize:function initialize(){this.data={},this.comments={},this.pageCount={},this.savingStates={},this.answerToInsert=null,this.questionLoadingState={},this.answerLoadingState={},this.commentLoadingState={}},getQuestion:function getQuestion(t){return this.data[t]&&this.data[t].thread},getReplies:function getReplies(t,n,i){var s=this,o=n+"~"+i,e=this.data[t]&&this.data[t][o];if(e)return e.map(function(t){var e=Object.assign({},t,{comments:s.comments[t.id]||[]});return e})},getPageCount:function getPageCount(t,e,n){var i=e+"~"+n;return this.pageCount[t+i]},findPosts:function findPosts(t){if("question"===t.type)return[this.data[t.questionId].thread];if("answer"===t.type){var e=this.data[t.questionId];return _(e).reduce(function(e,i){var n=_(i).findWhere({id:t.id});return n&&e.push(n),e},[])}if("comment"===t.type)return[_(this.comments[t.answerId]).findWhere({id:t.id})]},isLoaded:function isLoaded(e){var o=this,t=e.questionId,d=e.page,s=e.sort,n=d+"~"+s,r=!!this.data[t];if(r){if(!(n in this.data[t]))return!1;var i=this.data[t][n],h=!!i;if(h){var a=_(i).every(function(t){return t.childAnswerCount>0?o.comments[t.id]:!0});return a}return!0}return!1},getAnswerLoadedState:function getAnswerLoadedState(t){var e=t.questionId,n=t.page,i=t.sort;return this.answerLoadingState[e+i+n]}}),t=function addToEach(t,e,n){t.forEach(function(t){return t[e]=n})},s=function addIds(t,e){t.forEach(function(t){return t[e]=t.id})};i.handlers={LOAD_QUESTION:function LOAD_QUESTION(e){var i=e.response,t=e.questionId;this.data[t]||(this.data[t]={}),this.data[t].thread=n(i)[0],this.data[t].thread.questionId=t,this.data[t].thread.type="question",this.emitChange()},LOAD_ANSWERS:function LOAD_ANSWERS(o){var a=o.response,e=o.questionId,r=o.page,d=o.sort;this.data[e]||(this.data[e]={});var i=r+"~"+d;if(this.data[e][i]=n(a),this.pageCount[e+i]=Math.ceil(a.paging.total/15),this.answerToInsert&&this.answerToInsert.questionId===e&&1===r&&"createdAtDesc"===d){var h=!!_(this.data[e][i]).findWhere({id:this.answerToInsert.id});h||this.data[e][i].unshift(this.answerToInsert),this.answerToInsert=null}t(this.data[e][i],"questionId",e),t(this.data[e][i],"type","answer"),s(this.data[e][i],"answerId"),this.emitChange()},LOAD_COMMENTS:function LOAD_COMMENTS(i){var e=i.answerId,o=i.comments;this.comments[e]=n(o),t(this.comments[e],"answerId",e),t(this.comments[e],"type","comment"),s(this.comments[e],"commentId"),this.emitChange()},RECEIVE_POST:function RECEIVE_POST(n){var i=n.resp,t=n.parentPost,e=i.elements[0];return e.creator=r,"answer"===t.type?(e.type="comment",e.questionId=t.questionId,e.answerId=t.answerId,e.commentId=e.id,this.comments[t.answerId]||(this.comments[t.answerId]=[]),this.comments[t.answerId].push(e),this.findPosts(t).forEach(function(t){return t.childAnswerCount=t.childAnswerCount+1}),this.commentLoadingState[t.answerId]=h.DONE,void this.emitChange()):void(this.answerToInsert=e)},LOAD_NEXT_VIEW_INFO:function LOAD_NEXT_VIEW_INFO(t){var n=t.questionId,i=t.nextViewName,s=t.nextViewLink,e=this.data[n].thread;e.nextViewName=i||"",e.nextViewLink=s||"",this.emitChange()},SHOW_REPLY_EDITOR:function SHOW_REPLY_EDITOR(t){var e=t.reply,n=t.reason,i=t.dontNotify;this.findPosts(e).forEach(function(t){t.showEditor=!0,t.editReason=n,t.dontNotify=i}),this.emitChange()},HIDE_REPLY_EDITOR:function HIDE_REPLY_EDITOR(t){var e=t.reply;this.findPosts(e).forEach(function(t){t.showEditor=!1,t.editReason="",t.dontNotify=!1}),this.emitChange()},EDIT_REPLY:function EDIT_REPLY(t){var n=t.reply,i=t.content;this.findPosts(n).forEach(function(t){t.content=i,t.state.edited={},t.state.edited.userId=e.get("id")}),this.emitChange()},EDIT_THREAD:function EDIT_THREAD(n){var i=n.questionId,s=n.question,o=n.details,t=this.data[i].thread;t.content.question=s,t.content.details=o,t.state.edited={},t.state.edited.userId=e.get("id"),this.emitChange()},DELETE_POST:function DELETE_POST(t){var e=t.post;this.findPosts(e).forEach(function(t){t.hide=!0}),this.emitChange()},SOFT_DELETE_POST:function SOFT_DELETE_POST(t){var n=t.post;this.findPosts(n).forEach(function(t){t.state.deleted={},t.state.deleted.userId=e.get("id")}),this.emitChange()},UNDO_DELETE:function UNDO_DELETE(t){var e=t.post;this.findPosts(e).forEach(function(t){return t.state.deleted=null}),this.emitChange()},FLAG_POST:function FLAG_POST(t){var e=t.post;this.findPosts(e).forEach(function(t){t.flagDetails?t.flagDetails.isActive=!0:t.flagDetails={isActive:!0}}),this.emitChange()},UNFLAG_POST:function UNFLAG_POST(t){var e=t.post;this.findPosts(e).forEach(function(t){t.flagDetails.isActive=!1}),this.emitChange()},SHOW_ADMIN_DETAILS:function SHOW_ADMIN_DETAILS(t){var e=t.post;this.findPosts(e).forEach(function(t){return t.showAdminDetails=!0}),this.emitChange()},HIDE_ADMIN_DETAILS:function HIDE_ADMIN_DETAILS(t){var e=t.post;this.findPosts(e).forEach(function(t){return t.showAdminDetails=!1}),this.emitChange()},UPVOTE:function UPVOTE(t){var e=t.post,n=this.findPosts(e);n.forEach(function(t){t.isUpvoted=!0,t.upvotes+=1,t.upvoteError=!1}),this.emitChange()},CANCEL_UPVOTE:function CANCEL_UPVOTE(t){var e=t.post,n=this.findPosts(e);n.forEach(function(t){t.isUpvoted=!1,t.upvotes-=1,t.upvoteError=!1}),this.emitChange()},UPVOTE_ERROR:function UPVOTE_ERROR(t){var e=t.post,n=this.findPosts(e);n.forEach(function(t){t.upvoteError=!0}),this.emitChange()},FOLLOW:function FOLLOW(e){var n=e.question,t=this.data[n.questionId].thread;t.isFollowing=!0,t.followerCount+=1,t.followError=!1,this.emitChange()},UNFOLLOW:function UNFOLLOW(e){var n=e.question,t=this.data[n.questionId].thread;t.isFollowing=!1,t.followerCount-=1,t.followError=!1,this.emitChange()},FOLLOW_ERROR:function FOLLOW_ERROR(t){var e=t.question,n=this.data[e.questionId].thread;n.followError=!0,this.emitChange()},SET_SAVING_STATE:function SET_SAVING_STATE(t){var e=t.savingState,n=t.parentPost;this.savingStates[n.id]=e,this.emitChange()},QUESTION_LOADING_STATE:function QUESTION_LOADING_STATE(t){var e=t.questionId,n=t.loadingState;this.questionLoadingState[e]=n,this.emitChange()},ANSWER_LOADING_STATE:function ANSWER_LOADING_STATE(t){var e=t.questionId,n=t.sort,i=t.page,s=t.loadingState;this.answerLoadingState[e+n+i]=s,this.emitChange()},COMMENT_LOADING_STATE:function COMMENT_LOADING_STATE(t){var e=t.answerId,n=t.loadingState;this.commentLoadingState[e]=n,this.emitChange()}},module.exports=i});
define("bundles/ondemand/stores/VerificationStore",["require","exports","module","moment","vendor/cnpm/fluxible.v0-4/addons/createStore"],function(require,exports,module){var i=require("moment"),t=require("vendor/cnpm/fluxible.v0-4/addons/createStore"),e=t({storeName:"VerificationStore",handlers:{LOAD_VERIFICATION_DISPLAY:"onLoadVerificationDisplay"},initialize:function initialize(){this.verificationDisplay=null,this.loaded=!1},hasLoaded:function hasLoaded(){return this.loaded},onLoadVerificationDisplay:function onLoadVerificationDisplay(i){this.verificationDisplay=i,this.loaded=!0,this.emitChange()},getVerificationDisplay:function getVerificationDisplay(){return this.verificationDisplay},showAdvertising:function showAdvertising(){if(this.verificationDisplay)return this.verificationDisplay.showAdvertising()},showCCAdvertising:function showCCAdvertising(){if(this.verificationDisplay)return this.verificationDisplay.showCCAdvertising()},showS12nAdvertising:function showS12nAdvertising(){if(this.verificationDisplay)return this.verificationDisplay.showS12nAdvertising()},getVerificationPreferences:function getVerificationPreferences(){if(this.verificationDisplay)return this.verificationDisplay.get("verificationPreferences")},hasPurchasedVC:function hasPurchasedVC(){if(this.verificationDisplay){var i=this.verificationDisplay.get("productOwnership");return!!i&&!!i.get("owns")}},getExpirationDate:function getExpirationDate(){if(this.verificationDisplay){var i=this.verificationDisplay.get("productOwnership");return i&&i.get("expiresAt")}},expiresInNextMonth:function expiresInNextMonth(){if(this.verificationDisplay){var t=i(),e=this.verificationDisplay.get("productOwnership.expiresAt");return e&&i(e).isBetween(t,t.add(30,"days"))}}});module.exports=e});
define("vendor/cnpm/is-promise.v2/index",["require","exports","module"],function(require,exports,module){function isPromise(e){return e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}module.exports=isPromise});
define("vendor/cnpm/fluxible.v0-4/addons/FluxibleComponent",["require","exports","module","react-with-addons","../lib/contextTypes"],function(require,exports,module){var e=require("react-with-addons"),t=require("../lib/contextTypes"),o=e.createClass({displayName:"FluxibleComponent",propTypes:{context:e.PropTypes.object.isRequired},childContextTypes:t,getChildContext:function(){return{getStore:this.props.context.getStore,executeAction:this.props.context.executeAction}},render:function(){return e.addons.cloneWithProps(this.props.children,{context:this.props.context})}});module.exports=o});
define("vendor/cnpm/setimmediate.v1/setImmediate",["require","exports","module"],function(require,exports,module){function addFromSetImmediateArguments(e){return r[s]=partiallyApplied.apply(void 0,e),s++}function partiallyApplied(e){var t=[].slice.call(arguments,1);return function(){"function"==typeof e?e.apply(void 0,t):new Function(""+e)()}}function runIfPresent(e){if(o)setTimeout(partiallyApplied(runIfPresent,e),0);else{var t=r[e];if(t){o=!0;try{t()}finally{clearImmediate(e),o=!1}}}}function clearImmediate(e){delete r[e]}function installNextTickImplementation(){n=function(){var e=addFromSetImmediateArguments(arguments);return process.nextTick(partiallyApplied(runIfPresent,e)),e}}function canUsePostMessage(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}function installPostMessageImplementation(){var t="setImmediate$"+Math.random()+"$",a=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&runIfPresent(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),n=function(){var n=addFromSetImmediateArguments(arguments);return e.postMessage(t+n,"*"),n}}function installMessageChannelImplementation(){var e=new MessageChannel;e.port1.onmessage=function(e){var t=e.data;runIfPresent(t)},n=function(){var t=addFromSetImmediateArguments(arguments);return e.port2.postMessage(t),t}}function installReadyStateChangeImplementation(){var e=a.documentElement;n=function(){var n=addFromSetImmediateArguments(arguments),t=a.createElement("script");return t.onreadystatechange=function(){runIfPresent(n),t.onreadystatechange=null,e.removeChild(t),t=null},e.appendChild(t),n}}function installSetTimeoutImplementation(){n=function(){var e=addFromSetImmediateArguments(arguments);return setTimeout(partiallyApplied(runIfPresent,e),0),e}}var e="undefined"==typeof window?{}:window;if(e.setImmediate)return;var s=1,r={},o=!1,a=e.document,n,t=Object.getPrototypeOf&&Object.getPrototypeOf(e);t=t&&t.setTimeout?t:e,"[object process]"==={}.toString.call(e.process)?installNextTickImplementation():canUsePostMessage()?installPostMessageImplementation():e.MessageChannel?installMessageChannelImplementation():a&&"onreadystatechange"in a.createElement("script")?installReadyStateChangeImplementation():installSetTimeoutImplementation(),t.setImmediate=n,t.clearImmediate=clearImmediate});
define("vendor/cnpm/fluxible.v0-4/lib/FluxibleContext",["require","exports","module","vendor/cnpm/object-assign.v3/index","vendor/cnpm/is-promise.v2/index","q","react-with-addons","../addons/FluxibleComponent","vendor/cnpm/setimmediate.v1/setImmediate","js/app/config","js/app/config"],function(require,exports,module){function FluxContext(t){t=t||{},this._app=t.app,this._dispatcher=null,this._plugins=[],this._actionContext=null,this._componentContext=null,this._storeContext=null}function executeActionInternal(r,i,c,t,o){var n=i(r.getActionContext(),c,function(e,n){e?o(e):t(n)});e(n)?n.then(t,o):i.length<3&&t(n)}var n=require("vendor/cnpm/object-assign.v3/index"),e=require("vendor/cnpm/is-promise.v2/index"),i=require("q").Promise,t=require("react-with-addons"),o=require("../addons/FluxibleComponent");require("vendor/cnpm/setimmediate.v1/setImmediate"),FluxContext.Promise=i,FluxContext.prototype.createElement=function createElement(i){var e=this._app.getComponent();if(!e)throw new Error("A component was not specified.");if("ContextProvider"===e.displayName)return t.createElement(e,n({},{context:this.getComponentContext()},i));var r;return e.hasOwnProperty("prototype")?r=t.createElement(e,i):("production"!==require("js/app/config").environment&&console.warn("When using context.createFactory(), it is no longer necessary to wrap your component with `React.createFactory` when instantiating Fluxible. Support for factories will be removed in the next version of Fluxible."),r=e(i)),t.createElement(o,{context:this.getComponentContext()},r)},FluxContext.prototype.plug=function(t){if(!t.name)throw new Error("Context plugin must have a name");this._plugins.push(t)},FluxContext.prototype.executeAction=function executeAction(e,t,n){var c=this;t=void 0!==t?t:{};var i=e.displayName||e.name,a=FluxContext.Promise;if("production"!==require("js/app/config").environment&&this._dispatcher&&this._dispatcher.currentAction){var o=this._dispatcher.currentAction.displayName||this._dispatcher.currentAction.name;console.warn("Warning: executeAction for `"+i+"` was called, but `"+o+"` is currently being dispatched. This could mean there are cascading updates, which should be avoided. `"+i+"` will only start after `"+o+"` is complete.")}var r=new a(function executeActionPromise(i,n){setImmediate(function(){try{executeActionInternal(c,e,t,i,n)}catch(o){n(o)}})});return n&&r.then(function(t){setImmediate(n,null,t)},function(t){setImmediate(n,t)}),r},FluxContext.prototype._initializeDispatcher=function initializeDispatcher(){this._dispatcher=this._app.createDispatcherInstance(this.getStoreContext())},FluxContext.prototype.getActionContext=function getActionContext(){if(this._actionContext)return this._actionContext;var t=this;t._dispatcher||t._initializeDispatcher();var e={dispatch:this._dispatcher.dispatch.bind(this._dispatcher),executeAction:this.executeAction.bind(this),getStore:this._dispatcher.getStore.bind(this._dispatcher)};return t._plugins.forEach(function pluginsEach(i){var n=i.plugActionContext;n&&n(e,t,t._app)}),t._actionContext=e,t._actionContext},FluxContext.prototype.getComponentContext=function getComponentContext(){if(this._componentContext)return this._componentContext;var t=this;t._dispatcher||t._initializeDispatcher();var e={getStore:this._dispatcher.getStore.bind(this._dispatcher),executeAction:function componentExecuteAction(e,n){t.executeAction(e,n)["catch"](function actionHandlerWrapper(e){return t.executeAction(t._app._componentActionHandler,{err:e})})["catch"](function unhandledError(t){setImmediate(function(){throw t})})}};return t._plugins.forEach(function pluginsEach(i){var n=i.plugComponentContext;n&&n(e,t,t._app)}),t._componentContext=e,t._componentContext},FluxContext.prototype.getStoreContext=function getStoreContext(){if(this._storeContext)return this._storeContext;var t=this,e={};return t._plugins.forEach(function pluginsEach(i){var n=i.plugStoreContext;n&&n(e,t,t._app)}),t._storeContext=e,t._storeContext},FluxContext.prototype.dehydrate=function dehydrate(){var t=this,e={dispatcher:this._dispatcher&&this._dispatcher.dehydrate()||{},plugins:{}};return t._plugins.forEach(function pluginsEach(n){"function"==typeof n.dehydrate&&(e.plugins[n.name]=n.dehydrate(t))}),e},FluxContext.prototype.rehydrate=function rehydrate(n){var t=this,i=FluxContext.Promise;n.plugins=n.plugins||{};var o=t._plugins.filter(function(t){return"function"==typeof t.rehydrate}).map(function(t){return new i(function(i,o){var r=t.rehydrate(n.plugins[t.name],function(t){t?o(t):i()});e(r)?r.then(i,o):t.rehydrate.length<2&&i()})});return i.all(o).then(function rehydratePluginTasks(){return t._dispatcher=t._app.createDispatcherInstance(t.getStoreContext()),t._dispatcher.rehydrate(n.dispatcher||{}),t})},module.exports=FluxContext});
define("vendor/cnpm/dispatchr.v0-3/lib/Action",["require","exports","module"],function(require,exports,module){function Action(e,t){this.name=e,this.payload=t,this._handlers=null,this._isExecuting=!1,this._isCompleted=null}Action.prototype.getStoreName=function getStoreName(e){if("string"==typeof e)return e;return e.storeName},Action.prototype.execute=function execute(e){if(this._isExecuting)throw new Error("Action is already dispatched");var t=this;this._handlers=e,this._isExecuting=!0,this._isCompleted={},Object.keys(e).forEach(function handlersEach(e){t._callHandler(e)})},Action.prototype._callHandler=function callHandler(t){var e=this,i=e._handlers[t];if(!i)throw new Error(t+" does not have a handler for action "+e.name);if(e._isCompleted[t])return;e._isCompleted[t]=!1,i(e.payload,e.name),e._isCompleted[t]=!0},Action.prototype.waitFor=function waitFor(e,i){var t=this;if(!t._isExecuting)throw new Error("waitFor called even though there is no action being executed!");Array.isArray(e)||(e=[e]),e.forEach(function storesEach(e){e=t.getStoreName(e),t._handlers[e]&&t._callHandler(e)}),i()},module.exports=Action});
define("vendor/cnpm/dispatchr.v0-3/lib/DispatcherContext",["require","exports","module","./Action"],function(require,exports,module){function DispatcherContext(t,e){this.dispatcher=t,this.storeInstances={},this.currentAction=null,this.dispatcherInterface={getContext:function getContext(){return e},getStore:this.getStore.bind(this),waitFor:this.waitFor.bind(this)}}var t=require("./Action"),e="default";DispatcherContext.prototype.getStore=function getStore(e){var t=this.dispatcher.getStoreName(e);if(!this.storeInstances[t]){var r=this.dispatcher.stores[t];if(!r)throw new Error("Store "+t+" was not registered.");this.storeInstances[t]=new this.dispatcher.stores[t](this.dispatcherInterface)}return this.storeInstances[t]},DispatcherContext.prototype.dispatch=function dispatch(r,s){if(!r)throw new Error("actionName parameter `"+r+"` is invalid.");if(this.currentAction)throw new Error("Cannot call dispatch while another dispatch is executing. Attempted to execute '"+r+"' but '"+this.currentAction.name+"' is already executing.");var i=this.dispatcher.handlers[r]||[],o=this.dispatcher.handlers[e]||[];if(!i.length&&!o.length)return;this.currentAction=new t(r,s);var a=this,h=i.concat(o),n={};try{h.forEach(function actionHandlersEach(t){if(n[t.name])return;var e=a.getStore(t.name);if("function"==typeof t.handler)n[t.name]=t.handler.bind(e);else{if(!e[t.handler])throw new Error(t.name+" does not have a method called "+t.handler);n[t.name]=e[t.handler].bind(e)}}),this.currentAction.execute(n)}catch(c){throw c}finally{this.currentAction=null}},DispatcherContext.prototype.dehydrate=function dehydrate(){var t=this,e={};return Object.keys(t.storeInstances).forEach(function storeInstancesEach(n){var r=t.storeInstances[n];if(!r.dehydrate||r.shouldDehydrate&&!r.shouldDehydrate())return;e[n]=r.dehydrate()}),{stores:e}},DispatcherContext.prototype.rehydrate=function rehydrate(t){var e=this;t.stores&&Object.keys(t.stores).forEach(function storeStateEach(r){var i=t.stores[r],n=e.getStore(r);n.rehydrate&&n.rehydrate(i)})},DispatcherContext.prototype.waitFor=function waitFor(t,e){if(!this.currentAction)throw new Error("waitFor called even though there is no action dispatching");this.currentAction.waitFor(t,e)},module.exports=DispatcherContext});
define("vendor/cnpm/dispatchr.v0-3/lib/Dispatcher",["require","exports","module","./Action","./DispatcherContext"],function(require,exports,module){function Dispatcher(t){t=t||{},t.stores=t.stores||[],this.stores={},this.handlers={},this.handlers[e]=[],t.stores.forEach(function(e){this.registerStore(e)},this)}var r=require("./Action"),e="default",t=require("./DispatcherContext");Dispatcher.prototype.createContext=function createContext(e){return new t(this,e)},Dispatcher.prototype.registerStore=function registerStore(e){if("function"!=typeof e)throw new Error("registerStore requires a constructor as first parameter");var t=this.getStoreName(e);if(!t)throw new Error("Store is required to have a `storeName` property.");if(this.stores[t]){if(this.stores[t]===e)return;throw new Error("Store with name `"+t+"` has already been registered.")}this.stores[t]=e,e.handlers&&Object.keys(e.handlers).forEach(function storeHandlersEach(r){var s=e.handlers[r];this._registerHandler(r,t,s)},this)},Dispatcher.prototype.isRegistered=function isRegistered(e){var r=this.getStoreName(e),t=this.stores[r];if(!t)return!1;if("function"==typeof e&&e!==t)return!1;return!0},Dispatcher.prototype.getStoreName=function getStoreName(e){if("string"==typeof e)return e;return e.storeName||e.name},Dispatcher.prototype._registerHandler=function registerHandler(e,t,r){return this.handlers[e]=this.handlers[e]||[],this.handlers[e].push({name:this.getStoreName(t),handler:r}),this.handlers.length-1},module.exports={createDispatcher:function(e){return new Dispatcher(e)}}});
define("vendor/cnpm/dispatchr.v0-3/index",["require","exports","module","./lib/Dispatcher"],function(require,exports,module){module.exports=require("./lib/Dispatcher")});
define("vendor/cnpm/fluxible.v0-4/lib/Fluxible",["require","exports","module","q","vendor/cnpm/is-promise.v2/index","./FluxibleContext","vendor/cnpm/dispatchr.v0-3/index","react-with-addons"],function(require,exports,module){function Fluxible(t){t=t||{},this._component=t.component,this._componentActionHandler=t.componentActionHandler||this._defaultComponentActionHandler,this._plugins=[],this._dispatcher=r.createDispatcher(t)}var t=require("q").Promise,e=require("vendor/cnpm/is-promise.v2/index"),n=require("./FluxibleContext"),r=require("vendor/cnpm/dispatchr.v0-3/index"),o=require("react-with-addons");Fluxible.Promise=t,Fluxible.prototype.createContext=function createContext(t){var r=this;t=t||{},t.app=r;var e=new n(t);return this._plugins.forEach(function eachPlugin(n){if(n.plugContext){var o=n.plugContext(t,e,r);o.name=o.name||n.name,e.plug(o)}}),e},Fluxible.prototype._defaultComponentActionHandler=function defaultComponentActionHandler(n,t,e){if(t.err)throw t.err;e()},Fluxible.prototype.createDispatcherInstance=function createDispatcherInstance(t){return this._dispatcher.createContext(t)},Fluxible.prototype.plug=function(t){if(!t.name)throw new Error("Application plugin must have a name");this._plugins.push(t)},Fluxible.prototype.getPlugin=function(e){var t=null;return this._plugins.forEach(function(n){e===n.name&&(t=n)}),t},Fluxible.prototype.getComponent=function getComponent(){return this._component},Fluxible.prototype.registerStore=function registerStore(){this._dispatcher.registerStore.apply(this._dispatcher,arguments)},Fluxible.prototype.dehydrate=function dehydrate(e){var n=this,t={context:e.dehydrate(),plugins:{}};return this._plugins.forEach(function(e){"function"==typeof e.dehydrate&&(t.plugins[e.name]=e.dehydrate(n))}),t},Fluxible.prototype.rehydrate=function rehydrate(t,n){var r=this,o=Fluxible.Promise;t.plugins=t.plugins||{};var p=r._plugins.filter(function(t){return"function"==typeof t.rehydrate}).map(function(n){return new o(function(r,o){var i=n.rehydrate(t.plugins[n.name],function(t){t?o(t):r()});e(i)?i.then(r,o):n.rehydrate.length<2&&r()})}),a=r.createContext(),i=o.all(p).then(function rehydratePluginTasks(){return a.rehydrate(t.context)});return n&&i.then(function(t){setImmediate(n,null,t)},function(t){setImmediate(n,t)}),i},module.exports=Fluxible});
define("vendor/cnpm/fluxible.v0-4/index",["require","exports","module","./lib/Fluxible","./lib/Fluxible","./lib/contextTypes"],function(require,exports,module){var e=require("./lib/Fluxible");e.Fluxible=require("./lib/Fluxible"),e.contextTypes=require("./lib/contextTypes"),module.exports=e});
define("bundles/ondemand/appContextSingleton",["require","exports","module","bundles/ssr/stores/ApplicationStore","bundles/ondemand/stores/CertificateStore","bundles/classmates/stores/ClassmatesProfileStore","bundles/ondemand/stores/ContentAccessStore","bundles/ondemand/stores/CourseGradeStore","bundles/ondemand/stores/CourseScheduleStore","bundles/ondemand/stores/CourseStore","bundles/epic/lib/epicPlugin","bundles/ondemand/stores/InstructorMessageStore","bundles/naptimejs/stores/NaptimeStore","bundles/ondemand/stores/NotificationsStore","bundles/profile/stores/ProfileStore","bundles/ondemand/stores/ProgressStore","bundles/ondemand/stores/S12nStore","bundles/discussions/stores/ThreadDetailsStore","bundles/ondemand/stores/VerificationStore","vendor/cnpm/fluxible.v0-4/index"],function(require,exports,module){var f=require("bundles/ssr/stores/ApplicationStore"),u=require("bundles/ondemand/stores/CertificateStore"),r=require("bundles/classmates/stores/ClassmatesProfileStore"),o=require("bundles/ondemand/stores/ContentAccessStore"),t=require("bundles/ondemand/stores/CourseGradeStore"),n=require("bundles/ondemand/stores/CourseScheduleStore"),d=require("bundles/ondemand/stores/CourseStore"),i=require("bundles/epic/lib/epicPlugin"),l=require("bundles/ondemand/stores/InstructorMessageStore"),s=require("bundles/naptimejs/stores/NaptimeStore"),a=require("bundles/ondemand/stores/NotificationsStore"),S=require("bundles/profile/stores/ProfileStore"),b=require("bundles/ondemand/stores/ProgressStore"),m=require("bundles/ondemand/stores/S12nStore"),c=require("bundles/discussions/stores/ThreadDetailsStore"),g=require("bundles/ondemand/stores/VerificationStore"),p=require("vendor/cnpm/fluxible.v0-4/index"),e=new p;e.registerStore(f),e.registerStore(u),e.registerStore(r),e.registerStore(o),e.registerStore(t),e.registerStore(n),e.registerStore(d),e.registerStore(l),e.registerStore(s),e.registerStore(a),e.registerStore(S),e.registerStore(b),e.registerStore(m),e.registerStore(c),e.registerStore(g),e.plug(i());var C=e.createContext();module.exports=C});














define("bundles/ondemand/ondemandRoutes",["require","exports","module","react-router","react-with-addons","underscore","bundles/epic/client","bundles/ondemand/utils/isPreviewMode","bundles/phoenix/template/models/userIdentity","pages/open-course/common/constants","bundles/common/components/loadOnRoute","bundles/discussions/discussionsRoutes","bundles/ondemand/appContextSingleton","lazy!bundles/ondemand/components/HomePage","lazy!bundles/ondemand/components/CourseInfoPage","lazy!bundles/ondemand/components/assignments/AssignmentsPage","lazy!bundles/ondemand/components/OndemandApp","lazy!bundles/ondemand/components/PeriodPage","lazy!bundles/ondemand/components/LoggedOutHomeRedirect","lazy!bundles/ondemand/components/ThankYouPage","lazy!bundles/classmates/components/ClassmatesPage","lazy!bundles/profile/components/ProfilePage","lazy!bundles/ondemand/components/discussionPrompt/DiscussionPrompt","lazy!bundles/ondemand/components/reading/ReadingItem","lazy!bundles/ondemand/components/video/VideoItem","lazy!bundles/ondemand/components/HomeLayout","lazy!bundles/ondemand/components/ItemLayout"],function(require,exports,module){function previewRoutes(){var t=!_(r.get("featureBlacklist","discussions")).contains(h.courseId);return e.createElement(n,{path:"/learn/:courseSlug/?",handler:y},e.createElement(n,{handler:c},e.createElement(n,{path:"home",handler:u},e.createElement(a,{from:"info",to:"CDP"}),i.get("authenticated")&&e.createElement(n,null,e.createElement(n,{path:"week/:week",name:"week",handler:d}),e.createElement(n,{path:"module/:moduleId",name:"module",handler:d})),e.createElement(a,{from:"*",to:"CDP"})),e.createElement(n,{path:"outline*",name:"outline",handler:P}),t&&p,e.createElement(n,{path:"profiles/:id",handler:b}),e.createElement(a,{from:"classmates*",to:"CDP"}),e.createElement(l,{name:"CDP",handler:g})),E)}function standardRoutes(){var t=!_(r.get("featureBlacklist","discussions")).contains(h.courseId);return[e.createElement(n,{path:"/learn/:courseSlug/?",handler:y},e.createElement(n,{handler:c},e.createElement(l,{name:"CDP",handler:g}),e.createElement(n,{path:"home",handler:u},e.createElement(a,{name:"info",from:"info",to:"CDP"}),e.createElement(n,{path:"assignments",name:"assignments",handler:w}),e.createElement(n,{path:"thank-you",name:"ty",handler:z}),e.createElement(n,{path:"week/:week",name:"week",handler:d}),e.createElement(n,{path:"module/:moduleId",name:"module",handler:d}),e.createElement(n,{path:"welcome",name:"welcome",handler:m}),e.createElement(l,{handler:m})),e.createElement(n,{path:"classmates",name:"classmates",handler:f}),e.createElement(n,{path:"profiles/:id",handler:b}),e.createElement(a,{from:"outline*",to:"welcome"}),t&&p),E)]}var o=require("react-router"),e=require("react-with-addons"),_=require("underscore"),r=require("bundles/epic/client"),C=require("bundles/ondemand/utils/isPreviewMode"),i=require("bundles/phoenix/template/models/userIdentity"),h=require("pages/open-course/common/constants"),n=o.Route,l=o.DefaultRoute,a=o.Redirect,u=o.RouteHandler,t=require("bundles/common/components/loadOnRoute"),p=require("bundles/discussions/discussionsRoutes");require("bundles/ondemand/appContextSingleton");var m=t(require("lazy!bundles/ondemand/components/HomePage")),g=t(require("lazy!bundles/ondemand/components/CourseInfoPage")),w=t(require("lazy!bundles/ondemand/components/assignments/AssignmentsPage")),y=t(require("lazy!bundles/ondemand/components/OndemandApp")),d=t(require("lazy!bundles/ondemand/components/PeriodPage")),P=t(require("lazy!bundles/ondemand/components/LoggedOutHomeRedirect")),z=t(require("lazy!bundles/ondemand/components/ThankYouPage")),f=t(require("lazy!bundles/classmates/components/ClassmatesPage")),b=t(require("lazy!bundles/profile/components/ProfilePage")),I=t(require("lazy!bundles/ondemand/components/discussionPrompt/DiscussionPrompt")),R=t(require("lazy!bundles/ondemand/components/reading/ReadingItem")),s=t(require("lazy!bundles/ondemand/components/video/VideoItem")),c=t(require("lazy!bundles/ondemand/components/HomeLayout")),k=t(require("lazy!bundles/ondemand/components/ItemLayout")),E=e.createElement(n,{handler:k},e.createElement(n,{path:"discussionPrompt/:item_id*",name:"discussionPrompt",handler:I}),e.createElement(n,{path:"supplement/:item_id*",name:"reading",handler:R}),i.get("authenticated")&&e.createElement(n,null,e.createElement(n,{path:"lecture/:item_id/?:slug?",handler:s}),e.createElement(n,{path:"lecture/:item_id/:slug/discussions/?:question_id?",handler:s}),e.createElement(n,{path:"lecture/:item_id/:slug/discussions/:question_id/replies/:answer_id",handler:s}),e.createElement(n,{path:"lecture/:item_id/:slug/discussions/:question_id/replies/:answer_id/comments/:comment_id",handler:s})));module.exports=function(){return C()?previewRoutes():standardRoutes()}});
define("bundles/ondemand/utils/experimentUtils",["require","exports","module","underscore","pages/open-course/common/constants","bundles/ondemand/ondemandRoutes","bundles/ondemand/sessions/lib/experiment"],function(require,exports,module){var _=require("underscore"),e=require("pages/open-course/common/constants"),n=require("bundles/ondemand/ondemandRoutes"),t=require("bundles/ondemand/sessions/lib/experiment"),o=function setupBackboneHomeRoutes(n){return _(n).forEach(function(o,e){/^(outline|module|discussions|forum|profile)/.test(e)&&delete n[e]}),"/learn"===e.rootPath&&delete n[""],n},s=function setupReactHomeRoutes(e){return n()};exports.getHomeRoutes=function(e,n){return{routes:o(e),reactRoutes:s(n)}}});
define("js/app/retracked",["require","exports","module","js/app/multitrackerSingleton","js/lib/retracked"],function(require,exports,module){var r=require("js/app/multitrackerSingleton"),e=require("js/lib/retracked"),t=function recordingFn(e,t){return r.pushV2([e,t])},i=["render","emit","redirect","view","click","hover","scroll","swipe","pinch","expand"];e.setup(t,i),module.exports=e});
define("bundles/mobile/instrumentation",["require","exports","module","underscore","js/app/multitrackerSingleton"],function(require,exports,module){var _=require("underscore"),e=require("js/app/multitrackerSingleton"),o=_(["mobile_web.promo.click.close","mobile_web.promo.click.open_app","mobile_web.promo.emit.open_store","mobile_web.promo.render"]).object([]);exports.record=function(r,i){if(!(r in o))throw Error('invalid event key "'+r+'"');var n=i?[r,i]:[r];e.push(n)}});
define("bundles/mobile/lib/link",["require","exports","module","bundles/mobile/instrumentation","js/app/config"],function(require,exports,module){function _openAppOrStore(i,r){var e=document.createElement("iframe");e.style.display="none",e.src=i,document.body.appendChild(e),setTimeout(function(){document.webkitHidden||(n.record("mobile_web.promo.emit.open_store",{platform:r}),window.location=o[r])},25)}function shouldAvoidGooglePlay(){return"CN"===a.country}function storeForAgent(o){if(o.isIOS)return"ios";if(o.isAndroid)return shouldAvoidGooglePlay()?"androidChina":"android";throw new Error("no app store for useragent: "+o.source)}function openAppPath(o,e){var n=r+o,i=storeForAgent(e);_openAppOrStore(n,i)}var n=require("bundles/mobile/instrumentation"),a=require("js/app/config"),r="coursera-mobile://",e="org.coursera.android",i="http://play.google.com/store/apps/details?id=",t="http://android.myapp.com/myapp/detail.htm?apkName=",o={ios:"https://itunes.apple.com/app/apple-store/id736535961?pt=2334150&ct=Coursera%20Web%20Promo%20Banner&mt=8",android:i+e,androidChina:t+e};module.exports={shouldAvoidGooglePlay:shouldAvoidGooglePlay,storeForAgent:storeForAgent,storeUrls:o,openApp:openAppPath.bind(void 0,"app")}});

define('css!bundles/mobile/components/__styles__/MobilePromoBanner',[],function(){})
define("bundles/mobile/components/MobilePromoBanner",["require","exports","module","react-with-addons","js/components/Imgix","css!bundles/mobile/components/__styles__/MobilePromoBanner"],function(require,exports,module){var e=require("react-with-addons"),o=require("js/components/Imgix");require("css!bundles/mobile/components/__styles__/MobilePromoBanner");var s=e.createClass({displayName:"MobilePromoBanner",propTypes:{location:e.PropTypes.oneOf(["top","relative"]).isRequired,onClickThrough:e.PropTypes.func.isRequired,onDismiss:e.PropTypes.func.isRequired},render:function render(){var s="relative"==this.props.location?{position:"relative"}:{};return e.createElement("div",{className:"rc-MobilePromoBanner",style:s},e.createElement("div",{className:"left",onClick:this.props.onClickThrough},e.createElement(o,{alt:"Coursera app icon",src:"bundles/mobile/images/logo.png"})),e.createElement("div",{className:"center",onClick:this.props.onClickThrough},e.createElement("p",{className:"call-to-action"},"Open in app"),e.createElement("p",{className:"reason-for-action"},"For a better learning experience")),e.createElement("div",{className:"right"},e.createElement("span",{className:"dismiss-button",onClick:this.props.onDismiss},"")))}});module.exports=s});
var _extends=Object.assign||function(s){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(s[t]=r[t])}return s};define("bundles/page/components/TrackedLink",["require","exports","module","react-router","react-with-addons","react-router"],function(require,exports,module){var r=require("react-router"),e=require("react-with-addons"),t=require("react-router"),s=t.Navigation,a=new RegExp("^(?:[a-z]+:)?//","i"),o=e.createClass({displayName:"TrackedLink",propTypes:{trackingName:e.PropTypes.string.isRequired,className:e.PropTypes.string,to:e.PropTypes.string.isRequired,moreValues:e.PropTypes.object,children:e.PropTypes.node.isRequired},contextTypes:{track:e.PropTypes.func.isRequired},mixins:[s],canRouteLocally:function canRouteLocally(){var r=a.test(this.props.to);if(r)return!1;var e=this.context.router.match(this.props.to);if(!e)return!1;var t=e.routes[e.routes.length-1],s=t.isNotFound;if(s)return!1;return!0},render:function render(){var t=this.canRouteLocally()?r.Link:"a";return e.createElement(t,_extends({onClick:this.context.track.handle("click."+this.props.trackingName,this.props.moreValues),"data-click-key":this.context.track.clickKey(this.props.trackingName),href:this.props.to,className:this.props.className},this.props))}});module.exports=o});
define("nls/mobile",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});


define('css!bundles/mobile/components/__styles__/MobilePromoWall',[],function(){})
define("bundles/mobile/components/MobilePromoWall",["require","exports","module","react-with-addons","bundles/mobile/lib/eligibility","bundles/mobile/lib/link","bundles/page/components/TrackedLink","js/components/Imgix","js/lib/path","i18n!nls/mobile","css!bundles/mobile/components/__styles__/MobilePromoWall"],function(require,exports,module){function assetForAgent(e){var o=function getPathFromIdentifier(e){return m.join(p,"mobile_promo_wall."+e+".png")};return o(e.isAndroid?"android_phone":"iPad"===e.platform?"ipad.wide":"iphone")}var e=require("react-with-addons"),n=require("bundles/mobile/lib/eligibility"),c=n.mkDeferPromotionHref,s=require("bundles/mobile/lib/link"),a=s.storeUrls,t=s.storeForAgent,i=require("bundles/page/components/TrackedLink"),r=require("js/components/Imgix"),m=require("js/lib/path"),o=require("i18n!nls/mobile");require("css!bundles/mobile/components/__styles__/MobilePromoWall");var p="bundles/mobile/images/",l={phone:190,tablet:700},b=e.createClass({displayName:"MobilePromoWall",propTypes:{onClickThrough:e.PropTypes.func.isRequired,onDismiss:e.PropTypes.func.isRequired,userAgent:e.PropTypes.object.isRequired},render:function render(){var n=a[t(this.props.userAgent)],s=assetForAgent(this.props.userAgent),m=-1!==s.indexOf("phone")?l.phone:l.tablet;return e.createElement("div",{className:"rc-MobilePromoWall"},e.createElement("a",{className:"promo-dismiss-button",href:c(".rc-MobilePromoWall"),onClick:this.props.onDismiss},""),e.createElement("div",{onClick:this.props.onClickThrough},e.createElement("div",{className:"promo-text"},e.createElement("p",{className:"call-to-action"},o("Use the Coursera app")),e.createElement("p",{className:"reason-for-action"},o("Youll be able to track your progress, giving you a better learning experience.")),e.createElement("p",{className:"stars"},e.createElement("i",{className:"cif-star"}),e.createElement("i",{className:"cif-star"}),e.createElement("i",{className:"cif-star"}),e.createElement("i",{className:"cif-star"}),e.createElement("i",{className:"cif-star-half-empty"})),e.createElement(i,{className:"open-in-app bt3-btn",to:n,trackingName:"download_app"},o("Download App"))),e.createElement("div",{className:"promo-device"},e.createElement(r,{className:"promo-device-photo",alt:"Image demonstrating Coursera app",src:s,width:m}))))}});module.exports=b});
var _extends=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(r[n]=o[n])}return r};define("bundles/mobile/components/MobilePromo",["require","exports","module","react-with-addons","js/app/retracked","bundles/mobile/instrumentation","bundles/mobile/lib/link","bundles/mobile/components/MobilePromoBanner","bundles/mobile/components/MobilePromoWall"],function(require,exports,module){var e=require("react-with-addons"),n=require("js/app/retracked"),o=require("bundles/mobile/instrumentation"),r=require("bundles/mobile/lib/link"),s={banner:require("bundles/mobile/components/MobilePromoBanner"),wall:require("bundles/mobile/components/MobilePromoWall")},t=e.createClass({displayName:"MobilePromo",childContextTypes:{track:e.PropTypes.func.isRequired},contextTypes:{getEpicParam:e.PropTypes.func.isRequired,track:e.PropTypes.func},propTypes:{location:e.PropTypes.oneOf(["top","relative"]),onDismiss:e.PropTypes.func.isRequired,style:e.PropTypes.oneOf(["banner","wall"]).isRequired,userAgent:e.PropTypes.object.isRequired},getChildContext:function getChildContext(){return this.track=this.track||n.makeTracker({namespace:"mobile_web.promo"}),{track:this.track}},getDefaultProps:function getDefaultProps(){return{location:"top"}},handleClickThrough:function handleClickThrough(){o.record("mobile_web.promo.click.open_app",{method:this.props.style}),this.props.onDismiss(),r.openApp(this.props.userAgent,this.context.getEpicParam)},handleClose:function handleClose(){o.record("mobile_web.promo.click.close",{method:this.props.style}),this.props.onDismiss()},render:function render(){var o=s[this.props.style];return e.createElement(o,_extends({onDismiss:this.handleClose,onClickThrough:this.handleClickThrough},this.props))}});module.exports=t});
define("bundles/mobile/lib/promote",["require","exports","module","react-with-addons","bundles/mobile/lib/eligibility","bundles/mobile/components/MobilePromo","bundles/mobile/instrumentation"],function(require,exports,module){function popup(i,o){var n=document.body.appendChild(document.createElement("div"));"wall"===o&&(document.querySelector("[data-js=origami]").style.display="none");var t=function onDismiss(){r(),"wall"===o&&(document.querySelector("[data-js=origami]").style.display="block"),e.unmountComponentAtNode(n)},d=e.createElement(l,{onDismiss:t,style:o,userAgent:i});e.render(d,n)}var e=require("react-with-addons"),n=require("bundles/mobile/lib/eligibility"),r=n.deferPromotion,t=n.isFreshMobile,l=require("bundles/mobile/components/MobilePromo"),o=require("bundles/mobile/instrumentation"),d="siteMisc",m="mobilePromoMethod",i={none:function none(e){o.record("mobile_web.promo.render",{method:"none"})},banner:function banner(e){o.record("mobile_web.promo.render",{method:"banner"}),popup(e,"banner")},wall:function wall(e){o.record("mobile_web.promo.render",{method:"wall"}),popup(e,"wall")}};module.exports=function(o,n){if(!t(window.location.pathname,o))return;var e=n(d,m);if(!(e in i))throw new Error("unsupported condition "+e);var r=i[e];r(o)}});
define("bundles/mobile/index",["require","exports","module","bundles/epic/client","bundles/mobile/lib/promote","js/constants/userAgent"],function(require,exports,module){var e=require("bundles/epic/client"),n=require("bundles/mobile/lib/promote"),t=require("js/constants/userAgent");exports.promote=function(){n(t,e.get.bind(e))}});
!function(e,t){"object"==typeof exports&&e.require?module.exports=t(require("underscore"),require("backbone")):"function"==typeof define&&define.amd?define("js/vendor/backbone.queryparams.v0-3-0",["underscore","js/vendor/backbone.v1-1-2"],function(_,Backbone){return t(_||e._,Backbone||e.Backbone)}):t(_,Backbone)}(this,function(_,Backbone){function toQueryString(n,t){function encodeSplit(e){return String(e).replace(r,encodeURIComponent(r))}var r=Backbone.Router.arrayValueSplit;if(!n)return"";t=t||"";var e=[];return _.each(n,function(n,a){if(a=t+a,_.isString(n)||_.isNumber(n)||_.isBoolean(n)||_.isDate(n))null!=n&&e.push(a+"="+encodeSplit(encodeURIComponent(n)));else if(_.isArray(n)){for(var i="",s=0;s<n.length;s++){var o=n[s];null!=o&&(i+=r+encodeSplit(o))}i&&e.push(a+"="+i)}else{var u=toQueryString(n,a+".");u&&e.push(u)}}),e.join("&")}function parseParams(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}}function iterateQueryString(e,t){var r=e.split("&");_.each(r,function(r){var e=r.split("=");t(e.shift(),e.join("="))})}var t=/^\?(.*)/,n=/\((.*?)\)/g,r=/(\(\?)?:\w+/g,e=/\*\w+/g,a=/[\-{}\[\]+?.,\\\^$|#\s]/g,i=/^([^\?]*)/,s=/[\:\*]([^\:\?\/]+)/g,o=/^[#\/]|\s+$/g,u=/\/$/;Backbone.Router.arrayValueSplit="|",_.extend(Backbone.History.prototype,{getFragment:function(e,n){if(null==e)if(this._hasPushState||!this._wantsHashChange||n){e=this.location.pathname;var t=this.root.replace(u,""),r=this.location.search;e.indexOf(t)||(e=e.substr(t.length)),r&&this._hasPushState&&(e+=r)}else e=this.getHash();return e.replace(o,"")},getQueryParameters:function(r,s){r=this.getFragment(r,s);var n=r.replace(i,""),a=n.match(t);if(a){n=a[1];var e={};return iterateQueryString(n,function(t,r){r=parseParams(r),e[t]?_.isString(e[t])?e[t]=[e[t],r]:e[t].push(r):e[t]=r}),e}return{}}}),_.extend(Backbone.Router.prototype,{initialize:function(e){this.encodedSplatParts=e&&e.encodedSplatParts},_routeToRegExp:function(t){var o=e.exec(t)||{index:-1},u=r.exec(t)||{index:-1},c=t.match(s)||[];t=t.replace(a,"\\$&").replace(n,"(?:$1)?").replace(r,function(e,t){return t?e:"([^\\/\\?]+)"}).replace(e,"([^??]*?)"),t+="(\\?.*)?";var i=new RegExp("^"+t+"$");return o.index>=0&&(u>=0?i.splatMatch=o.index-u.index:i.splatMatch=-1),i.paramNames=_.map(c,function(e){return e.substring(1)}),i.namedParameters=this.namedParameters,i},_extractParameters:function(n,c){var e=n.exec(c).slice(1),a={};e.length>0&&_.isUndefined(e[e.length-1])&&e.splice(e.length-1,1);var s=e.length&&e[e.length-1]&&e[e.length-1].match(t);if(s){var o=s[1],i={};if(o){var l=this;iterateQueryString(o,function(e,t){l._setParamValue(e,t,i)})}e[e.length-1]=i,_.extend(a,i)}var u=e.length;if(n.splatMatch&&this.encodedSplatParts){if(n.splatMatch<0)return e;u-=1}for(var r=0;u>r;r++)_.isString(e[r])&&(e[r]=parseParams(e[r]),n.paramNames&&n.paramNames.length>=r-1&&(a[n.paramNames[r]]=e[r]));return Backbone.Router.namedParameters||n.namedParameters?[a]:e},_setParamValue:function(e,i,s){e=e.replace("[]",""),e=e.replace("%5B%5D","");for(var a=e.split("."),t=s,r=0;r<a.length;r++){var n=a[r];r===a.length-1?t[n]=this._decodeParamValue(i,t[n]):t=t[n]=t[n]||{}}},_decodeParamValue:function(e,n){var a=Backbone.Router.arrayValueSplit;if(a&&e.indexOf(a)>=0){for(var t=e.split(a),r=t.length-1;r>=0;r--)t[r]?t[r]=parseParams(t[r]):t.splice(r,1);return t}return e=parseParams(e),n?_.isArray(n)?(n.push(e),n):[n,e]:e},toFragment:function(t,e){return e&&(_.isString(e)||(e=toQueryString(e)),e&&(t+="?"+e)),t}})});

!function(){var n=function Transition($){var n={},e=document.createElement("transition"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in t)void 0!==e.style[i]&&(n.end=t[i],n.cssAttribute=i,n.enabled=!0);return n.emulateTransitionEnd=function(i,e){if(!n.enabled)return i;var t=!1;i.one(n.end,function(){t=!0});var r=function callback(){t||i.trigger(n.end)};return setTimeout(r,e),i},n};"function"==typeof define&&define.amd?define("js/lib/transition",["require","jquery"],function(require){var $=require("jquery");return n($)}):window.Transition=n(window.$)}();

define('css!bundles/collapse/collapse',[],function(){})
!function(){var t=function CollapsePlugin($,s,r,c){var n={defaults:{duration:350,toggle:!1,timing:"ease",animate:!0},constants:{selector:"[data-toggle=collapse]","bind.click":"click.collapse.data-api","class.open":"open","class.collapse":"collapse","class.collapsed":"collapsed","class.collapsing":"collapsing","attribute.target":"data-target","attribute.parent":"data-parent","data.collapse":"collapse.me","event.show":"show","event.shown":"shown","event.hide":"hide","event.hidden":"hidden","transition.done":0,"transition.open":1,"transition.close":2},getCollapse:function getCollapse(s,e){var t=$(s).data(n.constants["data.collapse"]);return t&&t.constructor==i.prototype.constructor?e?t.customize(e):t:null},makeCollapse:function makeCollapse(s,a){var e=$(s),t=n.getCollapse(e);return t||(t=new i(e,a),e.data(n.constants["data.collapse"],t)),t}},t=n.constants,i=function Collapse(t,e){this.$element=$(t),this.transitioning=null,this.emitter=r.emitter(this),this.customize(e)};i.prototype.customize=function(t){var e=c.parse(this.$element,n.defaults,"data-collapse-");this.options=$.extend({},e,t),this.options.parent&&(this.$parent=$(this.options.parent)),this.options.toggle&&this.toggle()},i.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},i.prototype.scrollSize=function(){var t=this.$element.hasClass("width");return t?"scrollWidth":"scrollHeight"},i.prototype.transitionValue=function(t){return[this.dimension(),t.duration+"ms",t.timing].join(" ")};var l=function _shown(i,e){var n=this.dimension();this.$element.removeClass(t["class.collapsing"]).addClass([t["class.collapse"],t["class.open"]].join(" ")),s.enabled&&this.$element.css(s.cssAttribute,""),this.$element[n]("auto"),this.transitioning=t["transition.done"],e||(this.$element.trigger($.Event(t["event.shown"])),this.emitter.trigger(t["event.shown"],this.$element))};i.prototype.show=function(a){var e=$.extend({},this.options,a);if(this.transitioning==t["transition.close"])o.call(this,null,!0);else if(this.transitioning==t["transition.open"]||this.$element.hasClass(t["class.open"]))return;var n=$.Event(t["event.show"]);if(this.$element.trigger(n),this.emitter.trigger(t["event.show"],this.$element),n.isDefaultPrevented())return;var i=this.dimension();if(this.$element.removeClass(t["class.collapse"]).addClass(t["class.collapsing"]),s.enabled&&e.animate&&this.$element.css(s.cssAttribute,this.transitionValue(e)),this.$element[i](0),this.transitioning=t["transition.open"],!s.enabled||!e.animate)return l.call(this);var r=this.scrollSize();this.$element.one(s.end,$.proxy(l,this)),this.$element[i](this.$element[0][r]),s.emulateTransitionEnd(this.$element,e.duration)};var o=function _hidden(n,e){this.transitioning=t["transition.done"],this.$element.trigger(t["event.hidden"]).removeClass(t["class.collapsing"]).addClass(t["class.collapse"]),s.enabled&&this.$element.css(s.cssAttribute,""),e||(this.$element.trigger($.Event(t["event.hidden"])),this.emitter.trigger(t["event.hidden"],this.$element))};i.prototype.hide=function(r){var i=t["class.open"],e=$.extend({},this.options,r);if(this.transitioning==t["transition.open"])l.call(this,null,!0);else if(this.transitioning==t["transition.close"]||!this.$element.hasClass(i))return;var a=$.Event(t["event.hide"]);if(this.$element.trigger(a),this.emitter.trigger(t["event.hide"],this.$element),a.isDefaultPrevented())return;var n=this.dimension(),c=this.$element[n](),h=this.$element[n](c)[0].offsetHeight;if(this.$element.addClass(t["class.collapsing"]),s.enabled&&e.animate&&this.$element.css(s.cssAttribute,this.transitionValue(e)),this.$element.removeClass(t["class.collapse"]).removeClass(i),this.transitioning=t["transition.close"],!s.enabled||!e.animate)return o.call(this);this.$element[n](0).one(s.end,$.proxy(o,this)),s.emulateTransitionEnd(this.$element,e.duration)},i.prototype.toggle=function(e){this[this.$element.hasClass(t["class.open"])?"hide":"show"](e)};var a=function external(){return n.getCollapse.apply(null,arguments)||n.makeCollapse.apply(this,arguments)};return a.start=function(s,i){var a=$(s),l=s==window?$(document):a;l.on(t["bind.click"],t.selector,function(){var a=$(this),c,d=a.attr(t["attribute.target"])||e.preventDefault()||(c=a.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,""),l=$(d),o=l.data(t["data.collapse"]),s=o?"toggle":a.data(),r=a.attr(t["attribute.parent"]),h=r&&$(r);if(!o||!o.transitioning){h&&h.find(t.selector+"["+t["attribute.parent"]+'="'+r+'"]').not(a).addClass(t["class.collapsed"]);var p=l.hasClass(t["class.open"])?"addClass":"removeClass";a[p](t["class.collapsed"])}l.each(function(){var a=$(this),l=a.data(t["data.collapse"]),e=$.extend({},i,a.data(),"object"==typeof s&&s);!l&&e.toggle&&"show"==s&&(s=!s);var o=n.getCollapse(this,e)||n.makeCollapse(this,e);"string"==typeof s&&o[s]()})})},a.stop=function(e){var s=$(e);s.unbind(t["bind.click"])},a.start(window),a};"function"==typeof define&&define.amd?define("bundles/collapse/collapse",["require","js/lib/data.attributes","js/lib/transition","jquery","js/vendor/lucid.v2-7-0","css!bundles/collapse/collapse.css"],function(require){var e=require("js/lib/data.attributes"),s=require("js/lib/transition"),$=require("jquery"),n=require("js/vendor/lucid.v2-7-0");return require("css!bundles/collapse/collapse.css"),t($,s,n,e)}):window.Collapse=t(window.$,window.Transition,window.LucidJS,window.DataAttributes)}();

define('css!bundles/phoenix/template/styl/index',[],function(){})
!function(t){var e=function popup($,_,c,p){var i=38,n=40,r=32,u=27,h=13,s=1,a=0,t={defaults:{"bind.open":"click","bind.close":"click","bind.cancel.document":"mousemove","bind.cancel":"mouseleave","bind.uncancel":"mouseenter","bind.keydown":"keydown",direction:"sw","offset.x":0,"offset.y":0,timeout:450,"timeout.intent":350,resize:!1,width:!1,"attribute.open":"data-popup","attribute.close":"data-popup-close","attribute.item":"data-popup-item",position:"absolute"},prevPopup:null,prevTimeout:null,timeout:null,timeoutClear:null,getPopup:function getPopup(i,o){var t=$(i).data("popup.me");return t&&t.constructor==e.prototype.constructor?o?t.customize(o):t:null},getPopupForAnchor:function getPopupForAnchor(e,o){var i=e.attr(t.defaults["attribute.open"]),n=$(i),s=t.makePopup(n,o);return s},closeOlderPopups:function closeOlderPopups(){t.prevPopup&&(t.prevPopup.close(),t.prevPopup=null)},isTouch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,makePopup:function makePopup(n,s){var o=$(n),i;return i=o.attr("data-popup")?t.getPopupForAnchor(o):t.getPopup(o),i||(i=new e(o,s),o.data("popup.me",i)),i},monitorKeys:function monitorKeys(e){_.contains([i,n],e.keyCode)?(e.preventDefault(),e.stopPropagation(),t.changeFocus.call(this,e)):e.keyCode==u?(this.$anchor.focus(),this.close()):e.keyCode==h&&this.emitter.trigger("enter",this)},monitorActions:function monitorActions(e){var o=$(e.target),i=this;if("mouseleave"!=e.type){if(o.closest(this.$el).size()>0||o.closest(this.$anchor).size()>0)return void window.clearTimeout(t.timeout)}else t.timeout=window.setTimeout(function(){i.state==s&&i.close()},this.options.timeout)},intentOpen:function intentOpen(n,e,o){var i=o[0];t.prevTimeout&&($(document).off(".popup"),window.clearTimeout(t.prevTimeout)),t.prevTimeout=window.setTimeout(function(){window.clearTimeout(t.prevTimeout),$(document).off(".popup"),e.isOpen()||e.open(o)},e.options["timeout.intent"]),$(document).on("mousemove.popup mouseleave.popup",function(e){("mouseleave"==e.type||e.target!=i&&0===$(e.target).closest(i).size())&&($(document).off(".popup"),window.clearTimeout(t.prevTimeout))})},changeFocus:function changeFocus(o){if(!this.$anchor)return;var s=this.$anchor.attr(this.options["attribute.item"]),t=this.$el.children(":visible");if(s&&(t=t.find(s)),!t.length)return;var e=t.index(t.filter(":focus"));o.keyCode==i&&e--,o.keyCode==n&&e++,0>e||e>=t.length?this.$anchor.focus():e<t.length&&t.eq(e).focus()}},e=function Popup(t,e){this.$el=$(t),this.$parent=this.$el.parent(),this.$anchor=null,this.emitter=c.emitter(this),this.customize(e)};e.prototype.customize=function(e){return this.options=_.extend({},p.parse(this.$el,t.defaults,"data-popup-"),e),this},e.prototype.get=function(){return this.$el},e.prototype.open=function(u){if(this.state==s)return;var e=this,n=$(u);if(!this.$anchor||this.$anchor[0]!=n[0]){var o=n.position();this.options=p.parse(n,this.options,"data-popup-"),this.$anchor=n,this.$anchor.parent().append(this.$el),this.$anchor.attr("aria-expanded","true"),e.options.resize&&this.$el.width(this.$anchor.outerWidth()),e.options.width&&this.$el.css("width",e.options.width),this.emitter.trigger("opening",this.$anchor);var i={x:parseInt(this.options["offset.x"],10),y:parseInt(this.options["offset.y"],10)};if(this.$el.css({position:this.options.position}),this.options.direction&&"sw"!=this.options.direction){if("nw"==this.options.direction)this.move(o.left+i.x,o.top-this.$el.outerHeight()+i.y);else if("se"==this.options.direction)this.move(o.left+n.outerWidth()+i.x-this.$el.outerWidth(),o.top+n.outerHeight()+i.y);else if("ne"==this.options.direction)this.move(o.left+n.outerWidth()+i.x-this.$el.outerWidth(),o.top-this.$el.outerHeight()-i.y);else if("s"==this.options.direction)this.move(o.left+n.outerWidth()/2+i.x-this.$el.outerWidth()/2,o.top+n.outerHeight()+i.y);else if("n"==this.options.direction)this.move(o.left+n.outerWidth()/2+i.x-this.$el.outerWidth()/2,o.top-this.$el.outerHeight()+i.y);else if("w"==this.options.direction)this.move(o.left+i.x-this.$el.outerWidth(),o.top+i.y);else if("e"==this.options.direction){var r=o.left+n.outerWidth()+i.x;this.move(r,o.top+i.y),this.$el.css({marginRight:-1*r})}}else this.move(o.left+i.x,o.top+n.outerHeight()+i.y);e.$el.addClass("popup-open").show(),window.setTimeout(function(){if(t.closeOlderPopups(),n.addClass("popup-opened"),n.is(":focus")||n.focus(),e.emitter.trigger("opened",e.$anchor),e.state=s,t.prevPopup=e,e.options["bind.cancel"]&&(e.$el.on(e.options["bind.cancel"]+".popup",_.bind(t.monitorActions,e)),e.$anchor.on(e.options["bind.cancel"]+".popup",_.bind(t.monitorActions,e)),e.$el.on(e.options["bind.uncancel"]+".popup",_.bind(t.monitorActions,e)),e.$anchor.on(e.options["bind.uncancel"]+".popup",_.bind(t.monitorActions,e))),$(document).on(e.options["bind.cancel.document"]+".popup",_.bind(t.monitorActions,e)).on(e.options["bind.keydown"]+".popup",_.bind(t.monitorKeys,e)),e.options["attribute.close"]){var o=function closePopup(t){$(t.currentTarget).is(":disabled")||e.close()},i="["+e.options["attribute.close"]+"]";e.$el.on(e.options["bind.close"]+".popup",i,o),e.$anchor.is(i)?e.$anchor.on(e.options["bind.close"]+".popup",o):e.$anchor.on(e.options["bind.close"]+".popup",i,o)}},0)}return this},e.prototype.move=function(t,e,o){return this.$el.css({left:t,top:e,"z-index":o||1e4}),this},e.prototype.close=function(){return $(document).off(".popup"),this.$anchor.attr("aria-expanded","false"),this.$anchor.removeClass("popup-opened"),this.$el.removeClass("popup-open"),this.emitter.trigger("closing",this.$anchor),this.$el.off(".popup").hide(),this.$anchor.off(".popup"),this.$parent.append(this.$el),this.emitter.trigger("closed",this.$anchor),this.$anchor=null,this.state=a,window.clearTimeout(this.timeout),t.prevPopup=null,this},e.prototype.isOpen=function(){return this.$el.is(":visible")};var o=function external(){return t.getPopup.apply(null,arguments)||t.makePopup.apply(this,arguments)};return o.start=function(s,o){function openPopup(t,e){t.isOpen()||t.open(e)}var e=$(s);if(e.data("popups-initialized"))return;e.data("popups-initialized",1);var p="["+t.defaults["attribute.open"]+"]";e.on("click.popup mouseenter.popup keydown.popup",p,function(e){var p=$(this),u=p.attr("data-popup-bind-open");if(p.is(":disabled"))return;var s=t.getPopupForAnchor(p,o);"keydown"==e.type&&_.contains([i,n,r],e.keyCode)&&(e.preventDefault(),e.stopPropagation(),e.keyCode==n||e.keyCode==r?(s.isOpen()||openPopup(s,p),t.changeFocus.call(s,e)):e.keyCode==i&&s.isOpen()&&s.close()),(e.type==u||!u&&"click"==e.type||t.isTouch&&"click"==e.type)&&("mouseover"==e.type||"mouseenter"==e.type?t.intentOpen(e,s,p):openPopup(s,p))}),$(e.find("["+t.defaults["attribute.open"]+"]")).each(function(){var e=$(this);if("true"==e.attr("aria-expanded")){var i=t.getPopupForAnchor(e,o);openPopup(i,e),window.setTimeout(function(){i.close(e)},3e3)}})},o.cleanUp=function(){t.closeOlderPopups()},o.stop=function(e){var t=$(e);t.data("popups-initialized",0),t.off(".popup"),o.cleanUp()},o.start("body"),o};"function"==typeof define&&define.amd?define("js/lib/popups",["require","js/lib/data.attributes","jquery","js/vendor/lucid.v2-7-0","underscore"],function(require){var t=require("js/lib/data.attributes"),$=require("jquery"),o=require("js/vendor/lucid.v2-7-0"),_=require("underscore");return e($,_,o,t)}):t.Popup=e(t.$,t._,t.LucidJS,t.DataAttributes)}(window);
define("bundles/phoenix/lib/multitrackerMixin",["require","exports","module","backbone","underscore","q","js/app/multitrackerSingleton"],function(require,exports,module){var Backbone=require("backbone"),_=require("underscore"),r=require("q"),e=require("js/app/multitrackerSingleton"),t={expandProperties:function expandProperties(n){var e,r,t,i;return e=arguments,t=this.multitracker&&this.multitracker.events&&this.multitracker.events[n]||[],i=_.isString(t)||_.isObject(t)&&!_.isArray(t)?_.has(t,"values")?t.values:[]:t,r=this.multitracker&&this.multitracker.baseValues||[],_.reduce(r.concat(i),function(i,t){if(!_(this.multitracker.definitions).has(t))throw new Error("Event property not defined");var r=this.multitracker.definitions[t],n;return n=_.isFunction(r)?r.apply(this,_.rest(e,1)):r,i[t]=n,i},{},this)},expandKey:function expandKey(t){return this.multitracker&&_.has(this.multitracker,"namespace")?this.multitracker.namespace+"."+t:t},track:function track(r,e){var i=t.expandKey.call(this,r);if(e)return _.isObject(e)&&(e=_.extend({},t.expandProperties.call(this,r),e)),t.push.call(this,[i,e]);var n=t.expandProperties.call(this,r);if(n)return t.push.call(this,[i,n])},trackHandler:function trackHandler(e){var r=t.expandKey.call(this,e);return _.wrap(t.expandProperties,function(n){var i=n.apply(this,[e].concat(_.rest(arguments,1)));if(i)return t.push.call(this,[r,i])}.bind(this))},push:function push(t){var i=r.defer();return t.push(i.resolve),!this.multitracker||2!==this.multitracker.eventingVersion&&"2"!==this.multitracker.eventingVersion?e.push(t):e.pushV2(t),i.promise}};exports.delegateEvents=function(t){if(this.multitracker){var e=_.reduce(this.multitracker.events,function(e,t,r){return _.isString(t)?e[t]=this.trackHandler(r):_.has(t,"delegate")&&(e[t.delegate]=this.trackHandler(r)),e},{},this);t?_.extend(e,t):_.extend(e,_.result(this,"events"),e),t=_.extend({},e)}return Backbone.View.prototype.delegateEvents.call(this,t)},exports.track=function(e,r){return t.track.call(this,e,r)},exports.trackHandler=function(e){return t.trackHandler.call(this,e)}});
define("bundles/phoenix/lib/backboneReactMixin",["require","exports","module","react-with-addons","underscore","bundles/epic/client","js/app/loggerSingleton"],function(require,exports,module){var e=require("react-with-addons"),_=require("underscore"),t=require("bundles/epic/client"),r=require("js/app/loggerSingleton"),o=function _rcNode(t,o,c){var n="[data-rc="+o+"]",e=t.querySelectorAll(n);if(0===e.length){if(!c)throw new Error("No match found for "+n)}else e.length>1&&r.warn("Found "+e.length+"matches for "+n,"Using first match");return e[0]},n=function unmountComponentsAtNodes(n){n.forEach(function(n){e.unmountComponentAtNode(n)})};exports.renderReactIntoElement=function(n,r,o,c){var a=Object.assign({getEpicParam:t.get.bind(t)},c);return e.withContext(a,function(){var t=e.createElement(n,o);return e.render(t,r)})},exports.renderReactInto=function(r,c,a,i,d){var t=this,e=o(this.el,c,d);if(!e)return;return this._reactNodes=this._reactNodes||[],this._reactNodes.push(e),this.once("view:closing",function(){return n(t._reactNodes)}),this.once("view:closed",function(){return n(t._reactNodes)}),exports.renderReactIntoElement(r,e,a,i)},exports.renderReactIntoAll=function(c,a,i,d,u){var e=this,r="[data-rc="+a+"]",o=this.el.querySelectorAll(r),t=[];if(0===o.length){if(u)return t;throw new Error("No match found for "+r)}return _(o).forEach(function(r){e._reactNodes=e._reactNodes||[],e._reactNodes.push(r),e.once("view:closing",function(){return n(e._reactNodes)}),e.once("view:closed",function(){return n(e._reactNodes)}),t.push(exports.renderReactIntoElement(c,r,i,d))}),t},exports.appendReactInto=function(t,e,r,o){var n=document.createElement("div");return e.appendChild?e.appendChild(n):e.append(n),exports.renderReactIntoElement(t,n,r,o)},exports.removeReactComponent=function(t){var o=e.findDOMNode(t),n=e.unmountComponentAtNode(o.parentNode);return n||r.error("Attempted to unmount a React component on a node that had no components"),n},exports.$R=function(e){return this.$('[data-rc="'+e+'"]')}});
define("js/lib/assert",[],function(){function assert(n,r){if(!n)throw"string"==typeof r?new Error(r):r||new Error;return n}return assert});
define("bundles/phoenix/lib/mixin",["require","exports","module","js/lib/assert","underscore"],function(require,exports,module){var e=require("js/lib/assert"),_=require("underscore");module.exports=function(i){var n=_.toArray(arguments).slice(1),t={};return e(_.isObject(i),"mixin called with a non-object target"),e(n.length>=1,"mixin called with no mixins"),_(n).each(function(i){_(i).chain().keys().each(function(n){e(!_(t).has(n),'Attempted to use multiple mixins that define the same property "'+n+'"'),t[n]=i[n]})}),_(t).chain().keys().each(function(e){_(i).has(e)||(i[e]=t[e])}),i}});
define("bundles/phoenix/lib/viewMixin",["require","exports","module","underscore"],function(require,exports,module){var _=require("underscore"),t={templateOptions:function templateOptions(){return this},render:function render(){if(this.template){var t=_.result(this,"templateOptions")||{};this.$el.html(this.template(t))}return this[this.stateModelProperty]&&(this.listenTo(this[this.stateModelProperty],"state:change",this.renderState),this.renderFsm(),this.renderState()),this.renderSubviews(),this.postRender(),this.bindings&&this.stickit(),this},renderSubviews:function renderSubviews(){},postRender:function postRender(){},$$:function $$(t){return this.$('[data-js~="'+t+'"]')}};module.exports=t});
define("js/lib/coursera.externallinks",["jquery"],function($){var e={onClick:function onClick(e){e.preventDefault();var n=window.open("about:blank","_blank");n.opener=null,n.location.href=$(e.currentTarget).attr("href")}};return e});
define("bundles/phoenix/lib/view",["require","exports","module","backbone","underscore","bundles/phoenix/lib/backboneReactMixin","bundles/phoenix/lib/mixin","bundles/phoenix/lib/multitrackerMixin","bundles/phoenix/lib/viewMixin","js/app/loggerSingleton","js/lib/coursera.externallinks","js/lib/fsm"],function(require,exports,module){var Backbone=require("backbone"),_=require("underscore"),i=require("bundles/phoenix/lib/backboneReactMixin"),n=require("bundles/phoenix/lib/mixin"),r=require("bundles/phoenix/lib/multitrackerMixin"),t=require("bundles/phoenix/lib/viewMixin"),s=require("js/app/loggerSingleton"),a=require("js/lib/coursera.externallinks"),o=require("js/lib/fsm"),e=Backbone.View.extend({events:{'click [data-js~="user-generated-content"] a[href]':"onUserGeneratedLinkClick"},onUserGeneratedLinkClick:function onUserGeneratedLinkClick(e){return e.stopPropagation(),a.onClick(e)},constructor:function constructor(e){if(this.params){this.params.required&&this.validateParams(e);var i=(this.params.optional||[]).concat(this.params.required||[]);_(this).extend(_(e).pick(i))}Backbone.View.apply(this,arguments)},validateParams:function validateParams(i){var e=_(this.params.required).difference(_(i).keys());if(e.length){var n=this.name||"unnamed";s.error(n+" PhoenixView did not receive required options: "+e.join(", "))}}});n(e.prototype,o.FiniteStateMachineView,r,t,i),module.exports=e});
define("bundles/userModal/views/nls/userModal",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

!function(s){var a=function(s,a,e){var t=function template(d){var e=[],i={},t,n=d||{};return function(a,n){i["c-close-icon"]=function(){var s=this&&this.block,a=this&&this.attributes||{};e.push('<span data-js="user-modal-nav-link" data-target-state="hidden" class="c-user-modal-close"></span>')},i["c-signup-link"]=function(){var a=this&&this.block,t=this&&this.attributes||{};e.push('<a data-js="user-modal-nav-link" data-target-state="signup" href="javascript:void(0);"'+s.cls([t["class"]],[!1])+">"),a&&a(),e.push("</a>")},i["c-login-link"]=function(){var a=this&&this.block,t=this&&this.attributes||{};e.push('<a data-js="user-modal-nav-link" data-target-state="login" href="javascript:void(0);"'+s.cls([t["class"]],[!1])+">"),a&&a(),e.push("</a>")},e.push('<div class="c-phoenix-hide c-user-modal modal">'),i["c-close-icon"](),e.push('<header><div class="c-logo"><span class="sr-only">'+s.escape(null==(t=a("Coursera"))?"":t)+'</span></div><div class="c-user-modal-mission">'+s.escape(null==(t=a("Universal access to the worlds best education."))?"":t)+"</div><nav>"),i["c-login-link"].call({block:function(){e.push(""+s.escape(null==(t=a("Log In"))?"":t))},attributes:{"class":(t=[!0],s.joinClasses(["login"===n?"active":""].map(s.joinClasses).map(function(a,e){return t[e]?s.escape(a):a})))}}),i["c-signup-link"].call({block:function(){e.push(""+s.escape(null==(t=a("Sign Up"))?"":t))},attributes:{"class":(t=[!0],s.joinClasses(["signup"===n?"active":""].map(s.joinClasses).map(function(a,e){return t[e]?s.escape(a):a})))}}),e.push('</nav></header><div data-js="signup-body" data-state="signup"></div><div data-js="login-body" data-state="login"></div><div data-js="password-reset-request-body" data-state="password-reset-request"></div><div data-js="password-reset-request-sent-body" data-state="password-reset-request-sent"></div><div data-js="password-reset-confirm-body" data-state="password-reset-confirm"></div><div data-js="request-email-body" data-state="request-email"></div><div data-js="request-password-body" data-state="request-password"></div></div>')}.call(this,"_t"in n?n._t:"undefined"!=typeof a?a:void 0,"state"in n?n.state:"undefined"!=typeof state?state:void 0),e.join("")};return function(s){return s&&"_t"in s&&(a=s._t.merge(a)),t(s)}};"function"==typeof define&&define.amd?define('bundles/userModal/views/userModal.html',["js/vendor/jade","i18n!bundles/userModal/views/nls/userModal"],function(s,t){var e;return a(s,t,e)}):s.jade.templates["bundles.userModal.views.userModal"]=a(s.jade.helpers)}(window);

define('css!bundles/helpwidget/index',[],function(){})
define("js/lib/placeholder",["jquery"],function($){var e="placeholder",t=e in document.createElement("input")&&e in document.createElement("textarea");$.fn.placeholder=function(){if(!this.length)return;return this.each(function(){function hideInput(e){e.css({position:"absolute",left:"-9999em",tabindex:-1})}function showInput(e){e.css({position:"",left:""}).removeAttr("tabindex")}function placeholderOnFocus(c){if(!t&&a.data("placeholder")){var e=r?l.get(0):a.get(0);if(e.createTextRange){var n=e.createTextRange();n.moveStart("character",0),n.collapse(),n.select()}else e.setSelectionRange&&e.setSelectionRange(0,0)}}function invisibleKeyCode(e){return e>-1&&48>e&&32!=e||e>90&&96>e||e>111&&186>e||e>192&&219>e||e>219&&220>e}function placeholderOnKeyDown(n){a.hasClass(e)&&!invisibleKeyCode(n.which)&&(!t&&a.data("placeholder")&&(a.val(""),a.data("placeholder",!1),r&&(hideInput(l),showInput(a),a.focus())),a.removeClass(e))}function placeholderOnKeyUp(o){if(!t&&""===a.attr("value"))if(a.data("placeholder",!0),r?(hideInput(a),showInput(l),l.focus()):(a.addClass(e),a.val(n)),a.get(0).createTextRange){var c=a.get(0).createTextRange();c.moveStart("character",0),c.collapse(),c.select()}else a.get(0).setSelectionRange&&a.get(0).setSelectionRange(0,0)}function placeholderOnBlur(c){""===a.val()&&(a.addClass(e),t||(a.data("placeholder",!0),r?(showInput(l),hideInput(a)):a.val(n)))}var a=$(this),n=a.attr("placeholder"),r="password"===a.attr("type"),l,c,o;r&&!t?(l=$("<input>").attr({type:"text",value:n,"class":a.attr("class"),style:a.attr("style")}),l.data(a.data()),a.before(l),l.bind("keydown.placeholder",placeholderOnKeyDown),l.bind("focus.placeholder",placeholderOnFocus)):a.bind("keydown.placeholder",placeholderOnKeyDown),a.data("placeholder",!0),a.bind("blur.placeholder",placeholderOnBlur).trigger("blur.placeholder"),a.bind("focus.placeholder",placeholderOnFocus),a.bind("keyup.placeholder",placeholderOnKeyUp)})};var a;t||(a=$.fn.val,$.fn.val=function(t){if(!arguments.length){var e=$(this);return e.data("placeholder")&&e.attr("value")==e.attr("placeholder")?"":a.call(this)}return a.call(this,t)})});

define('css!pages/open-course/common/styl/helpwidget',[],function(){})
define("bundles/userModal/views/userModalState",["require","exports","module","bundles/phoenix/lib/view","bundles/userModal/models/userModal"],function(require,exports,module){var e=require("bundles/phoenix/lib/view"),t=require("bundles/userModal/models/userModal"),i=e.extend({state:null,multitracker:{namespace:"userModal"},initialize:function initialize(e){this.model=t,this.listenTo(this.model,"state:enter:"+this.state,this.onEnterState),this.listenTo(this.model,"state:exit:"+this.state,this.onExitState),this.listenTo(this,"view:closed",this.onClose),this.customInitialize()},customInitialize:function customInitialize(){},onEnterState:function onEnterState(){},onExitState:function onExitState(){},onClose:function onClose(){},showError:function showError(e){var t=e&&(e.code||e.errorCode)||e;this.$$("help-text").hide();var i=this.$$(t);t&&i.length?i.show():this.$$("unknownCode").show()}});module.exports=i});
define("js/lib/forms",["require","exports","module","jquery","underscore","js/lib/schema","js/vendor/lucid.v2-7-0"],function(require,exports,module){var $=require("jquery"),_=require("underscore"),a=require("js/lib/schema"),o=require("js/vendor/lucid.v2-7-0"),s={"attribute.prefix":"data-form","attribute.ignore":"ignore","attribute.previous":"prev-value","attribute.schema":"schema","attribute.filter":"filter","attribute.properties":"properties","attribute.required":"required","class.warn":"warn"},r=function getForm(i,e){var r=$(i).data("form.me");return r&&r.constructor===t.prototype.constructor?r?r.customize(e):r:null},n=function makeForm(a,o){var e=$(a),i=r(e);return i||(i=new t(e,o),e.data("form.me",i)),i},i=function validate(o,s){var t=s||{},r={},i={},e=o.val(),p=o.attr("name")||o.attr("id"),n=o.attr("type");if(t.schema&&(r.type=t.schema),t.filter&&(r.filters=_.isString(t.filter)?(t.filter||"").split(","):t.filter),t.required&&(r.required=!0),t.properties&&(r.properties=_.isString(t.properties)?JSON.parse(t.properties):t.properties),t.schema||t.filter||t.required||t.properties)if(r.trim=!0,i=a.test(e,r),/^checkbox|radio$/.test(n)&&r.required&&!o[0].checked&&(i.valid=!1),i.valid)_.isString(i.data.input)&&e!==i.data.input&&(e=i.data.input,o.val(e));else{if(t.required||""!==e)throw i.errors.input;e=null}return e},e=function process(){var t=this,o=this.$form.find(":input"),a={},r={},e=!0,s=/^([^\[\]]+)(?:\[(.*)\])?$/;return _.each(o,function(j){var o=$(j),w=o.attr("type"),c=o.val(),q=o.prop("nodeName"),b=o.attr("name")||o.attr("id"),f=(b||"").split("."),n=a,p=f[0],C=o.attr(t.options["attribute.prefix"]+"-"+t.options["attribute.ignore"])||/button|submit/.test(w)||/button/i.test(q),h=o.attr(t.options["attribute.prefix"]+"-"+t.options["attribute.schema"])||o.data(t.options["attribute.prefix"]+"-"+t.options["attribute.schema"]),v=o.attr(t.options["attribute.prefix"]+"-"+t.options["attribute.filter"])||o.data(t.options["attribute.prefix"]+"-"+t.options["attribute.filter"]),x=o.attr(t.options["attribute.prefix"]+"-"+t.options["attribute.properties"])||o.data(t.options["attribute.prefix"]+"-"+t.options["attribute.properties"]),g=void 0!==o.attr(t.options["attribute.prefix"]+"-"+t.options["attribute.required"]);if(!C){if(o.data(t.options["attribute.prefix"]+"-dirty"))try{c=i(o,{schema:h,filter:v,required:g,properties:x})}catch(y){e=!1,r[b]=y}else r[b]=o.data(t.options["attribute.prefix"]+"-error"),e&&(e=o.data(t.options["attribute.prefix"]+"-valid"));for(var d=0,l=null;d<f.length;d++){var m=d===f.length-1;if(l=f[d].match(s),p=l?l[1]:f[d],l){var u=l[2];void 0===n[p]&&(m?void 0===u?n[p]=c:(n[p]=[],n[p][u]=c):n[p]=void 0===u?{}:[]),m?n[p]=c:n=void 0!==u?n[p][u]?n[p][u]:n[p][u]={}:n[p]}}}return{data:a,errors:r}}),{valid:e,errors:r,data:a}},p=function prepare(){var t=this,i=this.$form.find(":input");_.each(i,function(i){var r=$(i);r.attr(t.options["attribute.prefix"]+"-"+t.options["attribute.ignore"])||/button|submit/.test(r.attr("type"))||(r.data(t.options["attribute.prefix"]+"-"+t.options["attribute.previous"],r.val()),r.data(t.options["attribute.prefix"]+"-dirty",!0))});var r=function validateIt(r){t.validate(r.currentTarget)},a=function blurIt(r){var i=$(r.currentTarget);t.emitter.trigger("blur",r,{valid:i.data(t.options["attribute.prefix"]+"-valid"),error:i.data(t.options["attribute.prefix"]+"-error")})};this.$form.on("change",":input",r),this.$form.on("blur",":input",a),this.$form.on("keydown cut paste",":input",_.debounce(r,500)),this.$form.on("submit",function(r){t.emitter.trigger("submit",r,e.call(t))})},t=function Form(t,r){var i=this;this.$form=$(t),this.customize(r),_.bindAll(this,"validate"),p.call(this,this.$form),this.emitter=o.emitter(this)};t.prototype.customize=function(t){return this.options=_.extend({},s,t||{}),this},t.prototype.process=function(){return e.call(this)},t.prototype.validate=function(o){var t=this,r=$(o),s=r.attr(t.options["attribute.prefix"]+"-"+t.options["attribute.schema"])||r.data(t.options["attribute.prefix"]+"-"+t.options["attribute.schema"]),n=r.attr(t.options["attribute.prefix"]+"-"+t.options["attribute.filter"])||r.data(t.options["attribute.prefix"]+"-"+t.options["attribute.filter"]),p=r.attr(t.options["attribute.prefix"]+"-"+t.options["attribute.properties"])||r.data(t.options["attribute.prefix"]+"-"+t.options["attribute.properties"]),u=void 0!==r.attr(t.options["attribute.prefix"]+"-"+t.options["attribute.required"]),e=$.Event(null,{currentTarget:r.get(0)});try{i(r,{schema:s,filter:n,required:u,properties:p}),r.hasClass(t.options["class.warn"])&&(r.removeClass(t.options["class.warn"]),e.type="forms:corrected",t.emitter.trigger("corrected",e)),r.data(t.options["attribute.prefix"]+"-valid",!0),r.data(t.options["attribute.prefix"]+"-error",null),e.type="forms:change",t.emitter.trigger("change",e,{valid:!0})}catch(a){r.hasClass(t.options["class.warn"])||(r.addClass(t.options["class.warn"]),e.type="forms:error",t.emitter.trigger("error",e,a)),r.data(t.options["attribute.prefix"]+"-valid",!1),r.data(t.options["attribute.prefix"]+"-error",a),e.type="forms:change",t.emitter.trigger("change",e,{valid:!1,error:a})}r.data(t.options["attribute.prefix"]+"-dirty",!1)};var u=function external(){return r.apply(null,arguments)||n.apply(this,arguments)};module.exports=u});
define("bundles/userModal/views/userModalForm",["require","exports","module","jquery","underscore","bundles/userModal/views/userModalState","js/lib/forms"],function(require,exports,module){var $=require("jquery"),_=require("underscore"),e=require("bundles/userModal/views/userModalState"),r=require("js/lib/forms"),s=e.extend({events:{'submit [data-js~="form"]':"onSubmitClick"},postRender:function postRender(){this.form=r(this.$$("form")),this.form.on("change",this.verifyForm.bind(this))},serializeForm:function serializeForm(){var e=this.$$("form").serializeArray(),r=_(e).reduce(function(e,r){return e[r.name]=r.value,e},{});return r},onEnterState:function onEnterState(){var e=this;setTimeout(function(){e.$("[autofocus]").focus()})},onClose:function onClose(){this.form.off("change")},verifyForm:function verifyForm(s,t){var e=$(s.currentTarget),r=e.parents('[data-js~="control-group"]').find('[data-js~="error-icon"]');t.valid?(r.hide(),this.form.process().valid&&this.$$("submit").removeAttr("disabled")):(r.show(),e.addClass("error"),this.$$("submit").attr({disabled:"disabled"}))}});module.exports=s});
define("bundles/userModal/views/authState",["require","exports","module","underscore","bundles/userModal/lib/instrumentation","bundles/thirdPartyAuth/lib","bundles/userModal/views/userModalForm"],function(require,exports,module){var _=require("underscore"),o=require("bundles/userModal/lib/instrumentation"),t=require("bundles/thirdPartyAuth/lib"),e=require("bundles/userModal/views/userModalForm"),n=e.extend({onEnterState:function onEnterState(){e.prototype.onEnterState.call(this),t.facebook.init().then(this.onFacebookInit.bind(this)),this.listenTo(this.model,"facebookLoginFail",this.onFacebookError)},onExitState:function onExitState(){this.stopListening(this.model,"facebookLoginFail")},templateOptions:function templateOptions(){return{facebookEnabled:t.facebook.enabled}},onFacebookInit:function onFacebookInit(){_(this.events).extend({'click [data-js~="facebook-button"]':"onFacebookLogin"}),this.$$("facebook-button").prop("disabled",!1),this.$$("facebook-button-loading").hide(),this.delegateEvents()},onFacebookLogin:function onFacebookLogin(){"login"===this.state?o.thirdPartyLoginSubmit("facebook"):"signup"===this.state&&o.thirdPartySignupSubmit("facebook"),this.$$("facebook-button-loading").show(),this.model.tryFacebookLogin()},onFacebookError:function onFacebookError(o){this.$$("facebook-button-loading").hide(),this.showError(o)}});module.exports=n});
define("bundles/userModal/views/nls/signup",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

!function(a){var e=function(a,e,o){var t=function template(l){var o=[],s={},t,i=l||{};return function(i,e){s["c-login-link"]=function(){var e=this&&this.block,t=this&&this.attributes||{};o.push('<a data-js="user-modal-nav-link" data-target-state="login" href="javascript:void(0);"'+a.cls([t["class"]],[!1])+">"),e&&e(),o.push("</a>")},s["c-login-link"]=function(){var e=this&&this.block,t=this&&this.attributes||{};o.push('<a data-js="user-modal-nav-link" data-target-state="login" href="javascript:void(0);"'+a.cls([t["class"]],[!1])+">"),e&&e(),o.push("</a>")},o.push('<div class="c-user-modal-content">'),i&&o.push('<button data-js="facebook-button" disabled="disabled" class="c-user-modal-facebook-button"><i class="cif cif-facebook-official"></i><span> '+a.escape(null==(t=e("Sign Up with Facebook"))?"":t)+'</span><i data-js="facebook-button-loading" class="cif cif-spinner cif-spin"></i></button><div data-js="facebook-button-divider" class="c-user-modal-divider">'+a.escape(null==(t=e("or"))?"":t)+"</div>"),o.push('<div class="c-user-modal-error-container"><div data-js="existingCourseraAccount help-text" class="c-user-modal-help-text c-phoenix-hide">'+a.escape(null==(t=e("A coursera.org account with that email address already exists. Please"))?"":t)+" "),s["c-login-link"].call({block:function(){o.push(""+a.escape(null==(t=e("login with your email."))?"":t))}}),o.push('</div><div data-js="unableToGetProfile help-text" class="c-user-modal-help-text c-phoenix-hide">'+a.escape(null==(t=e("We weren't able to retrieve your profile. Please try again."))?"":t)+'</div><div data-js="notAuthorized help-text" class="c-user-modal-help-text c-phoenix-hide">'+a.escape(null==(t=e("You must give access to the Coursera App in order to login using Facebook."))?"":t)+'</div><div data-js="unknownCode help-text" class="c-user-modal-help-text c-phoenix-hide">'+a.escape(null==(t=e("Something went wrong. Please refresh the page and try again."))?"":t)+'</div></div><form data-js="form"><div class="c-user-modal-controls"><div data-js="control-group" class="c-user-modal-control-group"><label for="user-modal-full-name" class="sr-only">'+a.escape(null==(t=e("Full Name"))?"":t)+'</label><input autofocus="autofocus" type="text" name="name"'+a.attr("placeholder",e("Full Name"),!0,!1)+' id="user-modal-full-name" required="required" data-form-required="data-form-required" data-form-schema="string+" aria-required="true" aria-describedby="user-modal-name-help"/><i data-js="error-icon"'+a.attr("data-tooltip",e("Required"),!0,!1)+' data-tooltip-position="left" data-tooltip-offset="-4" data-tooltip-style-position="fixed" data-tooltip-animate-in-to="{&quot;opacity&quot;: 1}" data-tooltip-animate-out-from="{&quot;opacity&quot;: 1}" class="c-user-modal-error-icon c-phoenix-hide cif-ban"></i><span id="user-modal-signup-name-help" data-js="help-inline" class="c-user-modal-error-inline c-phoenix-hide">'+a.escape(null==(t=e("Required"))?"":t)+'</span></div><div data-js="control-group" class="c-user-modal-control-group"><label for="user-modal-email" class="sr-only">'+a.escape(null==(t=e("Email"))?"":t)+'</label><input type="email" name="email"'+a.attr("placeholder",e("Email"),!0,!1)+' id="user-modal-email" required="required" aria-describedby="user-modal-signup-email-help" data-form-required="data-form-required" data-form-schema="email" data-js="email"/><i data-js="error-icon"'+a.attr("data-tooltip",e("Not a valid email"),!0,!1)+' data-tooltip-position="left" data-tooltip-offset="-4" data-tooltip-style-position="fixed" data-tooltip-animate-in-to="{&quot;opacity&quot;: 1}" data-tooltip-animate-out-from="{&quot;opacity&quot;: 1}" class="c-user-modal-error-icon c-phoenix-hide cif-ban"></i><span id="user-modal-signup-email-help" data-js="help-inline" class="c-user-modal-error-inline c-phoenix-hide">'+a.escape(null==(t=e("Not a valid email"))?"":t)+'</span></div><div data-js="control-group" class="c-user-modal-control-group"><label for="user-modal-password" class="sr-only">'+a.escape(null==(t=e("Password"))?"":t)+'</label><input type="password" name="password"'+a.attr("placeholder",e("Password"),!0,!1)+' id="user-modal-password" pattern=".{6,}"'+a.attr("title",e("Passwords must be at least 6 characters in length"),!0,!1)+' required="required" aria-required="true" data-form-required="data-form-required" data-form-properties="{&quot;min&quot;:6}" aria-describedby="user-modal-signup-password-help"/><i data-js="error-icon"'+a.attr("data-tooltip",e("Too short"),!0,!1)+' data-tooltip-position="left" data-tooltip-offset="-4" data-tooltip-style-position="fixed" data-tooltip-animate-in-to="{&quot;opacity&quot;: 1}" data-tooltip-animate-out-from="{&quot;opacity&quot;: 1}" class="c-user-modal-error-icon c-phoenix-hide cif-ban"></i><span id="user-modal-signup-password-help" data-js="help-inline" class="c-user-modal-error-inline c-phoenix-hide">'+a.escape(null==(t=e("Too short"))?"":t)+'</span></div></div><button data-js="submit">'+a.escape(null==(t=e("Sign Up"))?"":t)+'</button><div class="c-user-modal-footer">'+(null==(t=e('By signing up to create an account I accept Coursera\'s <a href="/about/terms" target="tab1">Terms of Use</a> and <a href="/about/privacy" target="tab2">Privacy Policy</a>.'))?"":t)+'<input type="hidden" name="termsAgree" value="true"/></div></form></div>')}.call(this,"facebookEnabled"in i?i.facebookEnabled:"undefined"!=typeof facebookEnabled?facebookEnabled:void 0,"_t"in i?i._t:"undefined"!=typeof e?e:void 0),o.join("")};return function(a){return a&&"_t"in a&&(e=a._t.merge(e)),t(a)}};"function"==typeof define&&define.amd?define('bundles/userModal/views/signup.html',["js/vendor/jade","i18n!bundles/userModal/views/nls/signup"],function(a,t){var o;return e(a,t,o)}):a.jade.templates["bundles.userModal.views.signup"]=e(a.jade.helpers)}(window);
define("bundles/userModal/views/signup",["require","exports","module","bundles/userModal/lib/instrumentation","bundles/userModal/views/authState","bundles/userModal/views/signup.html"],function(require,exports,module){var i=require("bundles/userModal/lib/instrumentation"),e=require("bundles/userModal/views/authState"),t=require("bundles/userModal/views/signup.html"),s=e.extend({name:"signup",state:"signup",template:t,customInitialize:function customInitialize(i){e.prototype.customInitialize.call(this,i),this.listenTo(this.model,"signupFail",this.showError)},serializeForm:function serializeForm(){var i=e.prototype.serializeForm.call(this);return i.verifyEmail=i.email,i},onSubmitClick:function onSubmitClick(t){t.preventDefault(),i.signupSubmit();var e=this.model;this.model.trySignup(this.serializeForm()).then(function(t){var s=t&&t.userId;return i.register(s).fin(e.reloadOrRedirect.bind(e))})}});module.exports=s});
define("bundles/userModal/views/nls/login",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

!function(a){var e=function(a,e,t){var s=function template(l){var t=[],o={},s,i=l||{};return function(i,e){o["c-login-link"]=function(){var e=this&&this.block,s=this&&this.attributes||{};t.push('<a data-js="user-modal-nav-link" data-target-state="login" href="javascript:void(0);"'+a.cls([s["class"]],[!1])+">"),e&&e(),t.push("</a>")},o["c-password-reset-link"]=function(){var a=this&&this.block,e=this&&this.attributes||{};t.push('<a data-js="user-modal-nav-link forgot-password-helper login-password-phase" data-target-state="password-reset-request" href="javascript:void(0);">'),a&&a(),t.push("</a>")},o["c-login-link"]=function(){var e=this&&this.block,s=this&&this.attributes||{};t.push('<a data-js="user-modal-nav-link" data-target-state="login" href="javascript:void(0);"'+a.cls([s["class"]],[!1])+">"),e&&e(),t.push("</a>")},o["c-password-reset-link"]=function(){var a=this&&this.block,e=this&&this.attributes||{};t.push('<a data-js="user-modal-nav-link forgot-password-helper login-password-phase" data-target-state="password-reset-request" href="javascript:void(0);">'),a&&a(),t.push("</a>")},o["c-password-reset-link"]=function(){var a=this&&this.block,e=this&&this.attributes||{};t.push('<a data-js="user-modal-nav-link forgot-password-helper login-password-phase" data-target-state="password-reset-request" href="javascript:void(0);">'),a&&a(),t.push("</a>")},o["c-login-link"]=function(){var e=this&&this.block,s=this&&this.attributes||{};t.push('<a data-js="user-modal-nav-link" data-target-state="login" href="javascript:void(0);"'+a.cls([s["class"]],[!1])+">"),e&&e(),t.push("</a>")},t.push('<div class="c-user-modal-content">'),i&&t.push('<button data-js="facebook-button" disabled="disabled" class="c-user-modal-facebook-button"><i class="cif-facebook-official"></i><span> '+a.escape(null==(s=e("Log In with Facebook"))?"":s)+'</span><i data-js="facebook-button-loading" class="cif-spinner cif-spin"></i></button><div data-js="facebook-button-divider" class="c-user-modal-divider">'+a.escape(null==(s=e("or"))?"":s)+"</div>"),t.push('<div class="c-user-modal-error-container"><div data-js="existingCourseraAccount help-text" class="c-user-modal-help-text c-phoenix-hide">'+a.escape(null==(s=e("A coursera.org account with that email address already exists. Please"))?"":s)+" "),o["c-login-link"].call({block:function(){t.push(""+a.escape(null==(s=e("login with your email."))?"":s))}}),t.push('</div><div data-js="unableToGetProfile help-text" class="c-user-modal-help-text c-phoenix-hide">'+a.escape(null==(s=e("We weren't able to retrieve your profile. Please try again."))?"":s)+'</div><div data-js="notAuthorized help-text" class="c-user-modal-help-text c-phoenix-hide">'+a.escape(null==(s=e("You must give access to the Coursera App in order to login using Facebook."))?"":s)+'</div><div data-js="unknownCode help-text" class="c-user-modal-help-text c-phoenix-hide">'+a.escape(null==(s=e("Something went wrong. Please refresh the page and try again."))?"":s)+'</div></div><div class="c-user-modal-error-container"><div data-js="invalidCredential help-text login-password-phase" class="c-user-modal-help-text c-phoenix-hide">'+a.escape(null==(s=e("Wrong email or password. Please try again!"))?"":s)+'</div><div data-js="geoRestricted help-text login-password-phase" class="c-user-modal-help-text c-phoenix-hide">'+a.escape(null==(s=e("Access from your country/region is restricted."))?"":s)+'<br/><a href="https://learner.coursera.help/hc/en-us/articles/201223869-Age-Country-Restrictions">'+a.escape(null==(s=e("Learn more"))?"":s)+'</a></div><div data-js="help-text login-code-phase" class="c-user-modal-help-text c-phoenix-hide">'+a.escape(null==(s=e("Please enter verification code generated by your mobile app"))?"":s)+'</div></div><div class="c-user-modal-success-container"><div data-js="password-reset-success-message help-text" role="alert" aria-live="assertive" class="c-user-modal-help-text c-phoenix-hide">'+a.escape(null==(s=e("Your password was successfully reset, please log in now."))?"":s)+'</div></div><form data-js="form"><div class="c-user-modal-controls"><div data-js="control-group login-password-phase" class="c-user-modal-control-group"><label for="user-modal-email" class="sr-only">'+a.escape(null==(s=e("Email"))?"":s)+'</label><input autofocus="autofocus" type="email" name="email"'+a.attr("placeholder",e("Email"),!0,!1)+' id="user-modal-email" required="required" data-form-required="data-form-required" data-form-schema="email" data-js="email" aria-required="true" aria-describedby="user-modal-email-help"/><i data-js="error-icon"'+a.attr("data-tooltip",e("Not a valid email"),!0,!1)+' data-tooltip-position="left" data-tooltip-offset="-4" data-tooltip-style-position="fixed" data-tooltip-animate-in-to="{&quot;opacity&quot;: 1}" data-tooltip-animate-out-from="{&quot;opacity&quot;: 1}" class="c-user-modal-error-icon c-phoenix-hide cif-ban"></i><span id="user-modal-email-help" data-js="help-inline" class="c-user-modal-error-inline c-phoenix-hide">'+a.escape(null==(s=e("Not a valid email"))?"":s)+'</span></div><div data-js="control-group login-password-phase" class="c-user-modal-control-group"><label for="user-modal-password" class="sr-only">'+a.escape(null==(s=e("Password"))?"":s)+'</label><input type="password" name="password"'+a.attr("placeholder",e("Password"),!0,!1)+' id="user-modal-password" required="required" data-form-required="data-form-required" aria-required="true" aria-describedby="user-modal-password-help"/><i data-js="error-icon"'+a.attr("data-tooltip",e("Required"),!0,!1)+' data-tooltip-position="left" data-tooltip-offset="-4" data-tooltip-style-position="fixed" data-tooltip-animate-in-to="{&quot;opacity&quot;: 1}" data-tooltip-animate-out-from="{&quot;opacity&quot;: 1}" class="c-user-modal-error-icon c-phoenix-hide cif-ban"></i><span id="user-modal-password-help" data-js="help-inline" class="c-user-modal-error-inline c-phoenix-hide">'+a.escape(null==(s=e("Required"))?"":s)+'</span></div><div data-js="login-code-phase" class="c-user-modal-control-group c-phoenix-hide"><label for="2fa-code" class="sr-only">'+a.escape(null==(s=e("Verification Code"))?"":s)+'</label><input type="text" name="code" id="2fa-code" data-js="2fa-code" aria-describedby="user-modal-2fa-help"/><i data-js="error-icon"'+a.attr("data-tooltip",e("Required"),!0,!1)+' data-tooltip-position="left" data-tooltip-offset="-4" data-tooltip-style-position="fixed" data-tooltip-animate-in-to="{&quot;opacity&quot;: 1}" data-tooltip-animate-out-from="{&quot;opacity&quot;: 1}" class="c-user-modal-error-icon c-phoenix-hide cif-ban"></i><span id="user-modal-2fa-help" data-js="help-inline" class="c-user-modal-error-inline c-phoenix-hide">'+a.escape(null==(s=e("Required"))?"":s)+'</span></div></div><button data-js="submit">'+a.escape(null==(s=e("Log In"))?"":s)+'</button><div class="c-user-modal-footer">'),o["c-password-reset-link"].call({block:function(){t.push(""+a.escape(null==(s=e("Forgot my password"))?"":s))}}),t.push("</div></form></div>")}.call(this,"facebookEnabled"in i?i.facebookEnabled:"undefined"!=typeof facebookEnabled?facebookEnabled:void 0,"_t"in i?i._t:"undefined"!=typeof e?e:void 0),t.join("")};return function(a){return a&&"_t"in a&&(e=a._t.merge(e)),s(a)}};"function"==typeof define&&define.amd?define('bundles/userModal/views/login.html',["js/vendor/jade","i18n!bundles/userModal/views/nls/login"],function(a,s){var t;return e(a,s,t)}):a.jade.templates["bundles.userModal.views.login"]=e(a.jade.helpers)}(window);
define("bundles/userModal/views/login",["require","exports","module","bundles/userModal/views/authState","bundles/userModal/views/login.html","bundles/userModal/lib/instrumentation"],function(require,exports,module){var e=require("bundles/userModal/views/authState"),i=require("bundles/userModal/views/login.html"),s=require("bundles/userModal/lib/instrumentation"),t=e.extend({name:"login",state:"login",template:i,customInitialize:function customInitialize(s){e.prototype.customInitialize.call(this,s),this.listenTo(this.model,"loginFail",this.showError),this.listenTo(this.model,"twoFactorRequired",this.onTwoFactorRequired),this.listenTo(this.model,"passwordResetSuccess",this.onPasswordResetSuccess)},onSubmitClick:function onSubmitClick(i){i.preventDefault(),s.loginSubmit();var e=this.model;e.tryLogin(this.serializeForm()).then(function(){return s.login().fin(e.reloadOrRedirect.bind(e))})},onTwoFactorRequired:function onTwoFactorRequired(e){this.showError(e),this.$$("login-password-phase").hide(),this.$$("login-code-phase").show(),this.$$("2fa-code").attr({"data-form-required":!0,"aria-required":!0})},onPasswordResetSuccess:function onPasswordResetSuccess(){this.$$("password-reset-success-message").show(),this.model.show("login",window.location.origin)}});module.exports=t});
define("bundles/userModal/views/nls/passwordResetRequest",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

!function(e){var a=function(e,a,s){var t=function template(o){var s=[],i={},t,l=o||{};return function(a){i["c-help-link"]=function(){var e=this&&this.block,a=this&&this.attributes||{};s.push('<a href="https://learner.coursera.help/" target="_blank">'),e&&e(),s.push("</a>")},i["c-login-link"]=function(){var a=this&&this.block,t=this&&this.attributes||{};s.push('<a data-js="user-modal-nav-link" data-target-state="login" href="javascript:void(0);"'+e.cls([t["class"]],[!1])+">"),a&&a(),s.push("</a>")},i["c-signup-link"]=function(){var a=this&&this.block,t=this&&this.attributes||{};s.push('<a data-js="user-modal-nav-link" data-target-state="signup" href="javascript:void(0);"'+e.cls([t["class"]],[!1])+">"),a&&a(),s.push("</a>")},i["c-signup-link"]=function(){var a=this&&this.block,t=this&&this.attributes||{};s.push('<a data-js="user-modal-nav-link" data-target-state="signup" href="javascript:void(0);"'+e.cls([t["class"]],[!1])+">"),a&&a(),s.push("</a>")},i["c-login-link"]=function(){var a=this&&this.block,t=this&&this.attributes||{};s.push('<a data-js="user-modal-nav-link" data-target-state="login" href="javascript:void(0);"'+e.cls([t["class"]],[!1])+">"),a&&a(),s.push("</a>")},i["c-help-link"]=function(){var e=this&&this.block,a=this&&this.attributes||{};s.push('<a href="https://learner.coursera.help/" target="_blank">'),e&&e(),s.push("</a>")},s.push('<div class="c-user-modal-content"><h2>'+e.escape(null==(t=a("Reset your password"))?"":t)+"</h2><p>"+e.escape(null==(t=a("Enter your email address below. We'll look for your account and send you a password reset email."))?"":t)+'</p><div class="c-user-modal-error-container"><div data-js="couldNotSendEmail help-text" class="c-user-modal-help-text c-phoenix-hide">'+e.escape(null==(t=a("We were unable to reset the password for your account. Please try again."))?"":t)+'</div><div data-js="thirdPartyAuthenticated help-text" class="c-user-modal-help-text c-phoenix-hide">'+(null==(t=a("Your account was created with Facebook, so we can't reset your password. Please&nbsp;"))?"":t)),i["c-login-link"].call({block:function(){s.push(""+e.escape(null==(t=a("login using Facebook"))?"":t))}}),s.push('</div><div data-js="invalidAuthType help-text" class="c-user-modal-help-text c-phoenix-hide">'+(null==(t=a("We were unable to reset the password for your account. Please visit the&nbsp;"))?"":t)),i["c-help-link"].call({block:function(){s.push(""+e.escape(null==(t=a("Learner Help Center."))?"":t))}}),s.push('</div><div data-js="unknownAccount help-text" class="c-user-modal-help-text c-phoenix-hide">'+e.escape(null==(t=a("We couldn't find an account associated with that email address. Please check that you've typed in the correct email address or"))?"":t)+" "),i["c-signup-link"].call({block:function(){s.push(""+e.escape(null==(t=a("sign up"))?"":t))}}),s.push(" "+e.escape(null==(t=a("for an account."))?"":t)+'</div><div data-js="invalidRequest help-text" class="c-user-modal-help-text c-phoenix-hide">'+e.escape(null==(t=a("Please enter a valid email address."))?"":t)+'</div><div data-js="unknownCode help-text" class="c-user-modal-help-text c-phoenix-hide">'+e.escape(null==(t=a("Please enter a valid email address."))?"":t)+'</div></div><form data-js="form"><div class="c-user-modal-controls"><div data-js="control-group" class="c-user-modal-control-group"><label for="user-modal-email" class="sr-only">'+e.escape(null==(t=a("Email Address"))?"":t)+'</label><input autofocus="autofocus" type="email" name="email"'+e.attr("placeholder",a("Email"),!0,!1)+' id="user-modal-email" required="required" aria-describedby="user-modal-signup-email-help" data-form-required="data-form-required" data-form-schema="email" data-js="email"/><em data-js="error-icon"'+e.attr("data-tooltip",a("Not a valid email"),!0,!1)+' data-tooltip-position="left" data-tooltip-offset="-4" data-tooltip-style-position="fixed" data-tooltip-animate-in-to="{&quot;opacity&quot;: 1}" data-tooltip-animate-out-from="{&quot;opacity&quot;: 1}" class="c-user-modal-error-icon c-phoenix-hide cif-ban"></em><span id="user-modal-signup-email-help" data-js="help-inline" class="c-user-modal-error-inline c-phoenix-hide">'+e.escape(null==(t=a("Not a valid email"))?"":t)+'</span></div></div><button data-js="submit">'+e.escape(null==(t=a("Send Password Reset"))?"":t)+"</button></form></div>")}.call(this,"_t"in l?l._t:"undefined"!=typeof a?a:void 0),s.join("")};return function(e){return e&&"_t"in e&&(a=e._t.merge(a)),t(e)}};"function"==typeof define&&define.amd?define('bundles/userModal/views/passwordResetRequest.html',["js/vendor/jade","i18n!bundles/userModal/views/nls/passwordResetRequest"],function(e,t){var s;return a(e,t,s)}):e.jade.templates["bundles.userModal.views.passwordResetRequest"]=a(e.jade.helpers)}(window);
define("bundles/userModal/views/passwordResetRequest",["require","exports","module","bundles/userModal/views/passwordResetRequest.html","bundles/userModal/views/userModalForm"],function(require,exports,module){var e=require("bundles/userModal/views/passwordResetRequest.html"),s=require("bundles/userModal/views/userModalForm"),t=s.extend({name:"passwordResetRequest",state:"password-reset-request",template:e,customInitialize:function customInitialize(e){this.listenTo(this.model,"passwordResetRequestFail",this.showError)},onSubmitClick:function onSubmitClick(e){e.preventDefault(),this.track("click.passwordResetRequest"),this.model.tryRequestResetPassword(this.serializeForm())}});module.exports=t});
define("bundles/userModal/views/nls/passwordResetRequestSent",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

!function(e){var s=function(e,s,n){var t=function template(l){var n=[],a={},t,i=l||{};return function(s){a["c-help-link"]=function(){var e=this&&this.block,s=this&&this.attributes||{};n.push('<a href="https://learner.coursera.help/" target="_blank">'),e&&e(),n.push("</a>")},a["c-help-link"]=function(){var e=this&&this.block,s=this&&this.attributes||{};n.push('<a href="https://learner.coursera.help/" target="_blank">'),e&&e(),n.push("</a>")},n.push('<div class="c-user-modal-content"><h2>'+e.escape(null==(t=s("Reset your password"))?"":t)+'</h2><div class="c-user-modal-success-container"><div data-js="email-container" class="c-user-modal-help-text c-phoenix-hide">'+(null==(t=s('We just sent a password reset email to <strong data-js="email-display"></strong>'))?"":t)+"</div></div><p>"+e.escape(null==(t=s("When you receive the email, click on the link inside to reset your password."))?"":t)+"</p><p>"+e.escape(null==(t=s("If you don't see the email after a few minutes, check your spam folder."))?"":t)+"</p><p>"+(null==(t=s("Still stuck? Visit the&nbsp;"))?"":t)),a["c-help-link"].call({block:function(){n.push(""+e.escape(null==(t=s("Learner Help Center."))?"":t))}}),n.push("</p></div>")}.call(this,"_t"in i?i._t:"undefined"!=typeof s?s:void 0),n.join("")};return function(e){return e&&"_t"in e&&(s=e._t.merge(s)),t(e)}};"function"==typeof define&&define.amd?define('bundles/userModal/views/passwordResetRequestSent.html',["js/vendor/jade","i18n!bundles/userModal/views/nls/passwordResetRequestSent"],function(e,t){var n;return s(e,t,n)}):e.jade.templates["bundles.userModal.views.passwordResetRequestSent"]=s(e.jade.helpers)}(window);
define("bundles/userModal/views/passwordResetRequestSent",["require","exports","module","bundles/userModal/views/userModalState","bundles/userModal/views/passwordResetRequestSent.html"],function(require,exports,module){var e=require("bundles/userModal/views/userModalState"),s=require("bundles/userModal/views/passwordResetRequestSent.html"),t=e.extend({name:"passwordResetRequestSent",state:"password-reset-request-sent",template:s,customInitialize:function customInitialize(e){this.listenTo(this.model,"passwordResetRequestSent",this.onPasswordResetEmailSent)},onPasswordResetEmailSent:function onPasswordResetEmailSent(e){this.$$("email-display").text(e),this.$$("email-container").show(),this.model.show("password-reset-request-sent"),this.track("passwordReset.requestSent")}});module.exports=t});
define("bundles/userModal/views/nls/passwordResetConfirm",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

!function(e){var s=function(e,s,t){var a=function template(i){var t=[],o={},a,r=i||{};return function(s){o["c-help-link"]=function(){var e=this&&this.block,s=this&&this.attributes||{};t.push('<a href="https://learner.coursera.help/" target="_blank">'),e&&e(),t.push("</a>")},o["c-password-reset-link"]=function(){var e=this&&this.block,s=this&&this.attributes||{};t.push('<a data-js="user-modal-nav-link forgot-password-helper login-password-phase" data-target-state="password-reset-request" href="javascript:void(0);">'),e&&e(),t.push("</a>")},o["c-password-reset-link"]=function(){var e=this&&this.block,s=this&&this.attributes||{};t.push('<a data-js="user-modal-nav-link forgot-password-helper login-password-phase" data-target-state="password-reset-request" href="javascript:void(0);">'),e&&e(),t.push("</a>")},o["c-help-link"]=function(){var e=this&&this.block,s=this&&this.attributes||{};t.push('<a href="https://learner.coursera.help/" target="_blank">'),e&&e(),t.push("</a>")},t.push('<div class="c-user-modal-content"><h2>'+e.escape(null==(a=s("Reset your password"))?"":a)+'</h2><p data-js="email-container" class="c-phoenix-hide">'+(null==(a=s('Changing password for: <strong data-js="email-display"></strong>'))?"":a)+'</p><div class="c-user-modal-error-container"><div data-js="missingToken help-text" class="c-user-modal-help-text c-phoenix-hide">'+(null==(a=s("Uh oh! Your password reset link is missing the token. Please double check that you copied and pasted the entire URL sent in your password request email. Still stuck? Visit the&nbsp;"))?"":a)),o["c-help-link"].call({block:function(){t.push(""+e.escape(null==(a=s("Learner Help Center."))?"":a))}}),t.push('</div><div data-js="unknownCode help-text" class="c-user-modal-help-text c-phoenix-hide">'+e.escape(null==(a=s("Uh oh! Your password reset token is invalid or has expired! Please double check that you copied and pasted the entire URL sent in your password request email, and that you clicked on the link within one hour of receiving it."))?"":a)+"\n"+(null==(a=s("If this still doesn't work, please&nbsp;"))?"":a)),o["c-password-reset-link"].call({block:function(){t.push(""+e.escape(null==(a=s("request a new password reset link"))?"":a))}}),t.push(" "+(null==(a=s("or visit the&nbsp;"))?"":a)+'<a href="https://courserahelp.zendesk.com/" target="_blank">'+e.escape(null==(a=s("Learner Help Center."))?"":a)+'</a></div></div><form data-js="form"><div class="c-user-modal-controls"><div data-js="control-group" class="c-user-modal-control-group"><label for="user-modal-reset-password" class="sr-only">'+e.escape(null==(a=s("New Password"))?"":a)+'</label><input autofocus="autofocus" data-js="password" type="password" name="password"'+e.attr("placeholder",s("New Password"),!0,!1)+' id="user-modal-reset-password" pattern=".{6,}" required="required" aria-required="true" data-form-required="data-form-required" data-form-properties="{&quot;min&quot;:6}" aria-describedby="user-modal-signup-password-help"/><i data-js="error-icon"'+e.attr("data-tooltip",s("Too short"),!0,!1)+' data-tooltip-position="left" data-tooltip-offset="-4" data-tooltip-style-position="fixed" data-tooltip-animate-in-to="{&quot;opacity&quot;: 1}" data-tooltip-animate-out-from="{&quot;opacity&quot;: 1}" class="c-user-modal-error-icon c-phoenix-hide cif-ban"></i><span id="user-modal-signup-password-help" data-js="help-inline" class="c-user-modal-error-inline c-phoenix-hide">'+e.escape(null==(a=s("Too short"))?"":a)+'</span></div><div data-js="control-group" class="c-user-modal-control-group"><label for="user-modal-reset-password-confirm" class="sr-only">'+e.escape(null==(a=s("New Password Confirm"))?"":a)+'</label><input data-js="password-confirm" type="password" name="newPassword"'+e.attr("placeholder",s("New Password Confirm"),!0,!1)+' id="user-modal-reset-password-confirm" pattern=".{6,}" required="required" aria-required="true" data-form-required="data-form-required" aria-describedby="user-modal-signup-password-help"/><i data-js="error-icon"'+e.attr("data-tooltip",s("Passwords don't match"),!0,!1)+' data-tooltip-position="left" data-tooltip-offset="-4" data-tooltip-style-position="fixed" data-tooltip-animate-in-to="{&quot;opacity&quot;: 1}" data-tooltip-animate-out-from="{&quot;opacity&quot;: 1}" class="c-user-modal-error-icon c-phoenix-hide cif-ban"></i><span id="user-modal-signup-password-help" data-js="help-inline" class="c-user-modal-error-inline c-phoenix-hide">'+e.escape(null==(a=s("Passwords don't match"))?"":a)+'</span></div></div><button data-js="submit">'+e.escape(null==(a=s("Change Password"))?"":a)+"</button></form></div>")}.call(this,"_t"in r?r._t:"undefined"!=typeof s?s:void 0),t.join("")};return function(e){return e&&"_t"in e&&(s=e._t.merge(s)),a(e)}};"function"==typeof define&&define.amd?define('bundles/userModal/views/passwordResetConfirm.html',["js/vendor/jade","i18n!bundles/userModal/views/nls/passwordResetConfirm"],function(e,a){var t;return s(e,a,t)}):e.jade.templates["bundles.userModal.views.passwordResetConfirm"]=s(e.jade.helpers)}(window);
define("bundles/userModal/views/passwordResetConfirm",["require","exports","module","bundles/userModal/views/userModalForm","bundles/userModal/views/passwordResetConfirm.html"],function(require,exports,module){var s=require("bundles/userModal/views/userModalForm"),e=require("bundles/userModal/views/passwordResetConfirm.html"),o=s.extend({name:"passwordResetConfirm",state:"password-reset-confirm",template:e,customInitialize:function customInitialize(s){this.listenTo(this.model,"passwordResetConfirm",this.onPasswordResetConfirm),this.listenTo(this.model,"passwordResetFail",this.onPasswordResetFail)},postRender:function postRender(){this.$$("password-confirm").data({"data-form-properties":{emailConfirm:this.passwordConfirm.bind(this)}}).one("focus",function(){this.$el.on("keyup paste cut blur",'[data-js~="password"]',this.passwordConfirmChange.bind(this))}.bind(this)),s.prototype.postRender.call(this)},onClose:function onClose(){this.$el.off("keyup paste cut blur"),s.prototype.onClose.call(this)},passwordConfirmChange:function passwordConfirmChange(){this.$$("password-confirm").trigger("change")},passwordConfirm:function passwordConfirm(){var s=this.$$("password").val(),e=this.$$("password-confirm").val();return s===e},serializeForm:function serializeForm(){var e=s.prototype.serializeForm.call(this);return e.token=this.model.get("passwordResetToken"),e},onSubmitClick:function onSubmitClick(s){s.preventDefault(),this.track("click.passwordResetConfirm"),this.model.tryResetPassword(this.serializeForm())},onPasswordResetConfirm:function onPasswordResetConfirm(s){this.$$("email-display").text(s),this.$$("email-container").show(),this.model.show("password-reset-confirm"),this.track("passwordReset.confirm")},onPasswordResetFail:function onPasswordResetFail(s){this.showError(s),"missingToken"===(s&&s.code)&&this.$$("form").hide()}});module.exports=o});
define("bundles/userModal/views/nls/requestEmail",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

!function(e){var a=function(e,a,i){var t=function template(o){var i=[],l={},t,s=o||{};return function(a){l["c-login-link"]=function(){var a=this&&this.block,t=this&&this.attributes||{};i.push('<a data-js="user-modal-nav-link" data-target-state="login" href="javascript:void(0);"'+e.cls([t["class"]],[!1])+">"),a&&a(),i.push("</a>")},l["c-login-link"]=function(){var a=this&&this.block,t=this&&this.attributes||{};i.push('<a data-js="user-modal-nav-link" data-target-state="login" href="javascript:void(0);"'+e.cls([t["class"]],[!1])+">"),a&&a(),i.push("</a>")},i.push('<div class="c-user-modal-content"><h2>'+e.escape(null==(t=a("Almost there!"))?"":t)+"</h2><p>"+e.escape(null==(t=a("We'll need your email to complete your account registration."))?"":t)+'</p><div class="c-user-modal-error-container"><div data-js="help-text existingCourseraAccount" class="c-user-modal-help-text c-phoenix-hide">'+e.escape(null==(t=a("A coursera.org account with that email address already exists. Please"))?"":t)+" "),l["c-login-link"].call({block:function(){i.push(""+e.escape(null==(t=a("login with your email."))?"":t))}}),i.push('</div><div data-js="help-text invalidRequest" class="c-user-modal-help-text c-phoenix-hide">'+e.escape(null==(t=a("Please enter a valid email address."))?"":t)+'</div><div data-js="help-text unknownCode" class="c-user-modal-help-text c-phoenix-hide">'+e.escape(null==(t=a("Something went wrong. Please try again."))?"":t)+'</div></div><form data-js="form"><div class="c-user-modal-controls"><div data-js="control-group" class="c-user-modal-control-group"><label for="user-modal-request-email" class="sr-only">'+e.escape(null==(t=a("Email Address"))?"":t)+'</label><input autofocus="autofocus" type="email" name="email"'+e.attr("placeholder",a("Email"),!0,!1)+' id="user-modal-request-email" required="required" aria-describedby="user-modal-request-email-help" data-form-required="data-form-required" data-form-schema="email" data-js="email"/><i data-js="error-icon"'+e.attr("data-tooltip",a("Not a valid email"),!0,!1)+' data-tooltip-position="left" data-tooltip-offset="-4" data-tooltip-style-position="fixed" data-tooltip-animate-in-to="{&quot;opacity&quot;: 1}" data-tooltip-animate-out-from="{&quot;opacity&quot;: 1}" class="c-user-modal-error-icon c-phoenix-hide cif-ban"></i><span id="user-modal-signup-email-help" data-js="help-inline" class="c-user-modal-error-inline c-phoenix-hide">'+e.escape(null==(t=a("Not a valid email"))?"":t)+'</span></div></div><button data-js="submit">'+e.escape(null==(t=a("Continue"))?"":t)+"</button></form></div>")}.call(this,"_t"in s?s._t:"undefined"!=typeof a?a:void 0),i.join("")};return function(e){return e&&"_t"in e&&(a=e._t.merge(a)),t(e)}};"function"==typeof define&&define.amd?define('bundles/userModal/views/requestEmail.html',["js/vendor/jade","i18n!bundles/userModal/views/nls/requestEmail"],function(e,t){var i;return a(e,t,i)}):e.jade.templates["bundles.userModal.views.requestEmail"]=a(e.jade.helpers)}(window);
define("bundles/userModal/views/requestEmail",["require","exports","module","underscore","bundles/userModal/lib/instrumentation","bundles/userModal/views/requestEmail.html","bundles/userModal/views/userModalForm"],function(require,exports,module){var _=require("underscore"),e=require("bundles/userModal/lib/instrumentation"),i=require("bundles/userModal/views/requestEmail.html"),t=require("bundles/userModal/views/userModalForm"),s=t.extend({name:"requestEmail",state:"request-email",template:i,customInitialize:function customInitialize(e){this.listenTo(this.model,"thirdPartyAuthRequestEmail",this.onRequestEmail)},onEnterState:function onEnterState(){t.prototype.onEnterState.call(this),this.listenTo(this.model,"facebookLoginFail",this.showError)},onExitState:function onExitState(){this.stopListening(this.model,"facebookLoginFail")},onSubmitClick:function onSubmitClick(s){var t=this.model.get("accountType");s.preventDefault(),e.requestEmailSubmit(t);var i=_.defaults(this.serializeForm(),this.model.get("authData"));this.model.set("authData",i),this.model.tryFacebookLogin(i).fail(function(i){return e.requestEmailError(t,i)})},onRequestEmail:function onRequestEmail(t){this.model.set("accountType",t),e.requestEmailView(t),this.model.show(this.state)}});module.exports=s});
define("bundles/userModal/views/nls/requestPassword",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

!function(e){var a=function(e,a,t){var s=function template(i){var t=[],o={},s,r=i||{};return function(a){o["c-password-reset-link"]=function(){var e=this&&this.block,a=this&&this.attributes||{};t.push('<a data-js="user-modal-nav-link forgot-password-helper login-password-phase" data-target-state="password-reset-request" href="javascript:void(0);">'),e&&e(),t.push("</a>")},o["c-password-reset-link"]=function(){var e=this&&this.block,a=this&&this.attributes||{};t.push('<a data-js="user-modal-nav-link forgot-password-helper login-password-phase" data-target-state="password-reset-request" href="javascript:void(0);">'),e&&e(),t.push("</a>")},t.push('<div class="c-user-modal-content"><h2>'+e.escape(null==(s=a("You already have an account"))?"":s)+"</h2><p>"+e.escape(null==(s=a("Please enter your password to log in. You can also"))?"":s)+" "),o["c-password-reset-link"].call({block:function(){t.push(""+e.escape(null==(s=a("reset your password"))?"":s))}}),t.push(" "+e.escape(null==(s=a("if you don't remember it."))?"":s)+'</p><div class="c-user-modal-error-container"><div data-js="help-text invalidPassword" class="c-user-modal-help-text c-phoenix-hide">'+e.escape(null==(s=a("Wrong password. Please try again!"))?"":s)+'</div><div data-js="help-text unknownCode" class="c-user-modal-help-text c-phoenix-hide">'+e.escape(null==(s=a("Something went wrong. Please refresh the page and try again."))?"":s)+'</div></div><form data-js="form"><div class="c-user-modal-controls"><div data-js="control-group login-password-phase" class="c-user-modal-control-group"><label for="user-modal-request-password" class="sr-only">'+e.escape(null==(s=a("Password"))?"":s)+'</label><input type="password" name="password"'+e.attr("placeholder",a("Password"),!0,!1)+' id="user-modal-request-password" required="required" data-form-required="data-form-required" aria-required="true" aria-describedby="user-modal-request-password-help"/><i data-js="error-icon"'+e.attr("data-tooltip",a("Required"),!0,!1)+' data-tooltip-position="left" data-tooltip-offset="-4" data-tooltip-style-position="fixed" data-tooltip-animate-in-to="{&quot;opacity&quot;: 1}" data-tooltip-animate-out-from="{&quot;opacity&quot;: 1}" class="c-user-modal-error-icon c-phoenix-hide cif-ban"></i><span id="user-modal-request-password-help" data-js="help-inline" class="c-user-modal-error-inline c-phoenix-hide">'+e.escape(null==(s=a("Required"))?"":s)+'</span></div></div><button data-js="submit">'+e.escape(null==(s=a("Continue"))?"":s)+"</button></form></div>")}.call(this,"_t"in r?r._t:"undefined"!=typeof a?a:void 0),t.join("")};return function(e){return e&&"_t"in e&&(a=e._t.merge(a)),s(e)}};"function"==typeof define&&define.amd?define('bundles/userModal/views/requestPassword.html',["js/vendor/jade","i18n!bundles/userModal/views/nls/requestPassword"],function(e,s){var t;return a(e,s,t)}):e.jade.templates["bundles.userModal.views.requestPassword"]=a(e.jade.helpers)}(window);
define("bundles/userModal/views/requestPassword",["require","exports","module","underscore","bundles/userModal/lib/instrumentation","bundles/userModal/views/requestPassword.html","bundles/userModal/views/userModalForm"],function(require,exports,module){var _=require("underscore"),e=require("bundles/userModal/lib/instrumentation"),s=require("bundles/userModal/views/requestPassword.html"),t=require("bundles/userModal/views/userModalForm"),o=t.extend({name:"requestPassword",state:"request-password",template:s,customInitialize:function customInitialize(e){this.listenTo(this.model,"thirdPartyAuthRequestPassword",this.onRequestPassword)},onEnterState:function onEnterState(){this.listenTo(this.model,"facebookLoginFail",this.showError)},onExitState:function onExitState(){this.stopListening(this.model,"facebookLoginFail")},onSubmitClick:function onSubmitClick(o){var s=this.model.get("accountType");o.preventDefault(),e.requestPasswordSubmit(s);var t=_.defaults(this.serializeForm(),this.model.get("authData"));this.model.set("authData",t),this.model.tryFacebookLogin(t).fail(function(t){e.requestPasswordError(s,t)})},onRequestPassword:function onRequestPassword(s){this.model.set("accountType",s),e.requestPasswordView(s),this.model.show(this.state)}});module.exports=o});
define("bundles/userModal/views/userModal",["require","exports","module","jquery","origami","jsuri","bundles/phoenix/lib/multitrackerMixin","bundles/phoenix/lib/view","bundles/userModal/lib/instrumentation","bundles/userModal/models/userModal","bundles/userModal/views/userModal.html","js/lib/coursera.redirect","js/lib/modals","css!bundles/helpwidget/index.css","css!bundles/userModal/styl/userModal.css","js/lib/placeholder","css!pages/open-course/common/styl/helpwidget.css","bundles/userModal/views/signup","bundles/userModal/views/login","bundles/userModal/views/passwordResetRequest","bundles/userModal/views/passwordResetRequestSent","bundles/userModal/views/passwordResetConfirm","bundles/userModal/views/requestEmail","bundles/userModal/views/requestPassword"],function(require,exports,module){var $=require("jquery"),h=require("origami"),l=require("jsuri"),u=require("bundles/phoenix/lib/multitrackerMixin"),s=require("bundles/phoenix/lib/view"),e=require("bundles/userModal/lib/instrumentation"),i=require("bundles/userModal/models/userModal"),d=require("bundles/userModal/views/userModal.html"),a=require("js/lib/coursera.redirect"),n=require("js/lib/modals");require("css!bundles/helpwidget/index.css"),require("css!bundles/userModal/styl/userModal.css"),require("js/lib/placeholder"),require("css!pages/open-course/common/styl/helpwidget.css");var o="c-user-modal",t="."+o,r=s.extend({name:"userModal",stateModelProperty:"model",multitracker:{namespace:"userModal"},template:d,subregions:{signup:{"bundles/userModal/views/signup":{to:'[data-js="signup-body"]',module:require("bundles/userModal/views/signup")}},login:{"bundles/userModal/views/login":{to:'[data-js="login-body"]',module:require("bundles/userModal/views/login")}},passwordResetRequest:{"bundles/userModal/views/passwordResetRequest":{to:'[data-js="password-reset-request-body"]',module:require("bundles/userModal/views/passwordResetRequest")}},passwordResetRequestSent:{"bundles/userModal/views/passwordResetRequestSent":{to:'[data-js="password-reset-request-sent-body"]',module:require("bundles/userModal/views/passwordResetRequestSent")}},passwordResetConfirm:{"bundles/userModal/views/passwordResetConfirm":{to:'[data-js="password-reset-confirm-body"]',module:require("bundles/userModal/views/passwordResetConfirm")}},requestEmail:{"bundles/userModal/views/requestEmail":{to:'[data-js="request-email-body"]',module:require("bundles/userModal/views/requestEmail")}},requestPassword:{"bundles/userModal/views/requestPassword":{to:'[data-js="request-password-body"]',module:require("bundles/userModal/views/requestPassword")}}},initialize:function initialize(e){this.userModal=null,this.onModelClose=null,this.model=i,this.listenTo(this,"view:appended",this.onViewAppended.bind(this))},updateLocationForAuthMode:function updateLocationForAuthMode(s){var o=window.location.href,e=new l(o);switch(e.deleteQueryParam("authMode"),s){case"login":case"signup":e.addQueryParam("authMode",s)}var t=e.toString();t!==o&&a.replaceUrl(t)},onViewAppended:function onViewAppended(){if(this.$("input[placeholder]").placeholder(),!this.userModal){var e=!0;window.matchMedia&&window.matchMedia("(max-width: 480px)").matches&&(e=!1),this.userModal=n(this.$(t),{autofocus:e,"overlay.class":"c-user-modal-overlay"}),this.userModal.on("close",this.onModalClose.bind(this)),"hidden"!==this.model.state()&&this.openModal(),this.listenTo(this.model,"state:enter:hidden",this.closeModal.bind(this)),this.listenTo(this.model,"state:exit:hidden",this.openModal.bind(this))}},remove:function remove(){this.userModal&&this.userModal.off("close",this.onModalClose),s.prototype.remove.call(this)},onModalClose:function onModalClose(){this.model.transitionIfNot("hidden")},openModal:function openModal(){this.renderState(),this.userModal.open(),this.$el.hasClass(o)||(this.$el=$(t)),this.$el.on("click","[data-js~=user-modal-nav-link]",this.onNavLinkClick.bind(this))},closeModal:function closeModal(){this.$el.off("click","[data-js~=user-modal-nav-link]"),this.updateLocationForAuthMode(null),this.userModal.close(),e.closeModal()},renderState:function renderState(){s.prototype.renderState.call(this),this.$$("user-modal-nav-link").removeClass("active"),this.$('header [data-target-state~="'+this.model.state()+'"]').addClass("active")},show:function show(e){this.updateLocationForAuthMode(e),this.model.transitionIfNot(e)},hide:function hide(){this.updateLocationForAuthMode(null),this.model.transition("hidden")},onNavLinkClick:function onNavLinkClick(o){var t=$(o.currentTarget),s=t.attr("data-target-state");switch(this.show(s),s){case"login":e.loginLinkClick();break;case"signup":e.signupLinkClick();break;case"password-reset-request":e.passwordResetRequestLinkClick()}}});module.exports=r.extend(u)});
define("bundles/phoenix/template/layout/modals",["require","exports","module","backbone","jquery","js/app/config","bundles/collapse/collapse","css!bundles/phoenix/template/styl/index.css","js/lib/popups","bundles/userModal/views/userModal"],function(require,exports,module){var Backbone=require("backbone"),$=require("jquery"),s=require("js/app/config");require("bundles/collapse/collapse"),require("css!bundles/phoenix/template/styl/index.css"),require("js/lib/popups");var e=Backbone.View.extend({name:"modals",subregions:{userModal:{"bundles/userModal/views/userModal":{to:'[data-js="phoenix-template-region-modal-container"]',module:require("bundles/userModal/views/userModal")}}},render:function render(){this.$el.html('<div data-js="phoenix-template-region-modal-container"></div>')}});module.exports=e});
define("bundles/phoenix/template/layout/nls/page",["require","exports","module"],function(require,exports,module){module.exports={}});

!function(e){var n=function(t,e,i){var n=function template(n){var e=[],t={},i;return e.push('<div class="c-phoenix-template-page"><div data-js="phoenix-template-region-header"></div><div data-js="phoenix-template-region-course-header"></div><div data-js="phoenix-template-region-body"></div><div data-js="phoenix-template-region-footer"></div><div data-js="phoenix-template-region-modal"></div></div>'),e.join("")};return function(t){return t&&"_t"in t&&(e=t._t.merge(e)),n(t)}};"function"==typeof define&&define.amd?define('bundles/phoenix/template/layout/page.html',["js/vendor/jade","i18n!bundles/phoenix/template/layout/nls/page"],function(e,t){var i;return n(e,t,i)}):e.jade.templates["bundles.phoenix.template.layout.page"]=n(e.jade.helpers)}(window);
define("bundles/ssr/lib/user",["require","exports","module","bundles/phoenix/template/models/userIdentity","js/app/loggerSingleton"],function(require,exports,module){var e=require("bundles/phoenix/template/models/userIdentity"),r=require("js/app/loggerSingleton"),t=function _getUserDataFromContext(e){if(!e||"function"!=typeof e.getStore)return null;var t={};try{t=e.getStore("ApplicationStore")}catch(n){r.warn("Unable to get ApplicationStore from the given context")}return t.userData};module.exports={isAuthenticated:function isAuthenticated(n){var r=t(n);return r&&r.id?!0:e.get("authenticated")},getFullName:function getFullName(n){var r=t(n);return r&&r.fullName?r.fullName:e.get("full_name")},extractUserData:function extractUserData(t){var e=parseInt(t.header("X-Coursera-User-Id"),10);"number"!=typeof e&&(e=void 0);var r=t.header("X-Coursera-User-Full-Name");return{id:e,fullName:r}}}});
define("bundles/page/lib/migration",["require","exports","module","react-with-addons","bundles/ssr/lib/user","js/app/loggerSingleton"],function(require,exports,module){function applicationStoreIn(t){if("function"!=typeof t.context.getStore)return!1;try{return t.context.getStore("ApplicationStore")?!0:!1}catch(e){return n.warn("ApplicationStore missing from Fluxible app"),!1}}function reactRouterIn(t){return!!t.context.router}function currentPathnameOf(t){return reactRouterIn(t)?t.context.router.getCurrentPathname():window.location.pathname}function userAuthenticatedIn(t){return e.isAuthenticated(t.context)}var t=require("react-with-addons"),e=require("bundles/ssr/lib/user"),n=require("js/app/loggerSingleton"),r=t.createClass({displayName:"AsyncUserModal",getInitialState:function getInitialState(){return{origamiRegionModule:null}},componentDidMount:function componentDidMount(){var t=this;require(["bundles/phoenix/components/OrigamiRegion"],function(e){t.setState({origamiRegionModule:e})})},render:function render(){if(this.state.origamiRegionModule){var e=this.state.origamiRegionModule;return t.createElement(e,{isUserModal:!0})}return null}});module.exports={applicationStoreIn:applicationStoreIn,currentPathnameOf:currentPathnameOf,reactRouterIn:reactRouterIn,userAuthenticatedIn:userAuthenticatedIn,AsyncUserModal:r}});

define('text!bundles/page/assets/logo.svg',[],function () { return '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generator: Adobe Illustrator 16.2.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n   width="108px" height="17px" viewBox="0 0 108 17" enable-background="new 0 0 108 17" xml:space="preserve">\n<path fill="#717172" d="M54.281,5.773c0.066-1.269,0.521-2.306,1.232-3.115V1.58h-0.945c-1.91,0-3.527,0.732-4.467,2.386h-0.055\n  V1.762h-4.899v13.441h4.9V9.777c0-2.303,0.674-4.059,3.393-4.059C53.736,5.72,54.013,5.737,54.281,5.773z"/>\n<path fill="#717172" d="M91.38,5.724c0.407-1.188,1.067-2.246,1.925-3.095v-1.05h-0.943c-1.911,0-3.526,0.732-4.471,2.385h-0.053\n  V1.762h-4.902v13.441h4.902V9.777c0-2.303,0.676-4.059,3.395-4.059L91.38,5.724z"/>\n<path fill="#717172" d="M64.232,5.22c-0.756-0.393-1.808-0.655-2.645-0.655c-0.562,0-1.533,0.234-1.533,0.917\n  c0,0.918,1.533,1.048,2.211,1.182c2.284,0.444,4.012,1.493,4.012,3.979c0,3.536-3.313,5.008-6.52,5.008\n  c-1.967,0-3.902-0.551-5.574-1.547l1.777-3.33c0.995,0.684,2.665,1.363,3.877,1.363c0.62,0,1.535-0.287,1.535-1.021\n  c0-1.048-1.535-1.103-3.072-1.495c-1.533-0.393-3.066-1.125-3.066-3.536c0-3.302,3.066-4.767,6.088-4.767\n  c1.562,0,3.125,0.235,4.549,0.864L64.232,5.22z"/>\n<path fill="#717172" d="M108,15.203h-4.9v-1.495h-0.054c-0.862,1.336-2.562,1.938-4.175,1.938c-4.096,0-6.975-3.328-6.975-7.18\n  c0-3.848,2.828-7.151,6.92-7.151c1.588,0,3.26,0.576,4.283,1.754V1.762h4.899L108,15.203L108,15.203z M96.959,8.495\n  c0,1.702,1.16,3.012,3.15,3.012c1.992,0,3.147-1.308,3.147-3.012c0-1.651-1.155-3.039-3.147-3.039\n  C98.119,5.457,96.959,6.844,96.959,8.495z"/>\n<path fill="#717172" d="M82.163,9.283H71.846c0,1.937,1.053,2.984,3.072,2.984c1.05,0,1.803-0.339,2.343-1.231h4.714\n  c-0.781,3.171-3.879,4.612-7.029,4.612c-4.575,0-7.995-2.517-7.995-7.152c0-4.48,3.147-7.178,7.644-7.178\n  c4.793,0,7.57,2.883,7.57,7.466L82.163,9.283L82.163,9.283z M77.611,6.53c-0.243-1.284-1.455-2.122-2.773-2.122\n  c-1.429,0-2.609,0.731-2.91,2.122H77.611z"/>\n<g>\n  <g>\n    <path fill="#717172" d="M29.561,8.261c-0.005-0.116-0.013-0.229-0.022-0.344c0,0,0-0.001,0-0.002c0,0,0-0.001,0-0.002\n      c-0.11-1.247-0.522-2.414-1.221-3.468c-0.312-0.47-0.669-0.897-1.068-1.28c-0.583-0.561-1.258-1.025-2.019-1.392\n      c-1.145-0.547-2.41-0.823-3.76-0.823c-0.132,0-0.27,0.002-0.409,0.007C20.114,1,19.197,1.18,18.335,1.497\n      c-0.869,0.314-1.626,0.729-2.245,1.227c-0.126,0.1-0.263,0.223-0.41,0.358l-0.106,0.104L15.429,3.34h0.001h0.001l-0.068,0.067\n      L15.33,3.443l-0.173,0.182c-0.128,0.144-0.25,0.288-0.364,0.429l-0.001-0.002l-0.004-0.004c-0.237,0.288-0.456,0.586-0.617,0.854\n      c-0.109,0.172-0.216,0.349-0.318,0.526L12.44,8.285l0.002,0.002l-0.074,0.145l-0.156,0.316c-0.31,0.627-0.642,1.252-1.013,1.768\n      c-0.827,0.907-1.762,1.351-2.964,1.351c-0.084,0-0.17-0.004-0.258-0.009c-0.724-0.029-1.345-0.2-1.896-0.526\n      c-0.059-0.035-0.116-0.071-0.171-0.108c-0.45-0.299-0.795-0.683-1.053-1.162c-0.291-0.543-0.42-1.098-0.402-1.686\n      C4.456,8.36,4.457,8.346,4.457,8.333C4.496,7.397,4.853,6.669,5.572,6.04C5.747,5.889,5.93,5.761,6.121,5.647\n      c0.027-0.016,0.054-0.031,0.081-0.045c0.534-0.291,1.142-0.436,1.839-0.436l0.217,0.006C9.365,5.214,10.219,5.56,10.9,6.235\n      L13.036,2.4c-0.511-0.342-1.088-0.636-1.724-0.875c-0.024-0.009-0.049-0.019-0.074-0.027c-0.076-0.027-0.151-0.055-0.229-0.08\n      C10.333,1.192,9.624,1.053,8.894,0.99l0,0C8.876,0.987,8.856,0.985,8.838,0.983C8.726,0.976,8.612,0.962,8.5,0.957\n      C8.378,0.952,8.255,0.95,8.135,0.949H8.066c-1.343,0.005-2.591,0.28-3.732,0.825C3.056,2.39,2.02,3.287,1.252,4.443\n      C0.486,5.599,0.068,6.882,0.008,8.259C0.003,8.377,0,8.494,0,8.609c-0.001,1.926,0.701,3.62,2.097,5.042\n      c1.457,1.492,3.352,2.296,5.627,2.391c0.146,0.006,0.29,0.01,0.434,0.01c1.287,0,2.478-0.229,3.546-0.687\n      c0.267-0.114,0.526-0.248,0.791-0.397c0.144-0.083,0.28-0.171,0.415-0.265l0.1-0.067l0.168-0.115\n      c0.202-0.145,0.391-0.302,0.575-0.469l0.064-0.061c0.108-0.103,0.216-0.207,0.318-0.314l0.383-0.433l0.146-0.183l0.068-0.1\n      l0.068-0.098c0.569-0.956,2.421-4.435,2.421-4.435V8.421l0.11-0.212l0.092-0.166c0.273-0.497,0.47-0.85,0.731-1.221l0.007-0.011\n      c0.609-0.883,1.656-1.512,2.89-1.618c2.07-0.178,3.884,1.182,4.051,3.038c0.166,1.856-1.378,3.505-3.448,3.684\n      c-0.431,0.037-0.85,0.008-1.245-0.079l-0.01,0.004c-1.519-0.316-2.486-1.424-2.963-1.919l-1.992,3.663\n      c0,0,0.619,0.624,1.043,0.936c0.425,0.311,0.974,0.617,1.412,0.807c1.063,0.454,2.219,0.726,3.496,0.726\n      c0.148,0,0.118,0,0.272-0.006c2.273-0.095,4.299-0.966,5.76-2.458c1.384-1.417,2.135-3.035,2.142-4.95V8.582\n      C29.568,8.476,29.565,8.369,29.561,8.261z"/>\n  </g>\n</g>\n<g>\n  <path fill="#717172" d="M37.181,15.657c-1.033,0-1.97-0.12-2.811-0.36c-0.841-0.24-1.559-0.619-2.154-1.139\n    c-0.597-0.52-1.057-1.182-1.381-1.985s-0.486-1.771-0.486-2.899V1.759h4.727v7.455c0,0.845,0.202,1.457,0.605,1.839\n    c0.404,0.383,0.917,0.574,1.539,0.574c0.636,0,1.152-0.178,1.55-0.535c0.396-0.357,0.596-0.949,0.596-1.781V1.759h4.727v7.416\n    c0,1.168-0.166,2.161-0.497,2.978c-0.331,0.818-0.798,1.486-1.399,2.006c-0.604,0.52-1.331,0.898-2.186,1.139\n    C39.156,15.537,38.213,15.657,37.181,15.657z"/>\n</g>\n</svg>\n';});

define("bundles/page/lib/logo",["require","exports","module","text!bundles/page/assets/logo.svg","js/app/loggerSingleton"],function(require,exports,module){var e=require("text!bundles/page/assets/logo.svg"),n=require("js/app/loggerSingleton"),o=/path fill="(#\d+)"/,t=/path fill="(#\d+)"/g,i=o.exec(e)[1],a=function encode(e){return"undefined"!=typeof window&&"function"==typeof window.btoa?window.btoa(e):"undefined"!=typeof Buffer?new Buffer(e).toString("base64"):(n.error("Cannot find base64 encoding function available for the logo"),"")};exports.getBase64=function(n){var o=n&&n!==i,l=o?e.replace(t,'path fill="'+n+'"'):e;return a(l)}});
define("nls/account-settings",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define("bundles/page/components/CourseraLogo",["require","exports","module","react-with-addons","bundles/page/lib/logo","i18n!nls/account-settings"],function(require,exports,module){var e=require("react-with-addons"),o=require("bundles/page/lib/logo"),s="data:image/svg+xml;base64,",r=require("i18n!nls/account-settings"),a=e.createClass({displayName:"CourseraLogo",propTypes:{hexColorCode:e.PropTypes.string},render:function render(){var a=s+o.getBase64(this.props.hexColorCode);return e.createElement("img",{src:a,className:"rc-CourseraLogo",alt:r("Coursera")})}});module.exports=a});
define("bundles/page/components/header/HeaderMobileToggleButton",["require","exports","module","react-with-addons","bundles/collapse/collapse"],function(require,exports,module){var e=require("react-with-addons");require("bundles/collapse/collapse");var a=e.createClass({displayName:"HeaderMobileToggleButton",render:function render(){return e.createElement("div",{className:"c-ph-mobile-toggle-button"},e.createElement("button",{className:"bt3-navbar-toggle c-collapsed-toggle-button","data-toggle":"collapse","data-target":"#c-ph-right-nav"},e.createElement("span",{className:"bt3-sr-only"},"Toggle navigation"),e.createElement("span",{className:"c-hidden-accessibility","data-js":"navbar-toggle-open"},"Navigation open"),e.createElement("span",{className:"c-hidden-accessibility","data-js":"navbar-toggle-closed"},"Navigation closed"),e.createElement("span",{className:"bt3-icon-bar"}),e.createElement("span",{className:"bt3-icon-bar"}),e.createElement("span",{className:"bt3-icon-bar"})))}});module.exports=a});
define("bundles/page/components/header/HeaderLogo",["require","exports","module","react-with-addons","bundles/page/components/CourseraLogo","bundles/page/components/header/HeaderMobileToggleButton"],function(require,exports,module){var e=require("react-with-addons"),o=require("bundles/page/components/CourseraLogo"),n=require("bundles/page/components/header/HeaderMobileToggleButton"),a=e.createClass({displayName:"HeaderLogo",contextTypes:{track:e.PropTypes.func.isRequired},handleClickLogo:function handleClickLogo(){this.context.track("click.logo")},render:function render(){return e.createElement("div",{className:"c-ph-logo bt3-navbar-header"},e.createElement(n,null),e.createElement("a",{href:"/",className:"c-logo",onClick:this.handleClickLogo},e.createElement(o,{hexColorCode:"#757575"})))}});module.exports=a});
define("bundles/page/components/header/HeaderRightNavButton",["require","exports","module","react-with-addons","underscore"],function(require,exports,module){var e=require("react-with-addons"),_=require("underscore"),r=e.createClass({displayName:"HeaderRightNavButton",propTypes:{href:e.PropTypes.string,label:e.PropTypes.string.isRequired,onClick:e.PropTypes.func},getDefaultProps:function getDefaultProps(){return{href:"#"}},handleClick:function handleClick(e){_.isFunction(this.props.onClick)&&this.props.onClick()},render:function render(){return e.createElement("li",{className:"c-ph-right-nav-button"},e.createElement("a",{href:this.props.href,"data-popup-close":!0,onClick:this.handleClick},this.props.label))}});module.exports=r});
define("bundles/page/lib/HeaderRightNavButtonShape",["require","exports","module","react-with-addons"],function(require,exports,module){var e=require("react-with-addons");module.exports=e.PropTypes.shape({label:e.PropTypes.string.isRequired,href:e.PropTypes.string.isRequired,showIfLoggedIn:e.PropTypes.bool,showIfLoggedOut:e.PropTypes.bool})});

define('css!bundles/phoenix/components/__styles__/ProfileImage',[],function(){})
var _extends=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(r[t]=s[t])}return r};define("bundles/phoenix/components/ProfileImage",["require","exports","module","classnames","react-with-addons","js/components/Imgix","css!bundles/phoenix/components/__styles__/ProfileImage.css"],function(require,exports,module){var s=require("classnames"),e=require("react-with-addons"),t=require("js/components/Imgix");require("css!bundles/phoenix/components/__styles__/ProfileImage.css");var r=e.createClass({displayName:"ProfileImage",propTypes:{profileImageUrl:e.PropTypes.string,fullName:e.PropTypes.string,width:e.PropTypes.number,height:e.PropTypes.number,alt:e.PropTypes.string},getDefaultProps:function getDefaultProps(){return{width:36,height:36,alt:""}},render:function render(){var i;if(this.props.profileImageUrl)i=e.createElement(t,_extends({src:this.props.profileImageUrl},this.props,{alt:this.props.alt}));else if(this.props.fullName&&"function"==typeof this.props.fullName.trim){var r=this.props.fullName.trim().split(" "),a=r[0][0],n=r.length>1?r[r.length-1][0]:"";i=e.createElement("div",{className:"horizontal-box align-items-absolute-center"},e.createElement("p",null,a+n))}var o=s("c-profile-image",{"c-profile-initials":!this.props.profileImageUrl});return e.createElement("div",{className:"rc-ProfileImage"},e.createElement("div",{className:o,style:{width:this.props.width,height:this.props.height},"aria-hidden":"true"},i))}});module.exports=r});
define("bundles/page/components/header/AuthenticatedAccountInfo",["require","exports","module","classnames","react-with-addons","bundles/page/components/header/HeaderRightNavButton","bundles/page/lib/HeaderRightNavButtonShape","bundles/phoenix/components/ProfileImage","bundles/phoenix/template/models/userIdentity","bundles/ssr/lib/user","js/app/config","js/lib/cookie","js/lib/path","js/lib/truncate","i18n!nls/page","js/lib/popups"],function(require,exports,module){var u=require("classnames"),e=require("react-with-addons"),a=require("bundles/page/components/header/HeaderRightNavButton"),r=require("bundles/page/lib/HeaderRightNavButtonShape"),p=require("bundles/phoenix/components/ProfileImage"),s=require("bundles/phoenix/template/models/userIdentity"),n=require("bundles/ssr/lib/user"),h=require("js/app/config"),l=require("js/lib/cookie"),d=require("js/lib/path"),m=require("js/lib/truncate"),t=require("i18n!nls/page");require("js/lib/popups");var i=e.createClass({displayName:"AvatarDashboardButton",contextTypes:{getStore:e.PropTypes.func},render:function render(){return e.createElement("li",{className:"c-ph-right-nav-button"},e.createElement("a",{href:"/","data-popup-close":!0,className:"c-ph-avatar-dashboard-button-link",title:t("Home")},e.createElement("span",{className:"c-ph-right-nav-mobile-only"},t("Home")),e.createElement("div",{className:"c-ph-right-nav-desktop-only"},e.createElement(p,{fullName:n.getFullName(this.context),width:40,height:40}))))}}),c=e.createClass({displayName:"AuthenticatedAccountDropdown",propTypes:{isStaff:e.PropTypes.bool.isRequired,label:e.PropTypes.string},getInitialState:function getInitialState(){return{hasMounted:!1}},componentDidMount:function componentDidMount(){this.setState({hasMounted:!0})},renderSignoutButton:function renderSignoutButton(){var a=l.get("CSRF3-Token");return e.createElement("li",{className:"c-ph-right-nav-button"},e.createElement("a",{href:"#"},e.createElement("form",{className:"c-ph-right-nav-button",action:"/api/logoutSsr/v1?csrf3-token="+a,method:"post"},e.createElement("button",{className:"bt3-btn-link",type:"submit","data-popup-close":!0},t("Sign Out")))))},render:function render(){if(!this.state.hasMounted)return e.createElement("li",{className:"c-ph-right-nav-button"},e.createElement("span",{className:"c-ph-right-nav-button-label"},this.props.label));var n="c-authenticated-dropdown-button c-ph-slim";return e.createElement("li",{className:"bt3-dropdown c-authenticated-dropdown-menu-container"},e.createElement("div",{className:"c-ph-authenticated-dropdown-left-border"},""),e.createElement("a",{className:n,tabIndex:"0",role:"button","aria-haspopup":"true","aria-expanded":"false","data-toggle":"dropdown","aria-owns":"c-ph-aai-dropdown","data-popup":"#c-ph-aai-dropdown","data-popup-bind-open":"click","data-popup-item":"a","data-popup-direction":"se","data-popup-close":"data-popup-close"},this.props.label?e.createElement("span",{className:"c-ph-dropdown-label"},this.props.label):e.createElement("span",{className:"c-ph-right-nav-mobile-only"},t("Menu")),e.createElement("b",{className:"bt3-caret"})),e.createElement("ul",{className:"bt3-dropdown-menu c-authenticated-dropdown-menu",id:"c-ph-aai-dropdown"},this.props.isStaff&&e.createElement(a,{href:"/admin-ondemand/",label:t("Admin")}),this.props.isStaff&&e.createElement(a,{href:"https://support.coursera.org",label:t("Support")}),e.createElement(a,{href:s.getProfileUrl(),label:t("Profile")}),e.createElement(a,{href:"/account-settings",label:t("Settings")}),e.createElement(a,{href:"/account/settings/signature",label:t("Certificate Settings")}),this.renderSignoutButton()))}}),o=e.createClass({displayName:"AuthenticatedAccountInfo",propTypes:{className:e.PropTypes.string.isRequired,isStaff:e.PropTypes.bool.isRequired,rightNavButtons:e.PropTypes.arrayOf(r)},contextTypes:{getStore:e.PropTypes.func},render:function render(){var t={isStaff:this.props.isStaff};return e.createElement("ul",{className:this.props.className},this.props.rightNavButtons.map(function(t){return e.createElement(a,{label:t.label,href:t.href,key:t.label})}),e.createElement(i,null),e.createElement(c,t))}});module.exports=o});
define("bundles/page/components/header/UnauthenticatedAccountInfo",["require","exports","module","react-router","react-with-addons","bundles/page/components/TrackedLink","bundles/page/components/header/HeaderRightNavButton","bundles/page/lib/HeaderRightNavButtonShape","bundles/phoenix/template/models/userAuthorization","js/app/loggerSingleton","i18n!nls/page"],function(require,exports,module){var r=require("react-router"),s=r.State,e=require("react-with-addons"),a=require("bundles/page/components/TrackedLink"),n=require("bundles/page/components/header/HeaderRightNavButton"),l=require("bundles/page/lib/HeaderRightNavButtonShape"),i=require("bundles/phoenix/template/models/userAuthorization"),o=require("js/app/loggerSingleton"),t=require("i18n!nls/page"),u=e.createClass({displayName:"UnauthenticatedAccountInfo",propTypes:{className:e.PropTypes.string.isRequired,rightNavButtons:e.PropTypes.arrayOf(l)},contextTypes:{track:e.PropTypes.func.isRequired,getStore:e.PropTypes.func},mixins:[s],handleClickNonFluxibleLogin:function handleClickNonFluxibleLogin(){this.context.track("click.login"),i.ensureAuthenticated({mode:"login"})},handleClickNonFluxibleSignup:function handleClickNonFluxibleSignup(){this.context.track("click.signup"),i.ensureAuthenticated({mode:"signup"})},isInFluxibleApp:function isInFluxibleApp(){return"function"==typeof this.context.getStore},render:function render(){var s=this;if(this.isInFluxibleApp()){var i="function"==typeof this.getPathname&&this.getPathname();if(!i)return o.error("pathname is required to render unauthenticated auth buttons"),!1;var r=function getCombinedQueryWithAuthMode(e){return Object.assign({},s.getQuery(),{authMode:e})};return e.createElement("ul",{className:this.props.className},this.props.rightNavButtons.map(function(t){return e.createElement(n,{label:t.label,href:t.href,key:t.label})}),e.createElement("li",{className:"c-ph-right-nav-button"},e.createElement(a,{to:i,trackingName:"login",query:r("login")},t("Log In"))),e.createElement("li",{className:"c-ph-right-nav-button"},e.createElement(a,{to:i,trackingName:"signup",query:r("signup"),className:"bt3-btn bt3-btn-primary"},t("Sign Up"))))}return e.createElement("ul",{className:this.props.className},this.props.rightNavButtons.map(function(t){return e.createElement(n,{label:t.label,href:t.href,key:t.label})}),e.createElement(n,{label:t("Log In"),onClick:this.handleClickNonFluxibleLogin}),e.createElement("li",{className:"c-ph-right-nav-button"},e.createElement("a",{onClick:this.handleClickNonFluxibleSignup,className:"bt3-btn bt3-btn-primary"},t("Sign Up"))))}});module.exports=u});
define("bundles/page/components/header/HeaderRightNav",["require","exports","module","react-with-addons","underscore","bundles/page/components/header/AuthenticatedAccountInfo","bundles/page/components/header/UnauthenticatedAccountInfo","bundles/page/lib/HeaderRightNavButtonShape","bundles/phoenix/template/models/userAuthorization","bundles/ssr/lib/user"],function(require,exports,module){var e=require("react-with-addons"),_=require("underscore"),n=require("bundles/page/components/header/AuthenticatedAccountInfo"),a=require("bundles/page/components/header/UnauthenticatedAccountInfo"),s=require("bundles/page/lib/HeaderRightNavButtonShape"),t=require("bundles/phoenix/template/models/userAuthorization"),r=require("bundles/ssr/lib/user"),o=e.createClass({displayName:"HeaderRightNav",propTypes:{rightNavButtons:e.PropTypes.arrayOf(s)},getDefaultProps:function getDefaultProps(){return{rightNavButtons:[]}},contextTypes:{getStore:e.PropTypes.func},isAuthenticated:function isAuthenticated(){return r.isAuthenticated(this.context)},isStaff:function isStaff(){return!(!t||!t.get("is_staff"))},render:function render(){var t=["c-navbar-list","bt3-nav","bt3-navbar-nav","bt3-navbar-right"].join(" "),s=this.props.rightNavButtons,r=_.where(s,{showIfLoggedIn:!0}),o=_.where(s,{showIfLoggedOut:!0});return e.createElement("div",{id:"c-ph-right-nav",className:"c-ph-right-nav collapse"},this.isAuthenticated()?e.createElement(n,{className:t,isStaff:this.isStaff(),rightNavButtons:r}):e.createElement(a,{className:t,rightNavButtons:o}))}});module.exports=o});
define("bundles/catalog/lib/routeUtils",["require","exports","module","underscore"],function(require,exports,module){var _=require("underscore");exports.getCurrentRoute=function(e){return e[e.length-1].name},exports.hasRoute=function(e,t){return _.chain(e).pluck("name").contains(t).value()},exports.transitionWithTimeout=function(e,u){var r=exports.getCurrentRoute(e.getRoutes()),t=e.getQuery(),n=Object.assign({},t,u);_(t).isEqual(n)||setTimeout(function(){return e.transitionTo(r,e.getParams(),n)},500)}});
!function(e,t){"function"==typeof define&&define.amd?define("bloodhound",["jquery"],function(r){return e.Bloodhound=t(r)}):"object"==typeof exports?module.exports=t(require("jquery")):e.Bloodhound=t(jQuery)}(this,function($){var _=function(){return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:$.isArray,isFunction:$.isFunction,isObject:$.isPlainObject,isUndefined:function(t){return"undefined"==typeof t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(t){return t instanceof $},toStr:function toStr(t){return _.isUndefined(t)||null===t?"":t+""},bind:$.proxy,each:function(t,e){function reverseArgs(t,r){return e(r,t)}$.each(t,reverseArgs)},map:$.map,filter:$.grep,every:function(t,r){var e=!0;if(!t)return e;return $.each(t,function(n,i){if(!(e=r.call(null,i,n,t)))return!1}),!!e},some:function(t,r){var e=!1;if(!t)return e;return $.each(t,function(n,i){if(e=r.call(null,i,n,t))return!1}),!!e},mixin:$.extend,identity:function(t){return t},clone:function(t){return $.extend(!0,{},t)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function templatify(t){function template(){return String(t)}return $.isFunction(t)?t:template},defer:function(t){setTimeout(t,0)},debounce:function(r,i,n){var t,e;return function(){var s=this,o=arguments,u,a;return u=function(){t=null,n||(e=r.apply(s,o))},a=n&&!t,clearTimeout(t),t=setTimeout(u,i),a&&(e=r.apply(s,o)),e}},throttle:function(s,u){var r,n,t,i,e,o;return e=0,o=function(){e=new Date,t=null,i=s.apply(r,n)},function(){var a=new Date,c=u-(a-e);return r=this,n=arguments,0>=c?(clearTimeout(t),t=null,e=a,i=s.apply(r,n)):t||(t=setTimeout(o,c)),i}},stringify:function(t){return _.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),r="0.11.1",n=function(){function whitespace(t){return t=_.toStr(t),t?t.split(/\s+/):[]}function nonword(t){return t=_.toStr(t),t?t.split(/\W+/):[]}function getObjTokenizer(t){return function setKey(e){return e=_.isArray(e)?e:[].slice.call(arguments,0),function tokenize(n){var r=[];return _.each(e,function(e){r=r.concat(t(_.toStr(n[e])))}),r}}}return{nonword:nonword,whitespace:whitespace,obj:{nonword:getObjTokenizer(nonword),whitespace:getObjTokenizer(whitespace)}}}(),t=function(){function LruCache(t){this.maxSize=_.isNumber(t)?t:100,this.reset(),this.maxSize<=0&&(this.set=this.get=$.noop)}function List(){this.head=this.tail=null}function Node(t,e){this.key=t,this.val=e,this.prev=this.next=null}return _.mixin(LruCache.prototype,{set:function set(e,r){var n=this.list.tail,t;this.size>=this.maxSize&&(this.list.remove(n),delete this.hash[n.key],this.size--),(t=this.hash[e])?(t.val=r,this.list.moveToFront(t)):(t=new Node(e,r),this.list.add(t),this.hash[e]=t,this.size++)},get:function get(e){var t=this.hash[e];if(t)return this.list.moveToFront(t),t.val},reset:function reset(){this.size=0,this.hash={},this.list=new List}}),_.mixin(List.prototype,{add:function add(t){this.head&&(t.next=this.head,this.head.prev=t),this.head=t,this.tail=this.tail||t},remove:function remove(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev},moveToFront:function(t){this.remove(t),this.add(t)}}),LruCache}(),i=function(){function PersistentStorage(e,r){this.prefix=["__",e,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+_.escapeRegExChars(this.prefix)),this.ls=r||t,!this.ls&&this._noop()}function now(){return(new Date).getTime()}function encode(t){return JSON.stringify(_.isUndefined(t)?null:t)}function decode(t){return $.parseJSON(t)}function gatherMatchingKeys(r){var e,n,i=[],s=t.length;for(e=0;s>e;e++)(n=t.key(e)).match(r)&&i.push(n.replace(r,""));return i}var t;try{t=window.localStorage,t.setItem("~~~","!"),t.removeItem("~~~")}catch(e){t=null}return _.mixin(PersistentStorage.prototype,{_prefix:function(t){return this.prefix+t},_ttlKey:function(t){return this._prefix(t)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=_.noop},_safeSet:function(t,e){try{this.ls.setItem(t,e)}catch(r){"QuotaExceededError"===r.name&&(this.clear(),this._noop())}},get:function(t){return this.isExpired(t)&&this.remove(t),decode(this.ls.getItem(this._prefix(t)))},set:function(t,r,e){return _.isNumber(e)?this._safeSet(this._ttlKey(t),encode(now()+e)):this.ls.removeItem(this._ttlKey(t)),this._safeSet(this._prefix(t),encode(r))},remove:function(t){return this.ls.removeItem(this._ttlKey(t)),this.ls.removeItem(this._prefix(t)),this},clear:function(){var t,e=gatherMatchingKeys(this.keyMatcher);for(t=e.length;t--;)this.remove(e[t]);return this},isExpired:function(e){var t=decode(this.ls.getItem(this._ttlKey(e)));return _.isNumber(t)&&now()>t?!0:!1}}),PersistentStorage}(),e=function(){function Transport(e){e=e||{},this.cancelled=!1,this.lastReq=null,this._send=e.transport,this._get=e.limiter?e.limiter(this._get):this._get,this._cache=e.cache===!1?new t(0):i}var e=0,r={},n=6,i=new t(10);return Transport.setMaxPendingRequests=function setMaxPendingRequests(t){n=t},Transport.resetCache=function resetCache(){i.reset()},_.mixin(Transport.prototype,{_fingerprint:function fingerprint(t){return t=t||{},t.url+t.type+$.param(t.data||{})},_get:function(s,o){function done(e){o(null,e),t._cache.set(i,e)}function fail(){o(!0)}function always(){e--,delete r[i],t.onDeckRequestArgs&&(t._get.apply(t,t.onDeckRequestArgs),t.onDeckRequestArgs=null)}var t=this,i,u;if(i=this._fingerprint(s),this.cancelled||i!==this.lastReq)return;(u=r[i])?u.done(done).fail(fail):n>e?(e++,r[i]=this._send(s).done(done).fail(fail).always(always)):this.onDeckRequestArgs=[].slice.call(arguments,0)},get:function(t,e){var n,r;e=e||$.noop,t=_.isString(t)?{url:t}:t||{},r=this._fingerprint(t),this.cancelled=!1,this.lastReq=r,(n=this._cache.get(r))?e(null,n):this._get(t,e)},cancel:function(){this.cancelled=!0}}),Transport}(),s=window.SearchIndex=function(){function SearchIndex(t){t=t||{},t.datumTokenizer&&t.queryTokenizer||$.error("datumTokenizer and queryTokenizer are both required"),this.identify=t.identify||_.stringify,this.datumTokenizer=t.datumTokenizer,this.queryTokenizer=t.queryTokenizer,this.reset()}function normalizeTokens(t){return t=_.filter(t,function(t){return!!t}),t=_.map(t,function(t){return t.toLowerCase()})}function newNode(){var r={};return r[e]=[],r[t]={},r}function unique(e){for(var r={},n=[],t=0,i=e.length;i>t;t++)r[e[t]]||(r[e[t]]=!0,n.push(e[t]));return n}function getIntersection(t,r){var e=0,n=0,i=[];t=t.sort(),r=r.sort();for(var s=t.length,o=r.length;s>e&&o>n;)t[e]<r[n]?e++:t[e]>r[n]?n++:(i.push(t[e]),e++,n++);return i}var t="c",e="i";return _.mixin(SearchIndex.prototype,{bootstrap:function bootstrap(t){this.datums=t.datums,this.trie=t.trie},add:function(r){var n=this;r=_.isArray(r)?r:[r],_.each(r,function(r){var i,s;n.datums[i=n.identify(r)]=r,s=normalizeTokens(n.datumTokenizer(r)),_.each(s,function(u){var r,o,s;for(r=n.trie,o=u.split("");s=o.shift();)r=r[t][s]||(r[t][s]=newNode()),r[e].push(i)})})},get:function get(t){var e=this;return _.map(t,function(t){return e.datums[t]})},search:function search(s){var n=this,i,r;return i=normalizeTokens(this.queryTokenizer(s)),_.each(i,function(a){var i,s,u,o;if(r&&0===r.length)return!1;for(i=n.trie,s=a.split("");i&&(u=s.shift());)i=i[t][u];if(!i||0!==s.length)return r=[],!1;o=i[e].slice(0),r=r?getIntersection(r,o):o}),r?_.map(unique(r),function(t){return n.datums[t]}):[]},all:function all(){var t=[];for(var e in this.datums)t.push(this.datums[e]);return t},reset:function reset(){this.datums={},this.trie=newNode()},serialize:function serialize(){return{datums:this.datums,trie:this.trie}}}),SearchIndex}(),o=function(){function Prefetch(t){this.url=t.url,this.ttl=t.ttl,this.cache=t.cache,this.prepare=t.prepare,this.transform=t.transform,this.transport=t.transport,this.thumbprint=t.thumbprint,this.storage=new i(t.cacheKey)}var t;return t={data:"data",protocol:"protocol",thumbprint:"thumbprint"},_.mixin(Prefetch.prototype,{_settings:function settings(){return{url:this.url,type:"GET",dataType:"json"}},store:function store(e){if(!this.cache)return;this.storage.set(t.data,e,this.ttl),this.storage.set(t.protocol,location.protocol,this.ttl),this.storage.set(t.thumbprint,this.thumbprint,this.ttl)},fromCache:function fromCache(){var e={},r;if(!this.cache)return null;return e.data=this.storage.get(t.data),e.protocol=this.storage.get(t.protocol),e.thumbprint=this.storage.get(t.thumbprint),r=e.thumbprint!==this.thumbprint||e.protocol!==location.protocol,e.data&&!r?e.data:null},fromNetwork:function(t){function onError(){t(!0)}function onResponse(e){t(null,r.transform(e))}var r=this,e;if(!t)return;e=this.prepare(this._settings()),this.transport(e).fail(onError).done(onResponse)},clear:function clear(){return this.storage.clear(),this}}),Prefetch}(),u=function(){function Remote(t){this.url=t.url,this.prepare=t.prepare,this.transform=t.transform,this.transport=new e({cache:t.cache,limiter:t.limiter,transport:t.transport})}return _.mixin(Remote.prototype,{_settings:function settings(){return{url:this.url,type:"GET",dataType:"json"}},get:function get(t,e){function onResponse(t,r){e(t?[]:n.transform(r))}var n=this,r;if(!e)return;return t=t||"",r=this.prepare(t,this._settings()),this.transport.get(r,onResponse)},cancelLastRequest:function cancelLastRequest(){this.transport.cancel()}}),Remote}(),a=function(){function parsePrefetch(t){var e;if(!t)return null;return e={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:_.identity,transform:_.identity,transport:null},t=_.isString(t)?{url:t}:t,t=_.mixin(e,t),!t.url&&$.error("prefetch requires url to be set"),t.transform=t.filter||t.transform,t.cacheKey=t.cacheKey||t.url,t.thumbprint=r+t.thumbprint,t.transport=t.transport?callbackToDeferred(t.transport):$.ajax,t}function parseRemote(t){var e;if(!t)return;return e={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:_.identity,transport:null},t=_.isString(t)?{url:t}:t,t=_.mixin(e,t),!t.url&&$.error("remote requires url to be set"),t.transform=t.filter||t.transform,t.prepare=toRemotePrepare(t),t.limiter=toLimiter(t),t.transport=t.transport?callbackToDeferred(t.transport):$.ajax,delete t.replace,delete t.wildcard,delete t.rateLimitBy,delete t.rateLimitWait,t}function toRemotePrepare(t){function prepareByReplace(e,t){return t.url=r(t.url,e),t}function prepareByWildcard(e,t){return t.url=t.url.replace(n,encodeURIComponent(e)),t}function idenityPrepare(e,t){return t}var e,r,n;if(e=t.prepare,r=t.replace,n=t.wildcard,e)return e;return e=r?prepareByReplace:t.wildcard?prepareByWildcard:idenityPrepare}function toLimiter(e){function debounce(t){return function debounce(e){return _.debounce(e,t)}}function throttle(t){return function throttle(e){return _.throttle(e,t)}}var t,n,r;return t=e.limiter,n=e.rateLimitBy,r=e.rateLimitWait,t||(t=/^throttle$/i.test(n)?throttle(r):debounce(r)),t}function callbackToDeferred(t){return function wrapper(r){function onSuccess(t){_.defer(function(){e.resolve(t)})}function onError(t){_.defer(function(){e.reject(t)})}var e=$.Deferred();return t(r,onSuccess,onError),e}}return function parse(t){var r,e;return r={initialize:!0,identify:_.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null},t=_.mixin(r,t||{}),!t.datumTokenizer&&$.error("datumTokenizer is required"),!t.queryTokenizer&&$.error("queryTokenizer is required"),e=t.sorter,t.sorter=e?function(t){return t.sort(e)}:_.identity,t.local=_.isFunction(t.local)?t.local():t.local,t.prefetch=parsePrefetch(t.prefetch),t.remote=parseRemote(t.remote),t}}(),c=function(){function Bloodhound(t){t=a(t),this.sorter=t.sorter,this.identify=t.identify,this.sufficient=t.sufficient,this.local=t.local,this.remote=t.remote?new u(t.remote):null,this.prefetch=t.prefetch?new o(t.prefetch):null,this.index=new s({identify:this.identify,datumTokenizer:t.datumTokenizer,queryTokenizer:t.queryTokenizer}),t.initialize!==!1&&this.initialize()}var t;return t=window&&window.Bloodhound,Bloodhound.noConflict=function noConflict(){return window&&(window.Bloodhound=t),Bloodhound},Bloodhound.tokenizers=n,_.mixin(Bloodhound.prototype,{__ttAdapter:function ttAdapter(){function withAsync(e,r,n){return t.search(e,r,n)}function withoutAsync(e,r){return t.search(e,r)}var t=this;return this.remote?withAsync:withoutAsync},_loadPrefetch:function loadPrefetch(){function done(r,n){if(r)return t.reject();e.add(n),e.prefetch.store(e.index.serialize()),t.resolve()}var e=this,t,r;return t=$.Deferred(),this.prefetch?(r=this.prefetch.fromCache())?(this.index.bootstrap(r),t.resolve()):this.prefetch.fromNetwork(done):t.resolve(),t.promise()},_initialize:function initialize(){function addLocalToIndex(){t.add(t.local)}var t=this,e;return this.clear(),(this.initPromise=this._loadPrefetch()).done(addLocalToIndex),this.initPromise},initialize:function initialize(t){return!this.initPromise||t?this._initialize():this.initPromise},add:function add(t){return this.index.add(t),this},get:function get(t){return t=_.isArray(t)?t:[].slice.call(arguments),this.index.get(t)},search:function search(e,i,r){function processRemote(i){var e=[];_.each(i,function(r){!_.some(t,function(t){return n.identify(r)===n.identify(t)})&&e.push(r)}),r&&r(e)}var n=this,t;return t=this.sorter(this.index.search(e)),i(this.remote?t.slice():t),this.remote&&t.length<this.sufficient?this.remote.get(e,processRemote):this.remote&&this.remote.cancelLastRequest(),this},all:function all(){return this.index.all()},clear:function clear(){return this.index.reset(),this},clearPrefetchCache:function clearPrefetchCache(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function clearRemoteCache(){return e.resetCache(),this},ttAdapter:function ttAdapter(){return this.__ttAdapter()}}),Bloodhound}();return c});
define("bundles/search/lib/autoSuggest",["require","exports","module","bloodhound","q","underscore"],function(require,exports,module){var e=require("bloodhound"),n=require("q"),_=require("underscore");exports.bloodhoundPromise=function(){var r=n().then(function(){var r=n.defer(),t={datumTokenizer:e.tokenizers.obj.whitespace("term"),queryTokenizer:e.tokenizers.whitespace,identify:_.property("term"),sorter:function sorter(e,n){return-(e.freq-n.freq)}},o;return require(["json!js/json/suggestions.json"],function(e){o=_.extend({},t,{local:e}),r.resolve(o)}),r.promise}).then(function(n){return new e(n)});return r.done(),r}});
!function(e,t){"function"==typeof define&&define.amd?define("typeahead",["jquery"],function(e){return t(e)}):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(this,function($){var _=function(){return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:$.isArray,isFunction:$.isFunction,isObject:$.isPlainObject,isUndefined:function(t){return"undefined"==typeof t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(t){return t instanceof $},toStr:function toStr(t){return _.isUndefined(t)||null===t?"":t+""},bind:$.proxy,each:function(t,e){function reverseArgs(t,n){return e(n,t)}$.each(t,reverseArgs)},map:$.map,filter:$.grep,every:function(t,n){var e=!0;if(!t)return e;return $.each(t,function(i,s){if(!(e=n.call(null,s,i,t)))return!1}),!!e},some:function(t,n){var e=!1;if(!t)return e;return $.each(t,function(i,s){if(e=n.call(null,s,i,t))return!1}),!!e},mixin:$.extend,identity:function(t){return t},clone:function(t){return $.extend(!0,{},t)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function templatify(t){function template(){return String(t)}return $.isFunction(t)?t:template},defer:function(t){setTimeout(t,0)},debounce:function(n,s,i){var t,e;return function(){var r=this,a=arguments,u,o;return u=function(){t=null,i||(e=n.apply(r,a))},o=i&&!t,clearTimeout(t),t=setTimeout(u,s),o&&(e=n.apply(r,a)),e}},throttle:function(r,u){var n,i,t,s,e,a;return e=0,a=function(){e=new Date,t=null,s=r.apply(n,i)},function(){var o=new Date,c=u-(o-e);return n=this,i=arguments,0>=c?(clearTimeout(t),t=null,e=o,s=r.apply(n,i)):t||(t=setTimeout(a,c)),s}},stringify:function(t){return _.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),s=function(){function build(i){var e,n;return n=_.mixin({},t,i),e={css:buildCss(),classes:n,html:buildHtml(n),selectors:buildSelectors(n)},{css:e.css,html:e.html,classes:e.classes,selectors:e.selectors,mixin:function(t){_.mixin(t,e)}}}function buildHtml(t){return{wrapper:'<span class="'+t.wrapper+'"></span>',menu:'<div class="'+t.menu+'"></div>'}}function buildSelectors(e){var t={};return _.each(e,function(e,n){t[n]="."+e}),t}function buildCss(){var t={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return _.isMsie()&&_.mixin(t.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),t}var t={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return build}(),r=function(){function EventBus(t){t&&t.el||$.error("EventBus initialized without el"),this.$el=$(t.el)}var t,e;return t="typeahead:",e={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},_.mixin(EventBus.prototype,{_trigger:function(i,e){var n;return n=$.Event(t+i),(e=e||[]).unshift(n),this.$el.trigger.apply(this.$el,e),n},before:function(n){var t,e;return t=[].slice.call(arguments,1),e=this._trigger("before"+n,t),e.isDefaultPrevented()},trigger:function(t){var n;this._trigger(t,[].slice.call(arguments,1)),(n=e[t])&&this._trigger(n,[].slice.call(arguments,1))}}),EventBus}(),e=function(){function on(r,i,e,s){var n;if(!e)return this;for(i=i.split(t),e=s?bindContext(e,s):e,this._callbacks=this._callbacks||{};n=i.shift();)this._callbacks[n]=this._callbacks[n]||{sync:[],async:[]},this._callbacks[n][r].push(e);return this}function onAsync(t,e,n){return on.call(this,"async",t,e,n)}function onSync(t,e,n){return on.call(this,"sync",t,e,n)}function off(e){var n;if(!this._callbacks)return this;for(e=e.split(t);n=e.shift();)delete this._callbacks[n];return this}function trigger(i){var n,s,r,a,u;if(!this._callbacks)return this;for(i=i.split(t),r=[].slice.call(arguments,1);(n=i.shift())&&(s=this._callbacks[n]);)a=getFlush(s.sync,this,[n].concat(r)),u=getFlush(s.async,this,[n].concat(r)),a()&&e(u);return this}function getFlush(t,e,n){function flush(){for(var i,s=0,r=t.length;!i&&r>s;s+=1)i=t[s].apply(e,n)===!1;return!i}return flush}function getNextTick(){var t;return t=window.setImmediate?function nextTickSetImmediate(t){setImmediate(function(){t()})}:function nextTickSetTimeout(t){setTimeout(function(){t()},0)}}function bindContext(t,e){return t.bind?t.bind(e):function(){t.apply(e,[].slice.call(arguments,0))}}var t=/\s+/,e=getNextTick();return{onSync:onSync,onAsync:onAsync,off:off,trigger:trigger}}(),a=function(t){function getRegex(i,s,r){for(var t=[],e,n=0,a=i.length;a>n;n++)t.push(_.escapeRegExChars(i[n]));return e=r?"\\b("+t.join("|")+")\\b":"("+t.join("|")+")",s?new RegExp(e):new RegExp(e,"i")}var e={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function hightlight(n){function hightlightTextNode(a){var e,s,r;return(e=i.exec(a.data))&&(r=t.createElement(n.tagName),n.className&&(r.className=n.className),s=a.splitText(e.index),s.splitText(e[0].length),r.appendChild(s.cloneNode(!0)),a.parentNode.replaceChild(r,s)),!!e}function traverse(n,i){for(var t,s=3,e=0;e<n.childNodes.length;e++)t=n.childNodes[e],t.nodeType===s?e+=i(t)?1:0:traverse(t,i)}var i;if(n=_.mixin({},e,n),!n.node||!n.pattern)return;n.pattern=_.isArray(n.pattern)?n.pattern:[n.pattern],i=getRegex(n.pattern,n.caseSensitive,n.wordsOnly),traverse(n.node,hightlightTextNode)}}(window.document),n=function(){function Input(t,e){t=t||{},t.input||$.error("input is missing"),e.mixin(this),this.$hint=$(t.hint),this.$input=$(t.input),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=buildOverflowHelper(this.$input),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=_.noop)}function buildOverflowHelper(t){return $('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:t.css("font-family"),fontSize:t.css("font-size"),fontStyle:t.css("font-style"),fontVariant:t.css("font-variant"),fontWeight:t.css("font-weight"),wordSpacing:t.css("word-spacing"),letterSpacing:t.css("letter-spacing"),textIndent:t.css("text-indent"),textRendering:t.css("text-rendering"),textTransform:t.css("text-transform")}).insertAfter(t)}function areQueriesEquivalent(t,e){return Input.normalizeQuery(t)===Input.normalizeQuery(e)}function withModifier(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}var t;return t={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},Input.normalizeQuery=function(t){return _.toStr(t).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},_.mixin(Input.prototype,e,{_onBlur:function onBlur(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function onFocus(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function onKeydown(e){var n=t[e.which||e.keyCode];this._managePreventDefault(n,e),n&&this._shouldTrigger(n,e)&&this.trigger(n+"Keyed",e)},_onInput:function onInput(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function managePreventDefault(n,e){var t;switch(n){case"up":case"down":t=!withModifier(e);break;default:t=!1}t&&e.preventDefault()},_shouldTrigger:function shouldTrigger(e,n){var t;switch(e){case"tab":t=!withModifier(n);break;default:t=!0}return t},_checkLanguageDirection:function checkLanguageDirection(){var t=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==t&&(this.dir=t,this.$hint.attr("dir",t),this.trigger("langDirChanged",t))},_setQuery:function setQuery(t,n){var e,i;e=areQueriesEquivalent(t,this.query),i=e?this.query.length!==t.length:!1,this.query=t,n||e?!n&&i&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var e=this,n,i,s,r;return n=_.bind(this._onBlur,this),i=_.bind(this._onFocus,this),s=_.bind(this._onKeydown,this),r=_.bind(this._onInput,this),this.$input.on("blur.tt",n).on("focus.tt",i).on("keydown.tt",s),!_.isMsie()||_.isMsie()>9?this.$input.on("input.tt",r):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(n){if(t[n.which||n.keyCode])return;_.defer(_.bind(e._onInput,e,n))}),this},focus:function focus(){this.$input.focus()},blur:function blur(){this.$input.blur()},getLangDir:function getLangDir(){return this.dir},getQuery:function getQuery(){return this.query||""},setQuery:function setQuery(t,e){this.setInputValue(t),this._setQuery(t,e)},hasQueryChangedSinceLastFocus:function hasQueryChangedSinceLastFocus(){return this.query!==this.queryWhenFocused},getInputValue:function getInputValue(){return this.$input.val()},setInputValue:function setInputValue(t){this.$input.val(t),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function resetInputValue(){this.setInputValue(this.query)},getHint:function getHint(){return this.$hint.val()},setHint:function setHint(t){this.$hint.val(t)},clearHint:function clearHint(){this.setHint("")},clearHintIfInvalid:function clearHintIfInvalid(){var t,e,n,i;t=this.getInputValue(),e=this.getHint(),n=t!==e&&0===e.indexOf(t),i=""!==t&&n&&!this.hasOverflow(),!i&&this.clearHint()},hasFocus:function hasFocus(){return this.$input.is(":focus")},hasOverflow:function hasOverflow(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var t,e,n;if(t=this.$input.val().length,e=this.$input[0].selectionStart,_.isNumber(e))return e===t;if(document.selection)return n=document.selection.createRange(),n.moveStart("character",-t),t===n.text.length;return!0},destroy:function destroy(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=$("<div>")}}),Input}(),i=function(){function Dataset(t,e){t=t||{},t.templates=t.templates||{},t.templates.notFound=t.templates.notFound||t.templates.empty,t.source||$.error("missing source"),t.node||$.error("missing node"),t.name&&!isValidName(t.name)&&$.error("invalid dataset name: "+t.name),e.mixin(this),this.highlight=!!t.highlight,this.name=t.name||n(),this.limit=t.limit||5,this.displayFn=getDisplayFn(t.display||t.displayKey),this.templates=getTemplates(t.templates,this.displayFn),this.source=t.source.__ttAdapter?t.source.__ttAdapter():t.source,this.async=_.isUndefined(t.async)?this.source.length>2:!!t.async,this._resetLastSuggestion(),this.$el=$(t.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}function getDisplayFn(t){function displayFn(e){return e[t]}return t=t||_.stringify,_.isFunction(t)?t:displayFn}function getTemplates(t,e){function suggestionTemplate(t){return $("<div>").text(e(t))}return{notFound:t.notFound&&_.templatify(t.notFound),pending:t.pending&&_.templatify(t.pending),header:t.header&&_.templatify(t.header),footer:t.footer&&_.templatify(t.footer),suggestion:t.suggestion||suggestionTemplate}}function isValidName(t){return/^[_a-zA-Z0-9-]+$/.test(t)}var t,n;return t={val:"tt-selectable-display",obj:"tt-selectable-object"},n=_.getIdGenerator(),Dataset.extractData=function extractData(n){var e=$(n);if(e.data(t.obj))return{val:e.data(t.val)||"",obj:e.data(t.obj)||null};return null},_.mixin(Dataset.prototype,e,{_overwrite:function overwrite(e,t){t=t||[],t.length?this._renderSuggestions(e,t):this.async&&this.templates.pending?this._renderPending(e):!this.async&&this.templates.notFound?this._renderNotFound(e):this._empty(),this.trigger("rendered",this.name,t,!1)},_append:function append(e,t){t=t||[],t.length&&this.$lastSuggestion.length?this._appendSuggestions(e,t):t.length?this._renderSuggestions(e,t):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(e),this.trigger("rendered",this.name,t,!0)},_renderSuggestions:function renderSuggestions(t,e){var n;n=this._getSuggestionsFragment(t,e),this.$lastSuggestion=n.children().last(),this.$el.html(n).prepend(this._getHeader(t,e)).append(this._getFooter(t,e))},_appendSuggestions:function appendSuggestions(n,i){var t,e;t=this._getSuggestionsFragment(n,i),e=t.children().last(),this.$lastSuggestion.after(t),this.$lastSuggestion=e},_renderPending:function renderPending(e){var t=this.templates.pending;this._resetLastSuggestion(),t&&this.$el.html(t({query:e,dataset:this.name}))},_renderNotFound:function renderNotFound(e){var t=this.templates.notFound;this._resetLastSuggestion(),t&&this.$el.html(t({query:e,dataset:this.name}))},_empty:function empty(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function getSuggestionsFragment(i,s){var e=this,n;return n=document.createDocumentFragment(),_.each(s,function getSuggestionNode(s){var r,a;a=e._injectQuery(i,s),r=$(e.templates.suggestion(a)).data(t.obj,s).data(t.val,e.displayFn(s)).addClass(e.classes.suggestion+" "+e.classes.selectable),n.appendChild(r[0])}),this.highlight&&a({className:this.classes.highlight,node:n,pattern:i}),$(n)},_getFooter:function getFooter(t,e){return this.templates.footer?this.templates.footer({query:t,suggestions:e,dataset:this.name}):null},_getHeader:function getHeader(t,e){return this.templates.header?this.templates.header({query:t,suggestions:e,dataset:this.name}):null},_resetLastSuggestion:function resetLastSuggestion(){this.$lastSuggestion=$()},_injectQuery:function injectQuery(e,t){return _.isObject(t)?_.mixin({_query:e},t):t},update:function update(e){function sync(s){if(i)return;i=!0,s=(s||[]).slice(0,t.limit),n=s.length,t._overwrite(e,s),n<t.limit&&t.async&&t.trigger("asyncRequested",e)}function async(i){i=i||[],!s&&n<t.limit&&(t.cancel=$.noop,t._append(e,i.slice(0,t.limit-n)),t.async&&t.trigger("asyncReceived",e))}var t=this,s=!1,i=!1,n=0;this.cancel(),this.cancel=function cancel(){s=!0,t.cancel=$.noop,t.async&&t.trigger("asyncCanceled",e)},this.source(e,sync,async),!i&&sync([])},cancel:$.noop,clear:function clear(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function isEmpty(){return this.$el.is(":empty")},destroy:function destroy(){this.$el=$("<div>")}}),Dataset}(),t=function(){function Menu(t,e){function initializeDataset(t){var s=n.$node.find(t.node).first();return t.node=s.length?s:$("<div>").appendTo(n.$node),new i(t,e)}var n=this;t=t||{},t.node||$.error("node is required"),e.mixin(this),this.$node=$(t.node),this.query=null,this.datasets=_.map(t.datasets,initializeDataset)}return _.mixin(Menu.prototype,e,{_onSelectableClick:function onSelectableClick(t){this.trigger("selectableClicked",$(t.currentTarget))},_onRendered:function onRendered(i,t,e,n){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",t,e,n)},_onCleared:function onCleared(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function propagate(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function allDatasetsEmpty(){function isDatasetEmpty(t){return t.isEmpty()}return _.every(this.datasets,isDatasetEmpty)},_getSelectables:function getSelectables(){return this.$node.find(this.selectors.selectable)},_removeCursor:function _removeCursor(){var t=this.getActiveSelectable();t&&t.removeClass(this.classes.cursor)},_ensureVisible:function ensureVisible(s){var t,e,n,i;t=s.position().top,e=t+s.outerHeight(!0),n=this.$node.scrollTop(),i=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),0>t?this.$node.scrollTop(n+t):e>i&&this.$node.scrollTop(n+(e-i))},bind:function(){var t=this,e;return e=_.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,e),_.each(this.datasets,function(e){e.onSync("asyncRequested",t._propagate,t).onSync("asyncCanceled",t._propagate,t).onSync("asyncReceived",t._propagate,t).onSync("rendered",t._onRendered,t).onSync("cleared",t._onCleared,t)}),this},isOpen:function isOpen(){return this.$node.hasClass(this.classes.open)},open:function open(){this.$node.addClass(this.classes.open)},close:function close(){this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function setLanguageDirection(t){this.$node.attr("dir",t)},selectableRelativeToCursor:function selectableRelativeToCursor(s){var e,n,i,t;return n=this.getActiveSelectable(),e=this._getSelectables(),i=n?e.index(n):-1,t=i+s,t=(t+1)%(e.length+1)-1,t=-1>t?e.length-1:t,-1===t?null:e.eq(t)},setCursor:function setCursor(t){this._removeCursor(),(t=t&&t.first())&&(t.addClass(this.classes.cursor),this._ensureVisible(t))},getSelectableData:function getSelectableData(t){return t&&t.length?i.extractData(t):null},getActiveSelectable:function getActiveSelectable(){var t=this._getSelectables().filter(this.selectors.cursor).first();return t.length?t:null},getTopSelectable:function getTopSelectable(){var t=this._getSelectables().first();return t.length?t:null},update:function update(t){function updateDataset(e){e.update(t)}var e=t!==this.query;return e&&(this.query=t,_.each(this.datasets,updateDataset)),e},empty:function empty(){function clearDataset(t){t.clear()}_.each(this.datasets,clearDataset),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function destroy(){function destroyDataset(t){t.destroy()}this.$node.off(".tt"),this.$node=$("<div>"),_.each(this.datasets,destroyDataset)}}),Menu}(),u=function(){function DefaultMenu(){t.apply(this,[].slice.call(arguments,0))}var e=t.prototype;return _.mixin(DefaultMenu.prototype,t.prototype,{open:function open(){return!this._allDatasetsEmpty()&&this._show(),e.open.apply(this,[].slice.call(arguments,0))},close:function close(){return this._hide(),e.close.apply(this,[].slice.call(arguments,0))},_onRendered:function onRendered(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),e._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function onCleared(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),e._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function setLanguageDirection(t){return this.$node.css("ltr"===t?this.css.ltr:this.css.rtl),e.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function hide(){this.$node.hide()},_show:function show(){this.$node.css("display","block")}}),DefaultMenu}(),o=function(){function Typeahead(t,p){var n,i,s,r,d,u,o,h,l,a,e;t=t||{},t.input||$.error("missing input"),t.menu||$.error("missing menu"),t.eventBus||$.error("missing event bus"),p.mixin(this),this.eventBus=t.eventBus,this.minLength=_.isNumber(t.minLength)?t.minLength:1,this.input=t.input,this.menu=t.menu,this.enabled=!0,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),n=c(this,"activate","open","_onFocused"),i=c(this,"deactivate","_onBlurred"),s=c(this,"isActive","isOpen","_onEnterKeyed"),r=c(this,"isActive","isOpen","_onTabKeyed"),d=c(this,"isActive","_onEscKeyed"),u=c(this,"isActive","open","_onUpKeyed"),o=c(this,"isActive","open","_onDownKeyed"),h=c(this,"isActive","isOpen","_onLeftKeyed"),l=c(this,"isActive","isOpen","_onRightKeyed"),a=c(this,"_openIfActive","_onQueryChanged"),e=c(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",n,this).onSync("blurred",i,this).onSync("enterKeyed",s,this).onSync("tabKeyed",r,this).onSync("escKeyed",d,this).onSync("upKeyed",u,this).onSync("downKeyed",o,this).onSync("leftKeyed",h,this).onSync("rightKeyed",l,this).onSync("queryChanged",a,this).onSync("whitespaceChanged",e,this).onSync("langDirChanged",this._onLangDirChanged,this)}function c(t){var e=[].slice.call(arguments,1);return function(){var n=[].slice.call(arguments);_.each(e,function(e){return t[e].apply(t,n)})}}return _.mixin(Typeahead.prototype,{_hacks:function hacks(){var e,t;e=this.input.$input||$("<div>"),t=this.menu.$node||$("<div>"),e.on("blur.tt",function(i){var n,s,r;n=document.activeElement,s=t.is(n),r=t.has(n).length>0,_.isMsie()&&(s||r)&&(i.preventDefault(),i.stopImmediatePropagation(),_.defer(function(){e.focus()}))}),t.on("mousedown.tt",function(t){t.preventDefault()})},_onSelectableClicked:function onSelectableClicked(e,t){this.select(t)},_onDatasetCleared:function onDatasetCleared(){this._updateHint()},_onDatasetRendered:function onDatasetRendered(i,t,e,n){this._updateHint(),this.eventBus.trigger("render",e,n,t)},_onAsyncRequested:function onAsyncRequested(n,t,e){this.eventBus.trigger("asyncrequest",e,t)},_onAsyncCanceled:function onAsyncCanceled(n,t,e){this.eventBus.trigger("asynccancel",e,t)},_onAsyncReceived:function onAsyncReceived(n,t,e){this.eventBus.trigger("asyncreceive",e,t)},_onFocused:function onFocused(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function onBlurred(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function onEnterKeyed(n,e){var t;(t=this.menu.getActiveSelectable())&&this.select(t)&&e.preventDefault()},_onTabKeyed:function onTabKeyed(n,e){var t;(t=this.menu.getActiveSelectable())?this.select(t)&&e.preventDefault():(t=this.menu.getTopSelectable())&&this.autocomplete(t)&&e.preventDefault()},_onEscKeyed:function onEscKeyed(){this.close()},_onUpKeyed:function onUpKeyed(){this.moveCursor(-1)},_onDownKeyed:function onDownKeyed(){this.moveCursor(1)},_onLeftKeyed:function onLeftKeyed(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function onRightKeyed(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function onQueryChanged(e,t){this._minLengthMet(t)?this.menu.update(t):this.menu.empty()},_onWhitespaceChanged:function onWhitespaceChanged(){this._updateHint()},_onLangDirChanged:function onLangDirChanged(e,t){this.dir!==t&&(this.dir=t,this.menu.setLanguageDirection(t))},_openIfActive:function openIfActive(){this.isActive()&&this.open()},_minLengthMet:function minLengthMet(t){return t=_.isString(t)?t:this.input.getQuery()||"",t.length>=this.minLength},_updateHint:function updateHint(){var s,e,t,r,a,u,i;s=this.menu.getTopSelectable(),e=this.menu.getSelectableData(s),t=this.input.getInputValue(),!e||_.isBlankString(t)||this.input.hasOverflow()?this.input.clearHint():(r=n.normalizeQuery(t),a=_.escapeRegExChars(r),u=new RegExp("^(?:"+a+")(.+$)","i"),i=u.exec(e.val),i&&this.input.setHint(t+i[1]))},isEnabled:function isEnabled(){return this.enabled},enable:function enable(){this.enabled=!0},disable:function disable(){this.enabled=!1},isActive:function isActive(){return this.active},activate:function activate(){return this.isActive()?!0:!this.isEnabled()||this.eventBus.before("active")?!1:(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function deactivate(){return this.isActive()?this.eventBus.before("idle")?!1:(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0):!0},isOpen:function isOpen(){return this.menu.isOpen()},open:function open(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function close(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function setVal(t){this.input.setQuery(_.toStr(t))},getVal:function getVal(){return this.input.getQuery()},select:function select(e){var t=this.menu.getSelectableData(e);if(t&&!this.eventBus.before("select",t.obj))return this.input.setQuery(t.val,!0),this.eventBus.trigger("select",t.obj),this.close(),!0;return!1},autocomplete:function autocomplete(i){var e,t,n;if(e=this.input.getQuery(),t=this.menu.getSelectableData(i),n=t&&e!==t.val,n&&!this.eventBus.before("autocomplete",t.obj))return this.input.setQuery(t.val),this.eventBus.trigger("autocomplete",t.obj),!0;return!1},moveCursor:function moveCursor(r){var i,e,t,n,s;if(i=this.input.getQuery(),e=this.menu.selectableRelativeToCursor(r),t=this.menu.getSelectableData(e),n=t?t.obj:null,s=this._minLengthMet()&&this.menu.update(i),!s&&!this.eventBus.before("cursorchange",n))return this.menu.setCursor(e),t?this.input.setInputValue(t.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",n),!0;return!1},destroy:function destroy(){this.input.destroy(),this.menu.destroy()}}),Typeahead}();!function(){function ttEach(t,n){t.each(function(){var t=$(this),i;(i=t.data(e.typeahead))&&n(i,t)})}function buildHintFromInput(t,e){return t.clone().addClass(e.classes.hint).removeData().css(e.css.hint).css(getBackgroundStyles(t)).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}function prepInput(t,n){t.data(e.attrs,{dir:t.attr("dir"),autocomplete:t.attr("autocomplete"),spellcheck:t.attr("spellcheck"),style:t.attr("style")}),t.addClass(n.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!t.attr("dir")&&t.attr("dir","auto")}catch(i){}return t}function getBackgroundStyles(t){return{backgroundAttachment:t.css("background-attachment"),backgroundClip:t.css("background-clip"),backgroundColor:t.css("background-color"),backgroundImage:t.css("background-image"),backgroundOrigin:t.css("background-origin"),backgroundPosition:t.css("background-position"),backgroundRepeat:t.css("background-repeat"),backgroundSize:t.css("background-size")}}function revert(t){var i,n;i=t.data(e.www),n=t.parent().filter(i.selectors.wrapper),_.each(t.data(e.attrs),function(e,n){_.isUndefined(e)?t.removeAttr(n):t.attr(n,e)}),t.removeData(e.typeahead).removeData(e.www).removeData(e.attr).removeClass(i.classes.input),n.length&&(t.detach().insertAfter(n),n.remove())}function $elOrNull(t){var n,e;return n=_.isJQuery(t)||_.isElement(t),e=n?$(t).first():[],e.length?e:null}var a,e,i;a=$.fn.typeahead,e={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},i={initialize:function initialize(a,c){function attach(){var s,f,h,d,p,l,g,m,y,v,b;_.each(c,function(t){t.highlight=!!a.highlight}),s=$(this),f=$(i.html.wrapper),h=$elOrNull(a.hint),d=$elOrNull(a.menu),p=a.hint!==!1&&!h,l=a.menu!==!1&&!d,p&&(h=buildHintFromInput(s,i)),l&&(d=$(i.html.menu).css(i.css.menu)),h&&h.val(""),s=prepInput(s,i),(p||l)&&(f.css(i.css.wrapper),s.css(p?i.css.input:i.css.inputWithNoHint),s.wrap(f).parent().prepend(p?h:null).append(l?d:null)),b=l?u:t,g=new r({el:s}),m=new n({hint:h,input:s},i),y=new b({node:d,datasets:c},i),v=new o({input:m,menu:y,eventBus:g,minLength:a.minLength},i),s.data(e.www,i),s.data(e.typeahead,v)}var i;return c=_.isArray(c)?c:[].slice.call(arguments,1),a=a||{},i=s(a.classNames),this.each(attach)},isEnabled:function isEnabled(){var t;return ttEach(this.first(),function(e){t=e.isEnabled()}),t},enable:function enable(){return ttEach(this,function(t){t.enable()}),this},disable:function disable(){return ttEach(this,function(t){t.disable()}),this},isActive:function isActive(){var t;return ttEach(this.first(),function(e){t=e.isActive()}),t},activate:function activate(){return ttEach(this,function(t){t.activate()}),this},deactivate:function deactivate(){return ttEach(this,function(t){t.deactivate()}),this},isOpen:function isOpen(){var t;return ttEach(this.first(),function(e){t=e.isOpen()}),t},open:function open(){return ttEach(this,function(t){t.open()}),this},close:function close(){return ttEach(this,function(t){t.close()}),this},select:function select(e){var t=!1,n=$(e);return ttEach(this.first(),function(e){t=e.select(n)}),t},autocomplete:function autocomplete(e){var t=!1,n=$(e);return ttEach(this.first(),function(e){t=e.autocomplete(n)}),t},moveCursor:function moveCursoe(e){var t=!1;return ttEach(this.first(),function(n){t=n.moveCursor(e)}),t},val:function val(e){var t;return arguments.length?(ttEach(this,function(t){t.setVal(e)}),this):(ttEach(this.first(),function(e){t=e.getVal()}),t)},destroy:function destroy(){return ttEach(this,function(t,e){revert(e),t.destroy()}),this}},$.fn.typeahead=function(t){return i[t]?i[t].apply(this,[].slice.call(arguments,1)):i.initialize.apply(this,arguments)},$.fn.typeahead.noConflict=function noConflict(){return $.fn.typeahead=a,this}}()});
define("bundles/page/components/SearchCatalogInput",["require","exports","module","jquery","react-with-addons","underscore","bundles/search/lib/autoSuggest","typeahead"],function(require,exports,module){var $=require("jquery"),e=require("react-with-addons"),_=require("underscore"),t=require("bundles/search/lib/autoSuggest");require("typeahead");var a=13,s=e.createClass({displayName:"SearchCatalogInput",propTypes:{autoSuggestEnabled:e.PropTypes.bool,searchText:e.PropTypes.string,className:e.PropTypes.string,placeholder:e.PropTypes.string,onChange:e.PropTypes.func.isRequired,onSubmit:e.PropTypes.func.isRequired,isInNewCatalog:e.PropTypes.bool},contextTypes:{track:e.PropTypes.func.isRequired},getDefaultProps:function getDefaultProps(){return{autoSuggestEnabled:!1,className:"",placeholder:"",searchText:"",isInNewCatalog:!1}},getInitialState:function getInitialState(){return{$searchWithTypeahead:null}},componentDidMount:function componentDidMount(){var e=this;t.bloodhoundPromise().then(function(a){var s=$(e.getDOMNode()),t=s.typeahead({highlight:!0,minLength:1,classNames:{hint:"c-search-hint",menu:"c-search-menu card-rich-interaction",suggestion:"c-search-suggestion",open:"c-search-open",cursor:"c-search-cursor",highlight:"c-search-highlight"}},{name:"courses",source:a.ttAdapter(),display:_.property("term")});t.on("typeahead:select",function(t){e.handleTypeaheadEvent(t,"typeahead.select"),e.handleSubmit(t)}),t.on("typeahead:autocomplete",function(t){return e.handleTypeaheadEvent(t,"typeahead.autocomplete")}),t.on("typeahead:change",function(t){return e.handleTypeaheadEvent(t,"typeahead.change")}),e.setState({$searchWithTypeahead:t})})},handleKeyUp:function handleKeyUp(e){e.which===a&&this.handleSubmit()},handleTypeaheadEvent:function handleTypeaheadEvent(e,t){this.handleChange(e),this.closeAutoSuggestions(),this.track(t,{searchText:this.props.searchText})},handleSubmit:function handleSubmit(){this.closeAutoSuggestions(),this.track("search",{searchText:this.props.searchText}),this.props.onSubmit()},handleChange:function handleChange(e){var t=e.target.value;this.props.onChange(t)},closeAutoSuggestions:function closeAutoSuggestions(){this.props.autoSuggestEnabled&&this.state.$searchWithTypeahead.typeahead("close")},track:function track(){if(!this.props.isInNewCatalog){var e;(e=this.context).track.apply(e,arguments)}},render:function render(){var t=["c-search-catalog-input",this.props.className].join(" ");return e.createElement("input",{type:"text",className:t,placeholder:this.props.placeholder,onKeyUp:this.handleKeyUp,onChange:this.handleChange,value:this.props.searchText})}});module.exports=s});

define('css!bundles/page/components/header/__styles__/HeaderSearchBar',[],function(){})
var _extends=Object.assign||function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(s[a]=t[a])}return s};define("bundles/page/components/header/HeaderSearchBar",["require","exports","module","classnames","react-router","react-with-addons","js/lib/coursera.redirect","bundles/iconfont/Icon","bundles/catalog/lib/routeUtils","bundles/page/components/SearchCatalogInput","i18n!nls/page","css!./__styles__/HeaderSearchBar"],function(require,exports,module){var n=require("classnames"),t=require("react-router"),o=t.State,c=t.Link,u=t.Navigation,e=require("react-with-addons"),r=require("js/lib/coursera.redirect"),a=require("bundles/iconfont/Icon"),i=require("bundles/catalog/lib/routeUtils"),l=require("bundles/page/components/SearchCatalogInput"),s=require("i18n!nls/page");require("css!./__styles__/HeaderSearchBar");var h=e.createClass({displayName:"HeaderSearchBar",propTypes:{hideSearch:e.PropTypes.bool,hasCatalogButton:e.PropTypes.bool,centerSearchInput:e.PropTypes.bool,initialSearchText:e.PropTypes.string,isInNewCatalog:e.PropTypes.bool,isCombinedSearch:e.PropTypes.bool},contextTypes:{track:e.PropTypes.func.isRequired,executeAction:e.PropTypes.func,getEpicParam:e.PropTypes.func},mixins:[o,u],getDefaultProps:function getDefaultProps(){return{hideSearch:!1,hasCatalogButton:!1,centerSearchInput:!1,isInNewCatalog:!1,isCombinedSearch:!1}},getInitialState:function getInitialState(){return{autoSuggestEnabled:!this.props.hideSearch,searchText:this.props.initialSearchText,hasMounted:!1}},componentDidMount:function componentDidMount(){this.setState({hasMounted:!0})},onSubmit:function onSubmit(t){t&&t.preventDefault();var e=this.state.searchText;if(this.props.isInNewCatalog){var s=i.getCurrentRoute(this.getRoutes()),n="search"===s?Object.assign({},this.getQuery(),{query:e}):{query:e};this.transitionTo("search",null,n)}else{var a="/courses";e&&(a+="?query="+e),r.setLocation(a)}},onChange:function onChange(e){this.setState({searchText:e})},componentWillReceiveProps:function componentWillReceiveProps(e){this.props.initialSearchText!==e.initialSearchText&&this.onChange(e.initialSearchText)},renderCatalogButton:function renderCatalogButton(){if(!this.props.hasCatalogButton)return null;return this.props.isInNewCatalog&&this.context.router?e.createElement(c,{to:"browse",className:"c-catalog-button"},e.createElement(a,{name:"course-list",className:"c-catalog-icon"}),s("Catalog")):e.createElement("a",{href:"/browse",className:"c-catalog-button"},e.createElement(a,{name:"course-list",className:"c-catalog-icon"}),s("Catalog"))},renderSearchIcon:function renderSearchIcon(){return this.state.hasMounted?e.createElement("a",{onClick:this.onSubmit},e.createElement(a,{name:"search",className:"c-search-icon"})):e.createElement("a",null,e.createElement("i",{className:"cif-search c-search-icon"},e.createElement("input",{type:"submit",className:"c-search-submit",value:""})))},render:function render(){if(this.props.hideSearch)return null;var t=n("c-ph-search-bar",{"bt3-navbar-header":!0,"c-center-search-input":this.props.centerSearchInput,"c-has-catalog-button":this.props.hasCatalogButton}),a=this.state.hasMounted?{onSubmit:this.onSubmit}:{action:"/courses",method:"GET"};return e.createElement("div",{className:t},e.createElement("span",{className:"c-ph-search-wrapper"},this.renderCatalogButton(),e.createElement("form",_extends({className:"c-search-form"},a),e.createElement("span",{className:"c-search-input-container"},e.createElement(l,{searchText:this.state.searchText,placeholder:s("Search catalog"),autoSuggestEnabled:this.state.autoSuggestEnabled,onSubmit:this.onSubmit,onChange:this.onChange,isInNewCatalog:this.props.isInNewCatalog}),this.renderSearchIcon()))))}});module.exports=h});
define("bundles/page/lib/loadOnMount",["require","exports","module","react-with-addons"],function(require,exports,module){function loadOnMount(e){var n=t.createClass({displayName:"DynamicComponent",getInitialState:function getInitialState(){return{componentModule:null}},componentDidMount:function componentDidMount(){var t=this;e(function(e){t.isMounted()&&t.setState({factory:e})})},render:function render(){return this.state.factory?t.createElement(this.state.factory,this.props):null}});return n}var t=require("react-with-addons");module.exports=loadOnMount});
define("nls/user-account",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

var _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t};define("bundles/user-account/components/EmailField",["require","exports","module","react-with-addons","i18n!nls/user-account"],function(require,exports,module){var e=require("react-with-addons"),a=require("i18n!nls/user-account"),r=e.createClass({displayName:"EmailField",propTypes:{defaultValue:e.PropTypes.string},render:function render(){var r=this.props.defaultValue,t=Object.assign({},this.props);return"string"==typeof r&&-1===r.indexOf("@")&&(t.defaultValue=decodeURIComponent(r)),e.createElement("div",{className:"c-user-modal-control-group"},e.createElement("label",{htmlFor:"user-modal-email",className:"sr-only"},a("Email")),e.createElement("input",_extends({},t,{required:!0,type:"email",name:"email",placeholder:a("Email")})))}});module.exports=r});
define("bundles/user-account/components/LoginLink",["require","exports","module","react-router","react-with-addons","bundles/page/components/TrackedLink"],function(require,exports,module){var t=require("react-router"),n=t.State,e=require("react-with-addons"),s=require("bundles/page/components/TrackedLink"),r=e.createClass({displayName:"LoginLink",mixins:[n],propTypes:{className:e.PropTypes.string},render:function render(){return e.createElement(s,{trackingName:"login",to:this.getPathname(),query:Object.assign({},this.getQuery(),{authMode:"login"}),tabIndex:1e4,className:this.props.className},this.props.children)}});module.exports=r});
define("bundles/user-account/components/ErrorMessage",["require","exports","module","react-with-addons","bundles/user-account/components/LoginLink","i18n!nls/user-account"],function(require,exports,module){var r=require("react-with-addons"),a=require("bundles/user-account/components/LoginLink"),e=require("i18n!nls/user-account"),n=e("Something went wrong.")+" "+e("Please refresh the page and try again."),o={twoFactorRequired:e("Please enter your two-factor verification code generated by your mobile app,\n    and re-enter your password."),twoFactorInvalid:e("Wrong two-factor verification code or password. Please try again!"),geoRestriction:e("Access from your country/region is restricted."),invalidCredential:e("Wrong email or password. Please try again!"),existingCourseraAccount:e("A coursera.org account with that email address already exists."),malformedEmailAddress:e("The email address you entered is not valid."),passwordRequirements:e("Please enter a longer password."),invalidPassword:e("Wrong password. Please try again!"),unknownStatus:n,unknownError:n},s=r.createClass({displayName:"ErrorMessage",propTypes:{errorCode:r.PropTypes.oneOf(Object.keys(o)).isRequired},render:function render(){var n=o[this.props.errorCode]||o.unknownError;return r.createElement("div",{className:"c-user-modal-help-text"},n,n===o.existingCourseraAccount&&r.createElement("span",null,"",r.createElement(a,null,e("Please login with your email"))))}});module.exports=s});
var _extends=Object.assign||function(a){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[s]=r[s])}return a};define("bundles/user-account/components/PasswordField",["require","exports","module","react-with-addons","i18n!nls/user-account"],function(require,exports,module){var e=require("react-with-addons"),r=require("i18n!nls/user-account"),s=e.createClass({displayName:"PasswordField",render:function render(){return e.createElement("div",{className:"c-user-modal-control-group"},e.createElement("label",{htmlFor:"user-modal-password",className:"sr-only"},r("Password")),e.createElement("input",_extends({},this.props,{required:!0,type:"password",name:"password",placeholder:r("Password")})))}});module.exports=s});
define("bundles/user-account/components/CompleteForm",["require","exports","module","react-router","react-with-addons","bundles/thirdPartyAuth/lib","bundles/user-account/components/EmailField","bundles/user-account/components/ErrorMessage","bundles/user-account/components/PasswordField","bundles/userModal/lib/instrumentation","js/lib/coursera.react-intl","i18n!nls/user-account"],function(require,exports,module){var i=require("react-router"),s=i.State,e=require("react-with-addons"),u=require("bundles/thirdPartyAuth/lib"),d=require("bundles/user-account/components/EmailField"),o=require("bundles/user-account/components/ErrorMessage"),n=require("bundles/user-account/components/PasswordField"),r=require("bundles/userModal/lib/instrumentation"),l=require("js/lib/coursera.react-intl"),c=l.FormattedHTMLMessage,t=require("i18n!nls/user-account"),a={noEmailAvailable:{primary:t("Almost there!"),secondary:t("We'll need your email to complete your account registration.")},existingCourseraAccount:{primary:t("You already have an account"),secondary:e.createElement(c,{message:t("Please enter your password to log in. If you don't remember it, {resetPasswordLink}."),resetPasswordLink:e.createElement("a",{href:"/reset",target:"resetpw"},t("Reset Password"))})},notAuthorized:{primary:t("Something went wrong."),secondary:t("Please try again and be sure to authorize the Coursera app.")},unableToGetProfile:{primary:t("Unable to get profile."),secondary:t("Please try again.")},unknownStatus:{primary:t("Something went wrong."),secondary:t("Please try again.")}},m=e.createClass({displayName:"CompleteForm",mixins:[s],propTypes:{completeMode:e.PropTypes.oneOf(Object.keys(a)).isRequired,onSuccess:e.PropTypes.func.isRequired},getInitialState:function getInitialState(){return{email:null,password:null,errorCode:null}},handleChange:function handleChange(e){var t={};t[e.target.name]=e.target.value,this.setState(t)},tryCompleting:function tryCompleting(){var e=this;r.requestEmailSubmit("facebook");var t={email:this.state.email,password:this.state.password};u.connect("facebook",t).then(function(t){r.thirdPartyAuth(t).fin(function(){return e.props.onSuccess()})}).fail(function(t){r.thirdPartyError("facebook",t),e.setState({errorCode:t&&t.code})}).done()},render:function render(){var s={noEmailAvailable:[e.createElement(d,{tabIndex:10006,onChange:this.handleChange,key:"email"})],existingCourseraAccount:[e.createElement(n,{tabIndex:10007,onChange:this.handleChange,key:"password"})]},r=a[this.props.completeMode]||{primary:t("An unexpected error occurred."),secondary:t("Please try again later.")};return e.createElement("div",{className:"rc-CompleteForm"},e.createElement("h2",null,r.primary),e.createElement("p",null,r.secondary),this.state.errorCode&&e.createElement(o,{errorCode:this.state.errorCode}),e.createElement("div",{className:"c-user-modal-controls"},e.createElement("div",{"data-js":"control-group login-password-phase",className:"c-user-modal-control-group"},s[this.props.completeMode])),e.createElement("button",{tabIndex:10018,onClick:this.tryCompleting},t("Continue")))}});module.exports=m});
define("bundles/user-account/components/FacebookAlternative",["require","exports","module","react-with-addons"],function(require,exports,module){var e=require("react-with-addons"),a=e.createClass({displayName:"FacebookAlternative",propTypes:{label:e.PropTypes.string.isRequired,onFacebookClick:e.PropTypes.func},render:function render(){var a=!!this.props.onFacebookClick;return e.createElement("div",null,e.createElement("button",{className:"c-user-modal-facebook-button",disabled:!a,onClick:this.props.onFacebookClick,tabIndex:"10012"},e.createElement("i",{className:"cif-facebook-official"}),this.props.label,!a&&e.createElement("i",{className:"cif-spinner cif-spin"})),e.createElement("div",{className:"c-user-modal-divider"},"or"))}});module.exports=a});
var _extends=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}return n};define("bundles/user-account/components/VerificationField",["require","exports","module","react-with-addons","i18n!nls/user-account"],function(require,exports,module){var e=require("react-with-addons"),r=require("i18n!nls/user-account"),t=e.createClass({displayName:"VerificationField",render:function render(){return e.createElement("div",{className:"c-user-modal-control-group"},e.createElement("label",{htmlFor:"user-modal-2fa",className:"sr-only"},r("Verification Code")),e.createElement("input",_extends({},this.props,{id:"user-modal-2fa",required:!0,type:"text",name:"code",placeholder:r("Verification Code")})))}});module.exports=t});
var _extends=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n};define("bundles/user-account/components/LoginForm",["require","exports","module","react-router","react-with-addons","bundles/user-account/components/EmailField","bundles/user-account/components/ErrorMessage","bundles/user-account/components/FacebookAlternative","bundles/user-account/components/PasswordField","bundles/user-account/components/VerificationField","i18n!nls/user-account"],function(require,exports,module){var u=require("react-router"),a=u.State,e=require("react-with-addons"),n=require("bundles/user-account/components/EmailField"),r=require("bundles/user-account/components/ErrorMessage"),s=require("bundles/user-account/components/FacebookAlternative"),o=require("bundles/user-account/components/PasswordField"),c=require("bundles/user-account/components/VerificationField"),t=require("i18n!nls/user-account"),l="/api/login/v3Ssr",i="csrf3-token",d=e.createClass({displayName:"LoginForm",propTypes:{facebookEnabled:e.PropTypes.bool,onFacebookClick:e.PropTypes.func},contextTypes:{csrfToken:e.PropTypes.string.isRequired},mixins:[a],_getActionUrl:function _getActionUrl(){return l+"?"+i+"="+this.context.csrfToken},render:function render(){var a=this.getQuery().errorCode,u="twoFactorRequired"===a||"twoFactorInvalid"===a,l=this.props.facebookEnabled&&!u;return e.createElement("div",{className:"rc-LoginForm"},l&&e.createElement(s,_extends({},this.props,{label:t("Log In with Facebook")})),a&&e.createElement(r,{errorCode:a}),e.createElement("form",{action:this._getActionUrl(),method:"post"},e.createElement("div",{className:"c-user-modal-controls"},e.createElement(n,{defaultValue:this.getQuery().email,autoFocus:!0,tabIndex:10006}),e.createElement(o,{tabIndex:10007}),u&&e.createElement(c,{tabIndex:10017})),e.createElement("button",{"data-js":"submit",tabIndex:10018},t("Log In")),e.createElement("div",{className:"c-user-modal-footer"},e.createElement("a",{href:"/reset","data-js":"user-modal-nav-link forgot-password-helper login-password-phase",tabIndex:10019},t("Forgot my password")))))}});module.exports=d});
var _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t};define("bundles/user-account/components/NameField",["require","exports","module","react-with-addons","i18n!nls/user-account"],function(require,exports,module){var e=require("react-with-addons"),a=require("i18n!nls/user-account"),r=e.createClass({displayName:"NameField",propTypes:{defaultValue:e.PropTypes.string},render:function render(){var r=this.props.defaultValue,t=Object.assign({},this.props);return"string"==typeof r&&(t.defaultValue=r.replace("+"," ")),e.createElement("div",{className:"c-user-modal-control-group"},e.createElement("label",{htmlFor:"user-modal-full-name",className:"sr-only"},a("Full Name")),e.createElement("input",_extends({},t,{required:!0,type:"text",name:"name",placeholder:a("Full Name"),className:"placeholder"})))}});module.exports=r});
var _extends=Object.assign||function(a){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(a[n]=t[n])}return a};define("bundles/user-account/components/SignupForm",["require","exports","module","react-router","react-with-addons","bundles/user-account/components/EmailField","bundles/user-account/components/ErrorMessage","bundles/user-account/components/FacebookAlternative","bundles/user-account/components/NameField","bundles/user-account/components/PasswordField","js/lib/coursera.react-intl","i18n!nls/user-account"],function(require,exports,module){var i=require("react-router"),c=i.State,e=require("react-with-addons"),a=require("bundles/user-account/components/EmailField"),r=require("bundles/user-account/components/ErrorMessage"),s=require("bundles/user-account/components/FacebookAlternative"),o=require("bundles/user-account/components/NameField"),n=require("bundles/user-account/components/PasswordField"),u=require("js/lib/coursera.react-intl"),l=u.FormattedHTMLMessage,t=require("i18n!nls/user-account"),d="/api/register/v1Ssr",m="csrf3-token",p=e.createClass({displayName:"SignupForm",mixins:[c],contextTypes:{csrfToken:e.PropTypes.string.isRequired},propTypes:{facebookEnabled:e.PropTypes.bool,handleFacebookClick:e.PropTypes.func},_getActionUrl:function _getActionUrl(){return d+"?"+m+"="+this.context.csrfToken},render:function render(){var p=e.createElement("a",{href:"/about/terms",target:"ctos",tabIndex:"10009"},t("Terms of Use")),b=e.createElement("a",{href:"/about/privacy",target:"cprivacy",tabIndex:"100010"},t("Privacy Policy")),u=this.getQuery(),d=u.errorCode,i=u.name,m=u.email,c=void 0;return c=i&&m?"password":i?"email":"name",e.createElement("div",{className:"rc-SignupForm"},this.props.facebookEnabled&&e.createElement(s,_extends({},this.props,{label:t("Sign Up with Facebook")})),d&&e.createElement(r,{errorCode:d}),e.createElement("form",{action:this._getActionUrl(),method:"post"},e.createElement("div",{className:"c-user-modal-controls"},e.createElement(o,{defaultValue:i,autoFocus:"name"===c,tabIndex:10005}),e.createElement(a,{defaultValue:m,autoFocus:"email"===c,tabIndex:10006}),e.createElement(n,{tabIndex:10007,pattern:".{6,}",autoFocus:"password"===c,title:t("Passwords must be at least 6 characters in length")})),e.createElement("button",{"data-js":"submit",tabIndex:10008},t("Sign Up")),e.createElement("div",{className:"c-user-modal-footer"},e.createElement(l,{message:t("By signing up to create an account I accept Coursera's {tosLink} and {privacyLink}."),tosLink:p,privacyLink:b}),e.createElement("input",{type:"hidden",name:"termsAgree",defaultValue:"true"}))))}});module.exports=p});
define("bundles/user-account/components/SignupLink",["require","exports","module","react-router","react-with-addons","bundles/page/components/TrackedLink"],function(require,exports,module){var t=require("react-router"),s=t.State,e=require("react-with-addons"),n=require("bundles/page/components/TrackedLink"),r=e.createClass({displayName:"SignupLink",mixins:[s],propTypes:{className:e.PropTypes.string},render:function render(){return e.createElement(n,{trackingName:"signup",to:this.getPathname(),query:Object.assign({},this.getQuery(),{authMode:"signup"}),tabIndex:10002,className:this.props.className},this.props.children)}});module.exports=r});

define('css!bundles/user-account/components/__styles__/AuthenticationModal',[],function(){})
define("bundles/user-account/components/AuthenticationModal",["require","exports","module","underscore","react-with-addons","bundles/user-account/components/CompleteForm","bundles/userModal/lib/instrumentation","bundles/user-account/components/LoginForm","bundles/user-account/components/LoginLink","bundles/phoenix/components/Modal","bundles/catalog/lib/routeUtils","bundles/user-account/components/SignupForm","bundles/user-account/components/SignupLink","bundles/thirdPartyAuth/lib","js/app/retracked","react-router","i18n!nls/user-account","css!./__styles__/AuthenticationModal"],function(require,exports,module){var _=require("underscore"),e=require("react-with-addons"),u=require("bundles/user-account/components/CompleteForm"),o=require("bundles/userModal/lib/instrumentation"),d=require("bundles/user-account/components/LoginForm"),h=require("bundles/user-account/components/LoginLink"),g=require("bundles/phoenix/components/Modal"),k=require("bundles/catalog/lib/routeUtils"),r=require("bundles/user-account/components/SignupForm"),i=require("bundles/user-account/components/SignupLink"),M=require("bundles/thirdPartyAuth/lib"),n=require("js/app/retracked"),a=require("react-router"),m=a.Navigation,p=a.State,t=require("i18n!nls/user-account");require("css!./__styles__/AuthenticationModal");var b={complete:"complete_modal.open",login:"login_modal.open",signup:"signup_modal.open"},s={complete:u,login:d,signup:r},c=Object.keys(s),l=e.createClass({displayName:"AuthenticationModal",propTypes:{authMode:e.PropTypes.oneOf(c).isRequired},contextTypes:{getEpicParam:e.PropTypes.func.isRequired},childContextTypes:{track:e.PropTypes.func.isRequired},mixins:[m,p],statics:{validModes:c},getChildContext:function getChildContext(){return this.track=this.track||n.makeTracker({namespace:"account.wall"}),{track:this.track}},getInitialState:function getInitialState(){return{onFacebookClick:null}},componentWillMount:function componentWillMount(){var e=n.makeTracker({namespace:"open_course.user"});e(b[this.props.authMode])},componentDidMount:function componentDidMount(){this.setState({onFacebookClick:this.handleFacebookClick})},handleFacebookClick:function handleFacebookClick(){var e=this;M.connect("facebook").then(function(t){return o.thirdPartyAuth(t).fin(e.reloadPage)}).fail(function(t){o.thirdPartyError("facebook",t);var n=t&&t.code,a=Object.assign({},e.getQuery(),"unknownStatus"===n?{authMode:e.getQuery().authMode,errorCode:n}:{authMode:"complete",completeMode:n});window.removeEventListener("keydown",e.checkForEsc,!0),e.transitionTo(e.getPathname(),{},a)}).done()},reloadPage:function reloadPage(){window.location.reload()},routeSansAuthMode:function routeSansAuthMode(){var e=_(this.getQuery()).omit(["authMode","errorCode","completeMode"]);this.transitionTo(k.getCurrentRoute(this.getRoutes()),this.getParams(),e)},render:function render(){var o={facebookEnabled:!this.getQuery().facebookDisabled&&this.context.getEpicParam("authentication","facebookEnabled"),onFacebookClick:this.state.onFacebookClick,completeMode:this.getQuery().completeMode,onSuccess:this.reloadPage},n=s[this.props.authMode];return e.createElement("div",{className:"rc-AuthenticationModal"},e.createElement(g,{type:"layer",modalName:t("Authentication"),handleClose:this.routeSansAuthMode},e.createElement("div",{className:"rc-AuthenticationModal-content"},e.createElement("header",null,e.createElement("div",{className:"c-logo"},e.createElement("span",{className:"sr-only"},"Coursera")),e.createElement("div",{className:"c-user-modal-mission"},t("Universal access to the worlds best education.")),e.createElement("nav",null,e.createElement(h,{className:"login"===this.props.authMode?"active":""},t("Log In")),e.createElement(i,{className:"signup"===this.props.authMode?"active":""},t("Sign Up")))),e.createElement("div",{className:"c-user-modal-content"},e.createElement(n,o)))))}});module.exports=l});
define("bundles/user-account/components/AuthenticationOption",["require","exports","module","react-with-addons","bundles/user-account/components/AuthenticationModal","js/app/loggerSingleton","react-router","bundles/page/lib/migration"],function(require,exports,module){function queryToAuthMode(t){var e=t&&t.authMode,r=-1!==n.validModes.indexOf(e);return e&&!r&&o.warn("invalid authMode '"+e+"' in query params"),e}var e=require("react-with-addons"),n=require("bundles/user-account/components/AuthenticationModal"),o=require("js/app/loggerSingleton"),r=require("react-router"),u=r.Navigation,t=require("bundles/page/lib/migration"),i=t.applicationStoreIn,a=t.reactRouterIn,s=t.userAuthenticatedIn,c=t.AsyncUserModal,l=e.createClass({displayName:"AuthenticationOption",propTypes:{query:e.PropTypes.object},contextTypes:{getStore:e.PropTypes.func},mixins:[u],getInitialState:function getInitialState(){return{authMode:this.getAuthMode()}},shouldComponentUpdate:function shouldComponentUpdate(e,t){return e.query!==this.props.query},getAuthMode:function getAuthMode(){if(!a(this))return null;if(s(this))return null;return i(this)?queryToAuthMode(this.props.query):"legacy"},render:function render(){var t=this.getAuthMode();return t?"legacy"===t?e.createElement(c,null):e.createElement(n,{authMode:t}):null}});module.exports=l});


define('css!bundles/page/components/__styles__/PageHeader',[],function(){})
function _objectWithoutProperties(t,n){var a={};for(var e in t){if(n.indexOf(e)>=0)continue;if(!Object.prototype.hasOwnProperty.call(t,e))continue;a[e]=t[e]}return a}define("bundles/page/components/PageHeader",["require","exports","module","classnames","react-router","react-with-addons","bundles/page/lib/migration","bundles/page/components/header/HeaderLogo","bundles/page/components/header/HeaderRightNav","bundles/page/components/header/HeaderSearchBar","bundles/page/lib/HeaderRightNavButtonShape","bundles/page/lib/loadOnMount","bundles/user-account/components/AuthenticationOption","js/app/retracked","lazy!bundles/teach-course/components/TeachBanner","i18n!nls/page","css!./__styles__/PageHeader.css"],function(require,exports,module){var n=require("classnames"),l=require("react-router"),r=l.State,e=require("react-with-addons"),t=require("bundles/page/lib/migration"),o=t.currentPathnameOf,s=t.userAuthenticatedIn,i=require("bundles/page/components/header/HeaderLogo"),c=require("bundles/page/components/header/HeaderRightNav"),a=require("bundles/page/components/header/HeaderSearchBar"),u=require("bundles/page/lib/HeaderRightNavButtonShape"),p=require("bundles/page/lib/loadOnMount"),d=require("bundles/user-account/components/AuthenticationOption"),h=require("js/app/retracked"),g=require("lazy!bundles/teach-course/components/TeachBanner"),b=p(g),m=require("i18n!nls/page");require("css!./__styles__/PageHeader.css");var f=["/ssrtest","/"],v=e.createClass({displayName:"PageHeader",propTypes:{centerSearchInput:e.PropTypes.bool,hasCatalogButton:e.PropTypes.bool,hideSearch:e.PropTypes.bool,isFullWidth:e.PropTypes.bool,rightNavButtons:e.PropTypes.arrayOf(u),isInNewCatalog:e.PropTypes.bool,initialSearchText:e.PropTypes.string},childContextTypes:{track:e.PropTypes.func},mixins:[r],getDefaultProps:function getDefaultProps(){return{hasCatalogButton:!0,centerSearchInput:!0,hideSearch:!1,rightNavButtons:[{label:m("Institutions"),href:"/partners",showIfLoggedIn:!0,showIfLoggedOut:!0}],isFullWidth:!1,isInNewCatalog:!1,initialSearchText:""}},getChildContext:function getChildContext(){return{track:this.track}},componentWillMount:function componentWillMount(){this.track=h.makeTracker({namespace:"page.header"})},componentDidMount:function componentDidMount(){this.track("render")},forceHideSearch:function forceHideSearch(){if(s(this))return!1;var e=o(this),t=-1!==f.indexOf(e);return t},render:function render(){var t=this.props,o=t.rightNavButtons,r=_objectWithoutProperties(t,["rightNavButtons"]);this.forceHideSearch()&&Object.assign(r,{hideSearch:!0});var s=n("bt3-navbar","c-ph-nav",{"full-width":this.props.isFullWidth});return e.createElement("div",null,e.createElement("div",{className:"rc-PageHeader"},e.createElement("nav",{className:s,role:"navigation"},e.createElement("div",{className:"bt3-container-fluid c-container"},e.createElement(i,null),e.createElement(a,r),e.createElement(c,{rightNavButtons:o})))),e.createElement(d,{query:this.context.router&&this.getQuery()}),e.createElement(b,null))}});module.exports=v});
define("bundles/phoenix/template/layout/body",["require","exports","module","bundles/phoenix/lib/view"],function(require,exports,module){var e=require("bundles/phoenix/lib/view"),n=e.extend({name:"body",className:"c-phoenix-template-body-container"});module.exports=n});

define('css!bundles/page/components/__styles__/MobileAppBadges',[],function(){})
define("bundles/page/components/MobileAppBadges",["require","exports","module","react-with-addons","bundles/mobile/lib/link","js/app/config","js/lib/language","js/lib/path","i18n!nls/page","css!./__styles__/MobileAppBadges.css"],function(require,exports,module){var e=require("react-with-addons"),o=require("bundles/mobile/lib/link"),t=require("js/app/config"),s=require("js/lib/language"),r=require("js/lib/path"),a=require("i18n!nls/page");require("css!./__styles__/MobileAppBadges.css");var n=45,i=e.createClass({displayName:"MobileAppBadges",propTypes:{onClick:e.PropTypes.func,noborder:e.PropTypes.bool},contextTypes:{requestCountryCode:e.PropTypes.string},getDefaultProps:function getDefaultProps(){return{noborder:!1}},onClick:function onClick(e){if("function"==typeof this.props.onClick){e.preventDefault();var o=e.currentTarget.getAttribute("data-platform"),t=e.currentTarget.getAttribute("href");this.props.onClick(o,t)}},getAndroidAppBadgeImg:function getAndroidAppBadgeImg(){var o;return o=this.props.noborder?r.join(t.url.app_assets,"images/icons/download_from_play_store_noborder.svg"):r.join(t.url.app_assets,"images/icons/",s.getMobileBadgeLanguageCode()+"_generic_rgb_wo_45.png"),e.createElement("img",{src:o,alt:a("Get it on Google Play"),height:n})},render:function render(){var r=t.url.assets+(this.props.noborder?"images/icons/download_from_apple_noborder.svg":"images/icons/download_on_the_app_store_badge_"+s.getMobileBadgeLanguageCode()+".svg");return e.createElement("p",{className:"rc-MobileAppBadges"},e.createElement("a",{href:o.storeUrls.ios,onClick:this.onClick,"data-platform":"ios"},e.createElement("img",{src:r,alt:a("Download on the App Store"),height:n})),!o.shouldAvoidGooglePlay(this.context.getEpicParam)&&e.createElement("a",{href:o.storeUrls.android,onClick:this.onClick,"data-platform":"android"},this.getAndroidAppBadgeImg()))}});module.exports=i});
define("js/lib/coursera.helpcenter",["require","exports","module"],function(require,exports,module){module.exports={isNewHelpCenter:function isNewHelpCenter(){return"undefined"==typeof courseraEnableNewHelpCenter&&(courseraEnableNewHelpCenter=!1),courseraEnableNewHelpCenter},baseWithAuth:"https://accounts.coursera.org/i/zendesk/courserahelp?return_to=https://learner.coursera.help/hc",baseWithoutAuth:"https://learner.coursera.help/hc",_linkWrapper:function _linkWrapper(e,t){if(this.isNewHelpCenter())return this.baseWithAuth+t;return e},_articleBaseUrl:function _articleBaseUrl(e){return(e?this.baseWithAuth:this.baseWithoutAuth)+"/articles/"},getHomeLink:function getHomeLink(e){return this._linkWrapper(e,"/")},getNewHelpCenterHome:function getNewHelpCenterHome(e){return e?this.baseWithAuth:this.baseWithoutAuth},getReporterLink:function getReporterLink(e){return this._linkWrapper(e,"/")},getCantSignInLink:function getCantSignInLink(e){return this._articleBaseUrl(e)+"201531725-I-Can-t-Log-In"},getForumLink:function getForumLink(e){return this._linkWrapper(e,"/articles/201523115-Forums")},getFlagLink:function getFlagLink(e){return this._linkWrapper(e,"/articles/201532585-Code-of-Conduct")},getCodeOfConductLink:function getCodeOfConductLink(e){return this._articleBaseUrl(e)+"201532585-Code-of-Conduct"},getHumanGradingLink:function getHumanGradingLink(e){return this._linkWrapper(e,"/articles/201212339-Peer-Graded-Assignments")},getMathAssignmentLink:function getMathAssignmentLink(e){return this.baseWithAuth+"/articles/201212239-Math-Assignments"},getRecommendedSoftwareDevicesLink:function getRecommendedSoftwareDevicesLink(e){return this._articleBaseUrl(e)+"201522945-Recommended-Software-and-Devices"},getAccountSettingsLink:function getAccountSettingsLink(e){return this._articleBaseUrl(e)+"201208129-Account-Settings"},getVideosLink:function getVideosLink(e){return this._articleBaseUrl(e)+"201211979-Downloading-and-Watching-Videos"},getTyposMistakesLink:function getTyposMistakesLink(e){return this._articleBaseUrl(e)+"201532365-Typos-or-Mistakes-in-a-Course"},getRefundsVouchersLink:function getRefundsVouchersLink(e){return this._articleBaseUrl(e)+"201523185-Refunds-Vouchers"},getTypingProblemsLink:function getTypingProblemsLink(e){return this._articleBaseUrl(e)+"201223679-Signature-Track-Typing-Problems"},getJoiningReqirementsLink:function getJoiningReqirementsLink(e){return this._articleBaseUrl(e)+"201523165-Joining-Requirements"},getContactFormLink:function getContactFormLink(e){return(e?this.baseWithAuth:this.baseWithoutAuth)+"/requests/new"},getOnDemandLink:function getOnDemandLink(e){return this.getNewHelpCenterHome(e)+"/articles/201523005-About-On-Demand"}}});

define('css!bundles/page/components/__styles__/PageFooter',[],function(){})
function _objectWithoutProperties(r,a){var t={};for(var e in r){if(a.indexOf(e)>=0)continue;if(!Object.prototype.hasOwnProperty.call(r,e))continue;t[e]=r[e]}return t}var _extends=Object.assign||function(a){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(a[t]=r[t])}return a};define("bundles/page/components/PageFooter",["require","exports","module","react-with-addons","bundles/page/components/MobileAppBadges","js/lib/coursera.helpcenter","i18n!nls/page","css!./__styles__/PageFooter.css"],function(require,exports,module){var r=require("react-with-addons"),t=require("bundles/page/components/MobileAppBadges"),a=require("js/lib/coursera.helpcenter"),e=require("i18n!nls/page");require("css!./__styles__/PageFooter.css");var o=[{header:e("Company"),links:[{label:e("About"),href:"/about/"},{label:e("People"),href:"/about/people"},{label:e("Leadership"),href:"/about/leadership"},{label:e("Careers"),href:"/about/careers"}]},{header:e("Friends"),links:[{label:e("Partners"),href:"/about/partners"},{label:e("Programs"),href:"/about/programs"},{label:e("Developers"),href:"http://tech.coursera.org/app-platform"},{label:e("Translate"),href:"/about/translate"}]},{header:e("Connect"),links:[{label:e("Google+"),href:"https://plus.google.com/+Coursera",target:"_blank",title:"Follow Coursera on Google+"},{label:e("Twitter"),href:"http://twitter.com/coursera",target:"_blank",title:"Follow Coursera on Twitter"},{label:e("Facebook"),href:"https://www.facebook.com/Coursera",target:"_blank",title:"Follow Coursera on Facebook"},{label:e("Blog"),href:"http://blog.coursera.org",target:"_blank",title:"Read the Coursera blog"},{label:e("Tech Blog"),href:"http://tech.coursera.org",target:"_blank",title:"Read the Coursera tech blog"}]},{header:e("More"),links:[{label:e("Partners"),href:"/about/partners"},{label:e("Terms"),href:"/about/terms"},{label:e("Privacy"),href:"/about/privacy"},{label:e("Help"),href:"helpUrl"},{label:e("Press"),href:"/about/press"},{label:e("Contact"),href:"/about/contact"},{label:e("Directory"),href:"/directory"}]}],l=r.createClass({displayName:"FooterLink",propTypes:{href:r.PropTypes.string.isRequired,label:r.PropTypes.string.isRequired},render:function render(){var e=this.props,t=e.label,a=_objectWithoutProperties(e,["label"]);return r.createElement("li",null,r.createElement("a",_extends({className:"dim"},a),t))}}),s=r.createClass({displayName:"PageFooter",propTypes:{userIsAuthenticated:r.PropTypes.bool,showMobileBadge:r.PropTypes.bool},contextTypes:{requestCountryCode:r.PropTypes.string},getDefaultProps:function getDefaultProps(){return{userIsAuthenticated:!1,showMobileBadge:!0}},render:function render(){var s=this;return r.createElement("div",{className:"rc-PageFooter c-phoenix-template-footer bt3-container styleguide"},r.createElement("div",{className:"bt3-row c-page-footer-inner-wrapper"},r.createElement("div",{className:"bt3-col-md-5 c-phoenix-template-footer-value-proposition"},r.createElement("p",null,r.createElement("a",{className:"c-phoenix-template-small-logo",href:"/"},r.createElement("span",{className:"bt3-sr-only sr-only"},"Coursera"))),r.createElement("p",null,e("Coursera provides universal access to the worlds best education, partnering with top universities and organizations to offer courses online.")),r.createElement("div",{className:"caption-text"},e(" 2015 Coursera Inc. All rights reserved."),"CN"===this.context.requestCountryCode&&" - ICP15025210"),this.props.showMobileBadge&&r.createElement(t,null)),r.createElement("div",{className:"bt3-col-md-7 c-phoenix-template-footer-site-overview"},r.createElement("div",{className:"bt3-row styleguide"},o.map(function(e){return r.createElement("ul",{key:e.header,className:"bt3-col-sm-3 bt3-col-xs-6"},r.createElement("li",null,r.createElement("div",{className:"body-1-text color-secondary-text uppercase"},e.header)),e.links.map(function(e){return"helpUrl"===e.href&&(e.href=a.getNewHelpCenterHome(s.props.userIsAuthenticated)),r.createElement(l,_extends({key:e.href},e))}))})))))}});module.exports=s});
define("bundles/phoenix/template/layout/page",["require","exports","module","backbone","bundles/phoenix/template/layout/page.html","css!bundles/phoenix/template/styl/index.css","bundles/page/components/PageHeader","bundles/phoenix/template/layout/body","bundles/phoenix/template/layout/modals","bundles/page/components/PageFooter"],function(require,exports,module){var Backbone=require("backbone"),e=require("bundles/phoenix/template/layout/page.html");require("css!bundles/phoenix/template/styl/index.css");var t=Backbone.View.extend({name:"page",template:e,className:"c-phoenix-template-page-container",subregions:{header:{"bundles/page/components/PageHeader":{to:'[data-js="phoenix-template-region-header"]',module:require("bundles/page/components/PageHeader")}},body:{"bundles/phoenix/template/layout/body":{to:'[data-js="phoenix-template-region-body"]',module:require("bundles/phoenix/template/layout/body")}},modals:{"bundles/phoenix/template/layout/modals":{to:'[data-js="phoenix-template-region-modal"]',module:require("bundles/phoenix/template/layout/modals")}},footer:{"bundles/page/components/PageFooter":{to:'[data-js="phoenix-template-region-footer"]',module:require("bundles/page/components/PageFooter")}}},render:function render(){this.$el.html(this.template())}});module.exports=t});
define("pages/error/route",["require","exports","module","js/lib/prerender","js/app/origamiSingleton","underscore","lazy!pages/error/body","bundles/phoenix/template/layout/modals","bundles/phoenix/template/layout/page"],function(require,exports,module){var a=require("js/lib/prerender"),e=require("js/app/origamiSingleton"),_=require("underscore"),r={},o=function addErrorListener(){e.router.on("error",function(e,o,t){a.error(e,o,t),r["error/:id"](e)})},n=function setupErrorRoutes(t){return r["error/:id"]=function(o){var r=parseInt(o,10);_.isNumber(r)&&r>=300&&500>=r?e.region.open({"bundles/phoenix/template/layout/page":{regions:{body:{"pages/error/body":{id:"error-"+o,initialize:{status:r},to:'[data-js="phoenix-template-region-body"]',module:require("lazy!pages/error/body")}},modals:{"bundles/phoenix/template/layout/modals":{to:'[data-js="phoenix-template-region-modal"]',module:require("bundles/phoenix/template/layout/modals")}}},module:require("bundles/phoenix/template/layout/page")}}):e.router.trigger("error",404,location.href)},e.router.addRoutes(r),o(),e.router},t=n();t.addErrorListener=o,module.exports=t});
define("pages/open-course/common/utils/rtl",["require","exports","module","jquery","underscore","pages/open-course/common/promises/course","js/lib/language"],function(require,exports,module){var $=require("jquery"),_=require("underscore"),e=require("pages/open-course/common/promises/course"),o=require("js/lib/language");e.on("load",function(e){_(e.get("primaryLanguageCodes")).some(o.isRightToLeft)&&$("html").attr({dir:"rtl"})})});

define("pages/open-course/common/singletons/courseGrade",["require","exports","module","memoize!pages/open-course/common/promises/courseGrade","pages/open-course/common/singletons/course"],function(require,exports,module){var e=require("memoize!pages/open-course/common/promises/courseGrade"),o=require("pages/open-course/common/singletons/course");module.exports=o.then(function(o){return e(o.get("id"))})});

define("pages/open-course/common/singletons/courseProgress",["require","exports","module","pages/open-course/common/constants","memoize!pages/open-course/common/promises/courseProgress"],function(require,exports,module){var o=require("pages/open-course/common/constants"),e=require("memoize!pages/open-course/common/promises/courseProgress");module.exports=e(o.courseSlug)});

define("pages/open-course/statefulModal/courseGradeListenerEntry",["require","exports","module","q","underscore","backbone","js/lib/callOnLoad","pages/open-course/common/singletons/courseGrade","pages/open-course/common/singletons/courseProgress","pages/open-course/common/singletons/course","pages/open-course/common/singletons/courseMaterials","lazy!pages/open-course/statefulModal/courseGradeListener"],function(require,exports,module){var e=require("q"),_=require("underscore"),Backbone=require("backbone"),o=require("js/lib/callOnLoad"),s=require("pages/open-course/common/singletons/courseGrade"),n=require("pages/open-course/common/singletons/courseProgress"),r=require("pages/open-course/common/singletons/course"),a=require("pages/open-course/common/singletons/courseMaterials");module.exports=e.all([r,s,n,a]).spread(function(n,e,a,r){if(!_(n.get("primaryLanguageCodes")).contains("en"))return;var s=_.extend({displayEndOfModuleModal:function displayEndOfModuleModal(s){var n=o(require("lazy!pages/open-course/statefulModal/courseGradeListener"));n(s,e,r)}},Backbone.Events);s.listenTo(e,"items-passed",s.displayEndOfModuleModal)})});
define("pages/open-course/routes",["require","exports","module","jquery","origami","q","underscore","bundles/nprogress/coursera.nprogress.v0-1-3","bundles/phoenix/lib/exceptions","bundles/phoenix/lib/viewOpenerWrapper","bundles/phoenix/template/models/userIdentity","js/app/multitrackerSingleton","js/lib/callOnLoad","js/lib/coursera.redirect","js/lib/path","js/lib/timing","bundles/phoenix/courseId","pages/open-course/common/constants","pages/open-course/item/redirector","pages/open-course/common/singletons/course","lazy!pages/open-course/programming/entry","lazy!bundles/lti-tool/entry","lazy!pages/open-course/admin/entry","lazy!pages/open-course/assessment/startEntry","lazy!pages/open-course/peerReview/entry","lazy!pages/open-course/verifiedCertificate/entry","lazy!pages/seo/public-lecture/entry","lazy!pages/open-course/welcome/entry","bundles/catalogP/models/s12n","bundles/ondemand/stores/SessionStore","bundles/ondemand/stores/CourseMembershipStore","bundles/s12n-common/service/promises/s12nForCoursePromiseFactory","bundles/ondemand/utils/experimentUtils","pages/open-course/common/singletons/courseMaterials","bundles/mobile/index","js/vendor/backbone.queryparams.v0-3-0","pages/error/route","pages/open-course/common/utils/rtl","js/app/setupEnvironment","pages/open-course/statefulModal/courseGradeListenerEntry"],function(require,exports,module){var $=require("jquery"),o=require("origami"),c=require("q"),_=require("underscore"),b=require("bundles/nprogress/coursera.nprogress.v0-1-3"),f=require("bundles/phoenix/lib/exceptions"),j=require("bundles/phoenix/lib/viewOpenerWrapper"),L=require("bundles/phoenix/template/models/userIdentity"),g=require("js/app/multitrackerSingleton"),e=require("js/lib/callOnLoad"),a=require("js/lib/coursera.redirect"),h=require("js/lib/path"),d=require("js/lib/timing"),u=require("bundles/phoenix/courseId"),r=require("pages/open-course/common/constants"),p=require("pages/open-course/item/redirector"),v=require("pages/open-course/common/singletons/course"),n=require("lazy!pages/open-course/programming/entry"),l=require("lazy!bundles/lti-tool/entry"),i=require("lazy!pages/open-course/admin/entry"),m=require("lazy!pages/open-course/assessment/startEntry"),s=require("lazy!pages/open-course/peerReview/entry"),y=require("lazy!pages/open-course/verifiedCertificate/entry"),w=require("lazy!pages/seo/public-lecture/entry"),I=require("lazy!pages/open-course/welcome/entry"),x=require("bundles/catalogP/models/s12n"),R=require("bundles/ondemand/stores/SessionStore"),z=require("bundles/ondemand/stores/CourseMembershipStore"),q=require("bundles/s12n-common/service/promises/s12nForCoursePromiseFactory"),S=require("bundles/ondemand/utils/experimentUtils"),C=require("pages/open-course/common/singletons/courseMaterials");o.enableRR(),require("bundles/mobile/index").promote(),require("js/vendor/backbone.queryparams.v0-3-0"),require("pages/error/route").addErrorListener(),require("pages/open-course/common/utils/rtl"),require("js/app/setupEnvironment"),require("pages/open-course/statefulModal/courseGradeListenerEntry");var t;u.indexOf("ONDEMAND_COURSE_ID_PLACEHOLDER")>-1||!u?(g.pushV2(["edge.injection.fail.course_id",{course_slug:r.courseSlug}]),t=v.then(function(e){return e.get("id")})):t=c(u),t.then(function(e){return r.courseId=e,q(e).then(function(s){var e=s.elements;if(e.length>0)return new x(e[0])})}).then(function(u){var x=!!u,t={},v=[];if("/learn"===r.rootPath)r.courseSlug?(t[""]=e(I,"open"),t.overview=function(){o.router.navigateTo("",{replace:!0,trigger:!0})},L.get("authenticated")||(t["lecture/:id/?:slug?"]=e(w,"open")),t["quiz/:id/?:slug?"]=e(m,"open"),t["exam/:id/?:slug?"]=e(m,"open"),t["peer/:id/?:slug?"]=e(s,"assignment"),t["peer/:id/:slug/submit"]=e(s,"submit"),t["peer/:id/:slug/submit/preview"]=e(s,"submit/preview"),t["peer/:id/:slug/assignment"]=e(s,"assignment"),t["peer/:id/:slug/give-feedback"]=e(s,"give-feedback"),t["peer/:id/:slug/review-next"]=e(s,"userReviewNext"),t["peer/:id/:slug/review/:submissionId"]=e(s,"userReview"),t["peer/:id/:slug/review/:submissionId/admin"]=e(s,"adminReview"),t["peer/:id/:slug/discussions"]=e(s,"discussions"),t["peer/:id/:slug/discussions/:questionId"]=e(s,"discussions"),t["peer/:id/:slug/discussions/:questionId/replies/:answerId"]=e(s,"discussions"),t["peer/:id/:slug/discussions/:questionId/replies/:answerId/comments/:commentId"]=e(s,"discussions"),t["programming/:id/?:slug?"]=e(n,"instructions"),t["programming/:id/:slug/instructions"]=e(n,"instructions"),t["programming/:id/:slug/submission"]=e(n,"submission"),t["programming/:id/:slug/discussions"]=e(n,"discussions"),t["programming/:id/:slug/discussions/:questionId"]=e(n,"discussions"),t["programming/:id/:slug/discussions/:questionId/replies/:answerId"]=e(n,"discussions"),t["programming/:id/:slug/discussions/:questionId/replies/:answerId/comments/:commentId"]=e(n,"discussions"),t["peer/:id/:slug/submitAlias"]=function(e,s){throw new f.Redirect(h.join("peer",e,s,"submit"))},t["gradedLti/:id/?:slug?"]=e(l,"openGraded"),t["ungradedLti/:id/?:slug?"]=e(l,"openUngraded"),t["item/:id"]=p.redirect,t["item/:id/:a/?:b?/?:c?/?:d?/?:e?/?:f?/?:g?/?:h?/?:i?/?:j?/?:k?/?:l?"]=p.redirectWithSubpath):a.redirectWithAuthToPath("/courses");else if("/tools/yoda"===r.rootPath)if(r.courseSlug){t[""]=_.partial(e(i,"openCourse"),"edit",r.courseSlug),t.outline=_.partial(e(i,"openCourse"),"edit",r.courseSlug);var q=function handleActionOrId(s,r){return"add"===r?e(i,"openItem")("add",s):e(i,"openItem")("edit",s,r)};t[":itemType/:actionOrId/?:slug?"]=q}else t[""]=_.partial(e(i,"openCourse"),"add");else"/certificate"===r.rootPath&&(x?a.setPathname(u.getLink()):r.courseSlug?t[""]=e(y,"open"):a.redirectWithAuthToPath("/courses?certificates=VerifiedCert"));o.router.setupLinks(r.courseRootPath,'[data-js~="open-course-link"]'),o.on("open",function(e){b.start()}),o.on("opened",function(e){b.stop()}),g.get("204").queue.push(["client","open-course"]),$(document).ready(function(){d.setMark("document_ready",!1);var e=[C,z.deferUntilLoaded(),R.deferUntilLoaded()];c(e).spread(function(s){var e={routes:t,reactRoutes:v};e=S.getHomeRoutes(t,v),o.router.addRoutes(e.routes,j),o.router.addNativeRoutes(e.reactRoutes)}).done(function(){o.router.start(r.courseRootPath)}),d.setMark("router_created",!1),d.setKeyFiles(["open-course/index.css","open-course/routes.js","require.v2-1.js","open-course/loader.js","bundles/ondemand/entry.js","pages/open-course/programming/entry.js","pages/open-course/admin/entry.js","pages/open-course/assessment/startEntry.js","pages/open-course/peerReview/entry.js","pages/open-course/verifiedCertificate/entry.js","pages/open-course/welcome/entry.js"])})}).done()});
define("bundles/assess/lib/constants",["require","exports","module"],function(require,exports,module){module.exports={defaultUserHtmlClass:"coursera-assess-user",legacyUserHtmlClass:"coursera-assess-user-legacy",htmlGuideLink:"https://instructor-support.desk.com/customer/portal/articles/1441676#html"}});
!function(e){var module=function module(t){var e=!1,a=function mathJaxCB(t){return function(){if(e)return t();return e=!0,MathJax.Hub.Config({config:["MMLorHTML.js"],styleSheets:[],styles:{},jax:["input/TeX"],extensions:["tex2jax.js"],preJax:null,postJax:null,preRemoveClass:"MathJax_Preview",showProcessingMessages:!0,messageStyle:"none",displayAlign:"center",displayIndent:"0em",delayStartupUntil:"none",skipStartupTypeset:!1,elements:[],tex2jax:{inlineMath:[["$$","$$"],["\\(","\\)"]],displayMath:[["\\[","\\]"]],skipTags:["script","noscript","style","textarea","pre","code"],ignoreClass:"tex2jax_ignore",processClass:"tex2jax_process",processEscapes:!1,processEnvironments:!0,preview:"TeX"},mml2jax:{preview:"alttext"},jsMath2jax:{preview:"TeX"},TeX:{TagSide:"right",TagIndent:".8em",MultLineWidth:"85%",Macros:{},extensions:["AMSmath.js","AMSsymbols.js"]},MathML:{useMathMLspacing:!1},"HTML-CSS":{scale:100,availableFonts:["STIX","TeX"],preferredFont:"TeX",webFont:"TeX",imageFont:"TeX",undefinedFamily:'STIXGeneral,"Arial Unicode MS",serif',showMathMenu:!0,styles:{},tooltip:{delayPost:600,delayClear:600,offsetX:10,offsetY:5}},NativeMML:{scale:100,showMathMenu:!0,showMathMenuMSIE:!0,styles:{}},MathMenu:{delay:400,helpURL:"http://www.mathjax.org/help/user/",showRenderer:!0,showFontMenu:!1,showContext:!1,windowSettings:{status:"no",toolbar:"no",locationbar:"no",menubar:"no",directories:"no",personalbar:"no",resizable:"yes",scrollbars:"yes",width:100,height:50},styles:{}},MMLorHTML:{prefer:{MSIE:"MML",Firefox:"MML",Opera:"HTML",other:"HTML"}}}),MathJax.Hub.Configured(),t()}};return{render:function render(s,e){var n=a(function(){setTimeout(function(){s?(MathJax.Hub.Queue(["Typeset",MathJax.Hub,s],e),MathJax.Hub.Queue(["Rerender",MathJax.Hub,s],e)):(MathJax.Hub.Queue(["Typeset",MathJax.Hub],e),MathJax.Hub.Queue(["Rerender",MathJax.Hub],e))},1)});t.ready("MathJax",n)}}};"function"==typeof define&&define.amd?define("js/lib/coursera.mathjax",["js/lib/thirdParties"],function(e){return module(e)}):e.mathjax=module(window.thirdparties)}(window);
define("bundles/ondemand/utils/socialExperimentUtils",["require","exports","module","underscore","bundles/ondemand/stores/CourseMembershipStore","bundles/ondemand/stores/SessionStore","bundles/epic/client","pages/open-course/common/constants"],function(require,exports,module){var _=require("underscore"),n=require("bundles/ondemand/stores/CourseMembershipStore"),s=require("bundles/ondemand/stores/SessionStore"),e=require("bundles/epic/client"),r=require("pages/open-course/common/constants");exports.isNearbyLearnersEnabled=function(){return s.isSessionsEnabled()&&_(e.get("siteOnDemandCompletion","showNearbyLearnersSessions")).contains(s.getSessionId())&&e.get("siteOnDemandCompletion","showNearbyLearners")},exports.isOnboardingModalEnabled=function(){return!exports.isNearbyLearnersEnabled()&&exports.isForumsEnabled()},exports.isForumsEnabled=function(){var s=e.get("siteOnDemandCompletion","hideForumsCourses"),o=_(s).findIndex(function(e){return e.id===r.courseId});if(0>o)return!0;var i=n.isEnrolled(),d=n.enrollmentTime();if(!i)return!1;var t=s[o];return!t.startTime||d<t.startTime?!0:!e.get("siteOnDemandCompletion","hideForums")}});
define("nls/discussions",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});


define("bundles/phoenix/components/OrigamiRegion",["require","exports","module","react-with-addons","origami","bundles/phoenix/lib/view","lazy!bundles/userModal/views/userModal"],function(require,exports,module){var e=require("react-with-addons"),i=require("origami"),s=require("bundles/phoenix/lib/view"),o=e.createClass({displayName:"Region",propTypes:{ViewClass:e.PropTypes.func,isUserModal:e.PropTypes.bool,regionOptions:e.PropTypes.object,viewOptions:e.PropTypes.object,renderOnce:e.PropTypes.bool,className:e.PropTypes.string},getDefaultProps:function getDefaultProps(){return{renderOnce:!1,viewOptions:{}}},componentDidMount:function componentDidMount(){this.updateRegion()},componentDidUpdate:function componentDidUpdate(){this.props.renderOnce?this.view.updateOptions&&this.view.updateOptions(this.props.viewOptions):this.updateRegion()},componentWillUnmount:function componentWillUnmount(){this.region&&this.region.close&&this.region.close()},resolvedRegionOptions:function resolvedRegionOptions(i){var e=this.props.regionOptions;return e||(e=this.props.viewOptions?{initialize:this.props.viewOptions}:{}),Object.assign({},e,i)},openUserModal:function openUserModal(){var e={};e["bundles/userModal/views/userModal"]=this.resolvedRegionOptions({module:require("lazy!bundles/userModal/views/userModal")}),i.region.open(e)},updateRegion:function updateRegion(){var e=this.props.isUserModal;if(e)this.openUserModal();else{this.region&&this.region.close&&this.region.close(),this.region=i.region.make(s,{}),this.view=this.region.render().view;var o=this.view.el;this.region.append(this.props.ViewClass,this.resolvedRegionOptions({module:this.props.ViewClass})),this.getDOMNode().innerHTML="",this.getDOMNode().appendChild(o)}},render:function render(){return e.createElement("div",{className:this.props.className})}});module.exports=o});
define("pages/open-course/item/views/nls/unauthenticated",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

!function(e){var n=function(n,e,i){var t=function template(o){var i=[],s={},t,a=o||{};return function(e){i.push('<div class="c-open-single-page c-unauthenticated"><div class="bt3-row"><div class="bt3-col-md-12"><h2>'+n.escape(null==(t=e("Please log in to view this content."))?"":t)+'</h2></div></div><div class="bt3-row c-open-single-page-start-area"><div class="bt3-col-md-4"><button data-js="login-button" class="primary bt3-btn-block c-call-to-action-btn">'+n.escape(null==(t=e("Log In"))?"":t)+"</button></div></div></div>")}.call(this,"_t"in a?a._t:"undefined"!=typeof e?e:void 0),i.join("")};return function(n){return n&&"_t"in n&&(e=n._t.merge(e)),t(n)}};"function"==typeof define&&define.amd?define('pages/open-course/item/views/unauthenticated.html',["js/vendor/jade","i18n!pages/open-course/item/views/nls/unauthenticated"],function(e,t){var i;return n(e,t,i)}):e.jade.templates["pages.open-course.item.views.unauthenticated"]=n(e.jade.helpers)}(window);
define("pages/open-course/item/views/unauthenticated",["require","exports","module","bundles/phoenix/lib/view","bundles/phoenix/template/models/userAuthorization","pages/open-course/item/views/unauthenticated.html"],function(require,exports,module){var e=require("bundles/phoenix/lib/view"),t=require("bundles/phoenix/template/models/userAuthorization"),n=require("pages/open-course/item/views/unauthenticated.html"),i=e.extend({name:"itemView",template:n,events:{'click [data-js~="login-button"]':"onLogInClick"},onLogInClick:function onLogInClick(){this.track("click.signInLink"),t.ensureAuthenticated({mode:"login"})}});module.exports=i});
define("bundles/CMLConverter/CMLParser",["require","exports","module","underscore"],function(require,exports,module){var _=require("underscore"),n={Heading:"heading",Text:"text",Image:"img",Audio:"audio",Code:"code",Table:"table",TableRow:"tr",TableCell:"td",TableCellHeader:"th",List:"list",ListItem:"li",Asset:"asset"},r=["strong","em","u","a","sup","sub","strike"],t="<co-content></co-content>",o=/\\\((.*?[^\\])\\\)|\\\[(.*?[^\\])\\\]|\$\$(.*?[^\\])\$\$/g,e=function CMLParser(e){var n=new window.DOMParser;""===e&&(e=t),this.doc=n.parseFromString(e,"application/xml")};e.prototype.getRoot=function(){return this.doc.childNodes[0]},e.prototype.getBlocks=function(){return this.getRoot().childNodes},e.prototype.getBlockAtIndex=function(e){var t=this.getBlocks();return t[e]},e.prototype.getCMLText=function(){var e=new window.XMLSerializer;return e.serializeToString(this.doc)},Object.assign(e,{EMPTY_CML:t,SUPPORTED_INLINE_BLOCKS:r}),e.getBlockTypes=function(){return n},e.getBlockType=function(e){return e.nodeName},e.hasMath=function(t){var n=e.getInnerContent(t);return!!n.match(o)},e.attributesToString=function(e){if(!e||_(e).isEmpty())return"";return _(e).map(function(e,t){return e?t+'="'+e+'"':t}).join(" ")},e.getInnerContent=function(t){var n=new window.XMLSerializer,e="";return _(t.childNodes).each(function(t){e+=n.serializeToString(t)}),e},e.getInnerText=function(r){for(var o="",t=null,n=0;n<r.childNodes.length;n++)t=r.childNodes[n],o+=3===t.nodeType?t.nodeValue:e.getInnerText(t);return o},module.exports=e});
define("js/vendor/EventEmitter",["require"],function(require){function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(e){return"function"==typeof e}function isNumber(e){return"number"==typeof e}function isObject(e){return"object"==typeof e&&null!==e}function isUndefined(e){return void 0===e}return EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(e){if(!isNumber(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},EventEmitter.prototype.emit=function(o){var r,t,s,n,e,i;if(this._events||(this._events={}),"error"===o&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if(r=arguments[1],r instanceof Error)throw r;throw TypeError('Uncaught, unspecified "error" event.')}if(t=this._events[o],isUndefined(t))return!1;if(isFunction(t))switch(arguments.length){case 1:t.call(this);break;case 2:t.call(this,arguments[1]);break;case 3:t.call(this,arguments[1],arguments[2]);break;default:for(s=arguments.length,n=new Array(s-1),e=1;s>e;e++)n[e-1]=arguments[e];t.apply(this,n)}else if(isObject(t)){for(s=arguments.length,n=new Array(s-1),e=1;s>e;e++)n[e-1]=arguments[e];for(i=t.slice(),s=i.length,e=0;s>e;e++)i[e].apply(this,n)}return!0},EventEmitter.prototype.addListener=function(e,t){var n;if(!isFunction(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,isFunction(t.listener)?t.listener:t),this._events[e]?isObject(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,isObject(this._events[e])&&!this._events[e].warned){var s;s=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,s&&s>0&&this._events[e].length>s&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(t,e){function g(){this.removeListener(t,g),s||(s=!0,e.apply(this,arguments))}if(!isFunction(e))throw TypeError("listener must be a function");var s=!1;return g.listener=e,this.on(t,g),this},EventEmitter.prototype.removeListener=function(s,t){var e,r,i,n;if(!isFunction(t))throw TypeError("listener must be a function");if(!this._events||!this._events[s])return this;if(e=this._events[s],i=e.length,r=-1,e===t||isFunction(e.listener)&&e.listener===t)delete this._events[s],this._events.removeListener&&this.emit("removeListener",s,t);else if(isObject(e)){for(n=i;n-->0;)if(e[n]===t||e[n].listener&&e[n].listener===t){r=n;break}if(0>r)return this;1===e.length?(e.length=0,delete this._events[s]):e.splice(r,1),this._events.removeListener&&this.emit("removeListener",s,t)}return this},EventEmitter.prototype.removeAllListeners=function(e){var s,t;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(s in this._events){if("removeListener"===s)continue;this.removeAllListeners(s)}return this.removeAllListeners("removeListener"),this._events={},this}if(t=this._events[e],isFunction(t))this.removeListener(e,t);else for(;t.length;)this.removeListener(e,t[t.length-1]);return delete this._events[e],this},EventEmitter.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?isFunction(this._events[e])?[this._events[e]]:this._events[e].slice():[]},EventEmitter.listenerCount=function(e,t){var s;return s=e._events&&e._events[t]?isFunction(e._events[t])?1:e._events[t].length:0},EventEmitter});
!function(){var module=function module($,_,i,r){var e={defaults:{"attribute.data":"data-transloadit",service:"https://api2.transloadit.com/",interval:2500,pollTimeout:8e3,pollInterval:300,poll404Retries:15,pollConnectionRetries:3,autosubmit:!0,exclude:"",fields:!1,hide:!0,params:null},get:function get(i,t){var e=$(i).data("transloadit.me");return e&&window.Modal&&e.constructor==window.Modal.prototype.constructor?t?e.customize(t):e:null},make:function make(o,r){var s=$(o),i=e.get(r);return i||(i=new t(s,r),s.data("transloadit.me",i)),i},uuid:function uuid(){var uuid="",e;for(e=0;32>e;e++)uuid+=Math.floor(16*Math.random()).toString(16);return uuid},poll:function poll(r){var t=this,i=0;if(this.ended)return;this.pollStarted=+new Date,$.ajax({dataType:"jsonp",url:"https://"+this.instance+"/assemblies/"+this.assemblyId+(r||"?seq="+this.seq),timeout:t.options.pollTimeout,callbackParameter:"callback",success:function success(r){if(t.ended)return;if(t.assembly=r,"ASSEMBLY_NOT_FOUND"==r.error){if(t.pollRetries++,t.pollRetries>t.options.poll404Retries)return t.emitter.trigger("error",{message:"can not find upload server",assembly:r}),void t.reset();return void setTimeout(function(){e.poll.call(t)},400)}if(r.error)return t.emitter.trigger("error",{message:"assembly error",assembly:r}),void t.reset();t.seq=r.last_seq,t.started||(t.started=!0,t.trigger("start",r)),t.pollRetries=0;var n="ASSEMBLY_UPLOADING"==r.ok,a="ASSEMBLY_CANCELED"==r.ok,l="ASSEMBLY_COMPLETED"==r.ok;if(n&&t.emitter.trigger("progress",r),r.uploads&&r.uploads.length){for(i=0;i<r.uploads.length;i++)t.emitter.trigger("upload",r.uploads[i],r),t.uploads.push(r.uploads[i]);t.filesToUpload.length>0&&t.filesToUpload.length==t.uploads.length&&(t.emitter.trigger("progress",r),t.emitter.trigger("upload-complete",t.uploads,r))}for(var s in r.results)for(t.results[s]=t.results[s]||[],i=0;i<r.results[s].length;i++)t.emitter.trigger("result",s,r.results[s][i],r),t.results[s].push(r.results[s][i]);if(a)return t.ended=!0,void t.emitter.trigger("cancel",r);if(t.bytesReceivedBefore=r.bytes_received,l)return t.ended=!0,r.uploads=t.uploads,r.results=t.results,void t.emitter.trigger("success",r);var o=t.pollStarted-+new Date,u=o<t.options.interval?t.options.interval:o;t.timer=setTimeout(function(){e.poll.call(t)},u),t.lastPoll=+new Date},error:function error(s,i){if(t.ended)return;if(t.pollRetries++,t.pollRetries>t.options.pollConnectionRetries){var r={error:"CONNECTION_ERROR",message:"There was a problem connecting to the upload server",reason:"JSONP request status: "+i};return t.emitter.trigger("error",r),void t.reset()}setTimeout(function(){e.poll.call(t)},350)}})},clone:function clone(t){for(var i=t.clone(),r=t.filter("textarea"),s=i.filter("textarea"),e=0,o=r.length;o>e;++e)$(s[e]).val($(r[e]).val());return i},checkFileTypes:function checkFileTypes(){var t=this,i=t.$files.attr("accept")||"";if(!i)return!0;var e=[];_(i.split(",")).each(function(t){"video/*"==t?e=e.concat(["video/mp4","video/m4v","video/flv","video/avi","video/mpg","video/mov","video/wmv","video/h264","video/mkv"]):"image/*"==t?e=e.concat(["image/png","image/jpeg","image/gif","image/jpg","image/ico"]):e.push(t)}),t.$files=t.$files.filter(function(){var n=_(i.split(",")).map(function(e){return new RegExp(e)}),s=_(e).map(function(e){return e.split("/").pop()}),r=function getExt(e){return-1!==e.indexOf(".")?e.split(".").pop().toLowerCase():""},a=function hasAcceptedExt(t){var e=r(t);return _(s).contains(e)||_(s).contains("."+e)},o=function checkExt(e){var s=a(e);if(!s){var i="",o=r(e);i=o?"Sorry, we do not accept "+r(e)+" files here.":"Sorry, we do not accept this type of file here.",i+=" Please use a valid filetype or extension and try again!",t.emitter.trigger("error",{message:i})}return s};if(this.files){var l=_(this.files).map(function(e){if(e.type&&_(n).some(function(t){return t.test(e.type)}))return!0;return o(e.name)});return _(l).every(_.identity)}return o(this.value)})},detectFileInputs:function detectFileInputs(){this.$files=this.$form.find("input[type=file]").not(this.options.exclude),this.$files=this.$files.filter(function(){return!_.isEmpty(this.value)})},validate:function validate(){var e=this.options.params||this.$form.find("input[name=params]").val();if(!e)return this.emitter.trigger("error",{message:"no params where found"}),!1;if(!_.isString(e))return e;try{return JSON.parse(e)}catch(t){return this.emitter.trigger("error",{message:"input[name=params] contains invalid JSON"}),!1}},getBoredInstance:function getBoredInstance(){var t=this;this.instance=null,$.ajax({dataType:"jsonp",url:this.options.service+"instances/bored",timeout:t.options.pollTimeout,callbackParameter:"callback",success:function success(i){if(!i||!i.api2_host)return t.emitter.trigger("error",{message:"no instance found"}),void t.reset();if(i&&i.error)return t.emitter.trigger("error",{message:i.error}),void t.reset();t.instance=i.api2_host,e.begin.call(t)},error:function error(r,e){var i={error:"CONNECTION_ERROR",message:"There was a problem connecting to the upload server",reason:"JSONP request status: "+e};t.emitter.trigger("error",i),t.reset()}})},begin:function begin(){var t=this;this.started=!1,this.ended=!1,this.bytesReceivedBefore=0,this.pollRetries=0,this.seq=0,this.uploads=[],this.results={},this.filesToUpload=[],this.assemblyId=e.uuid(),this.$fileClones=$().not(document),this.$files&&this.$files.each(function(){var e=$(this).clone(!0);t.$fileClones=t.$fileClones.add(e),e.insertAfter(this),this.multiple===!0?_.each(this.files,function(e){t.filesToUpload.push(e)}):t.filesToUpload.push(e.val())}),this.$iframe=$('<iframe id="transloadit-'+this.assemblyId+'" name="transloadit-'+this.assemblyId+'"/>').insertAfter(this.$form).hide();var s=$('<form enctype="multipart/form-data" />').attr("action","https://"+this.instance+"/assemblies/"+this.assemblyId+"?redirect=false").attr("target","transloadit-"+this.assemblyId).attr("method","POST").append(this.$files).insertAfter(this.$form).hide(),r="[name=params], [name=signature]";this.options.fields===!0?r="*":"string"==typeof this.options.fields&&(r+=", "+this.options.fields);var i=e.clone(this.$form.find(":input[type!=file]").filter(r));i=i.add("<input>"),i.attr({name:"params"}),i.attr({value:JSON.stringify(this.options.params)}),i.prependTo(s),s.submit(),this.lastPoll=+new Date,setTimeout(function(){e.poll.call(t)},this.options.pollInterval)}},t=function TransloadIT(r,s){var t=this;this.$form=$(r),this.customize(s),this.assemblyId=null,this.instance=null,this.timer=null,this.uploads=[],this.results={},this.ended=null,this.pollStarted=null,this.pollRetries=0,this.seq=0,this.started=!1,this.assembly=null,this.params=null,this.bytesReceivedBefore=0,this.lastPoll=0,this.$files=null,this.$fileClones=null,this.$iframe=null,this.emitter=i.emitter(this),this.$form.find('input[type="file"]').on("change",function(){if(t.params=t.options.params=e.validate.call(t),t.params===!1)return t.reset(),!1;if(e.detectFileInputs.call(t),t.$files.length){e.checkFileTypes.call(t);var i=t.emitter.trigger("select")===!1;return t.options.autosubmit&&(i?t.reset():t.submit()),!1}return t.emitter.trigger("error",{message:"no file was selected for uploading"}),t.reset(),!1}),this.options.hide&&this.$form.find('input[type="file"]').each(function(){var t=$(this),e=t.parent();e.css({overflow:"hidden",cursor:"pointer"}),/block|inline-block/.test(e.css("display"))||e.css({display:"inline-block"}),/|static|inline/.test(e.css("position"))&&e.css({position:"relative"}),t.css({position:"absolute",top:0,right:0,opacity:0,height:"100%","font-size":"100px",cursor:"pointer"})})};t.prototype.submit=function(){e.getBoredInstance.call(this)},t.prototype.reset=function(){var e=this.$form.find("[type=file]");this.ended=!0,e.wrap("<form>").closest("form").get(0).reset(),e.unwrap()},t.prototype.cancel=function(){if(!this.ended){var t=this;this.$fileClones&&this.$fileClones.each(function(i){var r=$(t.$files[i]),e=$(this);r.insertAfter(e),e.remove()}),clearTimeout(this.timer),e.poll.call(this,"?method=delete"),"Microsoft Internet Explorer"==navigator.appName&&this.$iframe[0].contentWindow.document.execCommand("Stop"),setTimeout(function(){t.$iframe.remove()},500)}$.mask&&$.mask.close()},t.prototype.customize=function(t){return this.options=_.extend({},r.parse(this.$form,e.defaults,"data-transloadit-"),t),this};var s=function external(t,i){return e.get(t,i)||e.make(t,i)};return s};"function"==typeof define&&define.amd?define("js/lib/transloadit",["jquery","underscore","js/vendor/lucid.v2-7-0","js/lib/data.attributes"],function($,_,e,t){return module($,_,e,t)}):"undefined"!=typeof window&&"undefined"==typeof ender&&(window.TransloadIt=module(window.$,window._,window.LucidJS,window.DataAttributes))}();
define("js/lib/assetManagerUploader",["require","exports","module","jquery","underscore","js/lib/transloadit","js/vendor/lucid.v2-7-0","js/app/config","q"],function(require,exports,module){var $=require("jquery"),_=require("underscore"),o=require("js/lib/transloadit"),n=require("js/vendor/lucid.v2-7-0"),r=require("js/app/config"),s=require("q"),i={opts:{autosubmit:!1,params:{wait:!0}},assetUploadUrl:"/api/assetCreationAttempts.v1"},t="",e="";"development"===r.environment?(t="dd78c51087d911e4809901402446d7f6",e="fe02424095ce11e4ac73b3e1af312e96"):"staging"===r.environment?(t="dd78c51087d911e4809901402446d7f6",e="d6e7f8109ddc11e4b54c35ba355a9c94"):(t="05912e90e83346abb96c261bf458b615",e="9fe2b030809a11e4943d19e60b9af16b");var a=function AssetManagerUploader(r){var t=this;this.emitter=n.emitter(this),this.transloaditUploader=o(r,i.opts),this.attemptId="",this.attempts=null;var e=function updateAttemptRequest(e,t,a,r){return s($.ajax({url:i.assetUploadUrl+"/"+t,method:"put",contentType:"application/json",data:JSON.stringify(e)}).done(r).error(function(e){a.trigger("error",{message:"Could not reach asset service",error:e,attemptId:t})}))},a=function prepareAttemptWithAssembly(e,a){var r=[];for(var s in e.results){var t;t=a?_(e.results[s]).where({name:a.name})[0]:e.results[s][0],r.push({filename:t.name,mime:t.mime,url:t.url,sslUrl:t.ssl_url,size:t.size,duration:t.meta.duration,audioBitRate:t.meta.audio_bitrate})}return{typeName:"successful",transloaditData:JSON.stringify(e),assets:r}},d=function propagateEvents(e){t.transloaditUploader.on(e,function(a){t.emitter.trigger(e,a)})},l=["start","select","progress","upload","upload-complete","result","cancel"];l.forEach(d),this.transloaditUploader.on("success",function(i){var r,d=!_(t.attempts).isEmpty();if(d){t.emitter.trigger("upload-result",i);var n=[],o={success:[],error:[]};_(t.attempts).map(function(s){r=a(i,s),n.push(e(r,s.attemptId,t.emitter).then(function(){return o.success.push(s)})["catch"](function(){return o.error.push(s)}))}),s.all(n).done(function(){t.emitter.trigger("all-complete",o)})}else r=a(i),e(r,t.attemptId,t.emitter,function(e){t.emitter.trigger("complete",e.elements[0])})}),this.transloaditUploader.on("error",function(t){var a={typeName:"failed",errorMessage:t.error,transloaditData:JSON.stringify(t)};e(a,this.attemptId,this.emitter,function(){this.emitter.trigger("failed",{message:"Could not finish upload attempt: "+t.error+" assetId: "+this.assetId})}.bind(this))}.bind(this))};a.prototype.attempt=function(a,r){r=r||{},_(a).has("id")?(this.attemptId=a.id,this.transloaditUploader.customize({autosubmit:!1,params:{wait:!0,auth:{key:t},notify_url:"",template_id:e,fields:{attemptId:this.attemptId}}}),this.transloaditUploader.submit()):this.emitter.trigger("failed",{message:"No attempt ID provided."})},a.prototype.bulkAttempt=function(a){this.attempts=a,_(a).isEmpty()?this.emitter.trigger("failed",{message:"No attempt provided."}):(this.transloaditUploader.customize({autosubmit:!1,params:{wait:!0,auth:{key:t},notify_url:"",template_id:e,fields:{attempts:a}}}),this.transloaditUploader.submit())},module.exports=a});
define("js/lib/AssetManager",["require","exports","module","underscore","q","js/lib/api","js/vendor/EventEmitter","js/lib/assetManagerUploader"],function(require,exports,module){var _=require("underscore"),n=require("q"),p=require("js/lib/api"),a=p("",{type:"rest"}),o=require("js/vendor/EventEmitter"),d=require("js/lib/assetManagerUploader"),t={Uninitialized:"uninitialized",Initialized:"initialized",Uploading:"uploading",Completed:"completed",Failed:"failed"},s=["start","select","progress","upload","upload-complete","result","cancel"],i={Image:{name:"image",types:["image/*"]},Video:{name:"video",types:["video/mp4","video/x-m4v","video/*"]},Subtitle:{name:"subtitle",types:["text/srt","text/vtt"]},Generic:{name:"generic",types:[]}},l=function getAssetType(e){return 0===e.indexOf(i.Image.name)?i.Image:0===e.indexOf(i.Video.name)?i.Video:i.Generic},r=function createUploadAttempt(t,e){var i=n.defer();t=t||{};var o={typeName:"pending",assetType:"generic"};return n(a.post(t.assetCreationUrl,{data:_.defaults(t,o)})).then(function(n){var t=n.elements[0];e?i.resolve({name:e.name,type:e.type,size:e.size,assetType:l(e.type).name,attemptId:t.id}):i.resolve(t)}),i.promise},e=function AssetManager(){o.call(this),this.uploadState=t.Uninitialized,this.uploader=null,this.uploaderDOM=null,this.assetOptions=null};_.extend(e.prototype,o.prototype),e.ASSET_URL_CACHE={},e.GET_FAIL_COUNT=0,e.getAssetURL=function(t){return e.ASSET_URL_CACHE[t]},e.prototype.initializeUploader=function(o,a,l,r){var p=this;if(this.uploadState!==t.Uninitialized)return void console.error("An uploader is already initialized. Destroy it first before calling initialize.");a=a||{},this.isBulkUpload=r;var i=document.createElement("div");i.className="c-assetmanager-uploader",i.style.display="none";var e=document.createElement("form");e.encType="multipart/form-data",e.method="POST";var n=document.createElement("input");n.type="file",n.name="file",n.multiple=r,o&&(n.accept=o.types.join());var u=document.createElement("input");u.type="submit",e.appendChild(n),e.appendChild(u),i.appendChild(e),l?l.appendChild(i):document.body.appendChild(i),this.uploaderDOM={wrapper:i,input:n,form:e},this.uploader=new d(e),this.assetOptions=a,_(s).each(function(e){p.uploader.on(e,function(t){p.emit(e,t)})}),this.uploadState=t.Initialized},e.prototype.initializeVideoUploader=function(e){this.initializeUploader(i.Video,e)},e.prototype.initializeImageUploader=function(e){this.initializeUploader(i.Image,e)},e.prototype.initializeSubtitleUploader=function(e){this.initializeUploader(i.Subtitle,e)},e.prototype.initializeBulkUploader=function(t,n,a){var e=this,o=_(i).findWhere({name:n});this.initializeUploader(o,a,t,!0),this.uploader.on("select",function(){e.emit("change",e.uploaderDOM.input.files)}),this.uploader.on("all-complete",function(t){e.emit("all-complete",t)})},e.prototype.destroyUploader=function(){if(this.uploadState===t.Uninitialized)return void console.error("An uploader cannot be destroyed if it does not exist.");document.body.removeChild(this.uploaderDOM.wrapper),this.uploader=null,this.uploaderDOM=null,this.assetOptions=null,this.uploadState=t.Uninitialized},e.prototype.selectFile=function(){if(this.uploadState!==t.Initialized&&this.uploadState!==t.Failed)return void console.error("Files can only be selected for upload just after the uploader is initialized or if the upload failed.");this.uploaderDOM.form.reset(),this.uploaderDOM.input.click()},e.prototype.isInitialized=function(){return this.uploadState!==t.Uninitialized},e.prototype.upload=function(a){var e=this;if(this.uploadState!==t.Initialized&&this.uploadState!==t.Failed)return void console.error("Upload can only be called if the last upload failed or if the uploader was just initialized.");this.uploadState=t.Uploading,a=a||{};var o=function uploadWithAttemptId(a){var i=n.defer(),t=function onFailOrError(e){i.reject(e),l()},o=function onComplete(e){i.resolve(e),l()},l=function detachEvents(){e.uploader.off("failed",t),e.uploader.off("error",t),e.uploader.off("complete",o)};return e.uploader.on("failed",t),e.uploader.on("error",t),e.uploader.on("complete",o),e.isBulkUpload?e.uploader.bulkAttempt(a):e.uploader.attempt(a[0],{}),i.promise};if(this.isBulkUpload){var d=[];return _(this.uploaderDOM.input.files).map(function(o){var n=l(o.type).name,t=_(a).defaults(e.assetOptions);t.assetType=n,t.pendingAssetCreation&&(t.pendingAssetCreation.assetType=n,n===i.Video.name&&(t.pendingAssetCreation.videoTemplate="fullVideo",t.pendingAssetCreation.tags=[{name:"scope",value:"video"}])),d.push(r(t,o))}),n.all(d).then(function(e){return o(e)}).then(function(i){return e.uploadState=t.Completed,i})["catch"](function(i){return e.uploadState=t.Failed,n.reject(i)})}return r(_(a).defaults(this.assetOptions)).then(function(e){return o([e])}).then(function(i){return e.uploadState=t.Completed,i})["catch"](function(i){return e.uploadState=t.Failed,n.reject(i)})},e.prototype.getAssetURLMap=function(t){var i={},o=[];if(t=_(t).uniq(),_(t).each(function(t){var n=e.getAssetURL(t);n&&(i[t]=n,o.push(t))}),t=_(t).difference(o),0===t.length)return n.resolve(i);if(e.GET_FAIL_COUNT>=1)return n.reject();return a.get("/api/assetUrls.v1",{data:{ids:t.join(",")}}).then(function(t){return _(t.elements).each(function(t){var n=t.url,a=t.id;i[a]=n,e.ASSET_URL_CACHE[a]=n}),i}).fail(function(t){e.GET_FAIL_COUNT++})},module.exports=e});
define("js/lib/LinkEventing",["require","exports","module","underscore","js/lib/api"],function(require,exports,module){var _=require("underscore"),t=require("js/lib/api"),n=t("",{type:"rest"}),e=function LinkEventing(e,t){this.key=e,this.value=t};e.URL_CACHE={},e.getURL=function(t){return e.URL_CACHE[t]},e.prototype.getURLMap=function(i){var t={},r=[];return _(i).each(function(e){r.push({url:e,key:this.key,value:_({url:e}).extend(this.value)})}.bind(this)),n.post("/eventing/api/generateRedirect",{data:r}).then(function(n){return _(i).each(function(e,r){var i=n[r];i?t[e]=i:t[e]=e}),_(e.URL_CACHE).extend(t),t})},module.exports=e});
define("bundles/CMLConverter/CMLToHTMLConverter",["require","exports","module","underscore","bundles/CMLConverter/CMLParser","js/lib/AssetManager","js/lib/LinkEventing","js/vendor/EventEmitter","js/app/config"],function(require,exports,module){function getHTML(n,s,e){var i=n;e&&!_(e).isEmpty()&&(i+=" "+t.attributesToString(e));var r=_.template("<<%= openingTag %>><%= content %></<%= closingTag %>>");return r({openingTag:i,closingTag:n,content:s})}function getImageHTML(e){var r=e.getAttribute("src"),n=e.getAttribute("assetId"),a=e.getAttribute("alt"),i=null,s={src:sanitizeURL(r),alt:a};n&&(i=getAssetUrl.call(this,n),i&&(s.src=i),s["data-asset-id"]=n);var l="<img "+t.attributesToString(s)+"/>";return getHTML("figure",l,{})}function getAssetHTML(n){var i=n.getAttribute("id"),s=n.getAttribute("name"),r=n.getAttribute("extension"),l=n.getAttribute("assetType"),o=r?s+"."+r:s,a=null,e={target:"_blank"};if(i){a=getAssetUrl.call(this,i),a&&(e.href=a),e["data-id"]=i,e["data-name"]=s,e["data-extension"]=r,e["data-type"]=l;var c="<a "+t.attributesToString(e)+">"+o+"</a>";return getHTML("div",c,{"data-block-type":"asset"})}return""}function getAudioHTML(i){var t=i.getAttribute("src"),n,e=/\.([^.]*)$/.exec(t);return n=e&&e[1]?'<source src="'+t+'" type="audio/'+e[1]+'">':'<source src="'+t+'">',getHTML("audio",n,{controls:!0})}function getListHTML(e){var i=_(e.childNodes).map(this.convert.bind(this)).join(""),s=e.getAttribute("bulletType"),n={},t="";switch(s){case"numbers":t="ol";break;case"alphabet":t="ol",n.type="A";break;case"bullets":t="ul"}return getHTML(t,i,n)}function getListItemHTML(t){return getHTML("li",getItemHTML.call(this,t))}function getHeadingHTML(t){var e=t.getAttribute("level")||1,n="h"+e,i=getInnerHTML.call(this,t);return getHTML(n,i)}function getTableHTML(t){var e=_(t.childNodes).map(this.convert.bind(this)).join(""),n=getHTML("tbody",e);return getHTML("table",n)}function getTableRowHTML(t){var e=_(t.childNodes).map(this.convert.bind(this)).join("");return getHTML("tr",e)}function getTableCellHTML(t){return getHTML("td",getItemHTML.call(this,t))}function getTableCellHeaderHTML(t){return getHTML("th",getItemHTML.call(this,t))}function getInnerHTML(e){var t="";return _(e.childNodes).each(function(e){t+=getInlineBlockHTML.call(this,e)}.bind(this)),t}function getInlineBlockHTML(n){var e="",i=n.nodeName,s=3===n.nodeType,r=_(t.SUPPORTED_INLINE_BLOCKS);return s?e=_(n.data).escape():"a"===i?e=getLinkHTML.call(this,n):-1!==r.indexOf(i)&&(_(n.childNodes).each(function(t){e+=getInlineBlockHTML.call(this,t,i)}.bind(this)),e=getHTML(i,e)),e}function isCourseraUrl(t){var e=window.location.protocol,n=window.location.host,i=r.url.assets,s=new RegExp("^"+e+"//"+n+"|^"+i);return s.test(t)}function getLinkHTML(e){var l=this,t=e.getAttribute("href"),s=e.getAttribute("title"),r="";if(this.linkEventing){var a=i.getURL(t);a?t=a:-1===this.linkURLs.indexOf(t)&&this.linkURLs.push(t)}_(e.childNodes).each(function(t){r+=getInlineBlockHTML.call(l,t)});var n={href:sanitizeURL(t),target:"_blank"};return s&&(n.title=s),isCourseraUrl(t)||(n.rel="nofollow"),getHTML("a",r,n)}function getItemHTML(i){var e="",s=t.getBlockTypes(),n=_(i.childNodes).find(function(e){var n=t.getBlockType(e);return n===s.Text});return n&&(e=getInnerHTML.call(this,n)),e}function isWhitespace(t){return"#text"===t.nodeName&&t.data&&""===t.data.trim()}function fetchAssets(){this.assetIds&&0!==this.assetIds.length&&this.assetManager.getAssetURLMap(this.assetIds).then(function(t){this.assetIds=[],this.emit("assetsAvailable",t)}.bind(this))}function fetchEventedLinks(){this.linkEventing&&this.linkURLs&&0!==this.linkURLs.length&&this.linkEventing.getURLMap(this.linkURLs).then(function(t){this.linkURLs=[],this.emit("eventedLinksAvailable",t)}.bind(this))}function sanitizeURL(t){var e="javascript:";return t&&0===t.toLowerCase().indexOf(e)&&(t=""),t}function substituteVariablesWithData(t){for(var e in this.variableData){var n=new RegExp("%"+e+"%","g");t=t.replace(n,this.variableData[e])}return t}function getAssetUrl(t){var e=n.getAssetURL(t);return e||-1!==this.assetIds.indexOf(t)||this.assetIds.push(t),e}var _=require("underscore"),t=require("bundles/CMLConverter/CMLParser"),n=require("js/lib/AssetManager"),i=require("js/lib/LinkEventing"),s=require("js/vendor/EventEmitter"),r=require("js/app/config"),e=function CMLToHTMLConverter(){this.assetManager=new n,this.variableData={},this.assetIds=[],this.linkURLs=[]};e.prototype=_.extend({},s.prototype,{}),e.prototype.setupLinkEventing=function(t){this.linkEventing=new i(t.key,t.value)},e.prototype.setupSubstituteVariables=function(t){this.variableData=t},e.prototype.toHTML=function(e){var n=new t(e),i=n.getBlocks();if(!e)return"";var s=_(i).map(this.convert.bind(this)).join("");return fetchAssets.call(this),fetchEventedLinks.call(this),substituteVariablesWithData.call(this,s)},e.prototype.convert=function(e){var i=t.getBlockType(e),n=t.getBlockTypes();if(isWhitespace(e))return"";switch(i){case n.Heading:return getHeadingHTML.call(this,e);case n.Text:return getHTML("p",getInnerHTML.call(this,e));case n.Image:return getImageHTML.call(this,e);case n.List:return getListHTML.call(this,e);case n.ListItem:return getListItemHTML.call(this,e);case n.Table:return getTableHTML.call(this,e);case n.TableRow:return getTableRowHTML.call(this,e);case n.TableCell:return getTableCellHTML.call(this,e);case n.TableCellHeader:return getTableCellHeaderHTML.call(this,e);case n.Audio:return getAudioHTML.call(this,e);case n.Code:return getHTML("pre",getInnerHTML.call(this,e));case n.Asset:return getAssetHTML.call(this,e);default:throw new Error('Unknown CML tag "'+i+'" encountered')}},module.exports=e});
function _handleMultipleEvents(t,e,s,o){vjs.arr.forEach(s,function(s){t(e,s,o)})}function _logType(t,n){var e,o,s;e=Array.prototype.slice.call(n),o=function(){},s=window.console||{log:o,warn:o,error:o},t?e.unshift(t.toUpperCase()+":"):t="log",vjs.log.history.push(e),e.unshift("VIDEOJS:"),s[t].apply?s[t].apply(s,e):s[t](e.join(" "))}document.createElement("video"),document.createElement("audio"),document.createElement("track");var vjs=function(t,o,s){var e;if("string"==typeof t){if(0===t.indexOf("#")&&(t=t.slice(1)),vjs.players[t])return o&&vjs.log.warn('Player "'+t+'" is already initialised. Options will not be applied.'),s&&vjs.players[t].ready(s),vjs.players[t];e=vjs.el(t)}else e=t;if(!e||!e.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");return e.player||new vjs.Player(e,o,s)},videojs=window.videojs=vjs;vjs.CDN_VERSION="4.12",vjs.ACCESS_PROTOCOL="https:"==document.location.protocol?"https://":"http://",vjs.VERSION="4.12.5",vjs.options={techOrder:["html5","flash"],html5:{},flash:{},width:300,height:150,defaultVolume:0,playbackRates:[],inactivityTimeout:2e3,children:{mediaLoader:{},posterImage:{},loadingSpinner:{},textTrackDisplay:{},bigPlayButton:{},controlBar:{},errorDisplay:{},textTrackSettings:{}},language:document.getElementsByTagName("html")[0].getAttribute("lang")||navigator.languages&&navigator.languages[0]||navigator.userLanguage||navigator.language||"en",languages:{},notSupportedMessage:"No compatible source was found for this video."},"GENERATED_CDN_VSN"!==vjs.CDN_VERSION&&(videojs.options.flash.swf=vjs.ACCESS_PROTOCOL+"vjs.zencdn.net/"+vjs.CDN_VERSION+"/video-js.swf"),vjs.addLanguage=function(t,e){return void 0!==vjs.options.languages[t]?vjs.options.languages[t]=vjs.util.mergeOptions(vjs.options.languages[t],e):vjs.options.languages[t]=e,vjs.options.languages},vjs.players={},"function"==typeof define&&define.amd?define("videojs",[],function(){return videojs}):"object"==typeof exports&&"object"==typeof module&&(module.exports=videojs),vjs.CoreObject=vjs.CoreObject=function(){},vjs.CoreObject.extend=function(e){var o,t;e=e||{},o=e.init||e.init||this.prototype.init||this.prototype.init||function(){},t=function(){o.apply(this,arguments)},t.prototype=vjs.obj.create(this.prototype),t.prototype.constructor=t,t.extend=vjs.CoreObject.extend,t.create=vjs.CoreObject.create;for(var s in e)e.hasOwnProperty(s)&&(t.prototype[s]=e[s]);return t},vjs.CoreObject.create=function(){var t=vjs.obj.create(this.prototype);return this.apply(t,arguments),t},vjs.on=function(s,e,o){if(vjs.obj.isArray(e))return _handleMultipleEvents(vjs.on,s,e,o);var t=vjs.getData(s);t.handlers||(t.handlers={}),t.handlers[e]||(t.handlers[e]=[]),o.guid||(o.guid=vjs.guid++),t.handlers[e].push(o),t.dispatcher||(t.disabled=!1,t.dispatcher=function(e){if(t.disabled)return;e=vjs.fixEvent(e);var n=t.handlers[e.type];if(n)for(var r=n.slice(0),o=0,i=r.length;i>o&&!e.isImmediatePropagationStopped();o++)r[o].call(s,e)}),1==t.handlers[e].length&&(s.addEventListener?s.addEventListener(e,t.dispatcher,!1):s.attachEvent&&s.attachEvent("on"+e,t.dispatcher))},vjs.off=function(e,t,s){if(!vjs.hasData(e))return;var o=vjs.getData(e);if(!o.handlers)return;if(vjs.obj.isArray(t))return _handleMultipleEvents(vjs.off,e,t,s);var i=function(t){o.handlers[t]=[],vjs.cleanUpEvents(e,t)};if(!t){for(var a in o.handlers)i(a);return}var n=o.handlers[t];if(!n)return;if(!s)return void i(t);if(s.guid)for(var r=0;r<n.length;r++)n[r].guid===s.guid&&n.splice(r--,1);vjs.cleanUpEvents(e,t)},vjs.cleanUpEvents=function(e,s){var t=vjs.getData(e);0===t.handlers[s].length&&(delete t.handlers[s],e.removeEventListener?e.removeEventListener(s,t.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+s,t.dispatcher)),vjs.isEmpty(t.handlers)&&(delete t.handlers,delete t.dispatcher,delete t.disabled),vjs.isEmpty(t)&&vjs.removeData(e)},vjs.fixEvent=function(t){function returnTrue(){return!0}function returnFalse(){return!1}if(!t||!t.isPropagationStopped){var e=t||window.event;t={};for(var n in e)"layerX"!==n&&"layerY"!==n&&"keyLocation"!==n&&("returnValue"==n&&e.preventDefault||(t[n]=e[n]));if(t.target||(t.target=t.srcElement||document),t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement,t.preventDefault=function(){e.preventDefault&&e.preventDefault(),t.returnValue=!1,t.isDefaultPrevented=returnTrue,t.defaultPrevented=!0},t.isDefaultPrevented=returnFalse,t.defaultPrevented=!1,t.stopPropagation=function(){e.stopPropagation&&e.stopPropagation(),t.cancelBubble=!0,t.isPropagationStopped=returnTrue},t.isPropagationStopped=returnFalse,t.stopImmediatePropagation=function(){e.stopImmediatePropagation&&e.stopImmediatePropagation(),t.isImmediatePropagationStopped=returnTrue,t.stopPropagation()},t.isImmediatePropagationStopped=returnFalse,null!=t.clientX){var s=document.documentElement,o=document.body;t.pageX=t.clientX+(s&&s.scrollLeft||o&&o.scrollLeft||0)-(s&&s.clientLeft||o&&o.clientLeft||0),t.pageY=t.clientY+(s&&s.scrollTop||o&&o.scrollTop||0)-(s&&s.clientTop||o&&o.clientTop||0)}t.which=t.charCode||t.keyCode,null!=t.button&&(t.button=1&t.button?0:4&t.button?1:2&t.button?2:0)}return t},vjs.trigger=function(e,t){var o=vjs.hasData(e)?vjs.getData(e):{},s=e.parentNode||e.ownerDocument;if("string"==typeof t&&(t={type:t,target:e}),t=vjs.fixEvent(t),o.dispatcher&&o.dispatcher.call(e,t),s&&!t.isPropagationStopped()&&t.bubbles!==!1)vjs.trigger(s,t);else if(!s&&!t.defaultPrevented){var n=vjs.getData(t.target);t.target[t.type]&&(n.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),n.disabled=!1)}return!t.defaultPrevented},vjs.one=function(s,t,e){if(vjs.obj.isArray(t))return _handleMultipleEvents(vjs.one,s,t,e);var o=function(){vjs.off(s,t,o),e.apply(this,arguments)};o.guid=e.guid=e.guid||vjs.guid++,vjs.on(s,t,o)};var hasOwnProp=Object.prototype.hasOwnProperty;vjs.createEl=function(e,s){var t;return e=e||"div",s=s||{},t=document.createElement(e),vjs.obj.each(s,function(e,s){-1!==e.indexOf("aria-")||"role"==e?t.setAttribute(e,s):t[e]=s}),t},vjs.capitalize=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},vjs.obj={},vjs.obj.create=Object.create||function(t){function F(){}return F.prototype=t,new F},vjs.obj.each=function(t,s,o){for(var e in t)hasOwnProp.call(t,e)&&s.call(o||this,e,t[e])},vjs.obj.merge=function(e,t){if(!t)return e;for(var s in t)hasOwnProp.call(t,s)&&(e[s]=t[s]);return e},vjs.obj.deepMerge=function(e,s){var t,o,n;e=vjs.obj.copy(e);for(t in s)hasOwnProp.call(s,t)&&(o=e[t],n=s[t],vjs.obj.isPlain(o)&&vjs.obj.isPlain(n)?e[t]=vjs.obj.deepMerge(o,n):e[t]=s[t]);return e},vjs.obj.copy=function(t){return vjs.obj.merge({},t)},vjs.obj.isPlain=function(t){return!!t&&"object"==typeof t&&"[object Object]"===t.toString()&&t.constructor===Object},vjs.obj.isArray=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},vjs.isNaN=function(t){return t!==t},vjs.bind=function(o,t,e){t.guid||(t.guid=vjs.guid++);var s=function(){return t.apply(o,arguments)};return s.guid=e?e+"_"+t.guid:t.guid,s},vjs.cache={},vjs.guid=1,vjs.expando="vdata"+(new Date).getTime(),vjs.getData=function(e){var t=e[vjs.expando];return t||(t=e[vjs.expando]=vjs.guid++),vjs.cache[t]||(vjs.cache[t]={}),vjs.cache[t]},vjs.hasData=function(e){var t=e[vjs.expando];return!(!t||vjs.isEmpty(vjs.cache[t]))},vjs.removeData=function(t){var e=t[vjs.expando];if(!e)return;delete vjs.cache[e];try{delete t[vjs.expando]}catch(s){t.removeAttribute?t.removeAttribute(vjs.expando):t[vjs.expando]=null}},vjs.isEmpty=function(t){for(var e in t)if(null!==t[e])return!1;return!0},vjs.hasClass=function(t,e){return-1!==(" "+t.className+" ").indexOf(" "+e+" ")},vjs.addClass=function(t,e){vjs.hasClass(t,e)||(t.className=""===t.className?e:t.className+" "+e)},vjs.removeClass=function(s,o){var t,e;if(!vjs.hasClass(s,o))return;for(t=s.className.split(" "),e=t.length-1;e>=0;e--)t[e]===o&&t.splice(e,1);s.className=t.join(" ")},vjs.TEST_VID=vjs.createEl("video"),function(){var t=document.createElement("track");t.kind="captions",t.srclang="en",t.label="English",vjs.TEST_VID.appendChild(t)}(),vjs.USER_AGENT=navigator.userAgent,vjs.IS_IPHONE=/iPhone/i.test(vjs.USER_AGENT),vjs.IS_IPAD=/iPad/i.test(vjs.USER_AGENT),vjs.IS_IPOD=/iPod/i.test(vjs.USER_AGENT),vjs.IS_IOS=vjs.IS_IPHONE||vjs.IS_IPAD||vjs.IS_IPOD,vjs.IOS_VERSION=function(){var t=vjs.USER_AGENT.match(/OS (\d+)_/i);if(t&&t[1])return t[1]}(),vjs.IS_ANDROID=/Android/i.test(vjs.USER_AGENT),vjs.ANDROID_VERSION=function(){var t=vjs.USER_AGENT.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i),e,s;if(!t)return null;return e=t[1]&&parseFloat(t[1]),s=t[2]&&parseFloat(t[2]),e&&s?parseFloat(t[1]+"."+t[2]):e?e:null}(),vjs.IS_OLD_ANDROID=vjs.IS_ANDROID&&/webkit/i.test(vjs.USER_AGENT)&&vjs.ANDROID_VERSION<2.3,vjs.IS_FIREFOX=/Firefox/i.test(vjs.USER_AGENT),vjs.IS_CHROME=/Chrome/i.test(vjs.USER_AGENT),vjs.IS_IE8=/MSIE\s8\.0/.test(vjs.USER_AGENT),vjs.TOUCH_ENABLED=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),vjs.BACKGROUND_SIZE_SUPPORTED="backgroundSize"in vjs.TEST_VID.style,vjs.setElementAttributes=function(t,e){vjs.obj.each(e,function(s,e){null===e||"undefined"==typeof e||e===!1?t.removeAttribute(s):t.setAttribute(s,e===!0?"":e)})},vjs.getElementAttributes=function(t){var r,i,e,s,o;if(r={},i=",autoplay,controls,loop,muted,default,",t&&t.attributes&&t.attributes.length>0){e=t.attributes;for(var n=e.length-1;n>=0;n--)s=e[n].name,o=e[n].value,("boolean"==typeof t[s]||-1!==i.indexOf(","+s+","))&&(o=null!==o?!0:!1),r[s]=o}return r},vjs.getComputedDimension=function(t,e){var s="";return document.defaultView&&document.defaultView.getComputedStyle?s=document.defaultView.getComputedStyle(t,"").getPropertyValue(e):t.currentStyle&&(s=t["client"+e.substr(0,1).toUpperCase()+e.substr(1)]+"px"),s},vjs.insertFirst=function(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)},vjs.browser={},vjs.el=function(t){return 0===t.indexOf("#")&&(t=t.slice(1)),document.getElementById(t)},vjs.formatTime=function(t,n){n=n||t;var e=Math.floor(t%60),s=Math.floor(t/60%60),o=Math.floor(t/3600),r=Math.floor(n/60%60),i=Math.floor(n/3600);return(isNaN(t)||t===1/0)&&(o=s=e="-"),o=o>0||i>0?o+":":"",s=((o||r>=10)&&10>s?"0"+s:s)+":",e=10>e?"0"+e:e,o+s+e},vjs.blockTextSelection=function(){document.body.focus(),document.onselectstart=function(){return!1}},vjs.unblockTextSelection=function(){document.onselectstart=function(){return!0}},vjs.trim=function(t){return(t+"").replace(/^\s+|\s+$/g,"")},vjs.round=function(e,t){return t||(t=0),Math.round(e*Math.pow(10,t))/Math.pow(10,t)},vjs.createTimeRange=function(t,e){return{length:1,start:function(){return t},end:function(){return e}}},vjs.setLocalStorage=function(s,o){try{var e=window.localStorage||!1;if(!e)return;e[s]=o}catch(t){22==t.code||1014==t.code?vjs.log("LocalStorage Full (VideoJS)",t):18==t.code?vjs.log("LocalStorage not allowed (VideoJS)",t):vjs.log("LocalStorage Error (VideoJS)",t)}},vjs.getAbsoluteURL=function(t){return t.match(/^https?:\/\//)||(t=vjs.createEl("div",{innerHTML:'<a href="'+t+'">x</a>'}).firstChild.href),t},vjs.parseUrl=function(i){var e,s,r,o,t;o=["protocol","hostname","port","pathname","search","hash","host"],s=vjs.createEl("a",{href:i}),r=""===s.host&&"file:"!==s.protocol,r&&(e=vjs.createEl("div"),e.innerHTML='<a href="'+i+'"></a>',s=e.firstChild,e.setAttribute("style","display:none; position:absolute;"),document.body.appendChild(e)),t={};for(var n=0;n<o.length;n++)t[o[n]]=s[o[n]];return"http:"===t.protocol&&(t.host=t.host.replace(/:80$/,"")),"https:"===t.protocol&&(t.host=t.host.replace(/:443$/,"")),r&&document.body.removeChild(e),t},vjs.log=function(){_logType(null,arguments)},vjs.log.history=[],vjs.log.error=function(){_logType("error",arguments)},vjs.log.warn=function(){_logType("warn",arguments)},vjs.findPosition=function(s){var e,o,t,n,r,i,a,l,c;if(s.getBoundingClientRect&&s.parentNode&&(e=s.getBoundingClientRect()),!e)return{left:0,top:0};return o=document.documentElement,t=document.body,n=o.clientLeft||t.clientLeft||0,r=window.pageXOffset||t.scrollLeft,i=e.left+r-n,a=o.clientTop||t.clientTop||0,l=window.pageYOffset||t.scrollTop,c=e.top+l-a,{left:vjs.round(i),top:vjs.round(c)}},vjs.arr={},vjs.arr.forEach=function(t,s,o){if(vjs.obj.isArray(t)&&s instanceof Function)for(var e=0,n=t.length;n>e;++e)s.call(o||vjs,t[e],e,t);return t},vjs.xhr=function(e,i){var o,t,n,r,p,c,a,l,s;"string"==typeof e&&(e={uri:e}),videojs.util.mergeOptions({method:"GET",timeout:45e3},e),i=i||function(){},l=function(){window.clearTimeout(a),i(null,t,t.response||t.responseText)},s=function(e){window.clearTimeout(a),e&&"string"!=typeof e||(e=new Error(e)),i(e,t)},o=window.XMLHttpRequest,"undefined"==typeof o&&(o=function(){try{return new window.ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new window.ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new window.ActiveXObject("Msxml2.XMLHTTP")}catch(s){}throw new Error("This browser does not support XMLHttpRequest.")}),t=new o,t.uri=e.uri,n=vjs.parseUrl(e.uri),r=window.location,c=n.protocol+n.host!==r.protocol+r.host,!c||!window.XDomainRequest||"withCredentials"in t?(p="file:"==n.protocol||"file:"==r.protocol,t.onreadystatechange=function(){if(4===t.readyState){if(t.timedout)return s("timeout");200===t.status||p&&0===t.status?l():s()}},e.timeout&&(a=window.setTimeout(function(){4!==t.readyState&&(t.timedout=!0,t.abort())},e.timeout))):(t=new window.XDomainRequest,t.onload=l,t.onerror=s,t.onprogress=function(){},t.ontimeout=function(){});try{t.open(e.method||"GET",e.uri,!0)}catch(u){return s(u)}e.withCredentials&&(t.withCredentials=!0),e.responseType&&(t.responseType=e.responseType);try{t.send()}catch(u){return s(u)}return t},vjs.util={},vjs.util.mergeOptions=function(e,s){var t,o,n;e=vjs.obj.copy(e);for(t in s)s.hasOwnProperty(t)&&(o=e[t],n=s[t],vjs.obj.isPlain(o)&&vjs.obj.isPlain(n)?e[t]=vjs.util.mergeOptions(o,n):e[t]=s[t]);return e},vjs.EventEmitter=function(){},vjs.EventEmitter.prototype.allowedEvents_={},vjs.EventEmitter.prototype.on=function(t,e){var s=this.addEventListener;this.addEventListener=Function.prototype,vjs.on(this,t,e),this.addEventListener=s},vjs.EventEmitter.prototype.addEventListener=vjs.EventEmitter.prototype.on,vjs.EventEmitter.prototype.off=function(t,e){vjs.off(this,t,e)},vjs.EventEmitter.prototype.removeEventListener=vjs.EventEmitter.prototype.off,vjs.EventEmitter.prototype.one=function(t,e){vjs.one(this,t,e)},vjs.EventEmitter.prototype.trigger=function(t){var e=t.type||t;"string"==typeof t&&(t={type:e}),t=vjs.fixEvent(t),this.allowedEvents_[e]&&this["on"+e]&&this["on"+e](t),vjs.trigger(this,t)},vjs.EventEmitter.prototype.dispatchEvent=vjs.EventEmitter.prototype.trigger,vjs.Component=vjs.CoreObject.extend({init:function(e,t,s){this.player_=e,this.options_=vjs.obj.copy(this.options_),t=this.options(t),this.id_=t.id||t.el&&t.el.id,this.id_||(this.id_=(e.id&&e.id()||"no_player")+"_component_"+vjs.guid++),this.name_=t.name||null,this.el_=t.el||this.createEl(),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.initChildren(),this.ready(s),t.reportTouchActivity!==!1&&this.enableTouchActivity()}}),vjs.Component.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var t=this.children_.length-1;t>=0;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.off(),this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),vjs.removeData(this.el_),this.el_=null},vjs.Component.prototype.player_=!0,vjs.Component.prototype.player=function(){return this.player_},vjs.Component.prototype.options_,vjs.Component.prototype.options=function(t){if(void 0===t)return this.options_;return this.options_=vjs.util.mergeOptions(this.options_,t)},vjs.Component.prototype.el_,vjs.Component.prototype.createEl=function(t,e){return vjs.createEl(t,e)},vjs.Component.prototype.localize=function(e){var s=this.player_.language(),t=this.player_.languages();if(t&&t[s]&&t[s][e])return t[s][e];return e},vjs.Component.prototype.el=function(){return this.el_},vjs.Component.prototype.contentEl_,vjs.Component.prototype.contentEl=function(){return this.contentEl_||this.el_},vjs.Component.prototype.id_,vjs.Component.prototype.id=function(){return this.id_},vjs.Component.prototype.name_,vjs.Component.prototype.name=function(){return this.name_},vjs.Component.prototype.children_,vjs.Component.prototype.children=function(){return this.children_},vjs.Component.prototype.childIndex_,vjs.Component.prototype.getChildById=function(t){return this.childIndex_[t]},vjs.Component.prototype.childNameIndex_,vjs.Component.prototype.getChild=function(t){return this.childNameIndex_[t]},vjs.Component.prototype.addChild=function(o,s){var t,n,e;return"string"==typeof o?(e=o,s=s||{},n=s.componentClass||vjs.capitalize(e),s.name=e,t=new window.videojs[n](this.player_||this,s)):t=o,this.children_.push(t),"function"==typeof t.id&&(this.childIndex_[t.id()]=t),e=e||t.name&&t.name(),e&&(this.childNameIndex_[e]=t),"function"==typeof t.el&&t.el()&&this.contentEl().appendChild(t.el()),t},vjs.Component.prototype.removeChild=function(t){if("string"==typeof t&&(t=this.getChild(t)),!t||!this.children_)return;for(var s=!1,e=this.children_.length-1;e>=0;e--)if(this.children_[e]===t){s=!0,this.children_.splice(e,1);break}if(!s)return;this.childIndex_[t.id()]=null,this.childNameIndex_[t.name()]=null;var o=t.el();o&&o.parentNode===this.contentEl()&&this.contentEl().removeChild(t.el())},vjs.Component.prototype.initChildren=function(){var s,o,t,e,n,r,i;if(s=this,o=s.options(),t=o.children)if(i=function(t,e){if(void 0!==o[t]&&(e=o[t]),e===!1)return;s[t]=s.addChild(t,e)},vjs.obj.isArray(t))for(var a=0;a<t.length;a++)e=t[a],"string"==typeof e?(n=e,r={}):(n=e.name,r=e),i(n,r);else vjs.obj.each(t,i)},vjs.Component.prototype.buildCSSClass=function(){return""},vjs.Component.prototype.on=function(t,a,l){var e,o,s,n,r,i;return"string"==typeof t||vjs.obj.isArray(t)?vjs.on(this.el_,t,vjs.bind(this,a)):(e=t,o=a,s=vjs.bind(this,l),i=this,n=function(){i.off(e,o,s)},n.guid=s.guid,this.on("dispose",n),r=function(){i.off("dispose",n)},r.guid=s.guid,t.nodeName?(vjs.on(e,o,s),vjs.on(e,"dispose",r)):"function"==typeof t.on&&(e.on(o,s),e.on("dispose",r))),this},vjs.Component.prototype.off=function(t,n,r){var s,i,o,e,a;return!t||"string"==typeof t||vjs.obj.isArray(t)?vjs.off(this.el_,t,n):(s=t,o=n,e=vjs.bind(this,r),this.off("dispose",e),t.nodeName?(vjs.off(s,o,e),vjs.off(s,"dispose",e)):(s.off(o,e),s.off("dispose",e))),this},vjs.Component.prototype.one=function(t,r,a){var s,o,n,i,e;return"string"==typeof t||vjs.obj.isArray(t)?vjs.one(this.el_,t,vjs.bind(this,r)):(s=t,o=r,n=vjs.bind(this,a),i=this,e=function(){i.off(s,o,e),n.apply(this,arguments)},e.guid=n.guid,this.on(s,o,e)),this},vjs.Component.prototype.trigger=function(t){return vjs.trigger(this.el_,t),this},vjs.Component.prototype.isReady_,vjs.Component.prototype.isReadyOnInitFinish_=!0,vjs.Component.prototype.readyQueue_,vjs.Component.prototype.ready=function(t){return t&&(this.isReady_?t.call(this):(void 0===this.readyQueue_&&(this.readyQueue_=[]),this.readyQueue_.push(t))),this},vjs.Component.prototype.triggerReady=function(){this.isReady_=!0;var t=this.readyQueue_;if(t&&t.length>0){for(var e=0,s=t.length;s>e;e++)t[e].call(this);this.readyQueue_=[],this.trigger("ready")}},vjs.Component.prototype.hasClass=function(t){return vjs.hasClass(this.el_,t)},vjs.Component.prototype.addClass=function(t){return vjs.addClass(this.el_,t),this},vjs.Component.prototype.removeClass=function(t){return vjs.removeClass(this.el_,t),this},vjs.Component.prototype.show=function(){return this.removeClass("vjs-hidden"),this},vjs.Component.prototype.hide=function(){return this.addClass("vjs-hidden"),this},vjs.Component.prototype.lockShowing=function(){return this.addClass("vjs-lock-showing"),this},vjs.Component.prototype.unlockShowing=function(){return this.removeClass("vjs-lock-showing"),this},vjs.Component.prototype.disable=function(){this.hide(),this.show=function(){}},vjs.Component.prototype.width=function(t,e){return this.dimension("width",t,e)},vjs.Component.prototype.height=function(t,e){return this.dimension("height",t,e)},vjs.Component.prototype.dimensions=function(t,e){return this.width(t,!0).height(e)},vjs.Component.prototype.dimension=function(e,t,n){if(void 0!==t)return(null===t||vjs.isNaN(t))&&(t=0),-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?this.el_.style[e]=t:"auto"===t?this.el_.style[e]="":this.el_.style[e]=t+"px",n||this.trigger("resize"),this;if(!this.el_)return 0;var s=this.el_.style[e],o=s.indexOf("px");return-1!==o?parseInt(s.slice(0,o),10):parseInt(this.el_["offset"+vjs.capitalize(e)],10)},vjs.Component.prototype.onResize,vjs.Component.prototype.emitTapEvents=function(){var s,t,i,e,o,n,r,a,l,c;s=0,t=null,l=10,c=200,this.on("touchstart",function(o){1===o.touches.length&&(t=vjs.obj.copy(o.touches[0]),s=(new Date).getTime(),e=!0)}),this.on("touchmove",function(s){s.touches.length>1?e=!1:t&&(n=s.touches[0].pageX-t.pageX,r=s.touches[0].pageY-t.pageY,a=Math.sqrt(n*n+r*r),a>l&&(e=!1))}),o=function(){e=!1},this.on("touchleave",o),this.on("touchcancel",o),this.on("touchend",function(o){t=null,e===!0&&(i=(new Date).getTime()-s,c>i&&(o.preventDefault(),this.trigger("tap")))})},vjs.Component.prototype.enableTouchActivity=function(){var t,e,s;if(!this.player().reportUserActivity)return;t=vjs.bind(this.player(),this.player().reportUserActivity),this.on("touchstart",function(){t(),this.clearInterval(e),e=this.setInterval(t,250)}),s=function(s){t(),this.clearInterval(e)},this.on("touchmove",t),this.on("touchend",s),this.on("touchcancel",s)},vjs.Component.prototype.setTimeout=function(t,o){t=vjs.bind(this,t);var e=setTimeout(t,o),s=function(){this.clearTimeout(e)};return s.guid="vjs-timeout-"+e,this.on("dispose",s),e},vjs.Component.prototype.clearTimeout=function(t){clearTimeout(t);var e=function(){};return e.guid="vjs-timeout-"+t,this.off("dispose",e),t},vjs.Component.prototype.setInterval=function(t,o){t=vjs.bind(this,t);var e=setInterval(t,o),s=function(){this.clearInterval(e)};return s.guid="vjs-interval-"+e,this.on("dispose",s),e},vjs.Component.prototype.clearInterval=function(t){clearInterval(t);var e=function(){};return e.guid="vjs-interval-"+t,this.off("dispose",e),t},vjs.Button=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e),this.emitTapEvents(),this.on("tap",this.onClick),this.on("click",this.onClick),this.on("focus",this.onFocus),this.on("blur",this.onBlur)}}),vjs.Button.prototype.createEl=function(s,t){var e;return t=vjs.obj.merge({className:this.buildCSSClass(),role:"button","aria-live":"polite",tabIndex:0},t),e=vjs.Component.prototype.createEl.call(this,s,t),t.innerHTML||(this.contentEl_=vjs.createEl("div",{className:"vjs-control-content"}),this.controlText_=vjs.createEl("span",{className:"vjs-control-text",innerHTML:this.localize(this.buttonText)||"Need Text"}),this.contentEl_.appendChild(this.controlText_),e.appendChild(this.contentEl_)),e},vjs.Button.prototype.buildCSSClass=function(){return"vjs-control "+vjs.Component.prototype.buildCSSClass.call(this)},vjs.Button.prototype.onClick=function(){},vjs.Button.prototype.onFocus=function(){vjs.on(document,"keydown",vjs.bind(this,this.onKeyPress))},vjs.Button.prototype.onKeyPress=function(t){(32==t.which||13==t.which)&&(t.preventDefault(),this.onClick())},vjs.Button.prototype.onBlur=function(){vjs.off(document,"keydown",vjs.bind(this,this.onKeyPress))},vjs.Slider=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e),this.bar=this.getChild(this.options_.barName),this.handle=this.getChild(this.options_.handleName),this.on("mousedown",this.onMouseDown),this.on("touchstart",this.onMouseDown),this.on("focus",this.onFocus),this.on("blur",this.onBlur),this.on("click",this.onClick),this.on(t,"controlsvisible",this.update),this.on(t,this.playerEvent,this.update)}}),vjs.Slider.prototype.createEl=function(e,t){return t=t||{},t.className=t.className+" vjs-slider",t=vjs.obj.merge({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},t),vjs.Component.prototype.createEl.call(this,e,t)},vjs.Slider.prototype.onMouseDown=function(t){t.preventDefault(),vjs.blockTextSelection(),this.addClass("vjs-sliding"),this.on(document,"mousemove",this.onMouseMove),this.on(document,"mouseup",this.onMouseUp),this.on(document,"touchmove",this.onMouseMove),this.on(document,"touchend",this.onMouseUp),this.onMouseMove(t)},vjs.Slider.prototype.onMouseMove=function(){},vjs.Slider.prototype.onMouseUp=function(){vjs.unblockTextSelection(),this.removeClass("vjs-sliding"),this.off(document,"mousemove",this.onMouseMove),this.off(document,"mouseup",this.onMouseUp),this.off(document,"touchmove",this.onMouseMove),this.off(document,"touchend",this.onMouseUp),this.update()},vjs.Slider.prototype.update=function(){if(!this.el_)return;var e,t=this.getPercent(),s=this.handle,o=this.bar;if(("number"!=typeof t||t!==t||0>t||t===1/0)&&(t=0),e=t,s){var a=this.el_,l=a.offsetWidth,n=s.el().offsetWidth,r=n?n/l:0,c=1-r,i=t*c;e=i+r/2,s.el().style.left=vjs.round(100*i,2)+"%"}o&&(o.el().style.width=vjs.round(100*e,2)+"%")},vjs.Slider.prototype.calculateDistance=function(t){var i,a,o,n,r,s,e,l,c;if(i=this.el_,a=vjs.findPosition(i),r=s=i.offsetWidth,e=this.handle,this.options().vertical){if(n=a.top,c=t.changedTouches?t.changedTouches[0].pageY:t.pageY,e){var u=e.el().offsetHeight;n+=u/2,s-=u}return Math.max(0,Math.min(1,(n-c+s)/s))}if(o=a.left,l=t.changedTouches?t.changedTouches[0].pageX:t.pageX,e){var p=e.el().offsetWidth;o+=p/2,r-=p}return Math.max(0,Math.min(1,(l-o)/r))},vjs.Slider.prototype.onFocus=function(){this.on(document,"keydown",this.onKeyPress)},vjs.Slider.prototype.onKeyPress=function(t){37==t.which||40==t.which?(t.preventDefault(),this.stepBack()):(38==t.which||39==t.which)&&(t.preventDefault(),this.stepForward())},vjs.Slider.prototype.onBlur=function(){this.off(document,"keydown",this.onKeyPress)},vjs.Slider.prototype.onClick=function(t){t.stopImmediatePropagation(),t.preventDefault()},vjs.SliderHandle=vjs.Component.extend(),vjs.SliderHandle.prototype.defaultValue=0,vjs.SliderHandle.prototype.createEl=function(e,t){return t=t||{},t.className=t.className+" vjs-slider-handle",t=vjs.obj.merge({innerHTML:'<span class="vjs-control-text">'+this.defaultValue+"</span>"},t),vjs.Component.prototype.createEl.call(this,"div",t)},vjs.Menu=vjs.Component.extend(),vjs.Menu.prototype.addItem=function(t){this.addChild(t),t.on("click",vjs.bind(this,function(){this.unlockShowing()}))},vjs.Menu.prototype.createEl=function(){var e=this.options().contentElType||"ul";this.contentEl_=vjs.createEl(e,{className:"vjs-menu-content"});var t=vjs.Component.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return t.appendChild(this.contentEl_),vjs.on(t,"click",function(t){t.preventDefault(),t.stopImmediatePropagation()}),t},vjs.MenuItem=vjs.Button.extend({init:function(e,t){vjs.Button.call(this,e,t),this.selected(t.selected)}}),vjs.MenuItem.prototype.createEl=function(e,t){return vjs.Button.prototype.createEl.call(this,"li",vjs.obj.merge({className:"vjs-menu-item",innerHTML:this.localize(this.options_.label)},t))},vjs.MenuItem.prototype.onClick=function(){this.selected(!0)},vjs.MenuItem.prototype.selected=function(t){t?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-selected",!0)):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-selected",!1))},vjs.MenuButton=vjs.Button.extend({init:function(t,e){vjs.Button.call(this,t,e),this.update(),this.on("keydown",this.onKeyPress),this.el_.setAttribute("aria-haspopup",!0),this.el_.setAttribute("role","button")}}),vjs.MenuButton.prototype.update=function(){var t=this.createMenu();this.menu&&this.removeChild(this.menu),this.menu=t,this.addChild(t),this.items&&0===this.items.length?this.hide():this.items&&this.items.length>1&&this.show()},vjs.MenuButton.prototype.buttonPressed_=!1,vjs.MenuButton.prototype.createMenu=function(){var t=new vjs.Menu(this.player_);if(this.options().title&&t.contentEl().appendChild(vjs.createEl("li",{className:"vjs-menu-title",innerHTML:vjs.capitalize(this.options().title),tabindex:-1})),this.items=this.createItems(),this.items)for(var e=0;e<this.items.length;e++)t.addItem(this.items[e]);return t},vjs.MenuButton.prototype.createItems=function(){},vjs.MenuButton.prototype.buildCSSClass=function(){return this.className+" vjs-menu-button "+vjs.Button.prototype.buildCSSClass.call(this)},vjs.MenuButton.prototype.onFocus=function(){},vjs.MenuButton.prototype.onBlur=function(){},vjs.MenuButton.prototype.onClick=function(){this.one("mouseout",vjs.bind(this,function(){this.menu.unlockShowing(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},vjs.MenuButton.prototype.onKeyPress=function(t){32==t.which||13==t.which?(this.buttonPressed_?this.unpressButton():this.pressButton(),t.preventDefault()):27==t.which&&(this.buttonPressed_&&this.unpressButton(),t.preventDefault())},vjs.MenuButton.prototype.pressButton=function(){this.buttonPressed_=!0,this.menu.lockShowing(),this.el_.setAttribute("aria-pressed",!0),this.items&&this.items.length>0&&this.items[0].el().focus()},vjs.MenuButton.prototype.unpressButton=function(){this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-pressed",!1)},vjs.MediaError=function(t){"number"==typeof t?this.code=t:"string"==typeof t?this.message=t:"object"==typeof t&&vjs.obj.merge(this,t),this.message||(this.message=vjs.MediaError.defaultMessages[this.code]||"")},vjs.MediaError.prototype.code=0,vjs.MediaError.prototype.message="",vjs.MediaError.prototype.status=null,vjs.MediaError.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],vjs.MediaError.defaultMessages={1:"You aborted the video playback",2:"A network error caused the video download to fail part-way.",3:"The video playback was aborted due to a corruption problem or because the video used features your browser did not support.",4:"The video could not be loaded, either because the server or network failed or because the format is not supported.",5:"The video is encrypted and we do not have the keys to decrypt it."};for(var errNum=0;errNum<vjs.MediaError.errorTypes.length;errNum++)vjs.MediaError[vjs.MediaError.errorTypes[errNum]]=errNum,vjs.MediaError.prototype[vjs.MediaError.errorTypes[errNum]]=errNum;if(function(){var e,o,s,t;for(vjs.browser.fullscreenAPI,e=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],o=e[0],t=0;t<e.length;t++)if(e[t][1]in document){s=e[t];break}if(s)for(vjs.browser.fullscreenAPI={},t=0;t<s.length;t++)vjs.browser.fullscreenAPI[o[t]]=s[t]}(),vjs.Player=vjs.Component.extend({init:function(e,t,s){this.tag=e,e.id=e.id||"vjs_video_"+vjs.guid++,this.tagAttributes=e&&vjs.getElementAttributes(e),t=vjs.obj.merge(this.getTagSettings(e),t),this.language_=t.language||vjs.options.language,this.languages_=t.languages||vjs.options.languages,this.cache_={},this.poster_=t.poster||"",this.controls_=!!t.controls,e.controls=!1,t.reportTouchActivity=!1,this.isAudio("audio"===this.tag.nodeName.toLowerCase()),vjs.Component.call(this,this,t,s),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.isAudio()&&this.addClass("vjs-audio"),vjs.players[this.id_]=this,t.plugins&&vjs.obj.each(t.plugins,function(t,e){
this[t](e)},this),this.listenForUserActivity()}}),vjs.Player.prototype.language_,vjs.Player.prototype.language=function(t){if(void 0===t)return this.language_;return this.language_=t,this},vjs.Player.prototype.languages_,vjs.Player.prototype.languages=function(){return this.languages_},vjs.Player.prototype.options_=vjs.options,vjs.Player.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),vjs.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech&&this.tech.dispose(),vjs.Component.prototype.dispose.call(this)},vjs.Player.prototype.getTagSettings=function(n){var t,r,e={sources:[],tracks:[]};if(t=vjs.getElementAttributes(n),r=t["data-setup"],null!==r&&vjs.obj.merge(t,vjs.JSON.parse(r||"{}")),vjs.obj.merge(e,t),n.hasChildNodes()){var i,s,a,o,l;for(i=n.childNodes,o=0,l=i.length;l>o;o++)s=i[o],a=s.nodeName.toLowerCase(),"source"===a?e.sources.push(vjs.getElementAttributes(s)):"track"===a&&e.tracks.push(vjs.getElementAttributes(s))}return e},vjs.Player.prototype.createEl=function(){var e=this.el_=vjs.Component.prototype.createEl.call(this,"div"),t=this.tag,s;return t.removeAttribute("width"),t.removeAttribute("height"),s=vjs.getElementAttributes(t),vjs.obj.each(s,function(t){"class"==t?e.className=s[t]:e.setAttribute(t,s[t])}),t.id+="_html5_api",t.className="vjs-tech",t.player=e.player=this,this.addClass("vjs-paused"),this.width(this.options_.width,!0),this.height(this.options_.height,!0),t.initNetworkState_=t.networkState,t.parentNode&&t.parentNode.insertBefore(e,t),vjs.insertFirst(t,e),this.el_=e,this.on("loadstart",this.onLoadStart),this.on("waiting",this.onWaiting),this.on(["canplay","canplaythrough","playing","ended"],this.onWaitEnd),this.on("seeking",this.onSeeking),this.on("seeked",this.onSeeked),this.on("ended",this.onEnded),this.on("play",this.onPlay),this.on("firstplay",this.onFirstPlay),this.on("pause",this.onPause),this.on("progress",this.onProgress),this.on("durationchange",this.onDurationChange),this.on("fullscreenchange",this.onFullscreenChange),e},vjs.Player.prototype.loadTech=function(e,t){this.tech&&this.unloadTech(),"Html5"!==e&&this.tag&&(vjs.Html5.disposeMediaElement(this.tag),this.tag=null),this.techName=e,this.isReady_=!1;var o=function(){this.player_.triggerReady()},s=vjs.obj.merge({source:t,parentEl:this.el_},this.options_[e.toLowerCase()]);t&&(this.currentType_=t.type,t.src==this.cache_.src&&this.cache_.currentTime>0&&(s.startTime=this.cache_.currentTime),this.cache_.src=t.src),this.tech=new window.videojs[e](this,s),this.tech.ready(o)},vjs.Player.prototype.unloadTech=function(){this.isReady_=!1,this.tech.dispose(),this.tech=!1},vjs.Player.prototype.onLoadStart=function(){this.removeClass("vjs-ended"),this.error(null),this.paused()?this.hasStarted(!1):this.trigger("firstplay")},vjs.Player.prototype.hasStarted_=!1,vjs.Player.prototype.hasStarted=function(t){if(void 0!==t)return this.hasStarted_!==t&&(this.hasStarted_=t,t?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started")),this;return this.hasStarted_},vjs.Player.prototype.onLoadedMetaData,vjs.Player.prototype.onLoadedData,vjs.Player.prototype.onLoadedAllData,vjs.Player.prototype.onPlay=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0)},vjs.Player.prototype.onWaiting=function(){this.addClass("vjs-waiting")},vjs.Player.prototype.onWaitEnd=function(){this.removeClass("vjs-waiting")},vjs.Player.prototype.onSeeking=function(){this.addClass("vjs-seeking")},vjs.Player.prototype.onSeeked=function(){this.removeClass("vjs-seeking")},vjs.Player.prototype.onFirstPlay=function(){this.options_.starttime&&this.currentTime(this.options_.starttime),this.addClass("vjs-has-started")},vjs.Player.prototype.onPause=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused")},vjs.Player.prototype.onTimeUpdate,vjs.Player.prototype.onProgress=function(){1==this.bufferedPercent()&&this.trigger("loadedalldata")},vjs.Player.prototype.onEnded=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause()},vjs.Player.prototype.onDurationChange=function(){var t=this.techGet("duration");t&&(0>t&&(t=1/0),this.duration(t),t===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"))},vjs.Player.prototype.onVolumeChange,vjs.Player.prototype.onFullscreenChange=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},vjs.Player.prototype.onError,vjs.Player.prototype.cache_,vjs.Player.prototype.getCache=function(){return this.cache_},vjs.Player.prototype.techCall=function(t,e){if(this.tech&&!this.tech.isReady_)this.tech.ready(function(){this[t](e)});else try{this.tech[t](e)}catch(s){throw vjs.log(s),s}},vjs.Player.prototype.techGet=function(e){if(this.tech&&this.tech.isReady_)try{return this.tech[e]()}catch(t){throw void 0===this.tech[e]?vjs.log("Video.js: "+e+" method not defined for "+this.techName+" playback technology.",t):"TypeError"==t.name?(vjs.log("Video.js: "+e+" unavailable on "+this.techName+" playback technology element.",t),this.tech.isReady_=!1):vjs.log(t),t}return},vjs.Player.prototype.play=function(){return this.techCall("play"),this},vjs.Player.prototype.pause=function(){return this.techCall("pause"),this},vjs.Player.prototype.paused=function(){return this.techGet("paused")===!1?!1:!0},vjs.Player.prototype.currentTime=function(t){if(void 0!==t)return this.techCall("setCurrentTime",t),this;return this.cache_.currentTime=this.techGet("currentTime")||0},vjs.Player.prototype.duration=function(t){if(void 0!==t)return this.cache_.duration=parseFloat(t),this;return void 0===this.cache_.duration&&this.onDurationChange(),this.cache_.duration||0},vjs.Player.prototype.remainingTime=function(){return this.duration()-this.currentTime()},vjs.Player.prototype.buffered=function(){var t=this.techGet("buffered");return t&&t.length||(t=vjs.createTimeRange(0,0)),t},vjs.Player.prototype.bufferedPercent=function(){var t=this.duration(),o=this.buffered(),n=0,r,e;if(!t)return 0;for(var s=0;s<o.length;s++)r=o.start(s),e=o.end(s),e>t&&(e=t),n+=e-r;return n/t},vjs.Player.prototype.bufferedEnd=function(){var e=this.buffered(),s=this.duration(),t=e.end(e.length-1);return t>s&&(t=s),t},vjs.Player.prototype.volume=function(e){var t;if(void 0!==e)return t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall("setVolume",t),vjs.setLocalStorage("volume",t),this;return t=parseFloat(this.techGet("volume")),isNaN(t)?1:t},vjs.Player.prototype.muted=function(t){if(void 0!==t)return this.techCall("setMuted",t),this;return this.techGet("muted")||!1},vjs.Player.prototype.supportsFullScreen=function(){return this.techGet("supportsFullScreen")||!1},vjs.Player.prototype.isFullscreen_=!1,vjs.Player.prototype.isFullscreen=function(t){if(void 0!==t)return this.isFullscreen_=!!t,this;return this.isFullscreen_},vjs.Player.prototype.isFullScreen=function(t){return vjs.log.warn('player.isFullScreen() has been deprecated, use player.isFullscreen() with a lowercase "s")'),this.isFullscreen(t)},vjs.Player.prototype.requestFullscreen=function(){var t=vjs.browser.fullscreenAPI;return this.isFullscreen(!0),t?(vjs.on(document,t.fullscreenchange,vjs.bind(this,function(e){this.isFullscreen(document[t.fullscreenElement]),this.isFullscreen()===!1&&vjs.off(document,t.fullscreenchange,arguments.callee),this.trigger("fullscreenchange")})),this.el_[t.requestFullscreen]()):this.tech.supportsFullScreen()?this.techCall("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange")),this},vjs.Player.prototype.requestFullScreen=function(){return vjs.log.warn('player.requestFullScreen() has been deprecated, use player.requestFullscreen() with a lowercase "s")'),this.requestFullscreen()},vjs.Player.prototype.exitFullscreen=function(){var t=vjs.browser.fullscreenAPI;return this.isFullscreen(!1),t?document[t.exitFullscreen]():this.tech.supportsFullScreen()?this.techCall("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange")),this},vjs.Player.prototype.cancelFullScreen=function(){return vjs.log.warn("player.cancelFullScreen() has been deprecated, use player.exitFullscreen()"),this.exitFullscreen()},vjs.Player.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=document.documentElement.style.overflow,vjs.on(document,"keydown",vjs.bind(this,this.fullWindowOnEscKey)),document.documentElement.style.overflow="hidden",vjs.addClass(document.body,"vjs-full-window"),this.trigger("enterFullWindow")},vjs.Player.prototype.fullWindowOnEscKey=function(t){27===t.keyCode&&(this.isFullscreen()===!0?this.exitFullscreen():this.exitFullWindow())},vjs.Player.prototype.exitFullWindow=function(){this.isFullWindow=!1,vjs.off(document,"keydown",this.fullWindowOnEscKey),document.documentElement.style.overflow=this.docOrigOverflow,vjs.removeClass(document.body,"vjs-full-window"),this.trigger("exitFullWindow")},vjs.Player.prototype.selectSource=function(a){for(var t=0,n=this.options_.techOrder;t<n.length;t++){var e=vjs.capitalize(n[t]),s=window.videojs[e];if(!s){vjs.log.error('The "'+e+'" tech is undefined. Skipped browser support check for that tech.');continue}if(s.isSupported())for(var o=0,r=a;o<r.length;o++){var i=r[o];if(s.canPlaySource(i))return{source:i,tech:e}}}return!1},vjs.Player.prototype.src=function(t){if(void 0===t)return this.techGet("src");return vjs.obj.isArray(t)?this.sourceList_(t):"string"==typeof t?this.src({src:t}):t instanceof Object&&(t.type&&!window.videojs[this.techName].canPlaySource(t)?this.sourceList_([t]):(this.cache_.src=t.src,this.currentType_=t.type||"",this.ready(function(){window.videojs[this.techName].prototype.hasOwnProperty("setSource")?this.techCall("setSource",t):this.techCall("src",t.src),"auto"==this.options_.preload&&this.load(),this.options_.autoplay&&this.play()}))),this},vjs.Player.prototype.sourceList_=function(e){var t=this.selectSource(e);t?t.tech===this.techName?this.src(t.source):this.loadTech(t.tech,t.source):(this.setTimeout(function(){this.error({code:4,message:this.localize(this.options().notSupportedMessage)})},0),this.triggerReady())},vjs.Player.prototype.load=function(){return this.techCall("load"),this},vjs.Player.prototype.currentSrc=function(){return this.techGet("currentSrc")||this.cache_.src||""},vjs.Player.prototype.currentType=function(){return this.currentType_||""},vjs.Player.prototype.preload=function(t){if(void 0!==t)return this.techCall("setPreload",t),this.options_.preload=t,this;return this.techGet("preload")},vjs.Player.prototype.autoplay=function(t){if(void 0!==t)return this.techCall("setAutoplay",t),this.options_.autoplay=t,this;return this.techGet("autoplay",t)},vjs.Player.prototype.loop=function(t){if(void 0!==t)return this.techCall("setLoop",t),this.options_.loop=t,this;return this.techGet("loop")},vjs.Player.prototype.poster_,vjs.Player.prototype.poster=function(t){if(void 0===t)return this.poster_;return t||(t=""),this.poster_=t,this.techCall("setPoster",t),this.trigger("posterchange"),this},vjs.Player.prototype.controls_,vjs.Player.prototype.controls=function(t){if(void 0!==t)return t=!!t,this.controls_!==t&&(this.controls_=t,t?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled")):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"))),this;return this.controls_},vjs.Player.prototype.usingNativeControls_,vjs.Player.prototype.usingNativeControls=function(t){if(void 0!==t)return t=!!t,this.usingNativeControls_!==t&&(this.usingNativeControls_=t,t?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))),this;return this.usingNativeControls_},vjs.Player.prototype.error_=null,vjs.Player.prototype.error=function(t){if(void 0===t)return this.error_;if(null===t)return this.error_=t,this.removeClass("vjs-error"),this;return t instanceof vjs.MediaError?this.error_=t:this.error_=new vjs.MediaError(t),this.trigger("error"),this.addClass("vjs-error"),vjs.log.error("(CODE:"+this.error_.code+" "+vjs.MediaError.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this},vjs.Player.prototype.ended=function(){return this.techGet("ended")},vjs.Player.prototype.seeking=function(){return this.techGet("seeking")},vjs.Player.prototype.userActivity_=!0,vjs.Player.prototype.reportUserActivity=function(t){this.userActivity_=!0},vjs.Player.prototype.userActive_=!0,vjs.Player.prototype.userActive=function(t){if(void 0!==t)return t=!!t,t!==this.userActive_&&(this.userActive_=t,t?(this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive")):(this.userActivity_=!1,this.tech&&this.tech.one("mousemove",function(t){t.stopPropagation(),t.preventDefault()}),this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive"))),this;return this.userActive_},vjs.Player.prototype.listenForUserActivity=function(){var t,s,o,e,n,l,r,i,a;t=vjs.bind(this,this.reportUserActivity),s=function(e){(e.screenX!=i||e.screenY!=a)&&(i=e.screenX,a=e.screenY,t())},o=function(){t(),this.clearInterval(e),e=this.setInterval(t,250)},n=function(s){t(),this.clearInterval(e)},this.on("mousedown",o),this.on("mousemove",s),this.on("mouseup",n),this.on("keydown",t),this.on("keyup",t),l=this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(r);var t=this.options().inactivityTimeout;t>0&&(r=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},t))}},250)},vjs.Player.prototype.playbackRate=function(t){if(void 0!==t)return this.techCall("setPlaybackRate",t),this;return this.tech&&this.tech.featuresPlaybackRate?this.techGet("playbackRate"):1},vjs.Player.prototype.isAudio_=!1,vjs.Player.prototype.isAudio=function(t){if(void 0!==t)return this.isAudio_=!!t,this;return this.isAudio_},vjs.Player.prototype.networkState=function(){return this.techGet("networkState")},vjs.Player.prototype.readyState=function(){return this.techGet("readyState")},vjs.Player.prototype.textTracks=function(){return this.tech&&this.tech.textTracks()},vjs.Player.prototype.remoteTextTracks=function(){return this.tech&&this.tech.remoteTextTracks()},vjs.Player.prototype.addTextTrack=function(t,e,s){return this.tech&&this.tech.addTextTrack(t,e,s)},vjs.Player.prototype.addRemoteTextTrack=function(t){return this.tech&&this.tech.addRemoteTextTrack(t)},vjs.Player.prototype.removeRemoteTextTrack=function(t){this.tech&&this.tech.removeRemoteTextTrack(t)},vjs.ControlBar=vjs.Component.extend(),vjs.ControlBar.prototype.options_={loadEvent:"play",children:{playToggle:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},remainingTimeDisplay:{},liveDisplay:{},progressControl:{},fullscreenToggle:{},volumeControl:{},muteToggle:{},playbackRateMenuButton:{},subtitlesButton:{},captionsButton:{},chaptersButton:{}}},vjs.ControlBar.prototype.createEl=function(){return vjs.createEl("div",{className:"vjs-control-bar"})},vjs.LiveDisplay=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e)}}),vjs.LiveDisplay.prototype.createEl=function(){var t=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-live-controls vjs-control"});return this.contentEl_=vjs.createEl("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"</span>"+this.localize("LIVE"),"aria-live":"off"}),t.appendChild(this.contentEl_),t},vjs.PlayToggle=vjs.Button.extend({init:function(t,e){vjs.Button.call(this,t,e),this.on(t,"play",this.onPlay),this.on(t,"pause",this.onPause)}}),vjs.PlayToggle.prototype.buttonText="Play",vjs.PlayToggle.prototype.buildCSSClass=function(){return"vjs-play-control "+vjs.Button.prototype.buildCSSClass.call(this)},vjs.PlayToggle.prototype.onClick=function(){this.player_.paused()?this.player_.play():this.player_.pause()},vjs.PlayToggle.prototype.onPlay=function(){this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.el_.children[0].children[0].innerHTML=this.localize("Pause")},vjs.PlayToggle.prototype.onPause=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.el_.children[0].children[0].innerHTML=this.localize("Play")},vjs.CurrentTimeDisplay=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e),this.on(t,"timeupdate",this.updateContent)}}),vjs.CurrentTimeDisplay.prototype.createEl=function(){var t=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-controls vjs-control"});return this.contentEl_=vjs.createEl("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00',"aria-live":"off"}),t.appendChild(this.contentEl_),t},vjs.CurrentTimeDisplay.prototype.updateContent=function(){var t=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.contentEl_.innerHTML='<span class="vjs-control-text">'+this.localize("Current Time")+"</span> "+vjs.formatTime(t,this.player_.duration())},vjs.DurationDisplay=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e),this.on(t,"timeupdate",this.updateContent)}}),vjs.DurationDisplay.prototype.createEl=function(){var t=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-controls vjs-control"});return this.contentEl_=vjs.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Duration Time")+"</span> 0:00","aria-live":"off"}),t.appendChild(this.contentEl_),t},vjs.DurationDisplay.prototype.updateContent=function(){var t=this.player_.duration();t&&(this.contentEl_.innerHTML='<span class="vjs-control-text">'+this.localize("Duration Time")+"</span> "+vjs.formatTime(t))},vjs.TimeDivider=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e)}}),vjs.TimeDivider.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},vjs.RemainingTimeDisplay=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e),this.on(t,"timeupdate",this.updateContent)}}),vjs.RemainingTimeDisplay.prototype.createEl=function(){var t=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-controls vjs-control"});return this.contentEl_=vjs.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Remaining Time")+"</span> -0:00","aria-live":"off"}),t.appendChild(this.contentEl_),t},vjs.RemainingTimeDisplay.prototype.updateContent=function(){this.player_.duration()&&(this.contentEl_.innerHTML='<span class="vjs-control-text">'+this.localize("Remaining Time")+"</span> -"+vjs.formatTime(this.player_.remainingTime()))},vjs.FullscreenToggle=vjs.Button.extend({init:function(t,e){vjs.Button.call(this,t,e)}}),vjs.FullscreenToggle.prototype.buttonText="Fullscreen",vjs.FullscreenToggle.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+vjs.Button.prototype.buildCSSClass.call(this)},vjs.FullscreenToggle.prototype.onClick=function(){this.player_.isFullscreen()?(this.player_.exitFullscreen(),this.controlText_.innerHTML=this.localize("Fullscreen")):(this.player_.requestFullscreen(),this.controlText_.innerHTML=this.localize("Non-Fullscreen"))},vjs.ProgressControl=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e)}}),vjs.ProgressControl.prototype.options_={children:{seekBar:{}}},vjs.ProgressControl.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},vjs.SeekBar=vjs.Slider.extend({init:function(t,e){vjs.Slider.call(this,t,e),this.on(t,"timeupdate",this.updateARIAAttributes),t.ready(vjs.bind(this,this.updateARIAAttributes))}}),vjs.SeekBar.prototype.options_={children:{loadProgressBar:{},playProgressBar:{},seekHandle:{}},barName:"playProgressBar",handleName:"seekHandle"},vjs.SeekBar.prototype.playerEvent="timeupdate",vjs.SeekBar.prototype.createEl=function(){return vjs.Slider.prototype.createEl.call(this,"div",{className:"vjs-progress-holder","aria-label":"video progress bar"})},vjs.SeekBar.prototype.updateARIAAttributes=function(){var t=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("aria-valuenow",vjs.round(100*this.getPercent(),2)),this.el_.setAttribute("aria-valuetext",vjs.formatTime(t,this.player_.duration()))},vjs.SeekBar.prototype.getPercent=function(){return this.player_.currentTime()/this.player_.duration()},vjs.SeekBar.prototype.onMouseDown=function(t){vjs.Slider.prototype.onMouseDown.call(this,t),this.player_.scrubbing=!0,this.player_.addClass("vjs-scrubbing"),this.videoWasPlaying=!this.player_.paused(),this.player_.pause()},vjs.SeekBar.prototype.onMouseMove=function(e){var t=this.calculateDistance(e)*this.player_.duration();t==this.player_.duration()&&(t-=.1),this.player_.currentTime(t)},vjs.SeekBar.prototype.onMouseUp=function(t){vjs.Slider.prototype.onMouseUp.call(this,t),this.player_.scrubbing=!1,this.player_.removeClass("vjs-scrubbing"),this.videoWasPlaying&&this.player_.play()},vjs.SeekBar.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},vjs.SeekBar.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},vjs.LoadProgressBar=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e),this.on(t,"progress",this.update)}}),vjs.LoadProgressBar.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},vjs.LoadProgressBar.prototype.update=function(){var t,o,a,e,s=this.player_.buffered(),l=this.player_.duration(),n=this.player_.bufferedEnd(),r=this.el_.children,i=function(t,e){var s=t/e||0;return 100*s+"%"};for(this.el_.style.width=i(n,l),t=0;t<s.length;t++)o=s.start(t),a=s.end(t),e=r[t],e||(e=this.el_.appendChild(vjs.createEl())),e.style.left=i(o,n),e.style.width=i(a-o,n);for(t=r.length;t>s.length;t--)this.el_.removeChild(r[t-1])},vjs.PlayProgressBar=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e)}}),vjs.PlayProgressBar.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-play-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},vjs.SeekHandle=vjs.SliderHandle.extend({init:function(t,e){vjs.SliderHandle.call(this,t,e),this.on(t,"timeupdate",this.updateContent)}}),vjs.SeekHandle.prototype.defaultValue="00:00",vjs.SeekHandle.prototype.createEl=function(){return vjs.SliderHandle.prototype.createEl.call(this,"div",{className:"vjs-seek-handle","aria-live":"off"})},vjs.SeekHandle.prototype.updateContent=function(){var t=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.innerHTML='<span class="vjs-control-text">'+vjs.formatTime(t,this.player_.duration())+"</span>"},vjs.VolumeControl=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e),t.tech&&t.tech.featuresVolumeControl===!1&&this.addClass("vjs-hidden"),this.on(t,"loadstart",function(){t.tech.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")})}}),vjs.VolumeControl.prototype.options_={children:{volumeBar:{}}},vjs.VolumeControl.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})},vjs.VolumeBar=vjs.Slider.extend({init:function(t,e){vjs.Slider.call(this,t,e),this.on(t,"volumechange",this.updateARIAAttributes),t.ready(vjs.bind(this,this.updateARIAAttributes))}}),vjs.VolumeBar.prototype.updateARIAAttributes=function(){this.el_.setAttribute("aria-valuenow",vjs.round(100*this.player_.volume(),2)),this.el_.setAttribute("aria-valuetext",vjs.round(100*this.player_.volume(),2)+"%")},vjs.VolumeBar.prototype.options_={children:{volumeLevel:{},volumeHandle:{}},barName:"volumeLevel",handleName:"volumeHandle"},vjs.VolumeBar.prototype.playerEvent="volumechange",vjs.VolumeBar.prototype.createEl=function(){return vjs.Slider.prototype.createEl.call(this,"div",{className:"vjs-volume-bar","aria-label":"volume level"})},vjs.VolumeBar.prototype.onMouseMove=function(t){this.player_.muted()&&this.player_.muted(!1),this.player_.volume(this.calculateDistance(t))},vjs.VolumeBar.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},vjs.VolumeBar.prototype.stepForward=function(){this.player_.volume(this.player_.volume()+.1)},vjs.VolumeBar.prototype.stepBack=function(){this.player_.volume(this.player_.volume()-.1)},vjs.VolumeLevel=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e)}}),vjs.VolumeLevel.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},vjs.VolumeHandle=vjs.SliderHandle.extend(),vjs.VolumeHandle.prototype.defaultValue="00:00",vjs.VolumeHandle.prototype.createEl=function(){return vjs.SliderHandle.prototype.createEl.call(this,"div",{className:"vjs-volume-handle"})},vjs.MuteToggle=vjs.Button.extend({init:function(t,e){vjs.Button.call(this,t,e),this.on(t,"volumechange",this.update),t.tech&&t.tech.featuresVolumeControl===!1&&this.addClass("vjs-hidden"),this.on(t,"loadstart",function(){t.tech.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")})}}),vjs.MuteToggle.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-mute-control vjs-control",innerHTML:'<div><span class="vjs-control-text">'+this.localize("Mute")+"</span></div>"})},vjs.MuteToggle.prototype.onClick=function(){this.player_.muted(this.player_.muted()?!1:!0)},vjs.MuteToggle.prototype.update=function(){var e=this.player_.volume(),t=3;0===e||this.player_.muted()?t=0:.33>e?t=1:.67>e&&(t=2),this.player_.muted()?this.el_.children[0].children[0].innerHTML!=this.localize("Unmute")&&(this.el_.children[0].children[0].innerHTML=this.localize("Unmute")):this.el_.children[0].children[0].innerHTML!=this.localize("Mute")&&(this.el_.children[0].children[0].innerHTML=this.localize("Mute"));for(var s=0;4>s;s++)vjs.removeClass(this.el_,"vjs-vol-"+s);vjs.addClass(this.el_,"vjs-vol-"+t)},vjs.VolumeMenuButton=vjs.MenuButton.extend({init:function(t,e){vjs.MenuButton.call(this,t,e),this.on(t,"volumechange",this.volumeUpdate),t.tech&&t.tech.featuresVolumeControl===!1&&this.addClass("vjs-hidden"),this.on(t,"loadstart",function(){t.tech.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}),this.addClass("vjs-menu-button")}}),vjs.VolumeMenuButton.prototype.createMenu=function(){var t=new vjs.Menu(this.player_,{contentElType:"div"}),e=new vjs.VolumeBar(this.player_,this.options_.volumeBar);return e.on("focus",function(){t.lockShowing()}),e.on("blur",function(){t.unlockShowing()}),t.addChild(e),t},vjs.VolumeMenuButton.prototype.onClick=function(){vjs.MuteToggle.prototype.onClick.call(this),vjs.MenuButton.prototype.onClick.call(this)},vjs.VolumeMenuButton.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-volume-menu-button vjs-menu-button vjs-control",innerHTML:'<div><span class="vjs-control-text">'+this.localize("Mute")+"</span></div>"})},vjs.VolumeMenuButton.prototype.volumeUpdate=vjs.MuteToggle.prototype.update,vjs.PlaybackRateMenuButton=vjs.MenuButton.extend({init:function(t,e){vjs.MenuButton.call(this,t,e),this.updateVisibility(),this.updateLabel(),this.on(t,"loadstart",this.updateVisibility),this.on(t,"ratechange",this.updateLabel)}}),vjs.PlaybackRateMenuButton.prototype.buttonText="Playback Rate",vjs.PlaybackRateMenuButton.prototype.className="vjs-playback-rate",vjs.PlaybackRateMenuButton.prototype.createEl=function(){var t=vjs.MenuButton.prototype.createEl.call(this);return this.labelEl_=vjs.createEl("div",{className:"vjs-playback-rate-value",innerHTML:1}),t.appendChild(this.labelEl_),t},vjs.PlaybackRateMenuButton.prototype.createMenu=function(){var s=new vjs.Menu(this.player()),t=this.player().options().playbackRates;if(t)for(var e=t.length-1;e>=0;e--)s.addChild(new vjs.PlaybackRateMenuItem(this.player(),{rate:t[e]+"x"}));return s},vjs.PlaybackRateMenuButton.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},vjs.PlaybackRateMenuButton.prototype.onClick=function(){for(var o=this.player().playbackRate(),t=this.player().options().playbackRates,s=t[0],e=0;e<t.length;e++)if(t[e]>o){s=t[e];break}this.player().playbackRate(s)},vjs.PlaybackRateMenuButton.prototype.playbackRateSupported=function(){return this.player().tech&&this.player().tech.featuresPlaybackRate&&this.player().options().playbackRates&&this.player().options().playbackRates.length>0},vjs.PlaybackRateMenuButton.prototype.updateVisibility=function(){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},vjs.PlaybackRateMenuButton.prototype.updateLabel=function(){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},vjs.PlaybackRateMenuItem=vjs.MenuItem.extend({contentElType:"button",init:function(e,t){var s=this.label=t.rate,o=this.rate=parseFloat(s,10);t.label=s,t.selected=1===o,vjs.MenuItem.call(this,e,t),this.on(e,"ratechange",this.update)}}),vjs.PlaybackRateMenuItem.prototype.onClick=function(){vjs.MenuItem.prototype.onClick.call(this),this.player().playbackRate(this.rate)},vjs.PlaybackRateMenuItem.prototype.update=function(){this.selected(this.player().playbackRate()==this.rate)},vjs.PosterImage=vjs.Button.extend({init:function(t,e){vjs.Button.call(this,t,e),this.update(),t.on("posterchange",vjs.bind(this,this.update))}}),vjs.PosterImage.prototype.dispose=function(){this.player().off("posterchange",this.update),vjs.Button.prototype.dispose.call(this)},vjs.PosterImage.prototype.createEl=function(){var t=vjs.createEl("div",{className:"vjs-poster",tabIndex:-1});return vjs.BACKGROUND_SIZE_SUPPORTED||(this.fallbackImg_=vjs.createEl("img"),t.appendChild(this.fallbackImg_)),t},vjs.PosterImage.prototype.update=function(){var t=this.player().poster();this.setSrc(t),t?this.show():this.hide()},vjs.PosterImage.prototype.setSrc=function(t){var e;this.fallbackImg_?this.fallbackImg_.src=t:(e="",t&&(e='url("'+t+'")'),this.el_.style.backgroundImage=e)},vjs.PosterImage.prototype.onClick=function(){this.player_.play()},vjs.LoadingSpinner=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e)}}),vjs.LoadingSpinner.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner"})},vjs.BigPlayButton=vjs.Button.extend(),vjs.BigPlayButton.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-big-play-button",innerHTML:'<span aria-hidden="true"></span>',"aria-label":"play video"})},vjs.BigPlayButton.prototype.onClick=function(){this.player_.play()},vjs.ErrorDisplay=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e),this.update(),this.on(t,"error",this.update)}}),vjs.ErrorDisplay.prototype.createEl=function(){var t=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-error-display"});return this.contentEl_=vjs.createEl("div"),t.appendChild(this.contentEl_),t},vjs.ErrorDisplay.prototype.update=function(){this.player().error()&&(this.contentEl_.innerHTML=this.localize(this.player().error().message))},function(){var t;vjs.MediaTechController=vjs.Component.extend({init:function(e,t,s){t=t||{},t.reportTouchActivity=!1,vjs.Component.call(this,e,t,s),this.featuresProgressEvents||this.manualProgressOn(),
this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),this.initControlsListeners(),this.featuresNativeTextTracks||this.emulateTextTracks(),this.initTextTrackListeners()}}),vjs.MediaTechController.prototype.initControlsListeners=function(){var t,e;t=this.player(),e=function(){t.controls()&&!t.usingNativeControls()&&this.addControlsListeners()},this.ready(e),this.on(t,"controlsenabled",e),this.on(t,"controlsdisabled",this.removeControlsListeners),this.ready(function(){this.networkState&&this.networkState()>0&&this.player().trigger("loadstart")})},vjs.MediaTechController.prototype.addControlsListeners=function(){var t;this.on("mousedown",this.onClick),this.on("touchstart",function(e){t=this.player_.userActive()}),this.on("touchmove",function(e){t&&this.player().reportUserActivity()}),this.on("touchend",function(t){t.preventDefault()}),this.emitTapEvents(),this.on("tap",this.onTap)},vjs.MediaTechController.prototype.removeControlsListeners=function(){this.off("tap"),this.off("touchstart"),this.off("touchmove"),this.off("touchleave"),this.off("touchcancel"),this.off("touchend"),this.off("click"),this.off("mousedown")},vjs.MediaTechController.prototype.onClick=function(t){if(0!==t.button)return;this.player().controls()&&(this.player().paused()?this.player().play():this.player().pause())},vjs.MediaTechController.prototype.onTap=function(){this.player().userActive(!this.player().userActive())},vjs.MediaTechController.prototype.manualProgressOn=function(){this.manualProgress=!0,this.trackProgress()},vjs.MediaTechController.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress()},vjs.MediaTechController.prototype.trackProgress=function(){this.progressInterval=this.setInterval(function(){var t=this.player().bufferedPercent();this.bufferedPercent_!=t&&this.player().trigger("progress"),this.bufferedPercent_=t,1===t&&this.stopTrackingProgress()},500)},vjs.MediaTechController.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},vjs.MediaTechController.prototype.manualTimeUpdatesOn=function(){var t=this.player_;this.manualTimeUpdates=!0,this.on(t,"play",this.trackCurrentTime),this.on(t,"pause",this.stopTrackingCurrentTime),this.one("timeupdate",function(){this.featuresTimeupdateEvents=!0,this.manualTimeUpdatesOff()})},vjs.MediaTechController.prototype.manualTimeUpdatesOff=function(){var t=this.player_;this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off(t,"play",this.trackCurrentTime),this.off(t,"pause",this.stopTrackingCurrentTime)},vjs.MediaTechController.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.player().trigger("timeupdate")},250)},vjs.MediaTechController.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.player().trigger("timeupdate")},vjs.MediaTechController.prototype.dispose=function(){this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),vjs.Component.prototype.dispose.call(this)},vjs.MediaTechController.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.player().trigger("timeupdate")},vjs.MediaTechController.prototype.initTextTrackListeners=function(){var s=this.player_,t,e=function(){var t=s.getChild("textTrackDisplay"),e;t&&t.updateDisplay()};if(t=this.textTracks(),!t)return;t.addEventListener("removetrack",e),t.addEventListener("addtrack",e),this.on("dispose",vjs.bind(this,function(){t.removeEventListener("removetrack",e),t.removeEventListener("addtrack",e)}))},vjs.MediaTechController.prototype.emulateTextTracks=function(){var e=this.player_,s,t,o;if(window.WebVTT||(o=document.createElement("script"),o.src=e.options()["vtt.js"]||"../node_modules/vtt.js/dist/vtt.js",e.el().appendChild(o),window.WebVTT=!0),t=this.textTracks(),!t)return;s=function(){var s,o,t;for(t=e.getChild("textTrackDisplay"),t.updateDisplay(),s=0;s<this.length;s++)o=this[s],o.removeEventListener("cuechange",vjs.bind(t,t.updateDisplay)),"showing"===o.mode&&o.addEventListener("cuechange",vjs.bind(t,t.updateDisplay))},t.addEventListener("change",s),this.on("dispose",vjs.bind(this,function(){t.removeEventListener("change",s)}))},vjs.MediaTechController.prototype.textTracks_,vjs.MediaTechController.prototype.textTracks=function(){return this.player_.textTracks_=this.player_.textTracks_||new vjs.TextTrackList,this.player_.textTracks_},vjs.MediaTechController.prototype.remoteTextTracks=function(){return this.player_.remoteTextTracks_=this.player_.remoteTextTracks_||new vjs.TextTrackList,this.player_.remoteTextTracks_},t=function(s,r,o,n,t){var i=s.textTracks(),e;return t=t||{},t.kind=r,o&&(t.label=o),n&&(t.language=n),t.player=s.player_,e=new vjs.TextTrack(t),i.addTrack_(e),e},vjs.MediaTechController.prototype.addTextTrack=function(e,s,o){if(!e)throw new Error("TextTrack kind is required but was not provided");return t(this,e,s,o)},vjs.MediaTechController.prototype.addRemoteTextTrack=function(e){var s=t(this,e.kind,e.label,e.language,e);return this.remoteTextTracks().addTrack_(s),{track:s}},vjs.MediaTechController.prototype.removeRemoteTextTrack=function(t){this.textTracks().removeTrack_(t),this.remoteTextTracks().removeTrack_(t)},vjs.MediaTechController.prototype.setPoster=function(){},vjs.MediaTechController.prototype.featuresVolumeControl=!0,vjs.MediaTechController.prototype.featuresFullscreenResize=!1,vjs.MediaTechController.prototype.featuresPlaybackRate=!1,vjs.MediaTechController.prototype.featuresProgressEvents=!1,vjs.MediaTechController.prototype.featuresTimeupdateEvents=!1,vjs.MediaTechController.prototype.featuresNativeTextTracks=!1,vjs.MediaTechController.withSourceHandlers=function(t){t.registerSourceHandler=function(o,s){var e=t.sourceHandlers;e||(e=t.sourceHandlers=[]),void 0===s&&(s=e.length),e.splice(s,0,o)},t.selectSourceHandler=function(o){for(var s=t.sourceHandlers||[],n,e=0;e<s.length;e++)if(n=s[e].canHandleSource(o))return s[e];return null},t.canPlaySource=function(e){var s=t.selectSourceHandler(e);if(s)return s.canHandleSource(e);return""},t.prototype.setSource=function(e){var s=t.selectSourceHandler(e);return s||(t.nativeSourceHandler?s=t.nativeSourceHandler:vjs.log.error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),this.currentSource_=e,this.sourceHandler_=s.handleSource(e,this),this.on("dispose",this.disposeSourceHandler),this},t.prototype.disposeSourceHandler=function(){this.sourceHandler_&&this.sourceHandler_.dispose&&this.sourceHandler_.dispose()}},vjs.media={}}(),vjs.Html5=vjs.MediaTechController.extend({init:function(t,e,c){var r,i,s,o,l,n;(e.nativeCaptions===!1||e.nativeTextTracks===!1)&&(this.featuresNativeTextTracks=!1),vjs.MediaTechController.call(this,t,e,c),this.setupTriggers();var a=e.source;if(a&&(this.el_.currentSrc!==a.src||t.tag&&3===t.tag.initNetworkState_)&&this.setSource(a),this.el_.hasChildNodes()){for(r=this.el_.childNodes,i=r.length,n=[];i--;)o=r[i],l=o.nodeName.toLowerCase(),"track"===l&&(this.featuresNativeTextTracks?this.remoteTextTracks().addTrack_(o.track):n.push(o));for(s=0;s<n.length;s++)this.el_.removeChild(n[s])}this.featuresNativeTextTracks&&this.on("loadstart",vjs.bind(this,this.hideCaptions)),vjs.TOUCH_ENABLED&&t.options().nativeControlsForTouch===!0&&this.useNativeControls(),t.ready(function(){this.tag&&this.options_.autoplay&&this.paused()&&(delete this.tag.poster,this.play())}),this.triggerReady()}}),vjs.Html5.prototype.dispose=function(){vjs.Html5.disposeMediaElement(this.el_),vjs.MediaTechController.prototype.dispose.call(this)},vjs.Html5.prototype.createEl=function(){var t=this.player_,n,o,s,e=t.tag,r,u,a;if(!e||this.movingMediaElementInDOM===!1){if(e?(a=e.cloneNode(!1),vjs.Html5.disposeMediaElement(e),e=a,t.tag=null):(e=vjs.createEl("video"),r=videojs.util.mergeOptions({},t.tagAttributes),vjs.TOUCH_ENABLED&&t.options().nativeControlsForTouch===!0||delete r.controls,vjs.setElementAttributes(e,vjs.obj.merge(r,{id:t.id()+"_html5_api","class":"vjs-tech"}))),e.player=t,t.options_.tracks)for(s=0;s<t.options_.tracks.length;s++)n=t.options_.tracks[s],o=document.createElement("track"),o.kind=n.kind,o.label=n.label,o.srclang=n.srclang,o.src=n.src,"default"in n&&o.setAttribute("default","default"),e.appendChild(o);vjs.insertFirst(e,t.el())}var l=["autoplay","preload","loop","muted"];for(s=l.length-1;s>=0;s--){var i=l[s],c={};"undefined"!=typeof t.options_[i]&&(c[i]=t.options_[i]),vjs.setElementAttributes(e,c)}return e},vjs.Html5.prototype.hideCaptions=function(){for(var e=this.el_.querySelectorAll("track"),t,s=e.length,o={captions:1,subtitles:1};s--;)t=e[s].track,t&&t.kind in o&&!e[s]["default"]&&(t.mode="disabled")},vjs.Html5.prototype.setupTriggers=function(){for(var t=vjs.Html5.Events.length-1;t>=0;t--)this.on(vjs.Html5.Events[t],this.eventHandler)},vjs.Html5.prototype.eventHandler=function(t){"error"==t.type&&this.error()?this.player().error(this.error().code):(t.bubbles=!1,this.player().trigger(t))},vjs.Html5.prototype.useNativeControls=function(){var e,t,s,o,n;e=this,t=this.player(),e.setControls(t.controls()),s=function(){e.setControls(!0)},o=function(){e.setControls(!1)},t.on("controlsenabled",s),t.on("controlsdisabled",o),n=function(){t.off("controlsenabled",s),t.off("controlsdisabled",o)},e.on("dispose",n),t.on("usingcustomcontrols",n),t.usingNativeControls(!0)},vjs.Html5.prototype.play=function(){this.el_.play()},vjs.Html5.prototype.pause=function(){this.el_.pause()},vjs.Html5.prototype.paused=function(){return this.el_.paused},vjs.Html5.prototype.currentTime=function(){return this.el_.currentTime},vjs.Html5.prototype.setCurrentTime=function(t){try{this.el_.currentTime=t}catch(e){vjs.log(e,"Video is not ready. (Video.js)")}},vjs.Html5.prototype.duration=function(){return this.el_.duration||0},vjs.Html5.prototype.buffered=function(){return this.el_.buffered},vjs.Html5.prototype.volume=function(){return this.el_.volume},vjs.Html5.prototype.setVolume=function(t){this.el_.volume=t},vjs.Html5.prototype.muted=function(){return this.el_.muted},vjs.Html5.prototype.setMuted=function(t){this.el_.muted=t},vjs.Html5.prototype.width=function(){return this.el_.offsetWidth},vjs.Html5.prototype.height=function(){return this.el_.offsetHeight},vjs.Html5.prototype.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen&&(/Android/.test(vjs.USER_AGENT)||!/Chrome|Mac OS X 10.5/.test(vjs.USER_AGENT)))return!0;return!1},vjs.Html5.prototype.enterFullScreen=function(){var t=this.el_;"webkitDisplayingFullscreen"in t&&this.one("webkitbeginfullscreen",function(){this.player_.isFullscreen(!0),this.one("webkitendfullscreen",function(){this.player_.isFullscreen(!1),this.player_.trigger("fullscreenchange")}),this.player_.trigger("fullscreenchange")}),t.paused&&t.networkState<=t.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){t.pause(),t.webkitEnterFullScreen()},0)):t.webkitEnterFullScreen()},vjs.Html5.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},vjs.Html5.prototype.src=function(t){if(void 0===t)return this.el_.src;this.setSrc(t)},vjs.Html5.prototype.setSrc=function(t){this.el_.src=t},vjs.Html5.prototype.load=function(){this.el_.load()},vjs.Html5.prototype.currentSrc=function(){return this.el_.currentSrc},vjs.Html5.prototype.poster=function(){return this.el_.poster},vjs.Html5.prototype.setPoster=function(t){this.el_.poster=t},vjs.Html5.prototype.preload=function(){return this.el_.preload},vjs.Html5.prototype.setPreload=function(t){this.el_.preload=t},vjs.Html5.prototype.autoplay=function(){return this.el_.autoplay},vjs.Html5.prototype.setAutoplay=function(t){this.el_.autoplay=t},vjs.Html5.prototype.controls=function(){return this.el_.controls},vjs.Html5.prototype.setControls=function(t){this.el_.controls=!!t},vjs.Html5.prototype.loop=function(){return this.el_.loop},vjs.Html5.prototype.setLoop=function(t){this.el_.loop=t},vjs.Html5.prototype.error=function(){return this.el_.error},vjs.Html5.prototype.seeking=function(){return this.el_.seeking},vjs.Html5.prototype.ended=function(){return this.el_.ended},vjs.Html5.prototype.defaultMuted=function(){return this.el_.defaultMuted},vjs.Html5.prototype.playbackRate=function(){return this.el_.playbackRate},vjs.Html5.prototype.setPlaybackRate=function(t){this.el_.playbackRate=t},vjs.Html5.prototype.networkState=function(){return this.el_.networkState},vjs.Html5.prototype.readyState=function(){return this.el_.readyState},vjs.Html5.prototype.textTracks=function(){if(!this.featuresNativeTextTracks)return vjs.MediaTechController.prototype.textTracks.call(this);return this.el_.textTracks},vjs.Html5.prototype.addTextTrack=function(t,e,s){if(!this.featuresNativeTextTracks)return vjs.MediaTechController.prototype.addTextTrack.call(this,t,e,s);return this.el_.addTextTrack(t,e,s)},vjs.Html5.prototype.addRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return vjs.MediaTechController.prototype.addRemoteTextTrack.call(this,t);var e=document.createElement("track");return t=t||{},t.kind&&(e.kind=t.kind),t.label&&(e.label=t.label),(t.language||t.srclang)&&(e.srclang=t.language||t.srclang),t["default"]&&(e["default"]=t["default"]),t.id&&(e.id=t.id),t.src&&(e.src=t.src),this.el().appendChild(e),"metadata"===e.track.kind?e.track.mode="hidden":e.track.mode="disabled",e.onload=function(){var t=e.track;e.readyState>=2&&("metadata"===t.kind&&"hidden"!==t.mode?t.mode="hidden":"metadata"!==t.kind&&"disabled"!==t.mode&&(t.mode="disabled"),e.onload=null)},this.remoteTextTracks().addTrack_(e.track),e},vjs.Html5.prototype.removeRemoteTextTrack=function(s){if(!this.featuresNativeTextTracks)return vjs.MediaTechController.prototype.removeRemoteTextTrack.call(this,s);var e,t;for(this.remoteTextTracks().removeTrack_(s),e=this.el().querySelectorAll("track"),t=0;t<e.length;t++)if(e[t]===s||e[t].track===s){e[t].parentNode.removeChild(e[t]);break}},vjs.Html5.isSupported=function(){try{vjs.TEST_VID.volume=.5}catch(t){return!1}return!!vjs.TEST_VID.canPlayType},vjs.MediaTechController.withSourceHandlers(vjs.Html5),vjs.Html5.nativeSourceHandler={},vjs.Html5.nativeSourceHandler.canHandleSource=function(t){function canPlayType(t){try{return vjs.TEST_VID.canPlayType(t)}catch(e){return""}}var e,s;if(t.type)return canPlayType(t.type);if(t.src)return e=t.src.match(/\.([^.\/\?]+)(\?[^\/]+)?$/i),s=e&&e[1],canPlayType("video/"+s);return""},vjs.Html5.nativeSourceHandler.handleSource=function(t,e){e.setSrc(t.src)},vjs.Html5.nativeSourceHandler.dispose=function(){},vjs.Html5.registerSourceHandler(vjs.Html5.nativeSourceHandler),vjs.Html5.canControlVolume=function(){var t=vjs.TEST_VID.volume;return vjs.TEST_VID.volume=t/2+.1,t!==vjs.TEST_VID.volume},vjs.Html5.canControlPlaybackRate=function(){var t=vjs.TEST_VID.playbackRate;return vjs.TEST_VID.playbackRate=t/2+.1,t!==vjs.TEST_VID.playbackRate},vjs.Html5.supportsNativeTextTracks=function(){var t;return t=!!vjs.TEST_VID.textTracks,t&&vjs.TEST_VID.textTracks.length>0&&(t="number"!=typeof vjs.TEST_VID.textTracks[0].mode),t&&vjs.IS_FIREFOX&&(t=!1),t},vjs.Html5.prototype.featuresVolumeControl=vjs.Html5.canControlVolume(),vjs.Html5.prototype.featuresPlaybackRate=vjs.Html5.canControlPlaybackRate(),vjs.Html5.prototype.movingMediaElementInDOM=!vjs.IS_IOS,vjs.Html5.prototype.featuresFullscreenResize=!0,vjs.Html5.prototype.featuresProgressEvents=!0,vjs.Html5.prototype.featuresNativeTextTracks=vjs.Html5.supportsNativeTextTracks(),function(){var t,e=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,s=/^video\/mp4/i;vjs.Html5.patchCanPlayType=function(){vjs.ANDROID_VERSION>=4&&(t||(t=vjs.TEST_VID.constructor.prototype.canPlayType),vjs.TEST_VID.constructor.prototype.canPlayType=function(s){if(s&&e.test(s))return"maybe";return t.call(this,s)}),vjs.IS_OLD_ANDROID&&(t||(t=vjs.TEST_VID.constructor.prototype.canPlayType),vjs.TEST_VID.constructor.prototype.canPlayType=function(e){if(e&&s.test(e))return"maybe";return t.call(this,e)})},vjs.Html5.unpatchCanPlayType=function(){var e=vjs.TEST_VID.constructor.prototype.canPlayType;return vjs.TEST_VID.constructor.prototype.canPlayType=t,t=null,e},vjs.Html5.patchCanPlayType()}(),vjs.Html5.Events="loadstart,suspend,abort,error,emptied,stalled,loadedmetadata,loadeddata,canplay,canplaythrough,playing,waiting,seeking,seeked,ended,durationchange,timeupdate,progress,play,pause,ratechange,volumechange".split(","),vjs.Html5.disposeMediaElement=function(t){if(!t)return;for(t.player=null,t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),"function"==typeof t.load&&!function(){try{t.load()}catch(e){}}()},vjs.Flash=vjs.MediaTechController.extend({init:function(e,t,a){vjs.MediaTechController.call(this,e,t,a);var o=t.source,i=t.parentEl,r=this.el_=vjs.createEl("div",{id:e.id()+"_temp_flash"}),n=e.id()+"_flash_api",s=e.options_,l=vjs.obj.merge({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:s.autoplay,preload:s.preload,loop:s.loop,muted:s.muted},t.flashVars),c=vjs.obj.merge({wmode:"opaque",bgcolor:"#000000"},t.params),u=vjs.obj.merge({id:n,name:n,"class":"vjs-tech"},t.attributes);o&&this.ready(function(){this.setSource(o)}),vjs.insertFirst(r,i),t.startTime&&this.ready(function(){this.load(),this.play(),this.currentTime(t.startTime)}),vjs.IS_FIREFOX&&this.ready(function(){this.on("mousemove",function(){this.player().trigger({type:"mousemove",bubbles:!1})})}),e.on("stageclick",e.reportUserActivity),this.el_=vjs.Flash.embed(t.swf,r,l,c,u)}}),vjs.Flash.prototype.dispose=function(){vjs.MediaTechController.prototype.dispose.call(this)},vjs.Flash.prototype.play=function(){this.el_.vjs_play()},vjs.Flash.prototype.pause=function(){this.el_.vjs_pause()},vjs.Flash.prototype.src=function(t){if(void 0===t)return this.currentSrc();return this.setSrc(t)},vjs.Flash.prototype.setSrc=function(t){if(t=vjs.getAbsoluteURL(t),this.el_.vjs_src(t),this.player_.autoplay()){var e=this;this.setTimeout(function(){e.play()},0)}},vjs.Flash.prototype.setCurrentTime=function(t){this.lastSeekTarget_=t,this.el_.vjs_setProperty("currentTime",t),vjs.MediaTechController.prototype.setCurrentTime.call(this)},vjs.Flash.prototype.currentTime=function(t){if(this.seeking())return this.lastSeekTarget_||0;return this.el_.vjs_getProperty("currentTime")},vjs.Flash.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.vjs_getProperty("currentSrc")},vjs.Flash.prototype.load=function(){this.el_.vjs_load()},vjs.Flash.prototype.poster=function(){this.el_.vjs_getProperty("poster")},vjs.Flash.prototype.setPoster=function(){},vjs.Flash.prototype.buffered=function(){return vjs.createTimeRange(0,this.el_.vjs_getProperty("buffered"))},vjs.Flash.prototype.supportsFullScreen=function(){return!1},vjs.Flash.prototype.enterFullScreen=function(){return!1},function(){function createSetter(t){var e=t.charAt(0).toUpperCase()+t.slice(1);s["set"+e]=function(e){return this.el_.vjs_setProperty(t,e)}}function createGetter(t){s[t]=function(){return this.el_.vjs_getProperty(t)}}var s=vjs.Flash.prototype,e="rtmpConnection,rtmpStream,preload,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),o="error,networkState,readyState,seeking,initialTime,duration,startOffsetTime,paused,played,seekable,ended,videoTracks,audioTracks,videoWidth,videoHeight".split(","),t;for(t=0;t<e.length;t++)createGetter(e[t]),createSetter(e[t]);for(t=0;t<o.length;t++)createGetter(o[t])}(),vjs.Flash.isSupported=function(){return vjs.Flash.version()[0]>=10},vjs.MediaTechController.withSourceHandlers(vjs.Flash),vjs.Flash.nativeSourceHandler={},vjs.Flash.nativeSourceHandler.canHandleSource=function(t){var e;if(!t.type)return"";if(e=t.type.replace(/;.*/,"").toLowerCase(),e in vjs.Flash.formats)return"maybe";return""},vjs.Flash.nativeSourceHandler.handleSource=function(t,e){e.setSrc(t.src)},vjs.Flash.nativeSourceHandler.dispose=function(){},vjs.Flash.registerSourceHandler(vjs.Flash.nativeSourceHandler),vjs.Flash.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},vjs.Flash.onReady=function(s){var t,e;t=vjs.el(s),e=t&&t.parentNode&&t.parentNode.player,e&&(t.player=e,vjs.Flash.checkReady(e.tech))},vjs.Flash.checkReady=function(t){if(!t.el())return;t.el().vjs_getProperty?t.triggerReady():this.setTimeout(function(){vjs.Flash.checkReady(t)},50)},vjs.Flash.onEvent=function(t,e){var s=vjs.el(t).player;s.trigger(e)},vjs.Flash.onError=function(o,t){var e=vjs.el(o).player,s="FLASH: "+t;"srcnotfound"==t?e.error({code:4,message:s}):e.error(s)},vjs.Flash.version=function(){var t="0,0,0";try{t=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(e){try{navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(t=(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(s){}}return t.split(",")},vjs.Flash.embed=function(s,t,o,n,r){var i=vjs.Flash.getEmbedCode(s,o,n,r),e=vjs.createEl("div",{innerHTML:i}).childNodes[0],a=t.parentNode;t.parentNode.replaceChild(e,t);var l=a.childNodes[0];return setTimeout(function(){l.style.display="block"},1e3),e},vjs.Flash.getEmbedCode=function(s,o,t,e){var a='<object type="application/x-shockwave-flash" ',n="",r="",i="";return o&&vjs.obj.each(o,function(t,e){n+=t+"="+e+"&amp;"}),t=vjs.obj.merge({movie:s,flashvars:n,allowScriptAccess:"always",allowNetworking:"all"},t),vjs.obj.each(t,function(t,e){r+='<param name="'+t+'" value="'+e+'" />'}),e=vjs.obj.merge({data:s,width:"100%",height:"100%"},e),vjs.obj.each(e,function(t,e){i+=t+'="'+e+'" '}),a+i+">"+r+"</object>"},vjs.Flash.streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},vjs.Flash.streamFromParts=function(t,e){return t+"&"+e},vjs.Flash.streamToParts=function(t){var s={connection:"",stream:""};if(!t)return s;var e=t.indexOf("&"),o;return-1!==e?o=e+1:(e=o=t.lastIndexOf("/")+1,0===e&&(e=o=t.length)),s.connection=t.substring(0,e),s.stream=t.substring(o,t.length),s},vjs.Flash.isStreamingType=function(t){return t in vjs.Flash.streamingFormats},vjs.Flash.RTMP_RE=/^rtmp[set]?:\/\//i,vjs.Flash.isStreamingSrc=function(t){return vjs.Flash.RTMP_RE.test(t)},vjs.Flash.rtmpSourceHandler={},vjs.Flash.rtmpSourceHandler.canHandleSource=function(t){if(vjs.Flash.isStreamingType(t.type)||vjs.Flash.isStreamingSrc(t.src))return"maybe";return""},vjs.Flash.rtmpSourceHandler.handleSource=function(s,t){var e=vjs.Flash.streamToParts(s.src);t.setRtmpConnection(e.connection),t.setRtmpStream(e.stream)},vjs.Flash.registerSourceHandler(vjs.Flash.rtmpSourceHandler),vjs.MediaLoader=vjs.Component.extend({init:function(t,r,i){if(vjs.Component.call(this,t,r,i),t.options_.sources&&0!==t.options_.sources.length)t.src(t.options_.sources);else for(var e=0,s=t.options_.techOrder;e<s.length;e++){var o=vjs.capitalize(s[e]),n=window.videojs[o];if(n&&n.isSupported()){t.loadTech(o);break}}}}),vjs.TextTrackMode={disabled:"disabled",hidden:"hidden",showing:"showing"},vjs.TextTrackKind={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},function(){vjs.TextTrack=function(o){var t,h,r,i,p,v,u,a,c,n,l;if(o=o||{},!o.player)throw new Error("A player was not provided.");if(t=this,vjs.IS_IE8){t=document.createElement("custom");for(l in vjs.TextTrack.prototype)t[l]=vjs.TextTrack.prototype[l]}if(t.player_=o.player,r=vjs.TextTrackMode[o.mode]||"disabled",i=vjs.TextTrackKind[o.kind]||"subtitles",p=o.label||"",v=o.language||o.srclang||"",h=o.id||"vjs_text_track_"+vjs.guid++,("metadata"===i||"chapters"===i)&&(r="hidden"),t.cues_=[],t.activeCues_=[],u=new vjs.TextTrackCueList(t.cues_),a=new vjs.TextTrackCueList(t.activeCues_),n=!1,c=vjs.bind(t,function(){this.activeCues,n&&(this.trigger("cuechange"),n=!1)}),"disabled"!==r&&t.player_.on("timeupdate",c),Object.defineProperty(t,"kind",{get:function(){return i},set:Function.prototype}),Object.defineProperty(t,"label",{get:function(){return p},set:Function.prototype}),Object.defineProperty(t,"language",{get:function(){return v},set:Function.prototype}),Object.defineProperty(t,"id",{get:function(){return h},set:Function.prototype}),Object.defineProperty(t,"mode",{get:function(){return r},set:function(t){if(!vjs.TextTrackMode[t])return;r=t,"showing"===r&&this.player_.on("timeupdate",c),this.trigger("modechange")}}),Object.defineProperty(t,"cues",{get:function(){if(!this.loaded_)return null;return u},set:Function.prototype}),Object.defineProperty(t,"activeCues",{get:function(){var e,i,o,r,t;if(!this.loaded_)return null;if(0===this.cues.length)return a;for(r=this.player_.currentTime(),e=0,i=this.cues.length,o=[];i>e;e++)t=this.cues[e],t.startTime<=r&&t.endTime>=r?o.push(t):t.startTime===t.endTime&&t.startTime<=r&&t.startTime+.5>=r&&o.push(t);if(n=!1,o.length!==this.activeCues_.length)n=!0;else for(e=0;e<o.length;e++)-1===s.call(this.activeCues_,o[e])&&(n=!0);return this.activeCues_=o,a.setCues_(this.activeCues_),a},set:Function.prototype}),o.src?e(o.src,t):t.loaded_=!0,vjs.IS_IE8)return t},vjs.TextTrack.prototype=vjs.obj.create(vjs.EventEmitter.prototype),vjs.TextTrack.prototype.constructor=vjs.TextTrack,vjs.TextTrack.prototype.allowedEvents_={cuechange:"cuechange"},vjs.TextTrack.prototype.addCue=function(s){var t=this.player_.textTracks(),e=0;if(t)for(;e<t.length;e++)t[e]!==this&&t[e].removeCue(s);this.cues_.push(s),this.cues.setCues_(this.cues_)},vjs.TextTrack.prototype.removeCue=function(o){for(var t=0,n=this.cues_.length,e,s=!1;n>t;t++)e=this.cues_[t],e===o&&(this.cues_.splice(t,1),s=!0);s&&this.cues.setCues_(this.cues_)};var e,t,s;e=function(s,e){vjs.xhr(s,vjs.bind(this,function(s,n,o){if(s)return vjs.log.error(s);e.loaded_=!0,t(o,e)}))},t=function(s,o){if("function"!=typeof window.WebVTT)return window.setTimeout(function(){t(s,o)},25);var e=new window.WebVTT.Parser(window,window.vttjs,window.WebVTT.StringDecoder());e.oncue=function(t){o.addCue(t)},e.onparsingerror=function(t){vjs.log.error(t)},e.parse(s),e.flush()},s=function(n,r){var t;if(null==this)throw new TypeError('"this" is null or not defined');var o=Object(this),s=o.length>>>0;if(0===s)return-1;var e=+r||0;if(Math.abs(e)===1/0&&(e=0),e>=s)return-1;for(t=Math.max(e>=0?e:s-Math.abs(e),0);s>t;){if(t in o&&o[t]===n)return t;t++}return-1}}(),vjs.TextTrackList=function(e){var t=this,s,o=0;if(vjs.IS_IE8){t=document.createElement("custom");for(s in vjs.TextTrackList.prototype)t[s]=vjs.TextTrackList.prototype[s]}for(e=e||[],t.tracks_=[],Object.defineProperty(t,"length",{get:function(){return this.tracks_.length}});o<e.length;o++)t.addTrack_(e[o]);if(vjs.IS_IE8)return t},vjs.TextTrackList.prototype=vjs.obj.create(vjs.EventEmitter.prototype),vjs.TextTrackList.prototype.constructor=vjs.TextTrackList,vjs.TextTrackList.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},function(){var t;for(t in vjs.TextTrackList.prototype.allowedEvents_)vjs.TextTrackList.prototype["on"+t]=null}(),vjs.TextTrackList.prototype.addTrack_=function(t){var e=this.tracks_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.tracks_[e]}}),t.addEventListener("modechange",vjs.bind(this,function(){this.trigger("change")})),this.tracks_.push(t),this.trigger({type:"addtrack",track:t})},vjs.TextTrackList.prototype.removeTrack_=function(e){for(var t=0,o=this.length,n=null,s;o>t;t++)if(s=this[t],s===e){this.tracks_.splice(t,1);break}this.trigger({type:"removetrack",track:e})},vjs.TextTrackList.prototype.getTrackById=function(o){for(var t=0,n=this.length,s=null,e;n>t;t++)if(e=this[t],e.id===o){s=e;break}return s},vjs.TextTrackCueList=function(s){var t=this,e;if(vjs.IS_IE8){t=document.createElement("custom");for(e in vjs.TextTrackCueList.prototype)t[e]=vjs.TextTrackCueList.prototype[e]}if(vjs.TextTrackCueList.prototype.setCues_.call(t,s),Object.defineProperty(t,"length",{get:function(){return this.length_}}),vjs.IS_IE8)return t},vjs.TextTrackCueList.prototype.setCues_=function(e){var s=this.length||0,t=0,o=e.length,n;if(this.cues_=e,this.length_=e.length,n=function(t){""+t in this||Object.defineProperty(this,""+t,{get:function(){return this.cues_[t]}})},o>s)for(t=s;o>t;t++)n.call(this,t)},vjs.TextTrackCueList.prototype.getCueById=function(o){for(var t=0,n=this.length,s=null,e;n>t;t++)if(e=this[t],e.id===o){s=e;break}return s},function(){vjs.TextTrackDisplay=vjs.Component.extend({init:function(t,e,s){vjs.Component.call(this,t,e,s),t.on("loadstart",vjs.bind(this,this.toggleDisplay)),t.ready(vjs.bind(this,function(){if(t.tech&&t.tech.featuresNativeTextTracks)return void this.hide();var e,s,o;for(t.on("fullscreenchange",vjs.bind(this,this.updateDisplay)),s=t.options_.tracks||[],e=0;e<s.length;e++)o=s[e],this.player_.addRemoteTextTrack(o)}))}}),vjs.TextTrackDisplay.prototype.toggleDisplay=function(){this.player_.tech&&this.player_.tech.featuresNativeTextTracks?this.hide():this.show()},vjs.TextTrackDisplay.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"})},vjs.TextTrackDisplay.prototype.clearDisplay=function(){"function"==typeof window.WebVTT&&window.WebVTT.processCues(window,[],this.el_)};var e=function(t,e){return"rgba("+parseInt(t[1]+t[1],16)+","+parseInt(t[2]+t[2],16)+","+parseInt(t[3]+t[3],16)+","+e+")"},t="#222",o="#ccc",n={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'},s=function(t,e,s){try{t.style[e]=s}catch(o){}};vjs.TextTrackDisplay.prototype.updateDisplay=function(){var t=this.player_.textTracks(),e=0,s;if(this.clearDisplay(),!t)return;for(;e<t.length;e++)s=t[e],"showing"===s.mode&&this.updateForTrack(s)},vjs.TextTrackDisplay.prototype.updateForTrack=function(l){if("function"!=typeof window.WebVTT||!l.activeCues)return;for(var a=0,p,i,r=this.player_.textTrackSettings.getValues(),u,c=[];a<l.activeCues.length;a++)c.push(l.activeCues[a]);for(window.WebVTT.processCues(window,l.activeCues,this.el_),a=c.length;a--;)i=c[a].displayState,r.color&&(i.firstChild.style.color=r.color),r.textOpacity&&s(i.firstChild,"color",e(r.color||"#fff",r.textOpacity)),r.backgroundColor&&(i.firstChild.style.backgroundColor=r.backgroundColor),r.backgroundOpacity&&s(i.firstChild,"backgroundColor",e(r.backgroundColor||"#000",r.backgroundOpacity)),r.windowColor&&(r.windowOpacity?s(i,"backgroundColor",e(r.windowColor,r.windowOpacity)):i.style.backgroundColor=r.windowColor),r.edgeStyle&&("dropshadow"===r.edgeStyle?i.firstChild.style.textShadow="2px 2px 3px "+t+", 2px 2px 4px "+t+", 2px 2px 5px "+t:"raised"===r.edgeStyle?i.firstChild.style.textShadow="1px 1px "+t+", 2px 2px "+t+", 3px 3px "+t:"depressed"===r.edgeStyle?i.firstChild.style.textShadow="1px 1px "+o+", 0 1px "+o+", -1px -1px "+t+", 0 -1px "+t:"uniform"===r.edgeStyle&&(i.firstChild.style.textShadow="0 0 4px "+t+", 0 0 4px "+t+", 0 0 4px "+t+", 0 0 4px "+t)),r.fontPercent&&1!==r.fontPercent&&(u=window.parseFloat(i.style.fontSize),i.style.fontSize=u*r.fontPercent+"px",i.style.height="auto",i.style.top="auto",i.style.bottom="2px"),r.fontFamily&&"default"!==r.fontFamily&&("small-caps"===r.fontFamily?i.firstChild.style.fontVariant="small-caps":i.firstChild.style.fontFamily=n[r.fontFamily])},vjs.TextTrackMenuItem=vjs.MenuItem.extend({init:function(n,s){var o=this.track=s.track,t=n.textTracks(),r,e;t&&(r=vjs.bind(this,function(){var s="showing"===this.track.mode,o,e,n;if(this instanceof vjs.OffTextTrackMenuItem)for(s=!0,e=0,n=t.length;n>e;e++)if(o=t[e],o.kind===this.track.kind&&"showing"===o.mode){s=!1;break}this.selected(s)}),t.addEventListener("change",r),
n.on("dispose",function(){t.removeEventListener("change",r)})),s.label=o.label||o.language||"Unknown",s.selected=o["default"]||"showing"===o.mode,vjs.MenuItem.call(this,n,s),t&&void 0===t.onchange&&this.on(["tap","click"],function(){if("object"!=typeof window.Event)try{e=new window.Event("change")}catch(s){}e||(e=document.createEvent("Event"),e.initEvent("change",!0,!0)),t.dispatchEvent(e)})}}),vjs.TextTrackMenuItem.prototype.onClick=function(){var o=this.track.kind,e=this.player_.textTracks(),n,t,s=0;if(vjs.MenuItem.prototype.onClick.call(this),!e)return;for(;s<e.length;s++){if(t=e[s],t.kind!==o)continue;t===this.track?t.mode="showing":t.mode="disabled"}},vjs.OffTextTrackMenuItem=vjs.TextTrackMenuItem.extend({init:function(e,t){t.track={kind:t.kind,player:e,label:t.kind+" off","default":!1,mode:"disabled"},vjs.TextTrackMenuItem.call(this,e,t),this.selected(!0)}}),vjs.CaptionSettingsMenuItem=vjs.TextTrackMenuItem.extend({init:function(e,t){t.track={kind:t.kind,player:e,label:t.kind+" settings","default":!1,mode:"disabled"},vjs.TextTrackMenuItem.call(this,e,t),this.addClass("vjs-texttrack-settings")}}),vjs.CaptionSettingsMenuItem.prototype.onClick=function(){this.player().getChild("textTrackSettings").show()},vjs.TextTrackButton=vjs.MenuButton.extend({init:function(s,o){var t,e;if(vjs.MenuButton.call(this,s,o),t=this.player_.textTracks(),this.items.length<=1&&this.hide(),!t)return;e=vjs.bind(this,this.update),t.addEventListener("removetrack",e),t.addEventListener("addtrack",e),this.player_.on("dispose",function(){t.removeEventListener("removetrack",e),t.removeEventListener("addtrack",e)})}}),vjs.TextTrackButton.prototype.createItems=function(){var t=[],s,e;if(!(this instanceof vjs.CaptionsButton)||this.player().tech&&this.player().tech.featuresNativeTextTracks||t.push(new vjs.CaptionSettingsMenuItem(this.player_,{kind:this.kind_})),t.push(new vjs.OffTextTrackMenuItem(this.player_,{kind:this.kind_})),e=this.player_.textTracks(),!e)return t;for(var o=0;o<e.length;o++)s=e[o],s.kind===this.kind_&&t.push(new vjs.TextTrackMenuItem(this.player_,{track:s}));return t},vjs.CaptionsButton=vjs.TextTrackButton.extend({init:function(t,e,s){vjs.TextTrackButton.call(this,t,e,s),this.el_.setAttribute("aria-label","Captions Menu")}}),vjs.CaptionsButton.prototype.kind_="captions",vjs.CaptionsButton.prototype.buttonText="Captions",vjs.CaptionsButton.prototype.className="vjs-captions-button",vjs.CaptionsButton.prototype.update=function(){var t=2;vjs.TextTrackButton.prototype.update.call(this),this.player().tech&&this.player().tech.featuresNativeTextTracks&&(t=1),this.items&&this.items.length>t?this.show():this.hide()},vjs.SubtitlesButton=vjs.TextTrackButton.extend({init:function(t,e,s){vjs.TextTrackButton.call(this,t,e,s),this.el_.setAttribute("aria-label","Subtitles Menu")}}),vjs.SubtitlesButton.prototype.kind_="subtitles",vjs.SubtitlesButton.prototype.buttonText="Subtitles",vjs.SubtitlesButton.prototype.className="vjs-subtitles-button",vjs.ChaptersButton=vjs.TextTrackButton.extend({init:function(t,e,s){vjs.TextTrackButton.call(this,t,e,s),this.el_.setAttribute("aria-label","Chapters Menu")}}),vjs.ChaptersButton.prototype.kind_="chapters",vjs.ChaptersButton.prototype.buttonText="Chapters",vjs.ChaptersButton.prototype.className="vjs-chapters-button",vjs.ChaptersButton.prototype.createItems=function(){var e=[],s,t;if(t=this.player_.textTracks(),!t)return e;for(var o=0;o<t.length;o++)s=t[o],s.kind===this.kind_&&e.push(new vjs.TextTrackMenuItem(this.player_,{track:s}));return e},vjs.ChaptersButton.prototype.createMenu=function(){for(var i=this.player_.textTracks()||[],t=0,n=i.length,s,o,c=this.items=[];n>t;t++)if(s=i[t],s.kind==this.kind_){if(s.cues){o=s;break}s.mode="hidden",window.setTimeout(vjs.bind(this,function(){this.createMenu()}),100)}var e=this.menu;if(void 0===e&&(e=new vjs.Menu(this.player_),e.contentEl().appendChild(vjs.createEl("li",{className:"vjs-menu-title",innerHTML:vjs.capitalize(this.kind_),tabindex:-1}))),o){var a=o.cues,l,r;for(t=0,n=a.length;n>t;t++)l=a[t],r=new vjs.ChaptersTrackMenuItem(this.player_,{track:o,cue:l}),c.push(r),e.addChild(r);this.addChild(e)}return this.items.length>0&&this.show(),e},vjs.ChaptersTrackMenuItem=vjs.MenuItem.extend({init:function(s,t){var n=this.track=t.track,e=this.cue=t.cue,o=s.currentTime();t.label=e.text,t.selected=e.startTime<=o&&o<e.endTime,vjs.MenuItem.call(this,s,t),n.addEventListener("cuechange",vjs.bind(this,this.update))}}),vjs.ChaptersTrackMenuItem.prototype.onClick=function(){vjs.MenuItem.prototype.onClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},vjs.ChaptersTrackMenuItem.prototype.update=function(){var t=this.cue,e=this.player_.currentTime();this.selected(t.startTime<=e&&e<t.endTime)}}(),function(){function getSelectedOptionValue(t){var e;return t.selectedOptions?e=t.selectedOptions[0]:t.options&&(e=t.options[t.options.selectedIndex]),e.value}function setSelectedOption(e,s){var t,o;if(!s)return;for(t=0;t<e.options.length&&(o=e.options[t],o.value!==s);t++);e.selectedIndex=t}function captionOptionsMenuTemplate(){return'<div class="vjs-tracksettings"><div class="vjs-tracksettings-colors"><div class="vjs-fg-color vjs-tracksetting"><label class="vjs-label">Foreground</label><select><option value="">---</option><option value="#FFF">White</option><option value="#000">Black</option><option value="#F00">Red</option><option value="#0F0">Green</option><option value="#00F">Blue</option><option value="#FF0">Yellow</option><option value="#F0F">Magenta</option><option value="#0FF">Cyan</option></select><span class="vjs-text-opacity vjs-opacity"><select><option value="">---</option><option value="1">Opaque</option><option value="0.5">Semi-Opaque</option></select></span></div><div class="vjs-bg-color vjs-tracksetting"><label class="vjs-label">Background</label><select><option value="">---</option><option value="#FFF">White</option><option value="#000">Black</option><option value="#F00">Red</option><option value="#0F0">Green</option><option value="#00F">Blue</option><option value="#FF0">Yellow</option><option value="#F0F">Magenta</option><option value="#0FF">Cyan</option></select><span class="vjs-bg-opacity vjs-opacity"><select><option value="">---</option><option value="1">Opaque</option><option value="0.5">Semi-Transparent</option><option value="0">Transparent</option></select></span></div><div class="window-color vjs-tracksetting"><label class="vjs-label">Window</label><select><option value="">---</option><option value="#FFF">White</option><option value="#000">Black</option><option value="#F00">Red</option><option value="#0F0">Green</option><option value="#00F">Blue</option><option value="#FF0">Yellow</option><option value="#F0F">Magenta</option><option value="#0FF">Cyan</option></select><span class="vjs-window-opacity vjs-opacity"><select><option value="">---</option><option value="1">Opaque</option><option value="0.5">Semi-Transparent</option><option value="0">Transparent</option></select></span></div></div><div class="vjs-tracksettings-font"><div class="vjs-font-percent vjs-tracksetting"><label class="vjs-label">Font Size</label><select><option value="0.50">50%</option><option value="0.75">75%</option><option value="1.00" selected>100%</option><option value="1.25">125%</option><option value="1.50">150%</option><option value="1.75">175%</option><option value="2.00">200%</option><option value="3.00">300%</option><option value="4.00">400%</option></select></div><div class="vjs-edge-style vjs-tracksetting"><label class="vjs-label">Text Edge Style</label><select><option value="none">None</option><option value="raised">Raised</option><option value="depressed">Depressed</option><option value="uniform">Uniform</option><option value="dropshadow">Dropshadow</option></select></div><div class="vjs-font-family vjs-tracksetting"><label class="vjs-label">Font Family</label><select><option value="">Default</option><option value="monospaceSerif">Monospace Serif</option><option value="proportionalSerif">Proportional Serif</option><option value="monospaceSansSerif">Monospace Sans-Serif</option><option value="proportionalSansSerif">Proportional Sans-Serif</option><option value="casual">Casual</option><option value="script">Script</option><option value="small-caps">Small Caps</option></select></div></div></div><div class="vjs-tracksettings-controls"><button class="vjs-default-button">Defaults</button><button class="vjs-done-button">Done</button></div>'}vjs.TextTrackSettings=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e),this.hide(),vjs.on(this.el().querySelector(".vjs-done-button"),"click",vjs.bind(this,function(){this.saveSettings(),this.hide()})),vjs.on(this.el().querySelector(".vjs-default-button"),"click",vjs.bind(this,function(){this.el().querySelector(".vjs-fg-color > select").selectedIndex=0,this.el().querySelector(".vjs-bg-color > select").selectedIndex=0,this.el().querySelector(".window-color > select").selectedIndex=0,this.el().querySelector(".vjs-text-opacity > select").selectedIndex=0,this.el().querySelector(".vjs-bg-opacity > select").selectedIndex=0,this.el().querySelector(".vjs-window-opacity > select").selectedIndex=0,this.el().querySelector(".vjs-edge-style select").selectedIndex=0,this.el().querySelector(".vjs-font-family select").selectedIndex=0,this.el().querySelector(".vjs-font-percent select").selectedIndex=2,this.updateDisplay()})),vjs.on(this.el().querySelector(".vjs-fg-color > select"),"change",vjs.bind(this,this.updateDisplay)),vjs.on(this.el().querySelector(".vjs-bg-color > select"),"change",vjs.bind(this,this.updateDisplay)),vjs.on(this.el().querySelector(".window-color > select"),"change",vjs.bind(this,this.updateDisplay)),vjs.on(this.el().querySelector(".vjs-text-opacity > select"),"change",vjs.bind(this,this.updateDisplay)),vjs.on(this.el().querySelector(".vjs-bg-opacity > select"),"change",vjs.bind(this,this.updateDisplay)),vjs.on(this.el().querySelector(".vjs-window-opacity > select"),"change",vjs.bind(this,this.updateDisplay)),vjs.on(this.el().querySelector(".vjs-font-percent select"),"change",vjs.bind(this,this.updateDisplay)),vjs.on(this.el().querySelector(".vjs-edge-style select"),"change",vjs.bind(this,this.updateDisplay)),vjs.on(this.el().querySelector(".vjs-font-family select"),"change",vjs.bind(this,this.updateDisplay)),t.options().persistTextTrackSettings&&this.restoreSettings()}}),vjs.TextTrackSettings.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-caption-settings vjs-modal-overlay",innerHTML:captionOptionsMenuTemplate()})},vjs.TextTrackSettings.prototype.getValues=function(){var t,i,u,o,n,r,p,a,l,e,s,c;t=this.el(),n=getSelectedOptionValue(t.querySelector(".vjs-edge-style select")),r=getSelectedOptionValue(t.querySelector(".vjs-font-family select")),p=getSelectedOptionValue(t.querySelector(".vjs-fg-color > select")),u=getSelectedOptionValue(t.querySelector(".vjs-text-opacity > select")),a=getSelectedOptionValue(t.querySelector(".vjs-bg-color > select")),i=getSelectedOptionValue(t.querySelector(".vjs-bg-opacity > select")),l=getSelectedOptionValue(t.querySelector(".window-color > select")),o=getSelectedOptionValue(t.querySelector(".vjs-window-opacity > select")),c=window.parseFloat(getSelectedOptionValue(t.querySelector(".vjs-font-percent > select"))),e={backgroundOpacity:i,textOpacity:u,windowOpacity:o,edgeStyle:n,fontFamily:r,color:p,backgroundColor:a,windowColor:l,fontPercent:c};for(s in e)(""===e[s]||"none"===e[s]||"fontPercent"===s&&1===e[s])&&delete e[s];return e},vjs.TextTrackSettings.prototype.setValues=function(t){var e=this.el(),s;setSelectedOption(e.querySelector(".vjs-edge-style select"),t.edgeStyle),setSelectedOption(e.querySelector(".vjs-font-family select"),t.fontFamily),setSelectedOption(e.querySelector(".vjs-fg-color > select"),t.color),setSelectedOption(e.querySelector(".vjs-text-opacity > select"),t.textOpacity),setSelectedOption(e.querySelector(".vjs-bg-color > select"),t.backgroundColor),setSelectedOption(e.querySelector(".vjs-bg-opacity > select"),t.backgroundOpacity),setSelectedOption(e.querySelector(".window-color > select"),t.windowColor),setSelectedOption(e.querySelector(".vjs-window-opacity > select"),t.windowOpacity),s=t.fontPercent,s&&(s=s.toFixed(2)),setSelectedOption(e.querySelector(".vjs-font-percent > select"),s)},vjs.TextTrackSettings.prototype.restoreSettings=function(){var t;try{t=JSON.parse(window.localStorage.getItem("vjs-text-track-settings"))}catch(e){}t&&this.setValues(t)},vjs.TextTrackSettings.prototype.saveSettings=function(){var t;if(!this.player_.options().persistTextTrackSettings)return;t=this.getValues();try{vjs.isEmpty(t)?window.localStorage.removeItem("vjs-text-track-settings"):window.localStorage.setItem("vjs-text-track-settings",JSON.stringify(t))}catch(e){}},vjs.TextTrackSettings.prototype.updateDisplay=function(){var t=this.player_.getChild("textTrackDisplay");t&&t.updateDisplay()}}(),vjs.JSON,"undefined"!=typeof window.JSON&&"function"==typeof window.JSON.parse)vjs.JSON=window.JSON;else{vjs.JSON={};var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;vjs.JSON.parse=function(text,reviver){function walk(o,n){var e,s,t=o[n];if(t&&"object"==typeof t)for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(s=walk(t,e),void 0!==s?t[e]=s:delete t[e]);return reviver.call(o,n,t)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse(): invalid or malformed JSON data")}}vjs.autoSetup=function(){var i,e,a,t,s,n=document.getElementsByTagName("video"),r=document.getElementsByTagName("audio"),o=[];if(n&&n.length>0)for(t=0,s=n.length;s>t;t++)o.push(n[t]);if(r&&r.length>0)for(t=0,s=r.length;s>t;t++)o.push(r[t]);if(o&&o.length>0)for(t=0,s=o.length;s>t;t++){if(e=o[t],!e||!e.getAttribute){vjs.autoSetupTimeout(1);break}void 0===e.player&&(i=e.getAttribute("data-setup"),null!==i&&(a=videojs(e)))}else vjs.windowLoaded||vjs.autoSetupTimeout(1)},vjs.autoSetupTimeout=function(t){setTimeout(vjs.autoSetup,t)},"complete"===document.readyState?vjs.windowLoaded=!0:vjs.one(window,"load",function(){vjs.windowLoaded=!0}),vjs.autoSetupTimeout(1),vjs.plugin=function(t,e){vjs.Player.prototype[t]=e},function(e){var t=e.vttjs={},s=t.VTTCue,o=t.VTTRegion,n=e.VTTCue,r=e.VTTRegion;t.shim=function(){t.VTTCue=s,t.VTTRegion=o},t.restore=function(){t.VTTCue=n,t.VTTRegion=r}}(this),function(t,e){function findDirectionSetting(t){if("string"!=typeof t)return!1;var e=o[t.toLowerCase()];return e?t.toLowerCase():!1}function findAlignSetting(t){if("string"!=typeof t)return!1;var e=n[t.toLowerCase()];return e?t.toLowerCase():!1}function extend(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var o in s)e[o]=s[o]}return e}function VTTCue(T,m,g){var t=this,r=/MSIE\s8\.0/.test(navigator.userAgent),e={};r?t=document.createElement("custom"):e.enumerable=!0,t.hasBeenReset=!1;var a="",l=!1,c=T,u=m,o=g,h=null,v="",d=!0,f="auto",y="start",j=50,p="middle",i=50,n="middle";if(Object.defineProperty(t,"id",extend({},e,{get:function(){return a},set:function(t){a=""+t}})),Object.defineProperty(t,"pauseOnExit",extend({},e,{get:function(){return l},set:function(t){l=!!t}})),Object.defineProperty(t,"startTime",extend({},e,{get:function(){return c},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");c=t,this.hasBeenReset=!0}})),Object.defineProperty(t,"endTime",extend({},e,{get:function(){return u},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");u=t,this.hasBeenReset=!0}})),Object.defineProperty(t,"text",extend({},e,{get:function(){return o},set:function(t){o=""+t,this.hasBeenReset=!0}})),Object.defineProperty(t,"region",extend({},e,{get:function(){return h},set:function(t){h=t,this.hasBeenReset=!0}})),Object.defineProperty(t,"vertical",extend({},e,{get:function(){return v},set:function(e){var t=findDirectionSetting(e);if(t===!1)throw new SyntaxError("An invalid or illegal string was specified.");v=t,this.hasBeenReset=!0}})),Object.defineProperty(t,"snapToLines",extend({},e,{get:function(){return d},set:function(t){d=!!t,this.hasBeenReset=!0}})),Object.defineProperty(t,"line",extend({},e,{get:function(){return f},set:function(t){if("number"!=typeof t&&t!==s)throw new SyntaxError("An invalid number or illegal string was specified.");f=t,this.hasBeenReset=!0}})),Object.defineProperty(t,"lineAlign",extend({},e,{get:function(){return y},set:function(e){var t=findAlignSetting(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");y=t,this.hasBeenReset=!0}})),Object.defineProperty(t,"position",extend({},e,{get:function(){return j},set:function(t){if(0>t||t>100)throw new Error("Position must be between 0 and 100.");j=t,this.hasBeenReset=!0}})),Object.defineProperty(t,"positionAlign",extend({},e,{get:function(){return p},set:function(e){var t=findAlignSetting(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");p=t,this.hasBeenReset=!0}})),Object.defineProperty(t,"size",extend({},e,{get:function(){return i},set:function(t){if(0>t||t>100)throw new Error("Size must be between 0 and 100.");i=t,this.hasBeenReset=!0}})),Object.defineProperty(t,"align",extend({},e,{get:function(){return n},set:function(e){var t=findAlignSetting(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");n=t,this.hasBeenReset=!0}})),t.displayState=void 0,r)return t}var s="auto",o={"":!0,lr:!0,rl:!0},n={start:!0,middle:!0,end:!0,left:!0,right:!0};VTTCue.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},t.VTTCue=t.VTTCue||VTTCue,e.VTTCue=VTTCue}(this,this.vttjs||{}),function(t,e){function findScrollSetting(t){if("string"!=typeof t)return!1;var e=s[t.toLowerCase()];return e?t.toLowerCase():!1}function isValidPercentValue(t){return"number"==typeof t&&t>=0&&100>=t}function VTTRegion(){var t=100,e=3,s=0,o=100,n=0,r=100,i="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(e){if(!isValidPercentValue(e))throw new Error("Width must be between 0 and 100.");t=e}},lines:{enumerable:!0,get:function(){return e},set:function(t){if("number"!=typeof t)throw new TypeError("Lines must be set to a number.");e=t}},regionAnchorY:{enumerable:!0,get:function(){return o},set:function(t){if(!isValidPercentValue(t))throw new Error("RegionAnchorX must be between 0 and 100.");o=t}},regionAnchorX:{enumerable:!0,get:function(){return s},set:function(t){if(!isValidPercentValue(t))throw new Error("RegionAnchorY must be between 0 and 100.");s=t}},viewportAnchorY:{enumerable:!0,get:function(){return r},set:function(t){if(!isValidPercentValue(t))throw new Error("ViewportAnchorY must be between 0 and 100.");r=t}},viewportAnchorX:{enumerable:!0,get:function(){return n},set:function(t){if(!isValidPercentValue(t))throw new Error("ViewportAnchorX must be between 0 and 100.");n=t}},scroll:{enumerable:!0,get:function(){return i},set:function(e){var t=findScrollSetting(e);if(t===!1)throw new SyntaxError("An invalid or illegal string was specified.");i=t}}})}var s={"":!0,up:!0};t.VTTRegion=t.VTTRegion||VTTRegion,e.VTTRegion=VTTRegion}(this,this.vttjs||{}),function(i){function ParsingError(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}function parseTimeStamp(e){function computeSeconds(t,e,s,o){return 3600*(0|t)+60*(0|e)+(0|s)+(0|o)/1e3}var t=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);if(!t)return null;return t[3]?computeSeconds(t[1],t[2],t[3].replace(":",""),t[4]):t[1]>59?computeSeconds(t[1],t[2],0,t[4]):computeSeconds(0,t[1],t[2],t[4])}function Settings(){this.values=t(null)}function parseOptions(s,r,i,o){var t=o?s.split(o):[s];for(var n in t){if("string"!=typeof t[n])continue;var e=t[n].split(i);if(2!==e.length)continue;var a=e[0],l=e[1];r(a,l)}}function parseCue(t,e,s){function consumeTimeStamp(){var e=parseTimeStamp(t);if(null===e)throw new ParsingError(ParsingError.Errors.BadTimeStamp,"Malformed timestamp: "+o);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function consumeCueSettings(o,e){var t=new Settings;parseOptions(o,function(e,n){switch(e){case"region":for(var r=s.length-1;r>=0;r--)if(s[r].id===n){t.set(e,s[r].region);break}break;case"vertical":t.alt(e,n,["rl","lr"]);break;case"line":var o=n.split(","),i=o[0];t.integer(e,i),t.percent(e,i)?t.set("snapToLines",!1):null,t.alt(e,i,["auto"]),2===o.length&&t.alt("lineAlign",o[1],["start","middle","end"]);break;case"position":o=n.split(","),t.percent(e,o[0]),2===o.length&&t.alt("positionAlign",o[1],["start","middle","end"]);break;case"size":t.percent(e,n);break;case"align":t.alt(e,n,["start","middle","end","left","right"])}},/:/,/\s/),e.region=t.get("region",null),e.vertical=t.get("vertical",""),e.line=t.get("line","auto"),e.lineAlign=t.get("lineAlign","start"),e.snapToLines=t.get("snapToLines",!0),e.size=t.get("size",100),e.align=t.get("align","middle"),e.position=t.get("position",{start:0,left:0,middle:50,end:100,right:100},e.align),e.positionAlign=t.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},e.align)}function skipWhitespace(){t=t.replace(/^\s+/,"")}var o=t;if(skipWhitespace(),e.startTime=consumeTimeStamp(),skipWhitespace(),"-->"!==t.substr(0,3))throw new ParsingError(ParsingError.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+o);t=t.substr(3),skipWhitespace(),e.endTime=consumeTimeStamp(),skipWhitespace(),consumeCueSettings(t,e)}function parseContent(c,u){function nextToken(){function consume(t){return u=u.substr(t.length),t}if(!u)return null;var t=u.match(/^([^<]*)(<[^>]+>?)?/);return consume(t[1]?t[1]:t[2])}function unescape1(t){return o[t]}function unescape(e){for(;t=e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)e=e.replace(t[0],unescape1);return e}function shouldAdd(s,t){return!e[t.localName]||e[t.localName]===s.localName}function createElement(s,o){var t=n[s];if(!t)return null;var e=c.document.createElement(t);e.localName=t;var i=r[s];return i&&o&&(e[i]=o.trim()),e}for(var h=c.document.createElement("div"),a=h,i,l=[];null!==(i=nextToken());){if("<"===i[0]){if("/"===i[1]){l.length&&l[l.length-1]===i.substr(2).replace(">","")&&(l.pop(),a=a.parentNode);continue}var p=parseTimeStamp(i.substr(1,i.length-2)),s;if(p){s=c.document.createProcessingInstruction("timestamp",p),a.appendChild(s);continue}var t=i.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!t)continue;if(s=createElement(t[1],t[3]),!s)continue;if(!shouldAdd(a,s))continue;t[2]&&(s.className=t[2].substr(1).replace("."," ")),l.push(t[1]),a.appendChild(s),a=s;continue}a.appendChild(c.document.createTextNode(unescape(i)))}return h}function determineBidi(t){function pushNodes(s,e){for(var t=e.childNodes.length-1;t>=0;t--)s.push(e.childNodes[t])}function nextTextNode(t){if(!t||!t.length)return null;var e=t.pop(),s=e.textContent||e.innerText;if(s){var o=s.match(/^.*(\n|\r)/);if(o)return t.length=0,o[0];return s}if("ruby"===e.tagName)return nextTextNode(t);if(e.childNodes)return pushNodes(t,e),nextTextNode(t)}var r=[],e="",i;if(!t||!t.childNodes)return"ltr";for(pushNodes(r,t);e=nextTextNode(r);)for(var o=0;o<e.length;o++){i=e.charCodeAt(o);for(var n=0;n<s.length;n++)if(s[n]===i)return"rtl"}return"ltr"}function computeLinePos(t){if("number"==typeof t.line&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var o=t.track,s=o.textTrackList,n=0,e=0;e<s.length&&s[e]!==o;e++)"showing"===s[e].mode&&n++;return-1*++n}function StyleBox(){}function CueStyleBox(n,t,a){var o=/MSIE\s8\.0/.test(navigator.userAgent),r="rgba(255, 255, 255, 1)",i="rgba(0, 0, 0, 0.8)";o&&(r="rgb(255, 255, 255)",i="rgb(0, 0, 0)"),StyleBox.call(this),this.cue=t,this.cueDiv=parseContent(n,t.text);var e={color:r,backgroundColor:i,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};o||(e.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",e.unicodeBidi="plaintext"),this.applyStyles(e,this.cueDiv),this.div=n.document.createElement("div"),e={textAlign:"middle"===t.align?"center":t.align,font:a.font,whiteSpace:"pre-line",position:"absolute"},o||(e.direction=determineBidi(this.cueDiv),e.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(e),this.div.appendChild(this.cueDiv);var s=0;switch(t.positionAlign){case"start":s=t.position;break;case"middle":s=t.position-t.size/2;break;case"end":s=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(s,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(s,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(t){this.applyStyles({top:this.formatStyle(t.top,"px"),bottom:this.formatStyle(t.bottom,"px"),left:this.formatStyle(t.left,"px"),right:this.formatStyle(t.right,"px"),height:this.formatStyle(t.height,"px"),width:this.formatStyle(t.width,"px")})}}function BoxPosition(t){var i=/MSIE\s8\.0/.test(navigator.userAgent),s,o,r,n;if(t.div){o=t.div.offsetHeight,r=t.div.offsetWidth,n=t.div.offsetTop;var e=(e=t.div.childNodes)&&(e=e[0])&&e.getClientRects&&e.getClientRects();t=t.div.getBoundingClientRect(),s=e?Math.max(e[0]&&e[0].height||0,t.height/e.length):0}this.left=t.left,this.right=t.right,this.top=t.top||n,this.height=t.height||o,this.bottom=t.bottom||n+(t.height||o),this.width=t.width||r,this.lineHeight=void 0!==s?s:t.lineHeight,i&&!this.lineHeight&&(this.lineHeight=13)}function moveBoxToLinePosition(d,t,e,h){function findBestPosition(t,o){for(var n,r=new BoxPosition(t),i=1,s=0;s<o.length;s++){for(;t.overlapsOppositeAxis(e,o[s])||t.within(e)&&t.overlapsAny(h);)t.move(o[s]);if(t.within(e))return t;var a=t.intersectPercentage(e);i>a&&(n=new BoxPosition(t),i=a),t=new BoxPosition(r)}return n||r}var i=new BoxPosition(t),n=t.cue,o=computeLinePos(n),s=[];if(n.snapToLines){var a;switch(n.vertical){case"":s=["+y","-y"],a="height";break;case"rl":s=["+x","-x"],a="width";break;case"lr":s=["-x","+x"],a="width"}var l=i.lineHeight,r=l*Math.round(o),c=e[a]+l,v=s[0];Math.abs(r)>c&&(r=0>r?-1:1,r*=Math.ceil(c/l)*l),0>o&&(r+=""===n.vertical?e.height:e.width,s=s.reverse()),i.move(v,r)}else{var u=i.lineHeight/e.height*100;switch(n.lineAlign){case"middle":o-=u/2;break;case"end":o-=u}switch(n.vertical){case"":t.applyStyles({top:t.formatStyle(o,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(o,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(o,"%")})}s=["+y","-x","+x","-y"],i=new BoxPosition(t)}var p=findBestPosition(i,s);t.move(p.toCSSCompatValues(e))}function WebVTT(){}var t=Object.create||function(){function F(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return F.prototype=t,new F}}();ParsingError.prototype=t(Error.prototype),ParsingError.prototype.constructor=ParsingError,ParsingError.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},Settings.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,s){if(s)return this.has(t)?this.values[t]:e[s];return this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(o,e,s){for(var t=0;t<s.length;++t)if(e===s[t]){this.set(o,e);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){var s;if((s=t.match(/^([\d]{1,3})(\.[\d]*)?%$/))&&(t=parseFloat(t),t>=0&&100>=t))return this.set(e,t),!0;return!1}};var o={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"","&rlm;":"","&nbsp;":""},n={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},r={v:"title",lang:"lang"},e={rt:"ruby"},s=[1470,1472,1475,1478,1488,1489,1490,1491,1492,1493,1494,1495,1496,1497,1498,1499,1500,1501,1502,1503,1504,1505,1506,1507,1508,1509,1510,1511,1512,1513,1514,1520,1521,1522,1523,1524,1544,1547,1549,1563,1566,1567,1568,1569,1570,1571,1572,1573,1574,1575,1576,1577,1578,1579,1580,1581,1582,1583,1584,1585,1586,1587,1588,1589,1590,1591,1592,1593,1594,1595,1596,1597,1598,1599,1600,1601,1602,1603,1604,1605,1606,1607,1608,1609,1610,1645,1646,1647,1649,1650,1651,1652,1653,1654,1655,1656,1657,1658,1659,1660,1661,1662,1663,1664,1665,1666,1667,1668,1669,1670,1671,1672,1673,1674,1675,1676,1677,1678,1679,1680,1681,1682,1683,1684,1685,1686,1687,1688,1689,1690,1691,1692,1693,1694,1695,1696,1697,1698,1699,1700,1701,1702,1703,1704,1705,1706,1707,1708,1709,1710,1711,1712,1713,1714,1715,1716,1717,1718,1719,1720,1721,1722,1723,1724,1725,1726,1727,1728,1729,1730,1731,1732,1733,1734,1735,1736,1737,1738,1739,1740,1741,1742,1743,1744,1745,1746,1747,1748,1749,1765,1766,1774,1775,1786,1787,1788,1789,1790,1791,1792,1793,1794,1795,1796,1797,1798,1799,1800,1801,1802,1803,1804,1805,1807,1808,1810,1811,1812,1813,1814,1815,1816,1817,1818,1819,1820,1821,1822,1823,1824,1825,1826,1827,1828,1829,1830,1831,1832,1833,1834,1835,1836,1837,1838,1839,1869,1870,1871,1872,1873,1874,1875,1876,1877,1878,1879,1880,1881,1882,1883,1884,1885,1886,1887,1888,1889,1890,1891,1892,1893,1894,1895,1896,1897,1898,1899,1900,1901,1902,1903,1904,1905,1906,1907,1908,1909,1910,1911,1912,1913,1914,1915,1916,1917,1918,1919,1920,1921,1922,1923,1924,1925,1926,1927,1928,1929,1930,1931,1932,1933,1934,1935,1936,1937,1938,1939,1940,1941,1942,1943,1944,1945,1946,1947,1948,1949,1950,1951,1952,1953,1954,1955,1956,1957,1969,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025,2026,2036,2037,2042,2048,2049,2050,2051,2052,2053,2054,2055,2056,2057,2058,2059,2060,2061,2062,2063,2064,2065,2066,2067,2068,2069,2074,2084,2088,2096,2097,2098,2099,2100,2101,2102,2103,2104,2105,2106,2107,2108,2109,2110,2112,2113,2114,2115,2116,2117,2118,2119,2120,2121,2122,2123,2124,2125,2126,2127,2128,2129,2130,2131,2132,2133,2134,2135,2136,2142,2208,2210,2211,2212,2213,2214,2215,2216,2217,2218,2219,2220,8207,64285,64287,64288,64289,64290,64291,64292,64293,64294,64295,64296,64298,64299,64300,64301,64302,64303,64304,64305,64306,64307,64308,64309,64310,64312,64313,64314,64315,64316,64318,64320,64321,64323,64324,64326,64327,64328,64329,64330,64331,64332,64333,64334,64335,64336,64337,64338,64339,64340,64341,64342,64343,64344,64345,64346,64347,64348,64349,64350,64351,64352,64353,64354,64355,64356,64357,64358,64359,64360,64361,64362,64363,64364,64365,64366,64367,64368,64369,64370,64371,64372,64373,64374,64375,64376,64377,64378,64379,64380,64381,64382,64383,64384,64385,64386,64387,64388,64389,64390,64391,64392,64393,64394,64395,64396,64397,64398,64399,64400,64401,64402,64403,64404,64405,64406,64407,64408,64409,64410,64411,64412,64413,64414,64415,64416,64417,64418,64419,64420,64421,64422,64423,64424,64425,64426,64427,64428,64429,64430,64431,64432,64433,64434,64435,64436,64437,64438,64439,64440,64441,64442,64443,64444,64445,64446,64447,64448,64449,64467,64468,64469,64470,64471,64472,64473,64474,64475,64476,64477,64478,64479,64480,64481,64482,64483,64484,64485,64486,64487,64488,64489,64490,64491,64492,64493,64494,64495,64496,64497,64498,64499,64500,64501,64502,64503,64504,64505,64506,64507,64508,64509,64510,64511,64512,64513,64514,64515,64516,64517,64518,64519,64520,64521,64522,64523,64524,64525,64526,64527,64528,64529,64530,64531,64532,64533,64534,64535,64536,64537,64538,64539,64540,64541,64542,64543,64544,64545,64546,64547,64548,64549,64550,64551,64552,64553,64554,64555,64556,64557,64558,64559,64560,64561,64562,64563,64564,64565,64566,64567,64568,64569,64570,64571,64572,64573,64574,64575,64576,64577,64578,64579,64580,64581,64582,64583,64584,64585,64586,64587,64588,64589,64590,64591,64592,64593,64594,64595,64596,64597,64598,64599,64600,64601,64602,64603,64604,64605,64606,64607,64608,64609,64610,64611,64612,64613,64614,64615,64616,64617,64618,64619,64620,64621,64622,64623,64624,64625,64626,64627,64628,64629,64630,64631,64632,64633,64634,64635,64636,64637,64638,64639,64640,64641,64642,64643,64644,64645,64646,64647,64648,64649,64650,64651,64652,64653,64654,64655,64656,64657,64658,64659,64660,64661,64662,64663,64664,64665,64666,64667,64668,64669,64670,64671,64672,64673,64674,64675,64676,64677,64678,64679,64680,64681,64682,64683,64684,64685,64686,64687,64688,64689,64690,64691,64692,64693,64694,64695,64696,64697,64698,64699,64700,64701,64702,64703,64704,64705,64706,64707,64708,64709,64710,64711,64712,64713,64714,64715,64716,64717,64718,64719,64720,64721,64722,64723,64724,64725,64726,64727,64728,64729,64730,64731,64732,64733,64734,64735,64736,64737,64738,64739,64740,64741,64742,64743,64744,64745,64746,64747,64748,64749,64750,64751,64752,64753,64754,64755,64756,64757,64758,64759,64760,64761,64762,64763,64764,64765,64766,64767,64768,64769,64770,64771,64772,64773,64774,64775,64776,64777,64778,64779,64780,64781,64782,64783,64784,64785,64786,64787,64788,64789,64790,64791,64792,64793,64794,64795,64796,64797,64798,64799,64800,64801,64802,64803,64804,64805,64806,64807,64808,64809,64810,64811,64812,64813,64814,64815,64816,64817,64818,64819,64820,64821,64822,64823,64824,64825,64826,64827,64828,64829,64848,64849,64850,64851,64852,64853,64854,64855,64856,64857,64858,64859,64860,64861,64862,64863,64864,64865,64866,64867,64868,64869,64870,64871,64872,64873,64874,64875,64876,64877,64878,64879,64880,64881,64882,64883,64884,64885,64886,64887,64888,64889,64890,64891,64892,64893,64894,64895,64896,64897,64898,64899,64900,64901,64902,64903,64904,64905,64906,64907,64908,64909,64910,64911,64914,64915,64916,64917,64918,64919,64920,64921,64922,64923,64924,64925,64926,64927,64928,64929,64930,64931,64932,64933,64934,64935,64936,64937,64938,64939,64940,64941,64942,64943,64944,64945,64946,64947,64948,64949,64950,64951,64952,64953,64954,64955,64956,64957,64958,64959,64960,64961,64962,64963,64964,64965,64966,64967,65008,65009,65010,65011,65012,65013,65014,65015,65016,65017,65018,65019,65020,65136,65137,65138,65139,65140,65142,65143,65144,65145,65146,65147,65148,65149,65150,65151,65152,65153,65154,65155,65156,65157,65158,65159,65160,65161,65162,65163,65164,65165,65166,65167,65168,65169,65170,65171,65172,65173,65174,65175,65176,65177,65178,65179,65180,65181,65182,65183,65184,65185,65186,65187,65188,65189,65190,65191,65192,65193,65194,65195,65196,65197,65198,65199,65200,65201,65202,65203,65204,65205,65206,65207,65208,65209,65210,65211,65212,65213,65214,65215,65216,65217,65218,65219,65220,65221,65222,65223,65224,65225,65226,65227,65228,65229,65230,65231,65232,65233,65234,65235,65236,65237,65238,65239,65240,65241,65242,65243,65244,65245,65246,65247,65248,65249,65250,65251,65252,65253,65254,65255,65256,65257,65258,65259,65260,65261,65262,65263,65264,65265,65266,65267,65268,65269,65270,65271,65272,65273,65274,65275,65276,67584,67585,67586,67587,67588,67589,67592,67594,67595,67596,67597,67598,67599,67600,67601,67602,67603,67604,67605,67606,67607,67608,67609,67610,67611,67612,67613,67614,67615,67616,67617,67618,67619,67620,67621,67622,67623,67624,67625,67626,67627,67628,67629,67630,67631,67632,67633,67634,67635,67636,67637,67639,67640,67644,67647,67648,67649,67650,67651,67652,67653,67654,67655,67656,67657,67658,67659,67660,67661,67662,67663,67664,67665,67666,67667,67668,67669,67671,67672,67673,67674,67675,67676,67677,67678,67679,67840,67841,67842,67843,67844,67845,67846,67847,67848,67849,67850,67851,67852,67853,67854,67855,67856,67857,67858,67859,67860,67861,67862,67863,67864,67865,67866,67867,67872,67873,67874,67875,67876,67877,67878,67879,67880,67881,67882,67883,67884,67885,67886,67887,67888,67889,67890,67891,67892,67893,67894,67895,67896,67897,67903,67968,67969,67970,67971,67972,67973,67974,67975,67976,67977,67978,67979,67980,67981,67982,67983,67984,67985,67986,67987,67988,67989,67990,67991,67992,67993,67994,67995,67996,67997,67998,67999,68e3,68001,68002,68003,68004,68005,68006,68007,68008,68009,68010,68011,68012,68013,68014,68015,68016,68017,68018,68019,68020,68021,68022,68023,68030,68031,68096,68112,68113,68114,68115,68117,68118,68119,68121,68122,68123,68124,68125,68126,68127,68128,68129,68130,68131,68132,68133,68134,68135,68136,68137,68138,68139,68140,68141,68142,68143,68144,68145,68146,68147,68160,68161,68162,68163,68164,68165,68166,68167,68176,68177,68178,68179,68180,68181,68182,68183,68184,68192,68193,68194,68195,68196,68197,68198,68199,68200,68201,68202,68203,68204,68205,68206,68207,68208,68209,68210,68211,68212,68213,68214,68215,68216,68217,68218,68219,68220,68221,68222,68223,68352,68353,68354,68355,68356,68357,68358,68359,68360,68361,68362,68363,68364,68365,68366,68367,68368,68369,68370,68371,68372,68373,68374,68375,68376,68377,68378,68379,68380,68381,68382,68383,68384,68385,68386,68387,68388,68389,68390,68391,68392,68393,68394,68395,68396,68397,68398,68399,68400,68401,68402,68403,68404,68405,68416,68417,68418,68419,68420,68421,68422,68423,68424,68425,68426,68427,68428,68429,68430,68431,68432,68433,68434,68435,68436,68437,68440,68441,68442,68443,68444,68445,68446,68447,68448,68449,68450,68451,68452,68453,68454,68455,68456,68457,68458,68459,68460,68461,68462,68463,68464,68465,68466,68472,68473,68474,68475,68476,68477,68478,68479,68608,68609,68610,68611,68612,68613,68614,68615,68616,68617,68618,68619,68620,68621,68622,68623,68624,68625,68626,68627,68628,68629,68630,68631,68632,68633,68634,68635,68636,68637,68638,68639,68640,68641,68642,68643,68644,68645,68646,68647,68648,68649,68650,68651,68652,68653,68654,68655,68656,68657,68658,68659,68660,68661,68662,68663,68664,68665,68666,68667,68668,68669,68670,68671,68672,68673,68674,68675,68676,68677,68678,68679,68680,126464,126465,126466,126467,126469,126470,126471,126472,126473,126474,126475,126476,126477,126478,126479,126480,126481,126482,126483,126484,126485,126486,126487,126488,126489,126490,126491,126492,126493,126494,126495,126497,126498,126500,126503,126505,126506,126507,126508,126509,126510,126511,126512,126513,126514,126516,126517,126518,126519,126521,126523,126530,126535,126537,126539,126541,126542,126543,126545,126546,126548,126551,126553,126555,126557,126559,126561,126562,126564,126567,126568,126569,126570,126572,126573,126574,126575,126576,126577,126578,126580,126581,126582,126583,126585,126586,126587,126588,126590,126592,126593,126594,126595,126596,126597,126598,126599,126600,126601,126603,126604,126605,126606,126607,126608,126609,126610,126611,126612,126613,126614,126615,126616,126617,126618,126619,126625,126626,126627,126629,126630,126631,126632,126633,126635,126636,126637,126638,126639,126640,126641,126642,126643,126644,126645,126646,126647,126648,126649,126650,126651,1114109];
StyleBox.prototype.applyStyles=function(t,e){e=e||this.div;for(var s in t)t.hasOwnProperty(s)&&(e.style[s]=t[s])},StyleBox.prototype.formatStyle=function(t,e){return 0===t?0:t+e},CueStyleBox.prototype=t(StyleBox.prototype),CueStyleBox.prototype.constructor=CueStyleBox,BoxPosition.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},BoxPosition.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top},BoxPosition.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},BoxPosition.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right},BoxPosition.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}},BoxPosition.prototype.intersectPercentage=function(t){var e=Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left)),s=Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top)),o=e*s;return o/(this.height*this.width)},BoxPosition.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}},BoxPosition.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,o=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,s=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t;var n={left:t.left,right:t.right,top:t.top||s,height:t.height||e,bottom:t.bottom||s+(t.height||e),width:t.width||o};return n},WebVTT.StringDecoder=function(){return{decode:function(t){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}},WebVTT.convertCueToDOMTree=function(t,e){if(!t||!e)return null;return parseContent(t,e)};var a=.05,l="sans-serif",c="1.5%";WebVTT.processCues=function(o,e,s){function shouldCompute(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}if(!o||!e||!s)return null;for(;s.firstChild;)s.removeChild(s.firstChild);var t=o.document.createElement("div");if(t.style.position="absolute",t.style.left="0",t.style.right="0",t.style.top="0",t.style.bottom="0",t.style.margin=c,s.appendChild(t),!shouldCompute(e)){for(var n=0;n<e.length;n++)t.appendChild(e[n].displayState);return}var r=[],i=BoxPosition.getSimpleBoxPosition(t),u=Math.round(i.height*a*100)/100,p={font:u+"px "+l};!function(){for(var s,n,a=0;a<e.length;a++)n=e[a],s=new CueStyleBox(o,n,p),t.appendChild(s.div),moveBoxToLinePosition(o,s,i,r),n.displayState=s.div,r.push(BoxPosition.getSimpleBoxPosition(s))}()},WebVTT.Parser=function(s,t,e){e||(e=t,t={}),t||(t={}),this.window=s,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=e||new TextDecoder("utf8"),this.regionList=[]},WebVTT.Parser.prototype={reportOrThrowError:function(t){if(!(t instanceof ParsingError))throw t;this.onparsingerror&&this.onparsingerror(t)},parse:function(o){function collectNextLine(){for(var s=t.buffer,e=0;e<s.length&&"\r"!==s[e]&&"\n"!==s[e];)++e;var o=s.substr(0,e);return"\r"===s[e]&&++e,"\n"===s[e]&&++e,t.buffer=s.substr(e),o}function parseRegion(o){var e=new Settings;if(parseOptions(o,function(t,o){switch(t){case"id":e.set(t,o);break;case"width":e.percent(t,o);break;case"lines":e.integer(t,o);break;case"regionanchor":case"viewportanchor":var n=o.split(",");if(2!==n.length)break;var s=new Settings;if(s.percent("x",n[0]),s.percent("y",n[1]),!s.has("x")||!s.has("y"))break;e.set(t+"X",s.get("x")),e.set(t+"Y",s.get("y"));break;case"scroll":e.alt(t,o,["up"])}},/=/,/\s/),e.has("id")){var s=new(t.vttjs.VTTRegion||t.window.VTTRegion);s.width=e.get("width",100),s.lines=e.get("lines",3),s.regionAnchorX=e.get("regionanchorX",0),s.regionAnchorY=e.get("regionanchorY",100),s.viewportAnchorX=e.get("viewportanchorX",0),s.viewportAnchorY=e.get("viewportanchorY",100),s.scroll=e.get("scroll",""),t.onregion&&t.onregion(s),t.regionList.push({id:e.get("id"),region:s})}}function parseHeader(t){parseOptions(t,function(t,e){switch(t){case"Region":parseRegion(e)}},/:/)}var t=this;o&&(t.buffer+=t.decoder.decode(o,{stream:!0}));try{var e;if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;e=collectNextLine();var n=e.match(/^WEBVTT([ \t].*)?$/);if(!n||!n[0])throw new ParsingError(ParsingError.Errors.BadSignature);t.state="HEADER"}for(var s=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(s?s=!1:e=collectNextLine(),t.state){case"HEADER":/:/.test(e)?parseHeader(e):e||(t.state="ID");continue;case"NOTE":e||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(e)){t.state="NOTE";break}if(!e)continue;if(t.cue=new(t.vttjs.VTTCue||t.window.VTTCue)(0,0,""),t.state="CUE",-1===e.indexOf("-->")){t.cue.id=e;continue}case"CUE":try{parseCue(e,t.cue,t.regionList)}catch(r){t.reportOrThrowError(r),t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var i=-1!==e.indexOf("-->");if(!e||i&&(s=!0)){t.oncue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}t.cue.text&&(t.cue.text+="\n"),t.cue.text+=e;continue;case"BADCUE":e||(t.state="ID");continue}}}catch(r){t.reportOrThrowError(r),"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||"HEADER"===t.state)&&(t.buffer+="\n\n",t.parse()),"INITIAL"===t.state)throw new ParsingError(ParsingError.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}},i.WebVTT=WebVTT}(this,this.vttjs||{});
define("bundles/videojs/layout/nls/controls",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

!function(e){var t=function(e,t,s){var n=function template(o){var s=[],c={},n,l=o||{};return function(t,l,o,a,i){c["c-videojs-control"]=function(l,c,o){var i=this&&this.block,a=this&&this.attributes||{};s.push("<div"+e.attr("data-js",a["data-js"],!0,!1)+' tabindex="0"'+e.cls(["c-video-control","vjs-control",l],[null,null,!0])+'><div class="c-video-control-btn vjs-control-content"><span class="vjs-control-text">'+e.escape(null==(n=t(o||""))?"":n)+'</span><em data-js="video-control-icon"'+e.cls(["cif-lg","cif-fw",c],[null,null,!0])+"></em></div></div>")};var u=t("Fullscreen"),d=t("Subtitles"),r=t("Download"),v=t("Cast"),b=t("Settings");switch(l){case"fullscreenToggle":c["c-videojs-control"]("c-fullscreen-control bt3-pull-right","cif-expand",u);break;case"downloadMenuButton":s.push('<div class="c-download-control-container"><div tabindex="0" data-js="download-control" class="c-video-control vjs-control vjs-menu-button c-download-control"><div class="c-video-control-btn vjs-control-content"><a data-js="download-trigger download-icon" download="lecture.mp4"><span class="vjs-control-text">'+e.escape(null==(n=t(r))?"":n)+'</span><i data-js="video-control-icon" class="cif-lg cif-fw cif-download"></i></a></div></div></div>');break;case"volumeMenuButton":c["c-videojs-control"].call({attributes:{"data-js":"video-mute-control"}},"c-volume-menu-button vjs-menu-button","cif-volume-up c-volume-icon","Volume");break;case"playToggle":c["c-videojs-control"].call({attributes:{"data-js":"c-play-control"}},"c-play-control","cif-play");break;case"settingsMenuButton":c["c-videojs-control"].call({attributes:{"data-js":"settings-menu-button"}},"c-settings-control vjs-menu-button","cif-cog",b);break;case"countdown":s.push('<div class="vjs-control c-countdown"><span class="c-countdown-text"><em class="cif-spin cif-refresh"></em></span></div>');break;case"circleSliderHandle":s.push("<div"+e.cls(["c-slider-handle",o],[null,!0])+"></div>");break;case"circleSeekHandleText":s.push('<i class="cif-circle c-seek-handle-circle"></i><span class="vjs-control-text">'+e.escape(null==(n=t(a))?"":n)+"</span>");break;case"subtitlesMenuButton":c["c-videojs-control"]("c-subtitles-control vjs-menu-button bt3-pull-right","cif-captions",d);break;case"subtitlesMenuItem":s.push('<em class="cif-lg cif-fw c-subtitles-menu-item-selected-icon"></em><span data-js="c-subtitles-menu-item-label" class="c-subtitles-menu-item-label caption-text">'+e.escape(null==(n=t(i))?"":n)+"</span>");break;case"subtitlesOffLabel":s.push(""+e.escape(null==(n=t("Subtitles Off"))?"":n));break;case"subtitlesMenuTitle":s.push('<h3 class="vjs-menu-title headline-1-text menu-section-title">'+e.escape(null==(n=t("Subtitles"))?"":n)+"</h3>");break;case"menuDivider":s.push('<div class="c-menu-divider"></div>');break;case"chromecastButton":c["c-videojs-control"]("c-chromecast-control bt3-pull-right","icon-cast",v)}}.call(this,"_t"in l?l._t:"undefined"!=typeof t?t:void 0,"controlName"in l?l.controlName:"undefined"!=typeof controlName?controlName:void 0,"classes"in l?l.classes:"undefined"!=typeof classes?classes:void 0,"time"in l?l.time:"undefined"!=typeof time?time:void 0,"label"in l?l.label:"undefined"!=typeof label?label:void 0),s.join("")};return function(e){return e&&"_t"in e&&(t=e._t.merge(t)),n(e)}};"function"==typeof define&&define.amd?define('bundles/videojs/layout/controls.html',["js/vendor/jade","i18n!bundles/videojs/layout/nls/controls"],function(e,n){var s;return t(e,n,s)}):e.jade.templates["bundles.videojs.layout.controls"]=t(e.jade.helpers)}(window);

define('css!bundles/phoenix/styl/audioPlayer',[],function(){})
define("bundles/videojs/plugins/countdownDisplay",["require","exports","module","videojs"],function(require,exports,module){var t=require("videojs");t.CountdownDisplay=t.Component.extend({init:function init(n,e){t.Component.call(this,n,e),this.on(n,"timeupdate",this.updateContent),this.on(n,"durationchange",this.updateContent)}}),t.CountdownDisplay.prototype.createEl=function(){var n=t.Component.prototype.createEl.call(this,"div",{className:"vjs-countdown-time vjs-time-controls vjs-control"});return this.contentEl_=t.createEl("div",{className:"vjs-countdown-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span><em class="cif-spin cif-refresh"></em>',"aria-live":"off"}),n.appendChild(this.contentEl_),n},t.CountdownDisplay.prototype.updateContent=function(){this.contentEl_.innerHTML='<span class="vjs-control-text">'+this.localize("Time Left")+"</span> "+t.formatTime(this.player_.duration()-this.player_.currentTime(),this.player_.duration())}});
define("bundles/videojs/plugins/circleSliderHandle",["require","exports","module","bundles/videojs/layout/controls.html","videojs","jquery"],function(require,exports,module){var r=require("bundles/videojs/layout/controls.html"),e=require("videojs"),$=require("jquery");e.CircleSliderHandle=e.SeekHandle.extend(),e.CircleSliderHandle.prototype.updateContent=function(){var i=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.innerHTML=r({controlName:"circleSeekHandleText",time:e.formatTime(i,this.player_.duration())})}});
define("bundles/phoenix/components/AudioJS",["require","exports","module","react-with-addons","videojs","bundles/videojs/layout/controls.html","jquery","underscore","css!bundles/phoenix/styl/audioPlayer","bundles/videojs/plugins/countdownDisplay","bundles/videojs/plugins/circleSliderHandle"],function(require,exports,module){var l=require("react-with-addons"),n=require("videojs"),e=require("bundles/videojs/layout/controls.html"),$=require("jquery"),_=require("underscore");require("css!bundles/phoenix/styl/audioPlayer"),require("bundles/videojs/plugins/countdownDisplay"),require("bundles/videojs/plugins/circleSliderHandle"),module.exports=l.createClass({displayName:"exports",attachAudioListeners:function attachAudioListeners(e){e.on("play",function(){$(e.controlBar.childNameIndex_.playToggle.el_).find(".cif-play").removeClass("cif-play").addClass("cif-pause"),$(e.el_).focus()}),e.on("pause",function(){$(e.controlBar.childNameIndex_.playToggle.el_).find(".cif-pause").removeClass("cif-pause").addClass("cif-play")})},componentDidMount:function componentDidMount(){var s=this,o=this.getDOMNode(),l=$(o).find("audio");l.addClass("vjs-coursera-phoenix-audio-skin").attr({preload:"metadata"}),_(l).map(function(l){var o={width:"100%",height:"28px",textTrackDisplay:{},bigPlayButton:!1,circlePlayButton:{},controlBar:{children:_.union([{name:"playToggle",el:$(e({controlName:"playToggle"}))[0]},{name:"progressControl",children:{seekBar:{handleName:"circleSliderHandle",children:{seekHandle:!1,circleSliderHandle:{el:$(e({controlName:"circleSliderHandle",classes:"vjs-seek-handle"}))[0]}}}}},"CountdownDisplay"])}},a=n(l,o);s.attachAudioListeners(a)})},render:function render(){return this.props.children}})});
define("bundles/phoenix/components/Tex",["require","exports","module","react-with-addons","js/lib/coursera.mathjax"],function(require,exports,module){var e=require("react-with-addons"),t=require("js/lib/coursera.mathjax");module.exports=e.createClass({displayName:"exports",componentDidMount:function componentDidMount(){t.render(this.getDOMNode())},componentDidUpdate:function componentDidUpdate(){t.render(this.getDOMNode())},render:function render(){var t=this.props.children;return e.isValidElement(t)?t:e.createElement("span",null,t)}})});

define('css!bundles/phoenix/components/__styles__/CMLPreview',[],function(){})
define("bundles/phoenix/components/CMLPreview",["require","exports","module","react-with-addons","bundles/CMLConverter/CMLToHTMLConverter","bundles/phoenix/components/AudioJS","bundles/phoenix/components/Tex","classnames","css!bundles/phoenix/components/__styles__/CMLPreview"],function(require,exports,module){var e=require("react-with-addons"),s=require("bundles/CMLConverter/CMLToHTMLConverter"),t=require("bundles/phoenix/components/AudioJS"),n=require("bundles/phoenix/components/Tex"),o=require("classnames");require("css!bundles/phoenix/components/__styles__/CMLPreview");var i=e.createClass({displayName:"CMLPreview",propTypes:{cml:e.PropTypes.object.isRequired,variableData:e.PropTypes.object,linkEventingData:e.PropTypes.object,shouldRenderMath:e.PropTypes.bool,shouldRenderAudio:e.PropTypes.bool,shouldApplyStyles:e.PropTypes.bool,className:e.PropTypes.string},getDefaultProps:function getDefaultProps(){return{shouldRenderMath:!0,shouldRenderAudio:!0,shouldApplyStyles:!0}},getInitialState:function getInitialState(){return{assetsAvaliable:!1,eventedLinksAvailable:!1}},componentWillMount:function componentWillMount(){this.converter=new s,this.props.linkEventingData&&this.converter.setupLinkEventing(this.props.linkEventingData),this.props.variableData&&this.converter.setupSubstituteVariables(this.props.variableData),this.converter.on("assetsAvailable",function(e){this.setState({assetsAvailable:!0})}.bind(this)),this.converter.on("eventedLinksAvailable",function(e){this.setState({eventedLinksAvailable:!0})}.bind(this))},render:function render(){var r=o("rc-CMLPreview",this.props.className,{"with-styles":this.props.shouldApplyStyles}),i="";try{i=this.converter.toHTML(this.props.cml.definition.value)}catch(l){i=""}var s=e.createElement("div",{className:r,dangerouslySetInnerHTML:{__html:i}});return this.props.shouldRenderMath&&(s=e.createElement(n,null,s)),this.props.shouldRenderAudio&&(s=e.createElement(t,null,s)),s}});module.exports=i});
define("pages/open-course/common/models/memberships",["require","exports","module","backbone","pages/open-course/common/models/membership"],function(require,exports,module){var Backbone=require("backbone"),e=require("pages/open-course/common/models/membership"),o=Backbone.Collection.extend({model:e,getEnrolled:function getEnrolled(){return this.filter(function(o){return o.get("courseRole")!==e.NOT_ENROLLED})}});module.exports=o});
define("pages/open-course/common/data/membershipsData",["require","exports","module","q","jsuri","pages/open-course/common/membershipApi"],function(require,exports,module){var e=require("q"),r=require("jsuri"),o=require("pages/open-course/common/membershipApi");module.exports=function(s){var a=(new r).addQueryParam("q","findByUser").addQueryParam("userId",s);return e(o.get(a.toString()))}});
define("pages/open-course/common/promises/memberships",["require","exports","module","pages/open-course/common/models/memberships","pages/open-course/common/data/membershipsData"],function(require,exports,module){var e=require("pages/open-course/common/models/memberships"),o=require("pages/open-course/common/data/membershipsData");module.exports=function(m,n){var s=o(m).then(function(o){return new e(o.elements)});return s.done(),s}});
define("pages/open-course/common/promises/courseAuthorization",["require","exports","module","q","underscore","bundles/phoenix/template/models/userAuthorization","bundles/phoenix/template/models/userIdentity","pages/open-course/common/promises/memberships","pages/open-course/common/singletons/course"],function(require,exports,module){var e=require("q"),_=require("underscore"),n=require("bundles/phoenix/template/models/userAuthorization"),o=require("bundles/phoenix/template/models/userIdentity"),r=require("pages/open-course/common/promises/memberships"),s=require("pages/open-course/common/singletons/course"),t=function getCourseAuthoriationPromise(){if(!n.get("authenticated"))return e({canTeach:!1,canModerate:!1});if(n.get("is_superuser"))return e({canTeach:!0,canModerate:!0});return s.then(function(e){var n=o.get("id"),r=e.get("id");return[n,r]}).spread(function(e,n){return[n,r(e)]}).spread(function(o,r){var s=r.getEnrolled(),e=_.find(s,function(e){return e.get("courseId")===o}),n={canTeach:!1,canModerate:!1};return e&&(e.hasTeachingRole()&&(n.canTeach=!0),e.hasModerationRole()&&(n.canModerate=!0)),n})};module.exports=t()});
define("bundles/payments/api/carts",["require","exports","module","bundles/phoenix/lib/apiWrapper"],function(require,exports,module){var e=require("bundles/phoenix/lib/apiWrapper");module.exports=e("/api/carts.v2",{type:"rest"})});
define("bundles/payments/data/createCart",["require","exports","module","bundles/payments/api/carts","q"],function(require,exports,module){var e=require("bundles/payments/api/carts"),t=require("q");module.exports=function(a){return t(e.post("",{data:a}))}});
function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(i,t){for(var n=0;n<t.length;n++){var e=t[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(i,e.key,e)}}return function(e,n,t){return n&&defineProperties(e.prototype,n),t&&defineProperties(e,t),e}}();define("bundles/payments/models/cart/auxiliaryInfoItem",["require","exports","module"],function(require,exports,module){var e=function(){function AuxiliaryInfoItem(e){var t=e.typeName,i=e.definition,n=e.providesContinueLink,r=void 0===n?!1:n;_classCallCheck(this,AuxiliaryInfoItem),this.typeName=t,this.definition=i,this.providesContinueLink=r}return _createClass(AuxiliaryInfoItem,[{key:"getContinueInfo",value:function getContinueInfo(){return void 0}},{key:"toJSON",value:function toJSON(){var e=-1===["object","array","string","number"].indexOf(typeof this.definition);return{typeName:this.typeName,definition:e?this.definition.toJSON():this.definition}}}]),AuxiliaryInfoItem}();module.exports=e});
function _defaults(e,o){for(var i=Object.getOwnPropertyNames(o),t=0;t<i.length;t++){var r=i[t],n=Object.getOwnPropertyDescriptor(o,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var _createClass=function(){function defineProperties(n,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),_get=function get(i,c,s){var o=!0;e:for(;o;){var t=i,u=c,a=s;e=r=n=void 0,o=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,u);if(void 0===e){var r=Object.getPrototypeOf(t);if(null===r)return void 0;i=r,c=u,s=a,o=!0;continue e}if("value"in e)return e.value;var n=e.get;if(void 0===n)return void 0;return n.call(a)}};define("bundles/payments/models/cart/courseEnrollInfoItem",["require","exports","module","bundles/payments/models/cart/auxiliaryInfoItem"],function(require,exports,module){var e=require("bundles/payments/models/cart/auxiliaryInfoItem"),t=function(e){function CourseEnrollInfoItem(e){_classCallCheck(this,CourseEnrollInfoItem),_get(Object.getPrototypeOf(CourseEnrollInfoItem.prototype),"constructor",this).call(this,e),this.typeName=this.typeName?this.typeName:"enrollCourse",this.providesContinueInfo=!0}return _inherits(CourseEnrollInfoItem,e),_createClass(CourseEnrollInfoItem,[{key:"getContinueInfo",value:function getContinueInfo(e){if(!e)throw new Error("CourseEnrollInfoItem requires a cart.");var t=e.get("items").toArray().filter(function(e){return e.isVC()});if(0===t.length)throw new Error("Invalid CourseEnrollInfoItem no course purchases found as part of cart #"+e.get("id"));return this.getContinueInfoFromVCItems(t)}},{key:"getContinueInfoFromVCItems",value:function getContinueInfoFromVCItems(t){var r=this,e=t.find(function(e){return e.get("productItemId")===r.definition.courseId});return{link:e.getLink(),title:e.getName(),description:e.getDescription()}}}]),CourseEnrollInfoItem}(e);module.exports=t});
define("bundles/payments/models/cart/auxiliaryInfoItemFactory",["require","exports","module","bundles/payments/models/cart/courseEnrollInfoItem"],function(require,exports,module){var e=require("bundles/payments/models/cart/courseEnrollInfoItem"),t={construct:function construct(t){switch(t.typeName){case"enrollCourse":return new e(t);default:throw new Error(t.typeName+" is an invalid typename")}}};module.exports=t});
function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(r,t){for(var n=0;n<t.length;n++){var e=t[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(r,e.key,e)}}return function(e,n,t){return n&&defineProperties(e.prototype,n),t&&defineProperties(e,t),e}}();define("bundles/payments/models/cart/auxiliaryInfo",["require","exports","module","bundles/payments/models/cart/auxiliaryInfoItemFactory"],function(require,exports,module){var e=require("bundles/payments/models/cart/auxiliaryInfoItemFactory"),n=function(){function AuxiliaryInfo(n){_classCallCheck(this,AuxiliaryInfo),this.items=n.map(function(n){return e.construct(n)})}return _createClass(AuxiliaryInfo,[{key:"getItems",value:function getItems(){return this.items}},{key:"getContinueInfo",value:function getContinueInfo(e){return this.computeContinueInfo(this.items,e)}},{key:"computeContinueInfo",value:function computeContinueInfo(e,n){return e.reduce(function(t,e){return t||e.providesContinueInfo&&e.getContinueInfo(n)},null)}},{key:"toJSON",value:function toJSON(){return this.items.map(function(e){return e.toJSON()})}}]),AuxiliaryInfo}();module.exports=n});
define("bundles/payments/models/cartItem",["require","exports","module","backbone-associations","bundles/payments/constants","i18n!js/json/nls/topics","i18n!js/json/nls/specializations","i18n!nls/payments"],function(require,exports,module){var Backbone=require("backbone-associations"),t=require("bundles/payments/constants").ProductType,n=require("i18n!js/json/nls/topics"),i=require("i18n!js/json/nls/specializations"),e=require("i18n!nls/payments");e=e.merge(n,i);var o=Backbone.AssociatedModel.extend({relations:[{type:Backbone.One,key:"parentCartItem",relatedModel:Backbone.Self}],defaults:{amount:null,productAction:null,productItemId:null,productType:null,parentCartItemId:null,parentCartItem:null,promotionInfo:null},isSpecialization:function isSpecialization(){return this.get("productType")===t.SPECIALIZATION||this.get("productType")===t.SPARK_SPECIALIZATION},isSparkSpecialization:function isSparkSpecialization(){return this.get("productType")===t.SPARK_SPECIALIZATION},isVC:function isVC(){return this.isPhoenixVC()||this.isSparkVC()},isPhoenixVC:function isPhoenixVC(){return this.get("productType")===t.VERIFIED_CERTIFICATE},isSparkVC:function isSparkVC(){return this.get("productType")===t.SPARK_VERIFIED_CERTIFICATE},getParentItem:function getParentItem(){return this.get("parentCartItem")},getChildItems:function getChildItems(){return this.collection?this.collection.filter(function(t){return t.get("parentCartItemId")===this.get("id")}.bind(this)):null},getProductType:function getProductType(){return this.get("productType")},getItemTypeString:function getItemTypeString(){return e(this.isVC()?"Course Certificate":"Specialization")},getDiscountPercent:function getDiscountPercent(){return this.get("promotionInfo")&&this.get("promotionInfo").discountPercent},getDiscountAmount:function getDiscountAmount(){return this.get("promotionInfo")&&this.get("promotionInfo").discountAmount},getImage:function getImage(){if(this.isSpecialization())return this.get("metadata.logo");if(this.isVC())return this.get("metadata.photoUrl")},getName:function getName(){return e(this.get("metadata.name"))},getDescription:function getDescription(){if(this.isSpecialization()){var t=this.getChildItems().length-1;return e("#{numCourses} courses + 1 Capstone Project",{numCourses:t})}if(this.isVC())return this.get("metadata.workload")},getRefundDeadline:function getRefundDeadline(){return this.get("refundDeadline")},getLink:function getLink(){return this.get("metadata").getLink()}});module.exports=o});
define("bundles/payments/models/cartItems",["require","exports","module","backbone-associations","bundles/payments/models/cartItem"],function(require,exports,module){var Backbone=require("backbone-associations"),e=require("bundles/payments/models/cartItem"),s=Backbone.Collection.extend({model:e});module.exports=s});
define("bundles/catalogP/data/courses",["require","exports","module","memoize!bundles/catalogP/api/api.promise","bundles/catalogP/lib/catalogUrl","bundles/catalogP/models/course"],function(require,exports,module){var e=require("memoize!bundles/catalogP/api/api.promise"),a=require("bundles/catalogP/lib/catalogUrl"),o=require("bundles/catalogP/models/course");module.exports=function(l,s){return e(a.build(o.prototype.resourceName,l),s)}});
define("bundles/catalogP/promises/courses",["require","exports","module","underscore","bundles/catalogP/data/courses","bundles/catalogP/lib/createLinkedModels","bundles/catalogP/models/courses"],function(require,exports,module){var _=require("underscore"),e=require("bundles/catalogP/data/courses"),n=require("bundles/catalogP/lib/createLinkedModels"),s=require("bundles/catalogP/models/courses");module.exports=function(i,r){return e(i,r).then(function(e){if(e.linked&&e.linked["v1Details.v1"]&&(e.elements=_(e.elements).map(function(n){if("v1.session"===n.courseType||"v1.capstone"===n.courseType){n.v1Details=n.id;var s=_(e.linked["v1Sessions.v1"]).reduce(function(e,s){return s.courseId===n.id&&e.push(s.id.toString()),e},[]);n.v1Sessions=s}return n})),e.linked&&e.linked["v2Details.v1"]&&(e.elements.filter(function(e){return"v2.ondemand"===e.courseType}).forEach(function(e){e.v2Details=e.id}),e.linked["onDemandSessions.v1"])){var i=_(e.linked["onDemandSessions.v1"]).groupBy("courseId");e.linked["v2Details.v1"].forEach(function(e){i.hasOwnProperty(e.id)&&(e.onDemandSessions=i[e.id].map(function(e){return e.id}))})}if(e.linked&&e.linked["memberships.v1"]){var r=_(e.linked["memberships.v1"]).groupBy("courseId");if(e.elements=_(e.elements).map(function(e){return e.membershipIds=_(r[e.id]).pluck("id"),e}),e.linked&&e.linked["vcMemberships.v1"]){var d=_(e.linked["vcMemberships.v1"]).pluck("id");e.linked["memberships.v1"]=_(e.linked["memberships.v1"]).map(function(e){return _(d).contains(e.id)&&(e.vcMembershipId=e.id),e})}}if(e.linked&&e.linked["v1VcDetails.v1"]){var o=_(e.linked["v1VcDetails.v1"]).pluck("id");e.linked["v1Sessions.v1"]=_(e.linked["v1Sessions.v1"]).map(function(e){return _(o).contains(e.id)&&(e.vcDetails=e.id),e})}return n(s.prototype.resourceName,e)})}});

define("bundles/payments/promises/getCourse",["require","exports","module","memoize!bundles/catalogP/promises/courses","pages/open-course/common/promises/course"],function(require,exports,module){var e=require("memoize!bundles/catalogP/promises/courses"),s=require("pages/open-course/common/promises/course"),o=["name","slug","workload","photoUrl"];module.exports={fromId:function fromId(r){var s=e({q:"id",showHidden:!0,id:r,fields:o}).then(function(e){if(e.length>0)return e.first();throw new Error("course not found!")});return s.done(),s},openCourseFromId:function openCourseFromId(o){var e=s.fromId(o).then(function(e){return e.set({workload:e.get("estimatedWorkload"),photoUrl:e.get("promoPhoto")}),e});return e.done(),e},getFromSessionId:function getFromSessionId(r){var n={details:{fields:[],includes:{sessions:{fields:[],includes:{vcDetails:{fields:["vcRefundDeadline"]}}}}}},s=e({q:"sessionId",sessionId:r,fields:o,includes:n}).then(function(e){if(e.length>0)return e.first();throw new Error("course not found!")});return s.done(),s}}});
define("bundles/s12n/lib/specializationToS12nTransform",["require","exports","module","underscore","moment","bundles/catalogP/models/course","bundles/catalogP/models/courses","bundles/catalogP/models/instructor","bundles/catalogP/models/instructors","bundles/catalogP/models/language","bundles/catalogP/models/languages","bundles/catalogP/models/memberships","bundles/catalogP/models/partner","bundles/catalogP/models/partners","bundles/catalogP/models/s12n","bundles/catalogP/models/v1Detail","bundles/catalogP/models/v1VcDetail","bundles/catalogP/models/session","bundles/catalogP/models/sessions","bundles/payments/models/productPrice","bundles/phoenix/template/models/requestCountryCode","js/lib/language","js/lib/path","js/lib/prices"],function(require,exports,module){function toCatalogId(e){return"v1-"+e}function buildVcDetail(e){return new p({eligibleForFlexjoin:e.get("eligible_for_flexjoin"),id:e.get("id"),vcPrice:e.get("signature_track_price"),vcRegistrationOpen:e.isSignatureTrackOpen(),vcRegularPrice:parseInt(e.get("signature_track_regular_price"),10)})}function buildSession(e){return new b({active:e.get("active"),courseId:toCatalogId(e.get("topic_id")),dbEndDate:e.get("end_date"),durationString:e.get("duration_string"),durationWeeks:e.getDurationWeeks(),hasSigTrack:e.get("eligible_for_signature_track"),homeLink:e.get("home_link"),id:e.get("id"),instructorIds:[],instructors:[],selfStudy:!1,startDay:e.get("start_day"),startMonth:e.get("start_month"),startYear:e.get("start_year"),status:e.get("status"),vcDetails:buildVcDetail(e)})}function buildV1Details(e){function buildVideoObjects(e){return[{source:o.join(n,e+C),type:"video/mp4"},{source:o.join(n,e+k),type:"video/webm"}]}var s=new l(e.get("courses").map(function(e){return buildSession(e)})),a=s.pluck("id"),t=e.get("open_course")&&buildSession(e.get("open_course"));return new m({aboutTheCourse:e.get("about_the_course"),courseFormat:e.get("course_format"),courseSyllabus:e.get("course_syllabus"),faq:null,id:toCatalogId(e.get("id")),ondemandCourseSlug:e.get("ondemand_course_slug"),readings:e.get("suggested_readings"),recommendedBackground:e.get("recommended_background"),sessionIds:a,sessions:s,upcomingSession:t,upcomingSessionId:t&&t.get("id"),videos:buildVideoObjects(e.get("video_id"))})}function buildSubtitleLanguages(t){var e=t.split(/[^ ,]/g);return e?new i(e.map(function(e){return new u({englishName:a(e),id:e,name:a(e)})})):new i}var _=require("underscore"),S=require("moment"),P=require("bundles/catalogP/models/course"),h=require("bundles/catalogP/models/courses"),y=require("bundles/catalogP/models/instructor"),f=require("bundles/catalogP/models/instructors"),u=require("bundles/catalogP/models/language"),i=require("bundles/catalogP/models/languages"),d=require("bundles/catalogP/models/memberships"),g=require("bundles/catalogP/models/partner"),s=require("bundles/catalogP/models/partners"),c=require("bundles/catalogP/models/s12n"),m=require("bundles/catalogP/models/v1Detail"),p=require("bundles/catalogP/models/v1VcDetail"),b=require("bundles/catalogP/models/session"),l=require("bundles/catalogP/models/sessions"),r=require("bundles/payments/models/productPrice"),t=require("bundles/phoenix/template/models/requestCountryCode"),v=require("js/lib/language"),a=v.languageCodeToName,o=require("js/lib/path"),e=require("js/lib/prices"),n="https://d1a2y8pfnfh44t.cloudfront.net",C="full/540p/index.mp4",k="full/540p/index.webm";module.exports=function(n){var u=new s(n.get("universities").map(function(e){return new g({description:e.get("description"),id:e.get("id").toString(),name:e.get("name"),shortName:e.get("short_name"),squareLogo:e.get("square_logo"),classLogo:e.get("class_logo")||""})})),D=new f(n.get("instructors").map(function(e){var t=new s(u.filter(function(t){return _(e.get("universities")).contains(t.get("shortName"))}));return new y({firstName:e.get("first_name"),fullName:e.get("full_name"),id:e.get("id").toString(),lastName:e.get("last_name"),middleName:e.get("middle_name"),partnerIds:t.pluck("id"),partners:t,photo:e.get("photo_150"),prefixName:e.get("prefix_name"),profileId:null,resourceName:null,shortName:e.get("short_name"),suffixName:e.get("suffix_name"),title:e.get("title")})})),l=new h(n.get("topics").map(function(n){var a=buildV1Details(n),o=a.get("sessions").getVCSessions().at(0),g=S({day:o.get("startDay"),month:o.get("startMonth")-1,year:o.get("startYear")}),i="SparkVerifiedCertificate",l=toCatalogId(n.get("id").toString()),s=e.getCurrencyFromCountry(t),u=t,c=[i,l,s,u].join("~"),m=new r({productType:i,productItemId:l,currencyCode:s,countryIsoCode:u,id:c,amount:n.getSignatureTrackCost(),finalAmount:n.getSignatureTrackCost(),formattedFinalAmount:{amount:n.getSignatureTrackCost(),currencyCode:s,currencySymbol:e.getSymbolFromCurrency(s),formattedString:""}});return new P({categories:[],certificates:[],courseProgress:void 0,courseType:n.get("is_capstone")?"v1.capstone":"v1.session",description:n.get("short_description")||"",id:toCatalogId(n.get("id").toString()),instructors:[],membershipIds:[],memberships:new d,name:n.get("name"),price:m,slug:n.get("short_name"),startDate:g.unix(),subtitleLanguages:buildSubtitleLanguages(n.get("subtitle_language_groups")),workload:n.get("estimated_class_workload"),details:a})})),I={courseIds:n.get("topics").chain().filter(function(e){return e.get("is_capstone")}).map(function(e){return toCatalogId(e.get("id"))}).value()},o=n.get("aux_info"),a=JSON.parse(n.get("faqs"));a=_(o).has("faq")?a.concat(o.faq):a;var N=_(o).has("companyLogos")?o.companyLogos:[],T={additionalFaqs:a,certificateLogo:n.get("cert_logo"),companyLogos:N,featuredIndex:n.get("featured_index"),incentives:n.get("incentives"),learningObjectives:_(n.get("what_youll_learn")).values(),recommendedBackground:_(n.get("recommended_background")).values(),useDefaultFaqs:!0,headerImage:o.headerImage||"",partnerImage:o.partnerImage||"",headline:o.headline||"",subheader:o.subheader||"",partnerMarketingBlurb:o.partnerMarketingBlurb||"",level:o.level||"",cmlAdditionalFaqs:o.cmlAdditionalFaqs||[]},L=l.pluck("id"),C={},k={},O=n.get("logo"),w=n.get("name"),x=u.pluck("id"),m=l.reduce(function(e,t){return e+t.get("price").getDisplayAmount()},0),F=n.get("short_name"),j=n.get("subhead"),b="SparkSpecialization",v=n.get("id"),i=e.getCurrencyFromCountry(t),p=t,A=[b,v,i,p].join("~"),q=new r({productType:b,productItemId:v,currencyCode:i,countryIsoCode:p,priceCountryIsoCode:p,id:A,amount:m,finalAmount:m,formattedFinalAmount:{amount:m,currencyCode:i,currencySymbol:e.getSymbolFromCurrency(i),formattedString:""}});return new c({id:n.get("id").toString(),capstone:I,courseIds:L,courses:l,instructors:D,interchangeableCourses:C,interchangeableCourseIds:k,logo:O,metadata:T,name:w,partnerIds:x,partners:u,price:q,slug:F,tagline:j,description:n.get("byline")||"",cmlDescription:n.get("aux_info").cmlDescription||{},_transformedFromOldSpecialization:!0})}});
define("js/lib/origami",["require","exports","module","backbone","jquery","q","underscore","bundles/confirmNavigation/confirmNavigation.html","js/lib/modals"],function(require,exports,module){function _trigger(e){var i=Array.prototype.slice.call(arguments,1);e.trigger&&e.trigger.apply(e,i)}var Backbone=require("backbone"),$=require("jquery"),o=require("q"),_=require("underscore"),a=require("bundles/confirmNavigation/confirmNavigation.html"),s=require("js/lib/modals");Backbone.View.prototype._super=function(e){return this.constructor.__super__[e].apply(this,_.rest(arguments))};var t=null,e={current:null,body:"#origami",views:{},beforeUnloadMessage:"There are unsaved changes that will be lost if you reload or leave this page.",regionHasUnsavedModel:function regionHasUnsavedModel(i){if(!i)return!1;var t=i.view.hasUnsavedModel?i.view.hasUnsavedModel():!1;if(t)return!0;for(var n in i.regions){var r=i.regions[n];if(e.regionHasUnsavedModel(r))return!0}return!1}};window.location.hash.match(/^#!/)&&(window.location.hash=window.location.hash.replace(/^#!/,"#"));var c=Backbone.Router.extend({initialize:function initialize(){var i=this;i.routePrefix="",i.linkClass="internal",$("body").on("click","a.internal",function(e){e.ctrlKey||e.metaKey||(e.preventDefault(),i.navigate($(e.currentTarget).attr("href"),!0))}),this.$confirmNavigation=$(a({})),$("body").append(this.$confirmNavigation),$(window).on("beforeunload.origami",function(){if(e.regionHasUnsavedModel(e.current))return e.beforeUnloadMessage})},setupLinks:function setupLinks(e,i){var t=this;this.routePrefix=e,this.linkClass=i,$("body").on("click","a."+this.linkClass,function(e){e.ctrlKey||e.metaKey||(e.preventDefault(),t.navigateTo($(e.currentTarget).attr("href"),!0))})},navigateTo:function navigateTo(e,i){this.navigate(e.replace(this.routePrefix,""),i)},navigate:function navigate(i,t){if(e.current&&e.regionHasUnsavedModel(e.current)){var n=$(".confirm-navigation-message");n.text(e.beforeUnloadMessage);var r=$(".confirm-navigation-leave");r.one("click",function(){Backbone.Router.prototype.navigate.call(this,i,t)});var o={"overlay.class":"coursera-overlay"};s(".confirm-navigation",o).open()}else Backbone.Router.prototype.navigate.call(this,i,t)},addRoutes:function addRoutes(t){var i=this;for(var e in t)i.route(e,e,t[e]),i.route(e+"/",e+"/",function(){var e=Backbone.history.getFragment(),t=e.replace(/\/(?:\?.*)*$/,"");i.navigate(t,{trigger:!0,replace:!0})})}}),n={resize:function resize(i,e,t){$("body").append(e.$el.css({visibility:"hidden"}));var n={from:i.$el.outerHeight(),to:e.$el.outerHeight()};i.$el.animate({height:n.to},300,function(){i.$el.replaceWith(e.$el.css({visibility:"visible"})),e.$el.find("img").on("load",function(){e.$el.animate({height:e.$el.outerHeight()})}),t&&t()})},slideLeft:function slideLeft(a,s,r){var e=a.$el,i=s.$el,n=e.position(),t=e.outerWidth(),c=e.outerHeight(),l=$("<div>").css({position:"relative",width:t,height:c}),u={position:i.css("absolute")||"static",width:i.get(0).style.width,left:i.get(0).style.left},o={position:e.css("absolute")||"static",width:e.get(0).style.width,left:e.get(0).style.left};e.wrap(l),e.css({width:t,left:n.left,position:"absolute"}),i.css({width:t,left:n.left+t,position:"absolute"}),e.parent().append(i),e.animate({left:-t},{duration:500,step:function step(e){i.css({left:n.left+t+e})},complete:function complete(){i.css(u),e.css(o).hide(),e.unwrap(),r&&r()}})},slideRight:function slideRight(a,s,r){var e=a.$el,i=s.$el,n=e.position(),t=e.outerWidth(),c=e.outerHeight(),l=$("<div>").css({position:"relative",width:t,height:c}),u={position:i.css("absolute")||"static",width:i.get(0).style.width,left:i.get(0).style.left},o={position:e.css("absolute")||"static",width:e.get(0).style.width,left:e.get(0).style.left};e.wrap(l),e.css({width:t,left:n.left,position:"absolute"}),i.css({width:t,left:-(n.left+t),position:"absolute"}),e.parent().append(i),e.animate({left:t},{duration:500,step:function step(e){i.css({left:-(n.left+t)+e})},complete:function complete(){i.css(u),e.css(o).hide(),e.unwrap(),r&&r()}})},replace:function replace(i,t,e){i.$el.replaceWith(t.el),e&&e()}},i=function region(t,n){var e=this,i=n||{};e.type=t,e.animate=i.animate||{},e.regions=i.regions||{},e.initialize=i.initialize||{},e.options={},e.id=i.id||t.prototype.name,e.name=t.prototype.name,e.view=null,e.regions=$.extend(!0,{},t.prototype.subregions,i.regions||{})};i.prototype.close=function(i){var e=this;_.each(e.regions,function(t,n){delete e.regions[n],t.close(i)}),i||e.view.remove(),e.view.undelegateEvents(),_trigger(e.view,"view:closed"),e.view.off("view")},i.prototype.closing=function(){_trigger(this.view,"view:closing"),delete e.views[this.view.cid]},i.prototype.render=function(i){var e=this;return _.each(e.regions,function(i,t){if(!i)return;i.render(),i.parent=e}),e.view=new e.type(e.initialize),e.view.region=e,e.view.context=e.view.context||{},e.view.render&&e.view.render(e.render),i&&e.view.on("view:appended",function(){i.trigger("region:appended",{name:e.name})}),e},i.prototype.appended=function(){var e=this;e.view&&e.view.trigger&&setTimeout(function(){_trigger(e.view,"view:appended")},0)},i.prototype.append=function(n,e){var r=this,a=o.defer();this.regions||(this.regions={});var s=function render_and_append(i){for(var s=n,l=0,o;r.regions[s];)s+=++l;if(r.regions[s]=i,i.render(t),o=e.to?_.isElement(e.to)?r.view.$(e.to):e.to:r.view.$el,_(e).has("position")){var c=o.children().eq(e.position);c.length>0?$(c[0]).before(i.view.el):o.append(i.view.el)}else o.append(i.view.el);i.appended(),t.trigger("region:rendered",{name:i}),a.resolve(i)};return"string"==typeof n?t.region.fetch(n,e,s):s(new i(n,e)),a.promise},i.prototype.is=function(e){return e.type==this.type&&e.id==this.id},i.prototype.replace=function(t,o){var r=this,i="replace",e={incoming:t.view.animate,outgoing:r.view.animate};_.isString(e.incoming)?i=e.incoming:_.isFunction(e.incoming)?i=e.incoming():_.isString(e.outgoing)?i=e.outgoing:_.isFunction(e.outgoing)&&(i=e.outgoing()),n[i]||(i="replace"),n[i](r.view,t.view,o)},i.prototype.merge=function(i,t){var e=this;e.is(i)?_.each(i.regions,function(i,n){_trigger(e.regions[n].view,"view:merging",i.initialize),e.regions[n].merge(i,t),_trigger(e.regions[n].view,"view:merged",i.initialize)}):e.name==i.name&&(e.closing(),i.render(t),e.replace(i,function(){e.parent&&(e.parent.regions[i.name]=i,i.parent=e.parent,e.parent.appended()),e.close(),i.appended()}))};var r=function Origami(o,a){if(t)return t;t=this;var r=this;e.body=o,e.current=a,$(window).on("resize",function(){for(var i in e.views)_trigger(e.views[i],"view:resize")}),this.region={make:function make(e,t){return new i(e,t)},fetch:function fetch(e,n,o){var t=_.uniqueId();r.trigger("region:fetching",{name:e,uid:t}),require([e],function(a){r.trigger("region:fetched",{name:e,uid:t}),o(new i(a,n))})},append:function append(e,t,n,o){e||(e={regions:{}});var a=function render_and_append(i){for(var n=t,a=0;e.regions[n];)n+=++a;return e.regions[n]=i,i.render(r),o&&o(i),i.appended(),r.trigger("region:rendered",{name:i}),i};if("string"!=typeof t)return a(new i(t,n));r.region.fetch(t,n,a)},open:function open(i,o){var t=i,n={};_.isObject(i)&&(t=_.keys(i)[0],n=i[t]),r.region.fetch(t,n,o||function(i){var n=_(i.regions).filter(function(e){return e}),t=_.after(_.keys(n||{}).length+1,function(){if(e.current){if(e.current.is(i))return void e.current.merge(i,r);if(e.current.name==i.name)return i.render(r),void e.current.replace(i,function(){e.current.close(),e.current=i,e.current.appended()});e.current.close(!0)}e.current=i,$(e.body).html(e.current.render(r).view.el),e.current.appended(),_.each(e.current.regions,function(e){e&&e.appended()})});t(r),_.each(i.regions,function(e,n){if(!e)return;r.region.open(e,function(e){i.regions[n]=e,t(r)})})})}},this.animate=n,this.router=new c,this.store={},this.tracker=[]};return _.extend(r.prototype,Backbone.Events),r});
define("js/lib/scrollTracker",["require","js/vendor/backbone.v1-1-2","jquery","underscore"],function(require){function ScrollTracker(o,t){this.scrollHash=_.extend({},o),this.ROUTE_EVENT=t&&t.routeEvent||"route",this.$el=$(window)}function _getCurrentRoute(){var t=Backbone.history.fragment||"";return t.replace(/[#?].+/g,"")}function _updateRoute(){this.lastRoute=_getCurrentRoute()}var Backbone=require("js/vendor/backbone.v1-1-2"),$=require("jquery"),_=require("underscore");return ScrollTracker.prototype.start=function(t){this.router=t,_updateRoute.call(this),this.router.on(this.ROUTE_EVENT,function(t,o){this.set(this.lastRoute),_updateRoute.call(this)}.bind(this))},ScrollTracker.prototype.stop=function(){this.router.off(this.ROUTE_EVENT)},ScrollTracker.prototype.get=function(t){return void 0===t&&(t=_getCurrentRoute()),this.scrollHash[t]||0},ScrollTracker.prototype.set=function(t){void 0===t&&(t=_getCurrentRoute()),this.scrollHash[t]=this.$el.scrollTop()},ScrollTracker.prototype.restore=function(t){this.$el.scrollTop(this.get(t))},ScrollTracker.prototype.scroll=function(t){this.$el.scrollTop(t),this.set()},ScrollTracker});
define("js/lib/supports",["require","exports","module"],function(require,exports,module){var e={},s="supports-";document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")&&(document.documentElement.className=s+"svg",e.svg=!0),window.XMLHttpRequest&&"withCredentials"in new window.XMLHttpRequest&&navigator.userAgent.indexOf("MSIE 10.0")<0&&(e.cors=!0);var t=navigator.userAgent.toLowerCase();/safari/.test(t)&&!/chrome/.test(t)?e.accepts=!1:e.accepts=!0,module.exports=e});
define("js/lib/coursera",["require","exports","module","backbone","jquery","js/app/config","js/lib/log","js/lib/metatags","js/lib/multitracker","js/lib/origami","js/lib/path","js/lib/persistQueryParams","js/lib/scrollTracker","js/lib/supports","js/app/setupMoment"],function(require,exports,module){var Backbone=require("backbone"),$=require("jquery"),r=require("js/app/config"),s=require("js/lib/log"),c=require("js/lib/metatags"),u=require("js/lib/multitracker"),o=require("js/lib/origami"),a=require("js/lib/path"),g=require("js/lib/persistQueryParams"),n=require("js/lib/scrollTracker"),l=require("js/lib/supports");require("js/app/setupMoment");var i="0.9.2"===Backbone.VERSION?"all":"route",e=new o("#origami"),t=new n(void 0,{routeEvent:i});t.start(e.router),e.config=r,e.supports=l,e.log=s({level:r.log}),e.multitracker=u({logger:e.log}),e.multitracker.register("204",[]),e.multitracker.register("400",[],"custom",function(_){return _}),e.multitracker.register("ga",window._gaq=[],"google"),$(document).ready(function(){/staging|production/.test(e.config.environment)&&require(["js/lib/204"],function(t){if(!t)return;for(var r=location.host.split(".");r.length>2;)r.shift();e.multitracker.get("204").queue.push(["domain","."+r.join(".")]),e.multitracker.get("204").queue=t.batch(e.multitracker.get("204").queue)}),e.router.on(i,function(){var r=a.join(e.config.url.base,Backbone.history.getFragment());c.setCommon({title:"Coursera",imageHref:"http://s3.amazonaws.com/coursera/media/Coursera_Computer_Narrow.png",pageHref:r,description:"Take free online classes from 120+ top universities and organizations. Coursera is a social entrepreneurship company partnering with Stanford University, Yale University, Princeton University and others around the world to offer courses online for anyone to take, for free. We believe in connecting people to a great education so that anyone around the world can learn without limits."}),e.multitracker.push(["pageview",r]),t.scroll(0)}),g(window.location.href,["locale","nan_pid"])}),module.exports=e});
define("js/lib/util",["require","exports","module","jquery","underscore","js/lib/STCert","js/lib/cookie","js/lib/coursera","js/lib/coursera.redirect"],function(require,exports,module){function handleAPIError(e,t){404==e?u.router.trigger("error",404,t,{message:"this page does not exist"}):500==e?u.router.trigger("error",500,t,{message:"backend server has seen an error"}):401==e?a.authenticate("signup",{r:t}):403==e&&u.router.trigger("error",403,t,{message:"you do not have permission to view this page"})}function checkRedirect(u,e){if(!e)return!0;var t=/^((https?:)?\/\/([a-zA-Z0-9\-]+\.)?coursera.org)?(\/([^\/].*)?)?$/;return t.test(u)}function handleRedirect(e){if(!e)return;var s=1!=u.config.environment.indexOf("prod");checkRedirect(e,s)||u.router.navigate(u.config.dir.home,!0);var n=/^(?:https?:\/\/)?((?:[\d\w\-]+?\.)?[\w\d-]+(?:\.[\w]+)?)(\/.*|$)/,a=n.exec(e),t=(a&&a.length?a[1]:"").split("."),r=n.exec(location.host)[1].split(".");t&&t.length&&t[t.length-1]==r[r.length-1]&&t[t.length-2]==r[r.length-2]?location.href=e:/^\/.*/.test(e)?location.href=e:u.router.navigate(u.config.dir.home,!0)}function scrollToInternalLink(n,r,e){var s=arguments.length<=3||void 0===arguments[3]?0:arguments[3];e=e||"";var a=n.find('[data-section="'+r+'"]');if(!a.length)return;var t=a.position().top+s,i=Math.abs($(document).scrollTop()-t);i>1e3?$("html,body").scrollTop(t):$("html,body").animate({scrollTop:t}),u.multitracker&&u.multitracker.push([e+" "+r,"Open"])}function setupInternalLinks(e,t){e.bind("view:appended",function(){scrollToInternalLink(e.$el,this.options&&this.options.section,t)}),e.$el.on("click",'a.internal-page, [data-js="internal-link"]',function(r){if(!r.ctrlKey&&!r.metaKey){var a=r.currentTarget.pathname,n=a.substr(a.lastIndexOf("/")+1);e.$("[data-section="+n+"]").length&&(r.preventDefault(),scrollToInternalLink(e.$el,n,t),u.router.navigateTo(a,{trigger:!1}))}})}function getToday(){return new Date}function prettyJoin(u,e){e=_.extend({symbol:!1},e);var t=e.symbol?"&":"and";if(u){if(u.length>1){var r=_(u).initial().join(", "),a=_(u).last();return[r,t,a].join(" ")}return u.toString()}}function addCommas(u){return u.replace(/(^|[^\w.])(\d{4,})/g,function(t,u,e){return u+e.replace(/\d(?=(?:\d\d\d)+(?!\d))/g,"$&,")})}function makeHttps(u){return u.replace(/^http:\/\//i,"https://")}function getUrlParam(t,u){u=u.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var r="[\\?&]"+u+"=([^&#]*)",a=new RegExp(r),e=a.exec(decodeURI(t));return null===e?null:e[1]}function changeUrlParam(u,e,t){var r=new RegExp("([?&])"+e+"=[^&]*(&|$)","i"),a=-1!==u.indexOf("?")?"&":"?";return u.match(r)?u.replace(r,"$1"+e+"="+t+"$2"):u+a+e+"="+t}function getUrlPath(e){return(e||"").replace(u.config.url.base,"/")}function setupFormSave(e,t,o){function changeButtonText(u){var e=r.attr("data-"+u+"-message");r.html(e)}function resetButton(){var u=e.find('input[type="checkbox"]').filter("[required]");if(u.length&&!u.is(":checked"))return void r.attr("disabled","disabled");r.removeAttr("disabled"),changeButtonText("default")}function sendXHR(){s=e.serialize();var r=(t.type||"POST").toLowerCase();u.api[r]&&u.api[r](t.url,{data:t.data||e.serialize()||null,headers:t.headers||{},dataType:t.dataType||"json"}).done(function(u,r,a){t.success&&t.success(u,r,a),changeButtonText("success"),E.html("(Saved!)"),renderAllErrors(e,null)}).fail(function(u,r,a){var n=$.parseJSON(u.responseText);t.error&&t.error(u,r,a),resetButton(),e.find("input").off(".validate"),renderAllErrors(e,n)})}function triggerSave(){e.serialize()!=s&&(r.trigger("click"),E.html("(Saving...)"))}t=t||{};var s=e.serialize();t.url=t.url||e.attr("action"),t.type=t.type||e.attr("type");var r=e.find('button[type="submit"]'),E=$(r.attr("data-update"));e.find("input, select").on("change",resetButton),e.find("input, textarea").on("keyup",resetButton);var i=e.find("input, select");i.each(function(u,e){u!=i.length-1&&$(e).on("keypress",function(u){return 13!=u.keyCode})});var a="true"==e.attr("data-validate");if(a&&e.find("input").each(function(){var u=$(this);if("checkbox"==u.attr("type"))return;u.on("keyup.validate",function(){validateField(u)||renderFieldErrors(u,null)}),u.on("blur.validate paste.validate",function(){renderFieldErrors(u,validateField(u))})}),r.on("click",function(u){u.preventDefault(),(!a||a&&!validateForm(e))&&(changeButtonText("inflight"),r.attr("disabled","disabled"),sendXHR(t))}),o){var n=_.debounce(triggerSave,1e3);e.find("input, select").on("change.autosave",n),e.find("input, textarea").on("keyup.autosave",n),e.find("input, select, blur").on("blur.autosave paste.autosave",triggerSave)}}function validateForm(e){var u=null;if(e.find("input").each(function(){var e=$(this),t=validateField(e);renderFieldErrors(e,t),u=u||t,t&&!u&&0===$("input:focus").length&&e.focus()}),u){var t=e.attr("data-invalid-message")||"Uh-oh, please check the form!";renderFormError(e,t),e.find('button[type="submit"]').animate({opacity:.4},100).animate({"margin-left":"-=10"},100).animate({"margin-left":"+=20"},100).animate({"margin-left":"-=20"},100).animate({"margin-left":"+=10"},100).animate({opacity:1},100)}return u}function validateField(u){var r=u.attr("type"),a=u.val(),n=u.attr("pattern"),e=null,t=null;return"email"==r?t=new RegExp(/[a-zA-Z0-9!#$%&'*+\/=?\^_`{|}~\-]+(?:\.[a-zA-Z0-9!#$%&'*+\/=?\^_`{|}~\-]+)*@(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?/):n&&(t=new RegExp(n)),t&&(t.test(a)||(e=u.attr("data-invalid-message")||"Invalid field")),u.attr("required")&&("text"==r&&0===a.length&&(e="This field is required."),"checkbox"!=r||u.is(":checked")||(e=" Please check this!")),e}function renderAllErrors(e,u){var a;if(e.find(".form-errors").remove(),e.find(".error .help-inline").remove(),e.find(".error").removeClass("error"),!u)return;if(u.error_message&&renderFormError(e,u.error_message),u.field_errors)for(var t in u.field_errors){var r=e.find('*[name="'+t+'"]');renderFieldErrors(r,u.field_errors[t]),r.focus()}}function renderFormError(u,t){u.find(".form-errors").remove();var e=$("<span></span>").addClass("form-errors").attr("role","alert").attr("aria-live","assertive").html(t);u.find(".actions").length?u.find(".actions").children(":last").after(e):u.find(".modal-footer").length?u.find(".modal-footer").children(":last").after(e):u.find('button[type="submit"]')&&u.find('button[type="submit"]').after(e)}function renderFieldErrors(u,e){var t=u.parents(".control-mini-group").length&&u.parents(".control-mini-group")||u.parents(".control-group");if(t.removeClass("error"),t.find(".help-inline.error").remove(),e){var n=(u.attr("id")||"")+"-form-field-error-"+(new Date).getTime(),s=(u.attr("aria-describedby")||"").split(",");s.push(n),u.attr("aria-describedby",s.join(","));var r=$("<span></span>").addClass("help-inline error").attr("role","alert").attr("aria-live","assertive").attr("id",n);if(e instanceof Array)for(var a=0;a<e.length;a++)r.append("<span>"+e[a]+"</span>");else r.append(e);t.addClass("error"),"checkbox"==u.attr("type")?t.find(".controls").append(r):u.after(r)}}function isMobileDevice(){var u=navigator.userAgent||navigator.vendor||window.opera;return/iPhone|iPod|iPad|Android|BlackBerry|Opera Mini|IEMobile/.test(u)}function isIOS(){var u=navigator.userAgent||navigator.vendor||window.opera;return/iPhone|iPod|iPad/.test(u)}function isTouchSupported(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch}function isCanvasSupported(){var u=document.createElement("canvas");return!(!u.getContext||!u.getContext("2d"))}function getViewportHeight(){var u=window.innerHeight,e=document.compatMode;return(e||!$.support.boxModel)&&(u="CSS1Compat"==e?document.documentElement.clientHeight:document.body.clientHeight),u}function inView(e,u){u=u||0;var a=getViewportHeight(),t=document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop,n=t-u,s=t+a+u,i=e.offset().top,E=e.height(),r=i+E;return s>r&&r>n}function countCS(e){var u=0,t=["cs-programming","cs-systems","cs-theory","cs-ai","cs","fmgb"];return e.each(function(e){e.get("topic")&&_.intersection(e.get("topic").get("category-ids"),t).length>0&&u++}),u}function setupPromos(){var u=$("[data-promo-id]");u.each(function(){var u=$(this);if(u.find(".close").length){var e=u.attr("data-promo-id");r.get(e)?u.hide():(u.show(),u.find(".close").on("click",function(){u.hide(),r.set(e,"closed")}))}})}function prettifyUrl(u){return u=u.replace(/^.*:\/\//,""),u=u.replace(/\/$/,"")}function extractFirstSubdir(u){var e=/(.*\/).*\//;return e.exec(u)[1]}function linkifyText(u){return u&&(u=u.replace(/((https?\:\/\/)|(www\.))(\S+)(\w{2,4})(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/gi,function(e){var u=e;return u.match("^https?://")||(u="http://"+u),'<a target="_blank" href="'+u+'">'+e+"</a>"})),u}function rgbToHsl(a,e,t){a/=255,e/=255,t/=255;var u=Math.max(a,e,t),r=Math.min(a,e,t),n=(u+r)/2,i=(u+r)/2,E=(u+r)/2;if(u==r)n=i=0;else{var s=u-r;switch(i=E>.5?s/(2-u-r):s/(u+r),u){case a:n=(e-t)/s+(t>e?6:0);break;case e:n=(t-a)/s+2;break;case t:n=(a-e)/s+4}n/=6}return[n,i,E]}function hslToRgb(r,e,u){var a,n,s;if(0===e)a=n=s=u;else{var i=function hue2rgb(e,t,u){if(0>u&&(u+=1),u>1&&(u-=1),1/6>u)return e+6*(t-e)*u;if(.5>u)return t;if(2/3>u)return e+(t-e)*(2/3-u)*6;return e},t=.5>u?u*(1+e):u+e-u*e,E=2*u-t;a=i(E,t,r+1/3),n=i(E,t,r),s=i(E,t,r-1/3)}return[Math.round(255*a),Math.round(255*n),Math.round(255*s)]}function rgbToHsv(r,e,t){r/=255,e/=255,t/=255;var u=Math.max(r,e,t),s=Math.min(r,e,t),a=u,i=u,E=u,n=u-s;if(i=0===u?0:n/u,u==s)a=0;else{switch(u){case r:a=(e-t)/n+(t>e?6:0);break;case e:a=(t-r)/n+2;break;case t:a=(r-e)/n+4}a/=6}return[a,i,E]}function hsvToRgb(l,n,u){var t,r,e,o=Math.floor(6*l),E=6*l-o,a=u*(1-n),s=u*(1-E*n),i=u*(1-(1-E)*n);switch(o%6){case 0:t=u,r=i,e=a;break;case 1:t=s,r=u,e=a;break;case 2:t=a,r=u,e=i;break;case 3:t=a,r=s,e=u;break;case 4:t=i,r=a,e=u;break;case 5:t=u,r=a,e=s}return[Math.round(255*t),Math.round(255*r),Math.round(255*e)]}function sortedGroupBy(e,t,r){var u=_.groupBy(e,t);return u=_.sortBy(u,r)}function splitIntoGroups(u,a){var t=[];if(!u)return t;for(var r=Math.ceil(u.length/a),e=0;e<u.length;e+=r)t.push(u.slice(e,e+r));return t}function verticalCenterEl(e,u){u.css("position","relative"),u.css("top",e.height()/2-u.height()/2)}function concatName(u){var e=u.first_name;return u.middle_name&&(e=e+" "+u.middle_name),u.last_name&&(e=e+" "+u.last_name),e}function removeDiacritics(t){for(var u=0;u<e.length;u++)t=t.replace(e[u].letters,e[u].base);return t}function getCourseName(e){if(!_.isString(e))return null;var t=new RegExp("^https://([^.]+)\\.[^.]+\\.org/(.*)$"),u=t.exec(e);return null===u?null:{courseDomain:u[1],courseName:u[2]}}function isChina(){var u=window.location.hostname.split(".")[0];return["cn","staging-china"].indexOf(u)>=0}function styleRightToLeft(u){u.find("[data-user-generated]").attr("dir","auto"),u.find("[data-user-generated] code").attr("dir","ltr"),u.find("[data-user-generated] > ol,ul").attr("dir","rtl"),u.find("[data-user-generated] a,li").wrapInner("<bdi></bdi>")}var $=require("jquery"),_=require("underscore"),t=require("js/lib/STCert"),r=require("js/lib/cookie"),u=require("js/lib/coursera"),a=require("js/lib/coursera.redirect"),e=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}];module.exports={handleAPIError:handleAPIError,checkRedirect:checkRedirect,handleRedirect:handleRedirect,setupInternalLinks:setupInternalLinks,setupFormSave:setupFormSave,renderAllErrors:renderAllErrors,renderFieldErrors:renderFieldErrors,isMobileDevice:isMobileDevice,isIOS:isIOS,isTouchSupported:isTouchSupported,isCanvasSupported:isCanvasSupported,scrollToInternalLink:scrollToInternalLink,makeHttps:makeHttps,getToday:getToday,prettyJoin:prettyJoin,getUrlParam:getUrlParam,changeUrlParam:changeUrlParam,getUrlPath:getUrlPath,inView:inView,countCS:countCS,setupPromos:setupPromos,prettifyUrl:prettifyUrl,addCommas:addCommas,extractFirstSubdir:extractFirstSubdir,linkifyText:linkifyText,rgbToHsl:rgbToHsl,hslToRgb:hslToRgb,rgbToHsv:rgbToHsv,hsvToRgb:hsvToRgb,verticalCenterEl:verticalCenterEl,sortedGroupBy:sortedGroupBy,splitIntoGroups:splitIntoGroups,concatName:concatName,removeDiacritics:removeDiacritics,getCourseName:getCourseName,isChina:isChina,styleRightToLeft:styleRightToLeft,getSTCertCorner:t.getSTCertCorner,getSTCertIcon:t.getSTCertIcon}});
define("js/models/course",["require","exports","module","backbone","require","underscore","js/json/constants","i18n!js/json/nls/topics","js/lib/coursera","js/lib/util","moment"],function(require,exports,module){var Backbone=require("backbone"),a=require("require"),_=require("underscore"),i=require("js/json/constants"),s=require("i18n!js/json/nls/topics"),r=require("js/lib/coursera"),n=require("js/lib/util"),e=require("moment"),t={moments:{},today:null,formats:{},fromNows:{},diffs:{},getMomentFor:function getMomentFor(r){var i=r.join("/");if(!t.moments[i]){var n=e(r);n.isValid()&&(t.moments[i]=n)}return t.moments[i]},getFormatted:function getFormatted(i,r){var e=i.valueOf()+"|"+r;return t.formats[e]||(t.formats[e]=i.format(r)),t.formats[e]},getDiffFromToday:function getDiffFromToday(r){t.today||(t.today=e(n.getToday()));var i=r.valueOf();return t.diffs[i]||(t.diffs[i]=r.diff(t.today,"days")),t.diffs[i]},getFromNow:function getFromNow(r,a){t.today||(t.today=e(n.getToday()));var i=r.valueOf();return t.fromNows[i]||(t.fromNows[i]=r.from(t.today,a)),t.fromNows[i]},getFormattedDateString:function getFormattedDateString(i){return i?t.getFormatted(e(i),"LL"):""}},o=Backbone.Model.extend({defaults:{},initialize:function initialize(){this.bind("change",this.updateComputed,this),this.updateComputed()},get:function get(e){var t=this.constructor.__super__.get.apply(this,arguments);switch(e){case"name":return s(t);default:return t}},getUnlocalizedName:function getUnlocalizedName(){this.constructor.__super__.get.apply(this,"name")},updateComputed:function updateComputed(){var t=a("js/models/topic");if(!this.get("topic")||this.get("topic")instanceof t||this.set("topic",new t(this.get("topic")),{silent:!0}),this.has("topic")&&this.get("topic").get("self_service_course_id")===this.get("id")&&this.set("self_study",!0,{silent:!0}),this.get("topic")&&this.set("optin_link",r.config.dir.home+"signature/course/"+this.get("topic").get("short_name")+"/"+this.get("id"),{silent:!0}),this.get("home_link")&&this.set("class_link",this.get("home_link")+"auth/auth_redirector?type=login&subtype=normal",{silent:!0}),this.get("signature_track_price")){var e=this.get("signature_track_price");this.set("signature_track_price_display",Number(e).toFixed(2),{silent:!0});var i=this.get("signature_track_regular_price");this.set("signature_track_regular_price",Number(i).toFixed(2),{silent:!0});var n=i-e;n>0&&this.set("signature_track_price_discount",Number(n).toFixed(2),{silent:!0})}this.set("duration",this.get("duration_string"),{silent:!0})},passClass:function passClass(){var t=this.get("record"),e=!!t.achievement_level&&t.achievement_level>0;return e&&this.certificateIsReady()},getsSignatureTrackCert:function getsSignatureTrackCert(){var t=this.get("record"),e=this.certificateIsReady(),i=this.get("eligible_for_signature_track")&&t&&t.signature_track;if(e&&i){var r=!_.isUndefined(t.achievement_level)&&t.achievement_level&&t.achievement_level>0,n=t.passed_ace&&t.is_enrolled_for_proctored_exam;return t.authenticated_overall&&(r||n)}return!1},getsSOA:function getsSOA(){var t=this.get("record"),e=this.certificateIsReady(),i=this.get("eligible_for_certificates");return e&&t&&i&&!_.isNull(t.achievement_level)&&!_.isUndefined(t.achievement_level)&&t.achievement_level>0},hasGrade:function hasGrade(){return this.getsSOA()||this.getsSignatureTrackCert()},hasStatement:function hasStatement(){return this.certificateIsReady()&&this.get("record")&&this.get("record").achievement_level>0},isEligibleForSignatureTrack:function isEligibleForSignatureTrack(){return this.get("eligible_for_signature_track")},isOpen:function isOpen(){return 1===this.get("status")},isSignatureTrackOpen:function isSignatureTrackOpen(){return this.get("signature_track_registration_open")},isFlexjoin:function isFlexjoin(){return this.get("eligible_for_flexjoin")||_.contains(i.flexjoin_course_ids,this.get("id"))},getDurationWeeks:function getDurationWeeks(){var e=1e3;if(this.get("duration_string")){var i=this.get("duration_string"),t=parseInt(i.split(" ")[0],10);!isNaN(t)&&t>=1&&(e=t)}return e},getDurationString:function getDurationString(t){return _(["zh-cn"]).contains(t)?this.getDurationWeeks()+"":this.get("duration_string")},hasPartialDate:function hasPartialDate(){return!(!this.get("start_year")||!this.get("start_month")||this.get("start_day"))},hasFullDate:function hasFullDate(){return!!(this.get("start_year")&&this.get("start_month")&&this.get("start_day"))},getStartDateMoment:function getStartDateMoment(){var e=null;return this.hasPartialDate()?e=t.getMomentFor([this.get("start_year"),this.get("start_month")-1]):this.hasFullDate()&&(e=t.getMomentFor([this.get("start_year"),this.get("start_month")-1,this.get("start_day"),0,0,0])),e},getEndDateMoment:function getEndDateMoment(){var t=null,i=this.getStartDateMoment();return this.get("end_date")?t=e(this.get("end_date"),"YYYY-MM-DD"):i&&(t=e(i).add(this.getDurationWeeks(),"weeks")),t},getStartTime:function getStartTime(){var t=this.getStartDateMoment();return t?t.valueOf():null},getStartDisplay:function getStartDisplay(){var e="Date to be announced";return this.get("self_study")?e="Self study":this.hasPartialDate()?e=t.getFormatted(this.getStartDateMoment(),"MMMM YYYY"):this.hasFullDate()&&(e=t.getFormatted(this.getStartDateMoment(),"LL")),e},getStartDisplayShort:function getStartDisplayShort(){var e="Date TBA";return this.get("self_study")?e="Self study":this.hasPartialDate()?e=t.getFormatted(this.getStartDateMoment(),"MMM YYYY"):this.hasFullDate()&&(e=t.getFormatted(this.getStartDateMoment(),"MMM Do")),e},getEndTime:function getEndTime(){var t=this.getEndDateMoment();return null!=t?t.valueOf():null},getEndDisplay:function getEndDisplay(){var e="Date to be announced",i=this.getEndDateMoment();return this.get("self_study")?e="":i?e=t.getFormatted(i,"LL"):this.hasPartialDate()?e=t.getFormatted(i,"MMMM YYYY"):this.hasFullDate()&&(e=t.getFormatted(i,"LL")),e},getEndDisplayShort:function getEndDisplayShort(e){e||(e="ll");var i=this.getEndDateMoment();return null!=i?t.getFormatted(i,e):""},getSuperCustomChineseOnlyTranslatedCoursesDisplay:function getSuperCustomChineseOnlyTranslatedCoursesDisplay(){return this.isChineseOnly()?"(Chinese/) ":""},getStartDiff:function getStartDiff(){var e=99999999,i=this.getStartDateMoment();return i&&(e=t.getDiffFromToday(i)),e},getEndDiff:function getEndDiff(){var e=99999999,i=this.getEndDateMoment();return i&&(e=t.getDiffFromToday(i)),e},getStartPercent:function getStartPercent(){var i=0,e=this.getStartDateMoment();if(e){var r=t.getDiffFromToday(e),n=e.diff(this.getEndDateMoment(),"days");i=Math.min(Math.abs(Math.ceil(r/n*100)),100)}return i},getStartCountdown:function getStartCountdown(){var r="",e=this.getStartDateMoment(),i=this.getStartStatus();if(e){var n=t.getDiffFromToday(e);r="present"==i&&0===n?"Starting soon":"present"==i&&0>n?"Started "+t.getFromNow(e):"past"==i?"Ended "+t.getFromNow(this.getEndDateMoment()):"Starts "+t.getFromNow(e)}return r},getStartStatus:function getStartStatus(){if(this.get("self_study"))return"present";var r=this.getStartDateMoment();if(null===r)return"future";var e=t.getDiffFromToday(r),n=this.getEndDateMoment();if(null==n)return e>0?"future":"present";var i=t.getDiffFromToday(n);if(e>0&&i>0)return"future";if(0>e&&0>i)return"past";if(0>=e&&i>=0)return"present"},getDashboardStartStatus:function getDashboardStartStatus(){var e=this.getStartStatus();if("future"===e||"present"===e)return e;if("past"===e){var n=this.getStartDateMoment(),i=t.getDiffFromToday(n),a=this.getEndDateMoment(),r=t.getDiffFromToday(a);if(0>i&&0>r)return"past";if(0>=i&&r>=0)return"present"}},getCourseButtonState:function getCourseButtonState(){var n=this.getStartStatus(),e=this.get("active"),d=this.get("user_is_enrolled"),l=this.get("self_study"),i="past"===n,g="present"===n,u="future"===n,s=this.certificateIsReady(),a=this.getsSignatureTrackCert(),c=this.get("eligible_for_certificates")||a,h=this.hasStatement(),f="/accomplishments",o=this.get("topic").getSpecialization(),m=!(!o||!r.user.getSpecializationBulkVoucher(o.id)),S={GO_TO_CLASS:1,JOIN:2,JOIN_FOR_FREE:3,VIEW_CLASS_ARCHIVE:4,COUNTDOWN:5,VIEW_COURSE_RECORD:6,GRADING_IN_PROGRESS:7,GRADING_IN_PROGRESS_VIEW_ARCHIVE:8},t={link:this.get("class_link"),text:"JOIN_FOR_FREE",color:"blue",disabled:!1,tooltip:"",priority:4};if((this.get("topic").isFlaggedForNoPaymentSpecialization()||m)&&(t.text="JOIN"),!d)return t;return l||e&&!i?(t.color="green",i?t.text="VIEW_CLASS_ARCHIVE":t.text="GO_TO_CLASS"):e||!u&&!g?i&&(t.color="blue",t.text="VIEW_COURSE_RECORD",t.link=f,c?s?a?t.tooltip="CONGRATS_GET_VC":h?t.tooltip="CONGRATS_GET_SOA":t.tooltip="DID_NOT_GET_SOA_GET_GRADE":e?(t.link=this.get("class_link"),t.text="GRADING_IN_PROGRESS_VIEW_ARCHIVE",t.tooltip="GRADING_IN_PROGRESS_VIEW_ARCHIVE"):(t.text="GRADING_IN_PROGRESS",t.tooltip="GRADING_IN_PROGRESS",t.disabled=!0):s?t.tooltip="GET_YOUR_GRADE":(t.tooltip="COURSE_NO_SOA",t.disabled=!0)):(t.text="COUNTDOWN",t.color="green",t.disabled=!0),t.priority=S[t.text],t},getSignatureTrackRegistrationTimeLeft:function getSignatureTrackRegistrationTimeLeft(){return t.getFromNow(e(this.get("signature_track_close_time")),!0)},getSignatureTrackPaymentDeadline:function getSignatureTrackPaymentDeadline(){return t.getFormattedDateString(this.get("signature_track_close_time"))},getSignatureTrackRefundEndDate:function getSignatureTrackRefundEndDate(){return t.getFormattedDateString(this.get("signature_track_refund_deadline"))},getFlexjoinPaymentDeadline:function getFlexjoinPaymentDeadline(){return t.getFormattedDateString(this.get("flexjoin_payment_close_time"))},getSignatureTrackProfileCompletionDate:function getSignatureTrackProfileCompletionDate(){return t.getFormattedDateString(this.get("signature_track_profile_creation_cutoff"))},certificateIsReady:function certificateIsReady(){return this.get("certificates_ready")&&null!=this.get("auth_review_completion_date")&&null!=this.get("end_of_class_emails_sent")},isChineseOnly:function isChineseOnly(){if(!this.has("topic"))return!1;var t=_(i.chineseOnlyTopicToCourses).chain().values().flatten().value();return!!_(t).contains(this.get("id"))},canGetCourseRefundVouchers:function canGetCourseRefundVouchers(){return this.getStartDateMoment().isBefore("2015-05-01")}});module.exports=o});
define("js/collections/courses",["require","exports","module","backbone","underscore","js/lib/language","js/models/course"],function(require,exports,module){var Backbone=require("backbone"),_=require("underscore"),e=require("js/lib/language"),t=require("js/models/course"),n=function isChinese(){return"zh"===e.getLanguageCode()},o=220752e6,r=Backbone.Collection.extend({model:t});r.toArray=function(r){return r instanceof Backbone.Collection?r.toArray():r},r.withRecords=function(e,t){var n=_(r.toArray(e)).filter(function(r){var u=r.get("record");if(r.certificateIsReady()&&u){var e=r.getsSignatureTrackCert(),n=r.getsSOA(),o=r.passClass();switch(t){case 0:return!o;case 1:return n&&!e;case 2:return e;case 3:return!e&&!n&&o;default:return!1}}return!1});return n},r.byExperimentalChineseTranslatedCoursesOrder=function(e){return n()?_(r.toArray(e)).sortBy(function(r){return r.isChineseOnly()?"a":"b"}):_(r.toArray(e)).sortBy(function(r){return r.isChineseOnly()?"b":"a"})},r.byTime=function(e){return _(r.toArray(e)).sortBy(function(r){var e=r.getStartTime()||41007456e5;return"past"===r.getStartStatus()?e+100*o:e})},r.byTimeDescending=function(e){return r.byTime(e).reverse()},r.byTimeFromNow=function(e){return _(r.toArray(e)).sortBy(function(r){return Math.abs(r.getStartTime()-(new Date).getTime())})},r.byPrimaryButtonRelevance=function(e){return _(r.toArray(e)).sortBy(function(r){return r.getCourseButtonState().priority})},r.forId=function(e,t){return _(r.toArray(e)).find(function(r){if(r.get("id")==t)return r})},r.openCourses=function(e){return _(r.toArray(e)).filter(function(r){return r.isOpen()})},r.haveActiveSignatureTrack=function(e){return _(r.openCourses(e)).filter(function(r){return r.isSignatureTrackOpen()})},module.exports=r});
define("js/models/topic",["require","exports","module","backbone","jquery","underscore","bundles/catalogP/lib/stringifyList","js/collections/courses","js/json/constants","i18n!js/json/nls/topics","js/lib/coursera","js/lib/language","js/lib/path","js/lib/util"],function(require,exports,module){var Backbone=require("backbone"),$=require("jquery"),_=require("underscore"),u=require("bundles/catalogP/lib/stringifyList"),t=require("js/collections/courses"),n=require("js/json/constants"),g=require("i18n!js/json/nls/topics"),e=require("js/lib/coursera"),o=require("js/lib/language"),r=require("js/lib/path"),a=require("js/lib/util"),i={},s=Backbone.Model.extend({defaults:{},idAttribute:"short_name",initialize:function initialize(){this.bind("change",this.updateComputed,this),this.updateComputed()},get:function get(e){var t=this.constructor.__super__.get.apply(this,arguments);switch(e){case"name":return g(t);default:return t}},getUnlocalizedName:function getUnlocalizedName(){this.constructor.__super__.get.apply(this,"name")},updateComputed:function updateComputed(){var h=this;if(this.get("universities")&&1==this.get("universities").length&&!this.get("universities")[0]&&this.set("universities",[]),this.get("courses")&&this.get("courses")instanceof t||(this.set("courses",new t(this.get("courses")),{silent:!0}),this.get("courses").each(function(t){t.get("topic")&&t.get("topic")instanceof s||t.set("topic",h)})),this.get("short_description")&&this.set("short_description",this.get("short_description").replace(/(<([^>]+)>)/gi,""),{silent:!0}),this.set("social_link",e.config.url.base+"course/"+this.get("short_name"),{silent:!0}),!this.get("hash_tag")){var i=this.get("short_name");"gamification"==i&&(i="gamification14"),"totalleadership"==i&&(i="TotalLeadership14"),this.set("hash_tag",i,{silent:!0})}this.get("universities")&&1==this.get("universities").length&&this.set("uni_twitter",this.get("universities")[0].website_twitter,{silent:!0});var g=t.byTime(this.get("courses")),r=_.find(g,function(t){return t.isOpen()});this.set("open_course",r,{silent:!0});var u=[];r?u=r.get("instructors"):_.each(g,function(t){t.get("instructors")&&t.get("instructors").length&&(u=t.get("instructors"))}),this.set("instructors",u,{silent:!0}),this.set("universities_display",a.prettyJoin(_.pluck(this.get("universities"),"name")),{silent:!0});var c=o.toLanguageCode(this.get("language"));this.set("language_group",c,{silent:!0}),this.set("language_name",o.languageCodeToName(this.get("language")),{silent:!0});var l=c+","+(this.get("subtitle_languages_csv")||"");this.set("subtitle_language_groups",l,{silent:!0}),_(n.openCourses).contains(this.get("short_name"))&&this.set("on-demand",!0,{silent:!0})},sync:function sync(i){var t=this;this.get("has_full_data")?i():this.get("short_name")&&$.when(e.api.get("topic/information",{data:{"topic-id":t.get("short_name")},message:{waiting:"loading course details ..."}}),e.api.get("user/instructorprofile",{data:{topic_short_name:t.get("short_name"),exclude_topics:1},message:{waiting:"loading course details..."}})).done(function(e,s){t.set(e[0]),t.set("instructor_profiles",s[0]),i()}).fail(function(t){i(t.status)})},isUpcoming:function isUpcoming(){return this.get("open_course")?this.get("open_course").getStartDiff()>0&&this.get("open_course").getStartDiff()<30:!1},getCoursesAvailableForSignatureTrackEnrollment:function getCoursesAvailableForSignatureTrackEnrollment(t){return this.get("courses").filter(function(e){var i=this.get("is_capstone")&&e.isSignatureTrackOpen(),s=e.isSignatureTrackOpen(),n=t&&t.isEnrolledInCourse(e.get("id"))&&e.isSignatureTrackOpen();return e.isEligibleForSignatureTrack()&&"past"!==e.getStartStatus()&&(i||s||n)}.bind(this))},getCourseById:function getCourseById(t){return this.get("courses").find(function(e){return e.get("id")==t})},getLink:function getLink(){return r.join(e.config.url.base,this.getRelativeLink())},getLinkClass:function getLinkClass(){return this.get("on-demand")?"":"internal-home"},getRelativeLink:function getRelativeLink(){return this.get("on-demand")?r.join("/learn",this.get("short_name")):r.join("/course",this.get("short_name"))},getTwitterText:function getTwitterText(e){e=e||"I'm taking";var s=e+" "+this.get("name"),t=" on @Coursera!",i=s.length+t.length;return this.get("social_link")&&(i+=this.get("social_link").length),this.get("hash_tag")&&(i+=this.get("hash_tag").length),this.get("uni_twitter")&&140>i&&(t=" from @"+this.get("uni_twitter")+t),s+t},getFacebookText:function getFacebookText(){return"I'm taking "+this.get("name")+" on Coursera!"},getUniqueUniversities:function getUniqueUniversities(){return _.uniq(this.get("universities"),!1,function(t){return t.id})},hasEligibleForSignatureTrack:function hasEligibleForSignatureTrack(){return this.get("on-demand")?!1:this.get("courses").any(function(t){return t.isEligibleForSignatureTrack()})},hasOpenEnrollForSignatureTrack:function hasOpenEnrollForSignatureTrack(){return this.get("courses").find(function(t){return t.isOpen()&&t.isSignatureTrackOpen()})?!0:!1},hasFutureSignatureTrackCourse:function hasFutureSignatureTrackCourse(){return this.get("courses").any(function(t){return t.isSignatureTrackOpen()||"future"===t.getStartStatus()&&t.isEligibleForSignatureTrack()&&(t.hasPartialDate()||t.hasFullDate())})},getSignatureTrackCost:function getSignatureTrackCost(){var e=t.byTime(this.get("courses")),i=e.filter(function(t){return"past"!==t.getStartStatus()});return _(0!==i.length?i:e).chain().invoke("get","signature_track_price").compact().last().value()||0},getSTCertCorner:function getSTCertCorner(){var t=$.Deferred();if(this.get("short_name")in i)t.resolve(i[this.get("short_name")].corner);else{if(this.get("universities")&&this.get("universities").length>0)return a.getSTCertCorner(this.get("universities")[0].short_name);t.resolve("https://s3.amazonaws.com/coursera/universities/_generic/signature-cert-corner.png")}return t},getSTCertIcon:function getSTCertIcon(){var t=$.Deferred();if(this.get("short_name")in i)t.resolve(i[this.get("short_name")].icon);else{if(this.get("universities")&&this.get("universities").length>0)return a.getSTCertIcon(this.get("universities")[0].short_name);t.resolve("https://s3.amazonaws.com/coursera/universities/_generic/signature-cert-icon.png")}return t},getSpecialization:function getSpecialization(){return _.first(this.get("specializations")||[])},isCapstone:function isCapstone(){return this.has("topicinspecializations")?_.any(this.get("topicinspecializations"),function(t){return t.is_capstone}):this.get("is_capstone")},getEstimatedWorkload:function getEstimatedWorkload(t){return _(["zh-cn"]).contains(t)?this.get("estimated_class_workload").replace("-","").replace(" hours/week",""):this.get("estimated_class_workload")},checkEligibleForCapstone:function checkEligibleForCapstone(t){return t=t||{},_.any(this.get("topicinspecializations"),function(e){return t[e.specialization_id]})},isFlaggedForNoPaymentSpecialization:function isFlaggedForNoPaymentSpecialization(){var t=this.getSpecialization(),e=t&&_(n.specializationsFlaggedForNoPayment).contains(t.short_name),i=_(n.topicsFlaggedForNoPayment).contains(this.get("short_name"));return e||i},getUniversityNamesString:function getUniversityNamesString(){return u(_(this.get("universities")).pluck("name"))}});s.getByShortName=function(t){var e=new s({short_name:t});return e},module.exports=s});
define("js/collections/topics",["require","exports","module","backbone","jquery","moment","underscore","js/json/constants","js/lib/cookie","js/lib/coursera","js/lib/util","js/models/topic"],function(require,exports,module){var Backbone=require("backbone"),$=require("jquery"),o=require("moment"),_=require("underscore"),r=require("js/json/constants"),u=require("js/lib/cookie"),i=require("js/lib/coursera"),s=require("js/lib/util"),c=require("js/models/topic"),t=Backbone.Collection.extend({model:c,retrieve:function retrieve(n,e){var t=this;t.length?e(null,t):require(["js/models/topicsearch"],function(r){var n=new r({collection:this,orderby:"new","page-size":1e3});n.on("finishLoad",function(){e(null,t)}),n.fetchPage()})},getByShortName:function getByShortName(n,t){var e=this,r=e.find(function(t){return t.get("short_name")==n});r?t(null,r):e.length?t(null,null):e.retrieve({},function(r,i){r?t(r):e.getByShortName(n,t)})},getByUniversity:function getByUniversity(r,t){var e=this,n=e.filter(function(t){return _.any(t.get("universities"),function(t){return t.short_name==r})});n&&n.length?t(n):e.length?t(null):e.retrieve({},function(n,i){n?t(n):e.getByUniversity(r,t)})},getByCategory:function getByCategory(r,t){var e=this,n=e.filter(function(t){return _.any(t.get("categories"),function(t){return t.short_name==r})});n&&n.length?t(n):e.length?t(null):e.retrieve({},function(n,i){n?t(n):e.getByCategory(r,t)})},getByInstructor:function getByInstructor(r,t){var e=this,n=e.filter(function(t){return _.contains(t.get("instructors"),r)});n&&n.length?t(n):e.length?t(null):e.retrieve({},function(n,i){n?t(n):e.getByInstructor(r,t)})}});t.toArray=function(t){return t instanceof Backbone.Collection?t.toArray():t},t.byTime=function(e){var n=new Date(2100,12,30).getTime();return _.sortBy(t.toArray(e),function(e){var t=e.get("open_course");return t&&t.getStartTime()||n})},t.byCurrentlyRunning=function(r){var e=_.groupBy(t.toArray(r),function(t){if(t.get("on-demand"))return"flex";if(t.get("open_course")){var e=t.get("open_course");return e.getStartDiff()<=0&&e.getEndDiff()>0?"current":e.getEndDiff()<=0?"ended":"tba"}return"other"}),n=_.sortBy(e.current,function(t){return-t.get("open_course").getStartDiff()}),i=_.sortBy(e.ended,function(t){return-t.get("open_course").getEndDiff()});return e.flex&&(n=e.flex.concat(e.current||[])),_.union(n,i)},t.byUpcoming=function(i){var e=u.get("__204u")||"1234",s=function rankGenerator(n){var f=20,u=7,s=r.openCourses.length,c=s/u,a=parseInt(c*f),i=o().week(),g=n.charCodeAt(0)-96,l=n.charCodeAt(1)-96,p=e.charCodeAt(3),d=e.charCodeAt(4),t=parseInt(g*l*p/d*(i-9/(i+7)))%a;return 0>t&&(t=-t),t-14},n=1e6;return _.sortBy(t.toArray(i),function(t){if(_.contains(r.pinnedCourses,t.get("short_name")))return-21;if(t.get("on-demand"))return s(t.get("short_name"));if(t.get("open_course"))return t.get("open_course").getStartDiff()>-14?t.get("open_course").getStartDiff():t.get("open_course").getStartDiff()+n;return 2*n})},t.byUpcomingWithCount=function(r,i){var e=1e6,n=0,o=_.sortBy(t.toArray(r),function(t){if(t.get("open_course")){var r=t.get("open_course").getStartDiff();return r>0&&i>r?(n++,t.get("open_course").getStartDiff()):t.get("open_course").getStartDiff()+e}return 2*e});return{topics:o,count:n}},t.byName=function(e){return _.sortBy(t.toArray(e),function(t){return t.get("name")})},t.byDuration=function(e){return _.sortBy(t.toArray(e),function(t){if(t.get("open_course"))return t.get("open_course").getDurationWeeks();return 1e3})},t.byAdded=function(e){return _.sortBy(t.toArray(e),function(t){return-t.get("id")})},t.matchingSearch=function(n,r){var e=r.match(/\w+|"[^"]+"/g);e=_.map(e,function(t){return t.replace(/"/g,"")});var i=_.map(e,function(t){return new RegExp("\\b"+t,"i")}),o=_.filter(t.toArray(n),function(t){var e=_.pluck(t.get("universities"),"name"),n=e.join(" "),r=_.pluck(t.get("universities"),"short_name").join(" "),o=_.pluck(t.get("categories"),"name").join(" "),u=(t.get("short_description")||"").split(/\W+/).join(" ");return _.all(i,function(e){return e.test(t.get("name"))||e.test(n)||e.test(o)||e.test(t.get("short_description"))||e.test(r)||e.test(u)||_.any(t.get("instructors"),function(t){return e.test(s.concatName(t))})})});return o},t.forUniversity=function(e,n){var r=_.filter(t.toArray(e),function(t){var e=_.pluck(t.get("universities"),"short_name");return-1!=e.indexOf(n)});return r},t.forCategory=function(e,n){var r=_.filter(t.toArray(e),function(t){var e=_.pluck(t.get("categories"),"short_name");return-1!=e.indexOf(n)});return r};var n=function parseRelatedModel(n,r,t,e,i){_.each(n,function(n){if(n[t]){var o=n[t];n[e]=[],_.each(o,function(t){var o=_.find(r,function(e){return e[i]==t});n[e].push(o)})}})};t.parse=function(t){n(t.topics,t.unis,"unis","universities","id"),n(t.topics,t.cats,"cats","categories","id"),_.each(t.courses,function(e){t.topics[e.topic_id].courses=t.topics[e.topic_id].courses||[],n([e],t.insts,"instructors","instructors","instructor_id"),t.topics[e.topic_id].courses.push(e)});var e=_.values(t.topics);return e};var e;t.singletonReadAll=function(){if(e)return e;e=$.Deferred();var n="topic/list2",r={unis:["id","name","short_name","partner_type","favicon","home_link","display","abbr_name"].join(),topics:["id","language","name","short_name","subtitle_languages_csv","self_service_course_id","small_icon_hover","large_icon","short_description"].join(),cats:["id","name","short_name"].join(),insts:["id","first_name","middle_name","last_name","short_name","user_profile__user__instructor__id"].join(),courses:["id","start_day","start_month","start_year","status","signature_track_open_time","signature_track_close_time","eligible_for_signature_track","duration_string","home_link","topic_id","active"].join()};return i.api.get(n,{data:r}).done(function(n){t.nonblockingBackbonify(n,e)}).fail(function(){e.reject()}),e},t.similarTopics=function(t,e){var n=_({topic_ids:t.join()}).extend(e);return i.api.get("topic/similartopics",{data:n})},t.nonblockingBackbonify=function(r,o){function worker(){for(var t=(new Date).getTime();e<n.length&&(new Date).getTime()<t+100;)i.add(n[e]),e++;e<n.length?setTimeout(worker,0):o.resolve(i,r)}var e=0,i=new t,n=t.parse(r);worker()},module.exports=t});
define("js/models/instructor",["require","exports","module","backbone","underscore","js/collections/topics","js/lib/coursera","js/lib/util","js/lib/path"],function(require,exports,module){var Backbone=require("backbone"),_=require("underscore"),t=require("js/collections/topics"),e=require("js/lib/coursera"),i=require("js/lib/util"),s=require("js/lib/path"),n=Backbone.Model.extend({initialize:function initialize(){this.updateComputed(),this.on("change",this.updateComputed,this)},updateComputed:function updateComputed(){this.get("topics")&&this.get("topics")instanceof t||this.set("topics",new t(this.get("topics")),{silent:!0}),this.set("full_name",i.concatName({first_name:this.get("first_name"),middle_name:this.get("middle_name"),last_name:this.get("last_name")}),{silent:!0})},getDecoratedName:function getDecoratedName(){var t="";return this.get("prefix_name")&&(t+=this.get("prefix_name")+" "),t+=this.get("full_name"),this.get("suffix_name")&&(t+=", "+this.get("suffix_name")),t},getPrettyWebsiteUrl:function getPrettyWebsiteUrl(){return i.prettifyUrl(this.get("website"))},getLink:function getLink(){var t=this.get("short_name")||"~"+this.get("id");return s.join(e.config.url.base,"instructor",t)},shouldDisplay:function shouldDisplay(){return this.getDecoratedName()},sync:function sync(t){var i=this;_.isUndefined(i.get("bio"))?(this.get("short_name")||this.get("profile_id"))&&e.api.get("user/instructorprofile",{data:{id:this.get("profile_id"),short_name:this.get("short_name")}}).done(function(e){i.set(e[0]),t()}).fail(function(e){t(e.status)}):t()}});module.exports=n});
define("js/collections/instructors",["require","exports","module","backbone","js/models/instructor"],function(require,exports,module){var Backbone=require("backbone"),t=require("js/models/instructor"),e=Backbone.Collection.extend({model:t,byLastName:function byLastName(){return new e(this.sortBy(function(e){return e.get("last_name")}))}});module.exports=e});
!function(o){var n=function cloudfrontApi(_,t){var n=function CloudfrontApi(n,o){this.api=n,this.config=o,this.cloudfrontEnabled=t.cors&&0===o.url.cloudfront_api.indexOf("http")};return n.prototype.get=function(t,n){return this.cloudfrontEnabled&&0!==t.indexOf("http")&&(t=this.config.url.cloudfront_api+t),n=n||{},n.data=n.data||{},n.data.__cf_version=this.config.version,o.location.origin||(o.location.origin=o.location.protocol+"//"+o.location.host),n.data.__cf_origin=o.location.origin,this.api.get(t,n)},function(o,t){return new n(o,t)}};"function"==typeof define&&define.amd?define("js/lib/cloudfront.api",["underscore","js/lib/supports"],function(_,o){return n(_,o)}):"undefined"!=typeof o&&(o.CloudfrontApi=n(o._,o.Supports))}(window);
define("js/models/university",["require","exports","module","backbone","js/collections/instructors","js/collections/topics","i18n!js/json/nls/universities","js/lib/coursera","js/lib/path","js/lib/util"],function(require,exports,module){var Backbone=require("backbone"),t=require("js/collections/instructors"),s=require("js/collections/topics"),e=require("i18n!js/json/nls/universities"),i=require("js/lib/coursera"),n=require("js/lib/path"),o=require("js/lib/util"),r=Backbone.Model.extend({defaults:{},get:function get(s){var t=this.constructor.__super__.get.apply(this,arguments);switch(s){case"name":return e(t);default:return t}},getUnlocalizedName:function getUnlocalizedName(){return this.constructor.__super__.get.apply(this,"name")},initialize:function initialize(){this.updateComputed(),this.on("change",this.updateComputed,this)},updateComputed:function updateComputed(){this.get("topics")&&this.get("topics")instanceof s||this.set("topics",new s(this.get("topics")),{silent:!0}),this.get("instructors")&&this.get("instructors")instanceof t||this.set("instructors",new t(this.get("instructors")),{silent:!0})},getPrettyWebsiteUrl:function getPrettyWebsiteUrl(){return o.prettifyUrl(this.get("website"))},getLink:function getLink(){return this.get("home_link")||n.join(i.config.dir.home,this.get("short_name"))},getSquareLogo:function getSquareLogo(){return this.get("square_logo")},getDescription:function getDescription(t){return"whartonchinese"===t?"\n\n":this.get("description")}});module.exports=r});
define("js/collections/universities",["require","exports","module","backbone","jquery","underscore","bundles/catalogP/lib/stringifyList","js/lib/cloudfront.api","js/lib/coursera","js/lib/language","js/models/university"],function(require,exports,module){var Backbone=require("backbone"),$=require("jquery"),_=require("underscore"),t=require("bundles/catalogP/lib/stringifyList"),i=require("js/lib/cloudfront.api"),n=require("js/lib/coursera"),o=require("js/lib/language"),u=require("js/models/university"),e=Backbone.Collection.extend({model:u,comparator:function comparator(e){return o.latinizeText(e.get("name")).toLowerCase()},getNamesString:function getNamesString(){return t(this.models.map(function(e){return e.get("name")}))},getUnlocalizedNamesString:function getUnlocalizedNamesString(){return t(this.models.map(function(e){return e.getUnlocalizedName()}))}}),r;e.singletonRead=function(){if(r)return r;r=$.Deferred();var t=i(n.api,n.config);return t.get("university/list").done(function(n){r.resolve(new e(n))}).fail(function(t,i,e){r.reject(t,i,e),n.router.trigger("error",500,location.href,{message:"error loading universities: "+e})}),r},e.groupByPartnerType=function(e){return _.groupBy(e.toArray(),function(e){return e.get("partner_type")||1})},e.getNormalPartners=function(r){return e.groupByPartnerType(r)[1]||[]},e.getStateSystems=function(r){return e.groupByPartnerType(r)[2]||[]},module.exports=e});
define("js/models/specialization",["require","exports","module","underscore","js/collections/instructors","js/collections/topics","js/collections/universities","js/json/constants","i18n!js/json/nls/specializations","js/app/config","bundles/phoenix/template/models/requestCountryCode","js/lib/prices","js/lib/coursera","js/lib/path","js/lib/util","js/vendor/backbone.v1-1-2","bundles/s12n/service/constants"],function(require,exports,module){function parseJson(t){return JSON.parse(t||"{}")}var _=require("underscore"),r=require("js/collections/instructors"),d=require("js/collections/topics"),a=require("js/collections/universities"),o=require("js/json/constants"),u=require("i18n!js/json/nls/specializations"),c=require("js/app/config"),n=require("bundles/phoenix/template/models/requestCountryCode"),f=require("js/lib/prices"),i=require("js/lib/coursera"),s=require("js/lib/path"),l=require("js/lib/util"),Backbone=require("js/vendor/backbone.v1-1-2"),h=require("bundles/s12n/service/constants"),g=o.specializationsFlaggedForPriceChange,p=o.specializationsFlaggedForNoPayment,t={parseAndUpdateJsonAttributes:function parseAndUpdateJsonAttributes(){if(this.has("what_youll_learn")&&this.set("what_youll_learn",parseJson(this.get("what_youll_learn")),{silent:!0}),this.has("recommended_background")&&this.set("recommended_background",parseJson(this.get("recommended_background")),{silent:!0}),this.has("aux_info")){var t=parseJson(this.get("aux_info"));t.capstone?!this.get("capstoneCost")&&t.capstone.cost&&this.set("capstoneCost",t.capstone.cost,{silent:!0}):t.capstone={},this.set("aux_info",t,{silent:!0})}else this.set("aux_info",{capstone:{}},{silent:!0})},updateTopicCollection:function updateTopicCollection(){var t=new d(this.get("topics"));this.set("topics",t,{silent:!0})},updateNextOpenCourse:function updateNextOpenCourse(){var t=this.get("topics").chain().pluck("open_course").compact().reduce(function(t,e){var s=e.getStartDateMoment();return null===t||s<t.getStartDateMoment()?e:t},null).value();t&&this.set("next_open_course",t,{silent:!0})},updateUniversities:function updateUniversities(){"whartonfoundations"===this.get("short_name")&&_(this.get("universities")).each(function(t){"University of Pennsylvania"===t.name&&(t.name="The Wharton School, University of Pennsylvania")});var t=new a(this.get("universities"),{comparator:null});this.set("universities",t,{silent:!0})},updateInstructors:function updateInstructors(){var t=new r(this.get("instructors"),{comparator:null});this.set("instructors",t,{silent:!0})}},e=Backbone.Model.extend({initialize:function initialize(){this.listenTo(this,"change",this.updateComputed),this.updateComputed()},get:function get(e){var t=this.constructor.__super__.get.apply(this,arguments);switch(e){case"name":return u(t);default:return t}},getUnlocalizedName:function getUnlocalizedName(){return this.constructor.__super__.get.apply(this,"name")},updateComputed:function updateComputed(){t.updateTopicCollection.call(this),t.updateNextOpenCourse.call(this),t.updateUniversities.call(this),t.updateInstructors.call(this),t.parseAndUpdateJsonAttributes.call(this)},isFlaggedForPriceChange:function isFlaggedForPriceChange(){return _.contains(g,this.get("short_name"))},getCapstone:function getCapstone(){var t=this.get("aux_info");return t&&t.capstone},getNumOtherCourses:function getNumOtherCourses(){return Math.max(this.get("topics").length-1,0)},getTotalCost:function getTotalCost(){var t=this.get("topics").reduce(function(t,e,s,n){return s===n.length-1?t+this.getCapstoneCost():t+e.getSignatureTrackCost()}.bind(this),0);return t},getFirstCourseCost:function getFirstCourseCost(){var t=this.get("topics").first();return t&&t.getSignatureTrackCost()||0},getCapstoneCost:function getCapstoneCost(){var t=this.get("topics").last(),e=t&&t.getSignatureTrackCost();return e||this.get("capstoneCost")||0},getCourseCost:function getCourseCost(){var t;return t=this.isFlaggedForPriceChange()?this.getTotalCost()-this.getFirstCourseCost():this.getTotalCost()-this.getCapstoneCost(),Math.floor(t/this.getNumOtherCourses())},getUniversityNamesString:function getUniversityNamesString(){var t=this.get("universities").map(function(t){return t.get("name")});return l.prettyJoin(t,{symbol:!0})},getShortnameMap:function getShortnameMap(){return this.get("universities").chain().map(function(t){return[t.get("name"),t.get("short_name")]}).reduce(function(t,e){return t[e[0]]=e[1],t},{}).value()},getUniversityLogos:function getUniversityLogos(){if(this.get("cert_logo"))return[this.get("cert_logo")];var t=this.get("universities").chain().map(function(t){var e=this.get("aux_info").omit_logo,s=!e||e.indexOf(t.get("id"))<0;if(s)return t.get("logo")||t.get("class_logo")}.bind(this)).compact().value();return t},getSquareLogo:function getSquareLogo(){var t=this.get("aux_info")&&this.get("aux_info").square_logo_override;return t?t[this.get("id")]:null},sync:function sync(t){var e=this,s={data:{currency:f.getCurrencyFromCountry(n),origin:n},message:{waiting:"loading specialization details ..."}};this.get("has_full_data")?t():this.get("preview")?i.api.get("specialization/preview_info/"+this.get("id"),s).done(function(s){e.set("has_full_data",!0,{silent:!0}),e.set(s),t()}).fail(function(e){t(e.status)}):this.get("id")&&i.api.get("specialization/info/"+this.get("id"),s).done(function(s){e.set("has_full_data",!0,{silent:!0}),e.set(s),t()}).fail(function(e){t(e.status)})},getLink:function getLink(){return s.join(c.dir.home,h.s12nRoot,this.get("short_name"))},getPaymentLink:function getPaymentLink(){return this.get("display")?s.join("/specialization/payment",this.get("short_name"),this.id):"#"},isFlaggedForNoPayment:function isFlaggedForNoPayment(){return _.contains(p,this.get("short_name"))}});e.getById=function(t){return new e({id:t})},module.exports=e});
define("pages/specialization/common/maestroApi",["require","exports","module","bundles/phoenix/constants","js/lib/api"],function(require,exports,module){var i=require("bundles/phoenix/constants").config,e=require("js/lib/api");module.exports=e(i.url.api)});
define("pages/specialization/common/data/specialization",["require","exports","module","jsuri","bundles/phoenix/template/models/requestCountryCode","js/lib/prices","js/lib/path","q","pages/specialization/common/maestroApi"],function(require,exports,module){var i=require("jsuri"),e=require("bundles/phoenix/template/models/requestCountryCode"),o=require("js/lib/prices"),r=require("js/lib/path"),t=require("q"),a=require("pages/specialization/common/maestroApi");module.exports=function(n,s,u){var p=(new i).setPath(r.join("specialization",s?"preview_info":"info",n)).addQueryParam("currency",o.getCurrencyFromCountry(e)).addQueryParam("origin",e).toString();return t(a.get(p))}});

define("pages/specialization/common/promises/specialization",["require","exports","module","js/models/specialization","memoize!pages/specialization/common/data/specialization"],function(require,exports,module){var e=require("js/models/specialization"),i=require("memoize!pages/specialization/common/data/specialization");module.exports=function(s){var a=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return a=Object.assign({preview:!1},a),i(s,a.preview,a).then(function(i){return new e(Object.assign({has_full_data:!0},i))})}});
define("bundles/payments/promises/getS12n",["require","exports","module","memoize!bundles/catalogP/promises/s12ns","bundles/s12n/lib/specializationToS12nTransform","pages/specialization/common/promises/specialization"],function(require,exports,module){var e=require("memoize!bundles/catalogP/promises/s12ns"),s=require("bundles/s12n/lib/specializationToS12nTransform"),i=require("pages/specialization/common/promises/specialization"),n=["logo","overrideData","description","metadata","capstone"],o={partners:{fields:["name"]},courses:{fields:["name","description","workload"]}};module.exports={fromId:function fromId(a){var r,t=!isNaN(a);return r=t?i(a).then(s):e({id:a,fields:n,includes:o}).then(function(e){return e.at(0)}),r.done(),r}}});
define("bundles/payments/models/cart",["require","exports","module","backbone-associations","underscore","bundles/epic/client","bundles/payments/models/cart/auxiliaryInfo","bundles/payments/models/cartItems","bundles/payments/models/cartItem","bundles/payments/promises/getCourse","bundles/payments/promises/getS12n"],function(require,exports,module){var Backbone=require("backbone-associations"),_=require("underscore"),s=require("bundles/epic/client"),n=require("bundles/payments/models/cart/auxiliaryInfo"),t=require("bundles/payments/models/cartItems"),r=require("bundles/payments/models/cartItem"),e=require("bundles/payments/promises/getCourse"),i=require("bundles/payments/promises/getS12n"),a=Backbone.AssociatedModel.extend({relations:[{type:Backbone.Many,key:"items",collectionType:t,relatedModel:r}],defaults:{paymentProcessorId:"braintree",countryIsoCode:null,currencyCode:null,userId:null},parse:function parse(e){var r=_(e.cart).extend({originalTotalCartAmount:e.originalTotalCartAmount,totalCartAmount:e.totalCartAmount,currencyCode:e.currencyCode,auxiliaryCartInfo:e.cart.auxiliaryCartInfo&&e.cart.auxiliaryCartInfo.length>0?new n(e.cart.auxiliaryCartInfo):null}),i=e.paymentProcessorResponse;i&&(r.braintreeClientToken=i.clientToken);var a=_(e.cartItems).map(function(t){return _(t.cartItem).extend({promotionInfo:t.promotionInfo})});return r.items=new t(a),r.items.each(function(t){t.has("parentCartItemId")&&t.set("parentCartItem",r.items.get(t.get("parentCartItemId")))}),r},bootstrapCartItemsMetadataPromise:function bootstrapCartItemsMetadataPromise(){var t=this.getFirstCartItem(),n=t.get("productItemId"),r;if(t.isPhoenixVC())r=e.openCourseFromId(n).then(function(e){t.set("metadata",e)});else if(t.isSparkVC())r=e.getFromSessionId(n).then(function(e){var r=e.getVCSessions().find(function(t){return t.get("id")===parseInt(n,10)});t.set("refundDeadline",r.get("vcDetails").getRefundDeadline()),t.set("metadata",e)});else{var a=t.isSparkSpecialization()?"spark":"phoenix";r=i.fromId(n).then(function(e){t.set("metadata",e);var n=e.get("courses");this.get("items").each(function(t){var e;e="spark"===a?n.find(function(e){return e.get("details.upcomingSessionId")===parseInt(t.get("productItemId"),10)}):n.findWhere({id:t.get("productItemId")}),e&&t.set("metadata",e)})}.bind(this))}return r.then(function(){return this}.bind(this))},getOriginalTotalAmount:function getOriginalTotalAmount(){return this.get("originalTotalCartAmount")},getDiscountPercent:function getDiscountPercent(){return this.getFirstCartItem().getDiscountPercent()},hasDiscountPercent:function hasDiscountPercent(){return!!this.getDiscountPercent()},getDiscountAmount:function getDiscountAmount(){return this.getFirstCartItem().getDiscountAmount()},getTotalAmount:function getTotalAmount(){return this.get("totalCartAmount")},getCurrencyCode:function getCurrencyCode(){return this.get("currencyCode")},getCartImage:function getCartImage(){return this.get("items[0]").getImage()},getTopLevelCartItems:function getTopLevelCartItems(){return this.get("items").filter(function(t){return!t.has("parentCartItemId")})},getContinueInfo:function getContinueInfo(){if(this.has("auxiliaryCartInfo")){var n=this.get("auxiliaryCartInfo").getContinueInfo(this);return n}var t=this.getFirstCartItem();if(t.isVC())return{link:t.get("metadata").getLink(),title:t.getName(),description:t.getDescription()};if(t.isSpecialization()){var e=t.getChildItems()[0];return t.isSparkSpecialization()?{link:e.get("metadata").getLink(),title:e.getName(),description:e.getDescription()}:{link:e.get("metadata").getHomeLink(),title:e.getName(),description:e.getDescription()}}},getFirstCartItem:function getFirstCartItem(){return this.get("items[0]")},hasDiscount:function hasDiscount(){return!!this.getDiscountAmount()},isZeroCart:function isZeroCart(){return 0===this.getTotalAmount()},getCartItemType:function getCartItemType(){return this.getFirstCartItem().getItemTypeString()},getMainDescription:function getMainDescription(){return this.getFirstCartItem().getDescription()}});module.exports=a});
define("bundles/payments/promises/createCart",["require","exports","module","underscore","bundles/phoenix/template/models/requestCountryCode","bundles/payments/data/createCart","bundles/phoenix/template/models/userIdentity","bundles/payments/models/cart","js/lib/prices"],function(require,exports,module){var _=require("underscore"),e=require("bundles/phoenix/template/models/requestCountryCode"),t=require("bundles/payments/data/createCart"),r=require("bundles/phoenix/template/models/userIdentity"),n=require("bundles/payments/models/cart"),s=require("js/lib/prices");module.exports=function(a){a=_.extend({},{userId:r.get("id"),currencyCode:s.getCurrencyFromCountry(e),countryIsoCode:e,auxiliaryCartInfo:a.auxiliaryCartInfo?a.auxiliaryCartInfo:[]},a);var o=t(a).then(function(e){return new n(e.elements[0],{parse:!0})});return o.done(),o}});
define("bundles/payments/promises/createVCCart",["require","exports","module","underscore","bundles/payments/promises/createCart","bundles/payments/constants"],function(require,exports,module){var _=require("underscore"),e=require("bundles/payments/promises/createCart"),t=require("bundles/payments/constants");module.exports=function(n,r){r=_.extend({},{productItems:[{productType:t.ProductType.VERIFIED_CERTIFICATE,productItemId:n,productAction:"Buy",cartItemIdToRefund:{}}]},r);var s=e(r);return s.done(),s}});

define('css!bundles/payments/components/__styles__/RedirectToCheckout',[],function(){})
define("bundles/payments/components/RedirectToCheckout",["require","exports","module","react-with-addons","bundles/phoenix/template/models/userAuthorization","js/lib/coursera.react-intl","bundles/payments/constants","bundles/payments/promises/createVCCart","js/lib/path","js/lib/coursera.redirect","jsuri","js/app/retracked","bundles/phoenix/components/Modal","i18n!nls/payments","css!./__styles__/RedirectToCheckout"],function(require,exports,module){var e=require("react-with-addons"),n=require("bundles/phoenix/template/models/userAuthorization"),r=require("js/lib/coursera.react-intl"),s=r.FormattedHTMLMessage,o=require("bundles/payments/constants"),a=require("bundles/payments/promises/createVCCart"),p=require("js/lib/path"),i=require("js/lib/coursera.redirect"),c=require("jsuri"),l=require("js/app/retracked"),d=require("bundles/phoenix/components/Modal"),u=require("i18n!nls/payments");require("css!./__styles__/RedirectToCheckout");var t=e.createClass({displayName:"RedirectToCheckout",propTypes:{courseId:e.PropTypes.string.isRequired,showModal:e.PropTypes.bool,shouldOpenFinaid:e.PropTypes.bool,onCloseModal:e.PropTypes.func},getDefaultProps:function getDefaultProps(){return{showModal:!0,shouldOpenFinaid:!1}},getInitialState:function getInitialState(){return{showError:!1}},componentWillMount:function componentWillMount(){var e=this.props,r=e.shouldOpenFinaid,t=e.courseId;this.track=l.makeTracker({namespace:"monetization.redirect_to_checkout",include:{course_id:function course_id(){return t}}}),n.ensureAuthenticated()&&a(t).then(function(e){var t=r?"finaid":"checkout",s=(new c).setPath(p.join(o.rootPath,t)).addQueryParam("cartId",e.get("id"));i.setLocation(s)}).fail(function(e){if(this.track("error.create_vc_cart"),this.setState({showError:!0}),!e.responseJSON)throw e}.bind(this)).done()},render:function render(){var t=e.createElement(s,{message:u('Sorry, looks like an error occurred.\n        Please <a href="https://learner.coursera.help/hc/requests/new",\n        target="_blank">contact Coursera to sign up for a Certificate</a>.')}),r=e.createElement(d,{handleClose:this.props.onCloseModal,modalName:"Error creating cart"},e.createElement("div",{className:"styleguide container"},e.createElement("span",{className:"body-1-text"},t)));return e.createElement("div",{className:"rc-RedirectToCheckout"},this.state.showError&&(this.props.showModal?r:t))}});module.exports=t});
define("nls/certificate-enroll",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define("bundles/certificate-enroll/components/FinaidLink",["require","exports","module","react-with-addons","pages/open-course/common/models/course","js/lib/coursera.react-intl","bundles/payments/components/RedirectToCheckout","i18n!nls/certificate-enroll"],function(require,exports,module){var e=require("react-with-addons"),t=require("pages/open-course/common/models/course"),n=require("js/lib/coursera.react-intl"),i=n.FormattedHTMLMessage,a=require("bundles/payments/components/RedirectToCheckout"),r=require("i18n!nls/certificate-enroll"),c=e.createClass({displayName:"FinaidLink",contextTypes:{track:e.PropTypes.func.isRequired,course:e.PropTypes.instanceOf(t).isRequired},getInitialState:function getInitialState(){return{redirectToFinaid:!1}},handleClick:function handleClick(e){"A"===e.target.tagName&&(this.context.track("click.finaid"),this.setState({redirectToFinaid:!0}))},render:function render(){return e.createElement("div",{className:"rc-FinaidLink"},e.createElement("div",{className:"caption"},e.createElement("p",{className:"caption-text",onClick:this.handleClick},e.createElement(i,{message:r('Financial Aid is available only for learners who cannot afford the fee.\n                <a href="#">Learn more and apply.</a>')}))),this.state.redirectToFinaid&&e.createElement(a,{courseId:this.context.course.get("id"),showModal:!1,shouldOpenFinaid:!0}))}});module.exports=c});
define("bundles/certificate-enroll/components/FinaidLinkOnModal",["require","exports","module","react-with-addons","bundles/certificate-enroll/components/FinaidLink"],function(require,exports,module){var e=require("react-with-addons"),n=require("bundles/certificate-enroll/components/FinaidLink"),i=e.createClass({displayName:"FinaidLinkOnModal",render:function render(){return e.createElement("div",{className:"rc-FinaidLinkOnModal styleguide horizontal-box align-items-absolute-center bgcolor-black-g2"},e.createElement("div",{className:"align-center"},e.createElement(n,null)))}});module.exports=i});
define("bundles/certificate-enroll/constants",["require","exports","module"],function(require,exports,module){module.exports={enrollStates:{enrolled:"Enrolled",enrolling:"Enrolling",notEnrolled:"NotEnrolled"}}});
function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(l,n){for(var t=0;t<n.length;t++){var e=n[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(l,e.key,e)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();define("bundles/certificate-enroll/stores/EnrollStore",["require","exports","module","js/lib/alt","bundles/certificate-enroll/actions/EnrollActions","bundles/certificate-enroll/constants","bundles/phoenix/template/models/userAuthorization"],function(require,exports,module){var n=require("js/lib/alt"),l=require("bundles/certificate-enroll/actions/EnrollActions"),r=require("bundles/certificate-enroll/constants"),e=r.enrollStates,t=require("bundles/phoenix/template/models/userAuthorization"),a=function(){function EnrollStore(){_classCallCheck(this,EnrollStore),this.bindActions(l),this.enrolled=e.notEnrolled,this.hasCertificate=!1,this.showModal=!1}return _createClass(EnrollStore,[{key:"updateEnrolled",value:function updateEnrolled(e){this.setState({enrolled:e})}},{key:"updateHasCertificate",value:function updateHasCertificate(e){this.setState({hasCertificate:e})}},{key:"openModalWithRedirectUrlAfterAuth",value:function openModalWithRedirectUrlAfterAuth(e){t.ensureAuthenticated({redirectUrl:e})&&this.setState({showModal:!0})}},{key:"updateShowModal",value:function updateShowModal(e){t.ensureAuthenticated()&&this.setState({showModal:e})}}],[{key:"getHasEnrolledWithCert",value:function getHasEnrolledWithCert(){var t=this.getState(),n=t.enrolled,l=t.hasCertificate;return n===e.enrolled&&l}},{key:"getHasEnrolledWithoutCert",value:function getHasEnrolledWithoutCert(){var t=this.getState(),n=t.enrolled,l=t.hasCertificate;return n===e.enrolled&&!l}}]),EnrollStore}();module.exports=n.createStore(a,"EnrollStore")});

define('css!bundles/certificate-enroll/components/__styles__/EnrollModal',[],function(){})
define("bundles/certificate-enroll/components/EnrollModal",["require","exports","module","react-with-addons","bundles/certificate-enroll/actions/EnrollActions","bundles/certificate-enroll/components/FinaidLinkOnModal","bundles/certificate-enroll/stores/EnrollStore","bundles/phoenix/components/Modal","css!./__styles__/EnrollModal"],function(require,exports,module){var e=require("react-with-addons"),t=require("bundles/certificate-enroll/actions/EnrollActions"),l=require("bundles/certificate-enroll/components/FinaidLinkOnModal"),n=require("bundles/certificate-enroll/stores/EnrollStore"),o=require("bundles/phoenix/components/Modal");require("css!./__styles__/EnrollModal");var i=e.createClass({displayName:"EnrollModal",propTypes:{children:e.PropTypes.element.isRequired,modalTitle:e.PropTypes.string.isRequired,showFinaidLink:e.PropTypes.bool},contextTypes:{track:e.PropTypes.func.isRequired},getInitialState:function getInitialState(){return n.getState()},getDefaultProps:function getDefaultProps(){return{showFinaidLink:!1}},componentWillMount:function componentWillMount(){n.listen(this.onChange)},componentWillUnmount:function componentWillUnmount(){n.unlisten(this.onChange)},handleCloseModal:function handleCloseModal(){this.context.track("click.enroll_modal_close"),t.updateShowModal(!1)},onChange:function onChange(){this.setState(n.getState())},render:function render(){var n=e.createElement(o,{handleClose:this.handleCloseModal,modalName:this.props.modalTitle},e.createElement("div",{className:"title container"},e.createElement("h3",{className:"bt3-modal-title align-horizontal-center"},this.props.modalTitle)),e.createElement("div",{className:"content align-left"},this.props.children),this.props.showFinaidLink&&e.createElement(l,null));return e.createElement("div",{className:"rc-EnrollModal"},this.state.showModal&&n)}});module.exports=i});
define("bundles/page/lib/uriManager",["require","exports","module","jsuri","js/app/loggerSingleton","js/lib/coursera.redirect"],function(require,exports,module){var e=require("jsuri"),r=require("js/app/loggerSingleton"),i=require("js/lib/coursera.redirect");module.exports={parseAndDeleteQueryParam:function parseAndDeleteQueryParam(a){if(void 0===typeof window)return r.error("parseAndRemoveQueryParam is called but window is undefined"),!1;var n=new e(window.location.href),o=n.getQueryParamValue(a);if(!o)return!1;return n.deleteQueryParam(a),i.replaceUrl(n.toString()),o}}});
define("pages/hut/common/views/nls/interfaceStrings",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define("pages/hut/common/utils/social",["require","exports","module","underscore","i18n!pages/hut/common/views/nls/interfaceStrings"],function(require,exports,module){var _=require("underscore"),e=require("i18n!pages/hut/common/views/nls/interfaceStrings"),r=" via @coursera".length,t=130;module.exports={getPartnerTwitterNames:function getPartnerTwitterNames(e){if(e.get("partners")){var r=e.get("partners").models;return _(r).reduce(function(r,t){var e=t.get("links");if(e&&e.twitter){var n=""===r?"@":" & @";return r+n+e.twitter}return""},"")}return""},getTwitterText:function getTwitterText(n){var i=n.get("name"),u=n.getFullLink(),s=this.getPartnerTwitterNames(n);if(s){var a=e("I'm taking #{courseName} from #{partners}!",{courseName:i,partners:s});if(a.length+r+(u.length+1)<=t)return a}return e("I'm taking #{courseName}!",{courseName:i})}}});

define('css!bundles/spark-cdp/components/__styles__/ShareButtons',[],function(){})
define("bundles/spark-cdp/components/ShareButtons",["require","exports","module","jquery","react-with-addons","bundles/socialPlugins/lib","js/lib/language","pages/hut/common/utils/social","js/lib/thirdParties","css!./__styles__/ShareButtons"],function(require,exports,module){var $=require("jquery"),e=require("react-with-addons"),t=require("bundles/socialPlugins/lib"),a=require("js/lib/language"),s=require("pages/hut/common/utils/social");require("js/lib/thirdParties"),require("css!./__styles__/ShareButtons");var r=e.createClass({displayName:"ShareButtons",propTypes:{course:e.PropTypes.object.isRequired},getDefaultProps:function getDefaultProps(){return{twitterStartPhrase:null}},componentDidMount:function componentDidMount(){t.load($(this.getDOMNode()))},render:function render(){var t=this.props.course,n=t.getLink(),r="c-cs-share-button bt3-col-xs-6";return e.createElement("div",{className:"rc-ShareButtons bt3-row c-cs-share-buttons"},e.createElement("div",{className:r},e.createElement("div",{className:"fb-share-button","data-layout":"button_count","data-href":n,"data-js":"facebook-share"})),e.createElement("div",{className:r},e.createElement("div",{className:"g-plusone","data-size":"medium","data-annotation":"bubble","data-href":n})),e.createElement("div",{className:r},e.createElement("a",{className:"twitter-share-button",href:"https://twitter.com/share","data-url":t.getFullLink(),"data-lang":a.getMomentLanguage(),"data-text":s.getTwitterText(t),"data-via":"coursera"},"Tweet")),e.createElement("div",{className:r},e.createElement("div",{className:"wechat-share-button","data-link":n,"data-imgurl":t.get("photoUrl"),"data-title":t.get("name"),"data-description":t.get("description")})))}});module.exports=r});
define("bundles/certificate-enroll/components/EnrollInCourseWithoutCertConfirmModal",["require","exports","module","react-with-addons","bundles/certificate-enroll/actions/EnrollActions","bundles/certificate-enroll/components/EnrollModal","bundles/common/constants/CourseRoles","bundles/page/lib/uriManager","bundles/spark-cdp/components/ShareButtons","js/components/Imgix","i18n!nls/certificate-enroll"],function(require,exports,module){var e=require("react-with-addons"),r=require("bundles/certificate-enroll/actions/EnrollActions"),n=require("bundles/certificate-enroll/components/EnrollModal"),o=require("bundles/common/constants/CourseRoles"),l=require("bundles/page/lib/uriManager"),s=require("bundles/spark-cdp/components/ShareButtons"),a=require("js/components/Imgix"),t=require("i18n!nls/certificate-enroll"),c="bundles/certificate/assets/images/ic_welcome_nocert_course.png",i=e.createClass({displayName:"EnrollInCourseWithoutCertConfirmModal",propTypes:{course:e.PropTypes.object.isRequired,redirectUrlAfterEnroll:e.PropTypes.string.isRequired,isPreEnroll:e.PropTypes.bool.isRequired},contextTypes:{track:e.PropTypes.func.isRequired},onConfirm:function onConfirm(){var t=l.parseAndDeleteQueryParam("action"),e=this.props,s=e.course,a=e.redirectUrlAfterEnroll,c=e.isPreEnroll,n={redirectUrlAfterEnroll:a};c&&Object.assign(n,{role:o.PRE_ENROLLED_LEARNER}),"enroll"===t||"preenroll"===t?this.context.track("preenroll"):this.context.track("preenroll"),r.enrollWithoutCertificate(s,n)},render:function render(){var r=this.props.course;return e.createElement(n,{modalTitle:r.get("name")},e.createElement("div",{className:"rc-EnrollInCourseWithoutCertConfirmModal"},e.createElement("div",{className:"horizontal-box"},e.createElement("div",{className:"flex-3"},e.createElement(a,{alt:"Certificate",className:"certificate",src:c})),e.createElement("div",{className:"flex-9"},e.createElement("h3",null,t("Welcome to the course. Click the button below to access the course materials and discussions.")))),e.createElement("div",{className:"horizontal-box align-self-center start-learning-container"},e.createElement("span",{onClick:this.onConfirm,className:"styleguide nostyle start-learning-button-link"},e.createElement("button",{className:"primary align-horizontal-center"},t("Start Learning")))),e.createElement("div",{className:"share-buttons-container"},e.createElement(s,{course:r}))))}});module.exports=i});

define('css!bundles/certificate-enroll/components/__styles__/RadioButton',[],function(){})
define("bundles/certificate-enroll/components/RadioButton",["require","exports","module","react-with-addons","css!./__styles__/RadioButton.css"],function(require,exports,module){var e=require("react-with-addons");require("css!./__styles__/RadioButton.css");var t=e.createClass({displayName:"RadioButton",propTypes:{value:e.PropTypes.string,title:e.PropTypes.string.isRequired,isChecked:e.PropTypes.bool},render:function render(){var t="bt3-radio rc-RadioButton "+this.props.value;return e.createElement("div",{className:t},e.createElement("label",{className:"horizontal-box align-items-vertical-center"},e.createElement("input",{type:"radio",name:"payment-choice",value:this.props.value,defaultChecked:this.props.isChecked}),e.createElement("span",{className:"cif-stack"},e.createElement("i",{className:"cif-circle-thin cif-stack-2x"}),e.createElement("i",{className:"cif-circle cif-stack-1x"})),e.createElement("h4",null,this.props.title)),e.createElement("div",{className:"subtext"},this.props.children))}});module.exports=t});
define("bundles/certificate-enroll/components/SelectPricingOption",["require","exports","module","react-with-addons","underscore","bundles/certificate-enroll/components/RadioButton","bundles/certificate-enroll/constants","bundles/certificate-enroll/stores/EnrollStore","bundles/page/lib/uriManager","bundles/payments/models/productPrice","bundles/phoenix/template/models/requestCountryCode","js/app/loggerSingleton","js/components/Imgix","js/lib/coursera.react-intl","js/lib/prices","pages/open-course/common/models/course","i18n!nls/certificate-enroll"],function(require,exports,module){var e=require("react-with-addons"),_=require("underscore"),o=require("bundles/certificate-enroll/components/RadioButton"),f=require("bundles/certificate-enroll/constants"),r=f.enrollStates,n=require("bundles/certificate-enroll/stores/EnrollStore"),a=require("bundles/page/lib/uriManager"),l=require("bundles/payments/models/productPrice"),m=require("bundles/phoenix/template/models/requestCountryCode"),c=require("js/app/loggerSingleton"),i=require("js/components/Imgix"),p=require("js/lib/coursera.react-intl"),u=p.FormattedNumber,s=require("js/lib/prices"),d=require("pages/open-course/common/models/course"),t=require("i18n!nls/certificate-enroll"),h=e.createClass({displayName:"CertificateRosette",render:function render(){return e.createElement("div",{className:"flex-1"},e.createElement(i,{alt:i.DECORATIVE,src:"bundles/certificate/assets/images/ic_choose_cert.png"}))}}),g=e.createClass({displayName:"CertificateCaption",propTypes:{text:e.PropTypes.string.isRequired},render:function render(){return e.createElement("div",{className:"flex-11"},e.createElement("p",{className:"caption-text"},this.props.text))}}),y=e.createClass({displayName:"SelectPricingOption",propTypes:{onSelectOption:e.PropTypes.func.isRequired,price:e.PropTypes.oneOfType([e.PropTypes.instanceOf(l),e.PropTypes.number]).isRequired,localizePrice:e.PropTypes.bool},contextTypes:{track:e.PropTypes.func.isRequired,course:e.PropTypes.instanceOf(d).isRequired},getInitialState:function getInitialState(){return n.getState()},getDefaultProps:function getDefaultProps(){return{localizePrice:!1}},componentWillMount:function componentWillMount(){n.listen(this.onChange)},componentWillUnmount:function componentWillUnmount(){n.unlisten(this.onChange)},handleClick:function handleClick(){var e=this.getSelectedChoice().value;if(this.context.track("click.enroll_modal_continue",{action:e}),"enroll"===a.parseAndDeleteQueryParam("action")){var t="certificate"===e?"emit.auto_select_certificate_option":"emit.auto_enroll";this.context.track(t)}this.props.onSelectOption(e)},onChange:function onChange(){this.setState(n.getState())},getSelectedChoice:function getSelectedChoice(){var e=this.getDOMNode().querySelectorAll('input[type="radio"]'),t=_(e).findWhere({checked:!0});return t},render:function render(){if(!this.props.price)return c.error("Price is not provided to SelectPricingOption"),!1;var n="primary align-horizontal-center",i;i=this.props.localizePrice?this.props.price.getDisplayCurrencyCode?this.props.price.getDisplayCurrencyCode():s.getCurrencyFromCountry(m):"USD";var l=e.createElement("span",null,e.createElement("span",null,t("Full course with Certificate"),"  "),e.createElement(u,{style:"currency",value:this.props.price.getDisplayAmount?this.props.price.getDisplayAmount():this.props.price,currency:i,maximumFractionDigits:0,minimumFractionDigits:0}));return e.createElement("div",{className:"rc-SelectPricingOption"},e.createElement(o,{title:l,isChecked:!0,value:"certificate"},e.createElement("div",{className:"horizontal-box caption"},e.createElement(h,null),e.createElement(g,{text:t("Commit to earning a Certificate-it's a trusted, shareable way to  showcase your new skills.")}))),e.createElement(o,{title:t("Full Course, No Certificate"),value:"noCertificate"},e.createElement("div",{className:"caption"},e.createElement("p",{className:"caption-text"},t("You will still have access to all course materials for this course.")))),e.createElement("hr",null),e.createElement("div",{className:"horizontal-box align-self-center"},this.state.enrolled===r.notEnrolled&&e.createElement("button",{className:n,onClick:this.handleClick},t("Continue")),this.state.enrolled!==r.notEnrolled&&e.createElement("button",{className:n,disabled:!0},e.createElement("i",{className:"cif-spinner cif-spin"}))))}});module.exports=y});
define("bundles/certificate-enroll/components/PhoenixEnrollModal",["require","exports","module","react-with-addons","bundles/certificate-enroll/actions/EnrollActions","bundles/certificate-enroll/components/EnrollInCourseWithoutCertConfirmModal","bundles/certificate-enroll/components/EnrollModal","bundles/epic/client","bundles/certificate-enroll/components/SelectPricingOption","bundles/certificate-enroll/constants","bundles/certificate-enroll/stores/EnrollStore","bundles/payments/components/RedirectToCheckout","bundles/payments/promises/productPrices","bundles/phoenix/template/models/userIdentity","bundles/common/constants/CourseRoles","pages/open-course/common/models/course"],function(require,exports,module){var e=require("react-with-addons"),n=require("bundles/certificate-enroll/actions/EnrollActions"),s=require("bundles/certificate-enroll/components/EnrollInCourseWithoutCertConfirmModal"),a=require("bundles/certificate-enroll/components/EnrollModal"),o=require("bundles/epic/client"),c=require("bundles/certificate-enroll/components/SelectPricingOption"),l=require("bundles/certificate-enroll/constants"),r=l.enrollStates,t=require("bundles/certificate-enroll/stores/EnrollStore"),i=require("bundles/payments/components/RedirectToCheckout"),d=require("bundles/payments/promises/productPrices"),u=d.getPriceForVC,p=require("bundles/phoenix/template/models/userIdentity"),m=require("bundles/common/constants/CourseRoles"),h=require("pages/open-course/common/models/course"),f=e.createClass({displayName:"PhoenixEnrollModal",propTypes:{isPreEnroll:e.PropTypes.bool.isRequired,children:e.PropTypes.node.isRequired},contextTypes:{course:e.PropTypes.instanceOf(h).isRequired,track:e.PropTypes.func.isRequired},getInitialState:function getInitialState(){return t.getState()},componentWillMount:function componentWillMount(){var e=this,n=this.context.course;t.listen(this.onChange),u({courseId:n.get("id")}).then(function(t){return e.setState({price:t})}).fail(function(t){if(!t.responseJSON)throw e.context.track("error.welcome",t),t;e.context.track("error.welcome",{response:t.responseJSON})}).done(),this.showFinaidLink=n.isVerificationEnabled()&&o.get("Finaid","rolloutShowFinaidLink")&&"onEnrollment"===o.get("Finaid","showFinaidLink")},componentWillUnmount:function componentWillUnmount(){t.unlisten(this.onChange)},onChange:function onChange(){this.setState(t.getState())},onSelectOption:function onSelectOption(t){n.updateEnrolled(r.enrolling);var e="certificate"===t;n.updateHasCertificate(e),e||(this.props.isPreEnroll?n.enroll(this.context.course,{role:m.PRE_ENROLLED_LEARNER}):n.enrollWithoutCertificate(this.context.course)),n.updateEnrolled(r.enrolled)},renderContent:function renderContent(){var n=this.context.course;return n.isVerificationEnabled()?e.createElement(a,{modalTitle:n.get("name"),showFinaidLink:this.showFinaidLink},!t.getHasEnrolledWithoutCert()&&this.state.price&&e.createElement(c,{price:this.state.price,localizePrice:!0,onSelectOption:this.onSelectOption}),t.getHasEnrolledWithCert()&&e.createElement("div",{className:"error-box"},e.createElement(i,{courseId:n.get("id"),showModal:!1})),t.getHasEnrolledWithoutCert()&&this.props.children):e.createElement(s,{course:n,isPreEnroll:this.props.isPreEnroll,redirectUrlAfterEnroll:n.getHomeLink()})},render:function render(){if(!p.get("authenticated"))return null;return e.createElement("div",{className:"rc-PhoenixEnrollModal"},this.renderContent())}});module.exports=f});
define("bundles/certificate-enroll/components/OpenCourseEnrollModal",["require","exports","module","react-with-addons","bundles/certificate-enroll/components/PhoenixEnrollModal","js/lib/retracked","pages/open-course/common/models/course"],function(require,exports,module){var e=require("react-with-addons"),o=require("bundles/certificate-enroll/components/PhoenixEnrollModal"),n=require("js/lib/retracked"),r=require("pages/open-course/common/models/course"),s=e.createClass({displayName:"OpencourseEnrollModal",propTypes:{course:e.PropTypes.instanceOf(r).isRequired,isPreEnroll:e.PropTypes.bool.isRequired,children:e.PropTypes.node.isRequired},childContextTypes:{course:e.PropTypes.instanceOf(r),track:e.PropTypes.func},getChildContext:function getChildContext(){var r=this,e=this.props.course;return{course:e,track:n.makeTracker({namespace:"open_course.assessment",include:{isPreEnroll:function isPreEnroll(){return r.props.isPreEnroll},open_course_id:function open_course_id(){return e.get("id")},open_course_slug:function open_course_slug(){return e.get("slug")}}})}},render:function render(){return e.createElement("div",{className:"rc-OpencourseEnrollModal"},e.createElement(o,{isPreEnroll:this.props.isPreEnroll},this.props.children))}});module.exports=s});
define("bundles/payments/promises/createSpecializationCart",["require","exports","module","underscore","bundles/payments/promises/createCart"],function(require,exports,module){var _=require("underscore"),e=require("bundles/payments/promises/createCart");module.exports=function(n,t){t=_.extend({},{productItems:[{productType:"Specialization",productItemId:n,productAction:"Buy",cartItemIdToRefund:{}}]},t);var r=e(t);return r.done(),r}});
define("bundles/s12n-enroll/components/lib/enrollment",["require","exports","module","bundles/payments/models/cart/auxiliaryInfo","bundles/payments/models/cart/courseEnrollInfoItem","bundles/payments/promises/createSpecializationCart","bundles/payments/promises/createVCCart","bundles/phoenix/template/models/userIdentity","js/lib/coursera.redirect","jsuri","pages/open-course/common/promises/membership"],function(require,exports,module){var n=require("bundles/payments/models/cart/auxiliaryInfo"),s=require("bundles/payments/models/cart/courseEnrollInfoItem"),r=require("bundles/payments/promises/createSpecializationCart"),i=require("bundles/payments/promises/createVCCart"),a=require("bundles/phoenix/template/models/userIdentity"),e=require("js/lib/coursera.redirect"),t=require("jsuri"),o=require("pages/open-course/common/promises/membership");exports.freeEnroll=function(e){return function(){if(this.context.track("click.free_access"),!this.context.userS12n.isSpark())return o(a.get("id"),this.context.course.get("id")).invoke("enroll",e)}},exports.singleEnroll=function(n){return function(){if(this.context.track("click.single_access"),!this.context.userS12n.isSpark()){var s=i(n.get("id")).then(function(n){var s=(new t).setPath("/payments/checkout").addQueryParam("cartId",n.get("id"));e.setLocation(s)});return s.done(),s}var r=n.get("details.sessions").getVCRegistrationOpenSessions().first().get("id"),a=n.getSlug();e.setLocation("/signature/specializationPayment/"+a+"/"+r)}},exports.fullEnroll=function(i){return function(){var a=this.context.userS12n;if(this.context.track("click.full_access"),!a.isSpark()){var o={};i&&(o.auxiliaryCartInfo=new n([new s({definition:{courseId:i}})]).toJSON());var c=r(a.getMetadata("id"),o).then(function(n){var s=(new t).setPath("/payments/checkout").addQueryParam("cartId",n.get("id"));e.setLocation(s)});return c.done(),c}e.setLocation("/specialization/payment/"+a.getMetadata().getSlug()+"/"+a.getMetadata("id"))}}});
define("bundles/product/models/courseOwnership",["require","exports","module","backbone-associations"],function(require,exports,module){var Backbone=require("backbone-associations"),e=Backbone.AssociatedModel.extend({parse:function parse(e){return e.userSettings={optedOutOfVerification:e.optedOutOfVerification},delete e.optedOutOfVerification,e}});module.exports=e});
define("bundles/product/models/courseOwnerships",["require","exports","module","backbone","bundles/product/models/courseOwnership"],function(require,exports,module){var Backbone=require("backbone"),e=require("bundles/product/models/courseOwnership"),o=Backbone.Collection.extend({model:e,owns:function owns(o){var e=this.findWhere({courseId:o});return!(!e||!e.get("owns"))}});module.exports=o});
define("bundles/s12n-common/lib/addPricesToSpecialization",["require","exports","module","bundles/payments/models/productPrice","bundles/product/models/courseOwnerships","bundles/phoenix/template/models/requestCountryCode","js/lib/prices"],function(require,exports,module){function toCatalogId(e){return"v1-"+e}var t=require("bundles/payments/models/productPrice"),o=require("bundles/product/models/courseOwnerships"),e=require("bundles/phoenix/template/models/requestCountryCode"),r=require("js/lib/prices"),n=function addPrices(c){var n=c.metadata,m=c.ownership,p=c.sparkMetadata,l=new o(m.get("s12nCourseOwnerships").where({owns:!1})).pluck("courseId");p.get("topics").each(function(o){var i="SparkVerifiedCertificate",c=toCatalogId(o.get("id").toString()),u=r.getCurrencyFromCountry(e),s=e,d=[i,c,u,s].join("~"),a=new t({productType:i,productItemId:c,currencyCode:u,countryIsoCode:s,id:d,amount:o.getSignatureTrackCost(),finalAmount:o.getSignatureTrackCost(),formattedFinalAmount:{amount:o.getSignatureTrackCost(),currencyCode:u,currencySymbol:r.getSymbolFromCurrency(u),formattedString:""}}),m=n.get("courses").find(function(e){return e.get("id")===toCatalogId(o.get("id"))});m.set("price",a)});var i=n.get("courses").reduce(function(e,r){return l.indexOf(r.get("id"))>=0?e+r.get("price").getDisplayAmount():e},0),d="SparkSpecialization",a=n.get("id"),u=r.getCurrencyFromCountry(e),s=e,g=[d,a,u,s].join("~"),y=new t({productType:d,productItemId:a,currencyCode:u,countryIsoCode:s,priceCountryIsoCode:s,id:g,amount:i,finalAmount:i,formattedFinalAmount:{amount:i,currencyCode:u,currencySymbol:r.getSymbolFromCurrency(u),formattedString:""}});return n.set("price",y),n};module.exports=n});
function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createDecoratedClass=function(){function defineProperties(i,o,u){for(var t=0;t<o.length;t++){var e=o[t],r=e.decorators,n=e.key;if(delete e.key,delete e.decorators,e.enumerable=e.enumerable||!1,e.configurable=!0,("value"in e||e.initializer)&&(e.writable=!0),r){for(var a=0;a<r.length;a++){var s=r[a];if("function"!=typeof s)throw new TypeError("The decorator for method "+e.key+" is of the invalid type "+typeof s);e=s(i,n,e)||e}if(void 0!==e.initializer){u[n]=e;continue}}Object.defineProperty(i,n,e)}}return function(e,t,r,n,a){return t&&defineProperties(e.prototype,t,n),r&&defineProperties(e,r,a),e}}();define("bundles/s12n-common/service/models/userS12n",["require","exports","module","bundles/catalogP/models/courses","bundles/s12n-common/lib/addPricesToSpecialization","bundles/s12n/service/constants"],function(require,exports,module){function requires(){for(var t=arguments.length,r=Array(t),e=0;t>e;e++)r[e]=arguments[e];return function(n,a,e){var t=e.value;e.value=function(){var i=this,n=r.filter(function(e){return!i[e]});if(n.length>0)throw Error("The following required properties are not found: "+n.join(", "));for(var a=arguments.length,s=Array(a),e=0;a>e;e++)s[e]=arguments[e];return t.apply(this,s)}}}function sparkOnly(r,n,e){var t=e.value;e.value=function(){if(!this.isSpark())throw Error("The following property is for Spark Specializations only");for(var r=arguments.length,n=Array(r),e=0;r>e;e++)n[e]=arguments[e];return t.apply(this,n)}}function phoenixOnly(r,n,e){var t=e.value;e.value=function(){if(this.isSpark())throw Error("The following property is for Phoenix Specializations only");for(var r=arguments.length,n=Array(r),e=0;r>e;e++)n[e]=arguments[e];return t.apply(this,n)}}var e=require("bundles/catalogP/models/courses"),t=require("bundles/s12n-common/lib/addPricesToSpecialization"),r=require("bundles/s12n/service/constants"),n=function(){function UserS12n(e){var r=e.metadata,n=e.ownership,a=e.membership,s=e.sparkMetadata;_classCallCheck(this,UserS12n),this.metadata=r,this.ownership=n,this.membership=a,this.sparkMetadata=r,this.hasFullData()&&this.isSpark()&&this.sparkMetadata&&t({metadata:r,ownership:n,sparkMetadata:s})}return _createDecoratedClass(UserS12n,[{key:"hasFullData",value:function hasFullData(){var e=this,t=arguments.length<=0||void 0===arguments[0]?{except:[]}:arguments[0],r=t.except,n=["metadata","ownership","membership"].filter(function(e){return-1===r.indexOf(e)});return n.every(function(t){return e[t]})}},{key:"getMetadata",decorators:[requires("metadata")],value:function getMetadata(e){return e?this.metadata.get(e):this.metadata}},{key:"getOwnership",decorators:[requires("ownership")],value:function getOwnership(e){return e?this.ownership.get(e):this.ownership}},{key:"getMembership",decorators:[requires("membership")],value:function getMembership(e){return e?this.membership.get(e):this.membership}},{key:"getCourseNumber",value:function getCourseNumber(e){return this.getMetadata("courseIds").indexOf(e)+1}},{key:"getNumCourses",value:function getNumCourses(){return this.getMetadata("courseIds").length-1}},{key:"getNextCourseId",value:function getNextCourseId(r){var e=this.getMetadata("courseIds"),t=e.indexOf(r);return t+1<e.length?e[t+1]:null}},{key:"getNextCourse",value:function getNextCourse(t){var e=this.getNextCourseId(t);return e?this.getMetadata("courses").get(e):null}},{key:"isTakingS12n",value:function isTakingS12n(){if(this.isSpark())return this.getMembership().has("id");return this.getMembership().isEnrolled()}},{key:"getUnownedCourses",value:function getUnownedCourses(){var e=this,n=arguments.length<=0||void 0===arguments[0]?{countInterchangeableCredit:!0}:arguments[0],a=n.countInterchangeableCredit,t=this.getOwnership("s12nCourseOwnerships").filter(function(e){return!e.get("owns")}).map(function(e){return e.get("courseId")});if(a){var r=[];return t.forEach(function(n){var t=e.getMetadata("courses").findWhere({id:n});t&&!e.isCoursePassed(t)&&r.push(t)}),r}return this.getMetadata("courses").filter(function(e){return t.indexOf(e.get("id")>0)})}},{key:"getNextUnownedCourse",value:function getNextUnownedCourse(){var e=this.getUnownedCourses();return e.length?e[0]:null}},{key:"getUnownedCoursesExceptCapstone",value:function getUnownedCoursesExceptCapstone(){return new e(this.getUnownedCourses().filter(function(e){return!e.isCapstone()}))}},{key:"ownsAllCoursesExceptCapstone",value:function ownsAllCoursesExceptCapstone(){var e=this.getNextUnownedCourse();return e?e.get("id")===this.getCapstone().get("id"):!1}},{key:"isCoursePassed",value:function isCoursePassed(e){var n=arguments.length<=1||void 0===arguments[1]?{forVc:!0}:arguments[1],t=n.forVc;if(e.hasPassed(t))return!0;var r=this.getInterchangeableCourseCollectionsForCourse(e);if(r)return r.some(function(e){return e.all(function(e){return e.hasPassed(t)})})}},{key:"getInterchangeableCourseCollectionsForCourse",value:function getInterchangeableCourseCollectionsForCourse(t){var e=this.getMetadata("interchangeableMap");return Object.keys(e).length>0?e[t.get("id")]:[]}},{key:"getHybridCourseCollectionsForCourse",decorators:[phoenixOnly],value:function getHybridCourseCollectionsForCourse(e){}},{key:"isInHybridState",decorators:[requires(["metadata","membership","ownership"]),phoenixOnly],value:function isInHybridState(){if(this.isSpark())return!1}},{key:"getCapstone",value:function getCapstone(){return this.getMetadata().getCapstone()}},{key:"isEligibleForCapstone",value:function isEligibleForCapstone(){return this.getMetadata().isEligibleForCapstone()}},{key:"canSparkBulkPay",decorators:[sparkOnly,requires("metadata")],value:function canSparkBulkPay(){var e=this;return this.getMetadata("courses").reduce(function(r,t){try{return r&&(t.isCapstone()&&t.get("price").amount||t.get("details.sessions").filter(function(e){return e.get("status")&&(e.eligibleForSignatureTrack()&&e.get("vcDetails.vcRegistrationOpen")||e.getStartMomentFromToday().days()>=0)}).length>0)}catch(n){throw new Error("Tried to determine Spark bulk pay eligibility on Phoenix Specialization: "+e.getMetadata("id"))}},!0)}},{key:"isSpark",decorators:[requires("metadata")],value:function isSpark(){return r.sparkSpecializationIds.hasOwnProperty(this.getMetadata().getSlug())}}]),UserS12n}();module.exports=n});
define("bundles/s12n-enroll/components/PaymentChoice",["require","exports","module","react-with-addons","classnames"],function(require,exports,module){var e=require("react-with-addons"),s=require("classnames"),t=e.createClass({displayName:"PaymentChoice",propTypes:{title:e.PropTypes.node.isRequired,type:e.PropTypes.oneOf(["full","single","free"]).isRequired,checked:e.PropTypes.bool,children:e.PropTypes.node,disabled:e.PropTypes.bool},getDefaultProps:function getDefaultProps(){return{disabled:!1}},render:function render(){var t="bt3-radio rc-PaymentChoice styleguide "+this.props.type,a=s("choice-title",{disabled:this.props.disabled});return e.createElement("div",{className:t},e.createElement("label",{className:"horizontal-box align-items-vertical-center"},!this.props.disabled&&e.createElement("input",{type:"radio",name:"payment-choice",value:this.props.type,defaultChecked:this.props.checked}),!this.props.disabled&&e.createElement("span",{className:"cif-stack payment-choice-radio-button"},e.createElement("i",{className:"cif-circle-thin cif-stack-2x"}),e.createElement("i",{className:"cif-circle cif-stack-1x"})),this.props.disabled&&e.createElement("i",{className:"cif-times"}),e.createElement("h4",{className:a},this.props.title)),e.createElement("span",{className:"color-secondary-text choice-description"},this.props.children))}});module.exports=t});
define("nls/s12n-enroll",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define("bundles/s12n-enroll/components/PaymentChoiceFull",["require","exports","module","react-with-addons","bundles/certificate-enroll/components/FinaidLink","bundles/s12n-common/service/models/userS12n","bundles/payments/models/productPrice","js/lib/coursera.react-intl","bundles/catalogP/models/course","bundles/s12n-enroll/components/PaymentChoice","i18n!nls/s12n-enroll"],function(require,exports,module){var e=require("react-with-addons"),r=require("bundles/certificate-enroll/components/FinaidLink"),l=require("bundles/s12n-common/service/models/userS12n"),a=require("bundles/payments/models/productPrice"),i=require("js/lib/coursera.react-intl"),s=i.FormattedMessage,t=i.FormattedNumber,o=require("bundles/catalogP/models/course"),c=require("bundles/s12n-enroll/components/PaymentChoice"),n=require("i18n!nls/s12n-enroll"),p=e.createClass({displayName:"PaymentChoiceFull",propTypes:{price:e.PropTypes.instanceOf(a).isRequired,checked:e.PropTypes.bool},contextTypes:{userS12n:e.PropTypes.instanceOf(l),course:e.PropTypes.instanceOf(o),onSdp:e.PropTypes.bool,isCoherentX:e.PropTypes.bool},getBulkPayBodyMessage:function getBulkPayBodyMessage(){var t=this.context.userS12n,i=this.props.price.hasPromotion(),r=t.getUnownedCoursesExceptCapstone().length;return t.isSpark()&&!t.canSparkBulkPay()?n("Pre-pay is currently unavailable because not all courses have scheduled sessions."):t.isTakingS12n()?n(i?"Pre-pay for the remaining courses in the Specialization, Capstone project,\n            and Specialization Certificate, and get a special one-time discount.":"Pre-pay for the remaining courses in the Specialization, Capstone project,\n            and Specialization Certificate."):i?e.createElement(s,{message:n("Pre-pay for all {unownedCourseCount} courses in the Specialization, Capstone project, and Specialization Certificate, and get a special one-time discount."),unownedCourseCount:r}):e.createElement(s,{message:n("Pre-pay for all {unownedCourseCount} courses in the Specialization, Capstone project,\n            and Specialization Certificate."),unownedCourseCount:r})},getBulkPayTitleMessage:function getBulkPayTitleMessage(){function takingS12nDisplay(){return e.createElement("span",null,n("Buy Remaining Courses and Capstone"),"",e.createElement("span",{className:"price"},e.createElement(t,{style:"currency",value:this.props.price.getDisplayAmount(),currency:this.props.price.getDisplayCurrencyCode(),maximumFractionDigits:0,minimumFractionDigits:0})))}function notTakingS12nDisplay(){var i=this.props.price.hasPromotion(),r;i&&(r=this.props.price.getDiscountPercent()?this.props.price.getDiscountPercent()+"%":e.createElement(t,{style:"currency",value:this.props.price.getDiscountAmount(),currency:this.props.price.getDisplayCurrencyCode(),maximumFractionDigits:0,minimumFractionDigits:0}));var a=n(this.context.isCoherentX?"Purchase Specialization":"Pre-Pay");return e.createElement("span",null,e.createElement("span",null,a,""),e.createElement("span",{className:i?"price-line-through-wrapper":""},e.createElement("span",{className:"price"},e.createElement(t,{style:"currency",value:this.props.price.getOriginalAmount(),currency:this.props.price.getDisplayCurrencyCode(),maximumFractionDigits:0,minimumFractionDigits:0}))),i&&e.createElement("span",null,e.createElement("span",{className:"discounted-price"},"",e.createElement(t,{style:"currency",value:this.props.price.getDisplayAmount(),currency:this.props.price.getDisplayCurrencyCode(),maximumFractionDigits:0,minimumFractionDigits:0})),e.createElement("span",{className:"discount-percent-or-amount"},"",e.createElement(s,{message:n("{discountAmountOrPercent} off"),discountAmountOrPercent:r}))))}var i=this.context.userS12n.isTakingS12n();return i?takingS12nDisplay.call(this):notTakingS12nDisplay.call(this)},render:function render(){var n=this.context.userS12n;return e.createElement(c,{title:this.getBulkPayTitleMessage(),checked:this.props.checked,disabled:n.isSpark()&&!n.canSparkBulkPay(),type:"full"},e.createElement("span",null,this.getBulkPayBodyMessage()),this.showFinaidLink&&!this.context.isCoherentX&&e.createElement(r,null))}});module.exports=p});
define("bundles/s12n-enroll/components/PaymentChoiceFree",["require","exports","module","react-with-addons","./PaymentChoice","vendor/cnpm/fluxible.v0-4/addons/connectToStores","i18n!nls/s12n-enroll"],function(require,exports,module){var e=require("react-with-addons"),n=require("./PaymentChoice"),o=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),t=require("i18n!nls/s12n-enroll"),r=e.createClass({displayName:"PaymentChoiceFree",propTypes:{checked:e.PropTypes.bool,canReadAuditEnrollModal:e.PropTypes.bool},renderAudit:function renderAudit(){return e.createElement(n,{title:t("Audit Course"),type:"free",checked:this.props.checked,ref:"freeChoiceTitle"},e.createElement("span",null,t("Explore the course as an auditor, without earning a grade or Certificate.")))},renderFullCourse:function renderFullCourse(){return e.createElement(n,{title:t("Full Course, No certificate"),type:"free",checked:this.props.checked,ref:"freeChoiceTitle"},e.createElement("span",null,t("You won't get a certificate or be in the Specialization, but you can always upgrade later.")))},render:function render(){return this.props.canReadAuditEnrollModal?this.renderAudit():this.renderFullCourse()}});module.exports=o(r,["ContentAccessStore"],function(e){var t=e.ContentAccessStore;return{canReadAuditEnrollModal:t.canReadAuditEnrollModal()}}),module.exports.BaseComp=r});
define("bundles/s12n-enroll/components/PaymentChoiceSingle",["require","exports","module","react-with-addons","bundles/certificate-enroll/components/FinaidLink","bundles/catalogP/models/course","bundles/s12n-common/service/models/userS12n","bundles/payments/models/productPrice","js/lib/coursera.react-intl","./PaymentChoice","i18n!nls/s12n-enroll"],function(require,exports,module){var e=require("react-with-addons"),i=require("bundles/certificate-enroll/components/FinaidLink"),a=require("bundles/catalogP/models/course"),l=require("bundles/s12n-common/service/models/userS12n"),n=require("bundles/payments/models/productPrice"),t=require("js/lib/coursera.react-intl"),p=t.FormattedHTMLMessage,c=t.FormattedMessage,s=t.FormattedNumber,u=require("./PaymentChoice"),r=require("i18n!nls/s12n-enroll"),o=e.createClass({displayName:"PaymentChoiceSingle",propTypes:{price:e.PropTypes.instanceOf(n).isRequired,checked:e.PropTypes.bool},contextTypes:{userS12n:e.PropTypes.instanceOf(l),course:e.PropTypes.instanceOf(a),prices:e.PropTypes.object,isCoherentX:e.PropTypes.bool},getDefaultProps:function getDefaultProps(){return{checked:!1}},getTitle:function getTitle(){var t=this.context.userS12n.isTakingS12n(),e;return e=r(t?this.context.onSdp?"Buy Next Course":"Buy This Course":this.context.isCoherentX?"Purchase Course":"Pay By Course"),e+"  {price}"},renderBody:function renderBody(){return e.createElement(p,{message:r("Purchase <b>{nextCourse}</b> ({coursePrice}),\n          and pay for the rest of the Specialization as you progress."),nextCourse:this.context.course.get("name"),coursePrice:e.createElement(s,{style:"currency",value:this.context.course.get("price").getDisplayAmount(),currency:this.context.course.get("price").getDisplayCurrencyCode(),maximumFractionDigits:0,minimumFractionDigits:0})})},render:function render(){var t=e.createElement(c,{message:this.getTitle(),price:e.createElement(s,{style:"currency",value:this.props.price.getDisplayAmount(),currency:this.props.price.getDisplayCurrencyCode(),maximumFractionDigits:0,minimumFractionDigits:0})}),n=r("\n    Pay for this course only, and get access to graded assignments, a final grade for the course\n    and a shareable Certificate. You can upgrade to the full Specialization later.");return e.createElement(u,{type:"single",title:t,checked:this.props.checked},this.context.isCoherentX?n:this.renderBody(),this.context.isCoherentX&&e.createElement(i,null))}});module.exports=o});

define('css!bundles/s12n-enroll/components/__styles__/PaymentChoiceCapstone',[],function(){})
define("bundles/s12n-enroll/components/PaymentChoiceCapstone",["require","exports","module","react-with-addons","bundles/s12n-common/service/models/userS12n","bundles/payments/models/productPrice","js/lib/coursera.react-intl","./PaymentChoice","css!./__styles__/PaymentChoiceCapstone","i18n!nls/s12n-enroll"],function(require,exports,module){var e=require("react-with-addons"),t=require("bundles/s12n-common/service/models/userS12n"),a=require("bundles/payments/models/productPrice"),s=require("js/lib/coursera.react-intl"),i=s.FormattedMessage,o=s.FormattedNumber,r=require("./PaymentChoice");require("css!./__styles__/PaymentChoiceCapstone");var n=require("i18n!nls/s12n-enroll"),c=e.createClass({displayName:"PaymentChoiceCapstone",propTypes:{price:e.PropTypes.instanceOf(a).isRequired},contextTypes:{userS12n:e.PropTypes.instanceOf(t)},render:function render(){var s=e.createElement(i,{message:n("Capstone  {price}"),price:e.createElement(o,{style:"currency",value:this.props.price.getDisplayAmount(),currency:this.props.price.getDisplayCurrencyCode(),maximumFractionDigits:0,minimumFractionDigits:0})});return e.createElement("div",{className:"rc-PaymentChoiceCapstone"},e.createElement(r,{type:"single",title:s,checked:!0},e.createElement("span",null,n("Pay for the final course in the Specialization. When you complete the Capstone you'll earn a\n            Specialization Certificate.")),!this.context.userS12n.isEligibleForCapstone()&&e.createElement("div",{className:"ineligible-message"},n("You can pay for the Capstone now, but you cannot enroll until you have successfully\ncompleted all other courses in the Specialization."))))}});module.exports=c});

define('css!bundles/s12n-enroll/components/__styles__/PaymentChoices',[],function(){})
define("bundles/s12n-enroll/components/PaymentChoices",["require","exports","module","react-with-addons","bundles/catalogP/models/course","bundles/iconfont/Icon","bundles/page/lib/uriManager","bundles/s12n-enroll/components/lib/enrollment","bundles/s12n-common/service/models/userS12n","bundles/common/constants/CourseRoles","js/lib/coursera.react-intl","./PaymentChoiceFull","./PaymentChoiceFree","./PaymentChoiceSingle","./PaymentChoiceCapstone","i18n!nls/s12n-enroll","vendor/cnpm/fluxible.v0-4/addons/connectToStores","css!./__styles__/PaymentChoices"],function(require,exports,module){var e=require("react-with-addons"),i=require("bundles/catalogP/models/course"),d=require("bundles/iconfont/Icon"),u=require("bundles/page/lib/uriManager"),t=require("bundles/s12n-enroll/components/lib/enrollment"),l=require("bundles/s12n-common/service/models/userS12n"),r=require("bundles/common/constants/CourseRoles"),c=require("js/lib/coursera.react-intl"),E=c.FormattedMessage,a=require("./PaymentChoiceFull"),o=require("./PaymentChoiceFree"),p=require("./PaymentChoiceSingle"),m=require("./PaymentChoiceCapstone"),n=require("i18n!nls/s12n-enroll"),h=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores");require("css!./__styles__/PaymentChoices");var s=e.createClass({displayName:"PaymentChoices",propTypes:{title:e.PropTypes.string.isRequired,showFreeOption:e.PropTypes.bool,onFreeEnroll:e.PropTypes.func,onEnrollSuccess:e.PropTypes.func,onEnrollFailure:e.PropTypes.func,isPreEnroll:e.PropTypes.bool,canReadCdpEnrollForFree:e.PropTypes.bool},contextTypes:{track:e.PropTypes.func.isRequired,course:e.PropTypes.instanceOf(i),userS12n:e.PropTypes.instanceOf(l),isCoherentX:e.PropTypes.bool},getDefaultProps:function getDefaultProps(){return{showFreeOption:!1,onFreeEnroll:function onFreeEnroll(){},title:n("Pick a Payment Option")}},getInitialState:function getInitialState(){return{enrolling:!1}},handleEnroll:function handleEnroll(){var o=u.parseAndDeleteQueryParam("action");"enroll"===o&&this.context.track("emit.auto_select_payment_option");var e=this.getSelectedChoice(),n={free:this.props.isPreEnroll?t.freeEnroll(r.PRE_ENROLLED_LEARNER):t.freeEnroll(r.LEARNER),single:t.singleEnroll(this.context.course),full:t.fullEnroll(this.context.course.get("id"))}[e].call(this);n?("free"===e&&(this.setState({enrolling:!0}),n.then(this.props.onFreeEnroll)),n.then(this.props.onEnrollSuccess,this.props.onEnrollFailure).done()):"free"===e&&this.props.onFreeEnroll()},getSelectedChoice:function getSelectedChoice(){return this.getDOMNode().querySelector('input[type="radio"]:checked').value},renderChoices:function renderChoices(){var t=this.context.userS12n;if(t.ownsAllCoursesExceptCapstone())return e.createElement(m,{price:this.context.userS12n.getCapstone().get("price")});var l=!t.isSpark()||t.canSparkBulkPay(),s=this.context.isCoherentX,c=this.props,i=c.showFreeOption,r=c.canReadCdpEnrollForFree,u=e.createElement("div",null,e.createElement(a,{price:this.context.userS12n.getMetadata("price"),checked:l}),e.createElement(p,{price:this.context.course.get("price"),checked:!l}),s&&i&&r&&e.createElement(o,{checked:!1}));return i&&r?e.createElement("div",{className:"full-options-container"},e.createElement("div",{className:"join-s12n-container"},!s&&e.createElement("h3",{className:"section-title"},n("Join the Specialization")),u),!s&&r&&e.createElement("div",{className:"free-choice-container"},e.createElement("h3",{className:"section-title"},n("Join the course")),e.createElement(o,{checked:!1}))):u},subTitle:function subTitle(){return e.createElement("div",{className:"sub-title bt3-text-center"},e.createElement(E,{className:"center",message:n("Part of a {unownedCourseCount}-course series, {s12nTitle}"),unownedCourseCount:this.context.userS12n.getUnownedCoursesExceptCapstone().length,s12nTitle:this.context.userS12n.getMetadata().attributes.name}))},render:function render(){return e.createElement("div",{className:"rc-PaymentChoices styleguide"},e.createElement("div",{className:"title container"},e.createElement("h3",{className:"bt3-modal-title center"},this.props.title),this.context.isCoherentX&&this.subTitle()),e.createElement("div",{className:"content container"},this.renderChoices(),e.createElement("div",{className:"horizontal-box align-items-absolute-center enroll-button"},e.createElement("button",{className:"bt3-btn",onClick:this.handleEnroll},this.state.enrolling?e.createElement(d,{name:"spinner",spin:!0}):n("Enroll")))))}});module.exports=h(s,["ContentAccessStore"],function(e){var n=e.ContentAccessStore;return{canReadCdpEnrollForFree:n.canReadCdpEnrollForFree()}}),module.exports.BaseComp=s});
define("bundles/ondemand/utils/contentAccessApi",["require","exports","module","q","bundles/phoenix/lib/apiWrapper","jsuri","pages/open-course/common/constants","js/lib/memoize"],function(require,exports,module){var s=require("q"),o=require("bundles/phoenix/lib/apiWrapper"),n=require("jsuri"),e=require("pages/open-course/common/constants"),r=o("/api/productAccessControls.v1"),i=require("js/lib/memoize"),t={getAll:i(function(){var o=e.courseId?e.courseId:"fakeCourseId",i=new n(o).addQueryParam("fields","accessControlItems");return s(r.get(i.toString()))})};module.exports=t});
define("bundles/ondemand/actions/ContentAccessActions",["require","exports","module","bundles/ondemand/utils/contentAccessApi"],function(require,exports,module){var e=require("bundles/ondemand/utils/contentAccessApi");exports.loadContentAccessLevels=function(n){return e.getAll().then(function(t){var e=t.elements,s=e.length>0?e[0].accessControlItems:[];n.dispatch("LOAD_CONTENT_ACCESS_LEVELS",s)})}});
define("bundles/product/api/productOwnerships",["require","exports","module","bundles/phoenix/lib/apiWrapper"],function(require,exports,module){var e=require("bundles/phoenix/lib/apiWrapper");module.exports=e("/api/productOwnerships.v1",{type:"rest"})});
define("bundles/product/data/productOwnerships",["require","exports","module","q","bundles/product/api/productOwnerships"],function(require,exports,module){var r=require("q"),e=require("bundles/product/api/productOwnerships");module.exports=function(t,u){return r(e.get(t,u||{}))}});

define("bundles/s12n-common/service/models/s12nOwnership",["require","exports","module","backbone","underscore"],function(require,exports,module){var Backbone=require("backbone"),_=require("underscore"),e=Backbone.Model.extend({defaults:{owns:!1,productType:"Specialization",pendingConfirmation:!1,isRefundable:!1,optedOutOfVerification:!1},initialize:function initialize(e){e=e||{},this.has("s12nCourseOwnerships")||this.set("s12nCourseOwnerships",e.s12nCourseOwnerships)},ownsCourse:function ownsCourse(e){return this.get("s12nCourseOwnerships").owns(e)},getOwnedCourseIds:function getOwnedCourseIds(){return this.get("s12nCourseOwnerships").filter(function(e){return e.get("owns")}).map(function(e){return e.get("courseId")})},getUnownedCourseIds:function getUnownedCourseIds(e){if(e){var n=this.getOwnedCourseIds();return _(e).without(n)}return this.get("s12nCourseOwnerships").filter(function(e){return!e.get("owns")}).map(function(e){return e.get("courseId")})},hasBulkPaid:function hasBulkPaid(){return this.get("owns")}});module.exports=e});
define("bundles/s12n-common/service/promises/s12nOwnershipPromiseFactory",["require","exports","module","bundles/phoenix/template/models/userIdentity","memoize!bundles/product/data/productOwnerships","bundles/product/models/courseOwnerships","bundles/s12n-common/service/models/s12nOwnership"],function(require,exports,module){var e=require("bundles/phoenix/template/models/userIdentity"),r=require("memoize!bundles/product/data/productOwnerships"),s=require("bundles/product/models/courseOwnerships"),n=require("bundles/s12n-common/service/models/s12nOwnership");module.exports=function(o){var t=e.get("id")+"~Specialization~"+o,i=r(t,{productType:"Specialization"}).then(function(r){var e=r.elements[0],o=e.s12nCourseOwnerships;e=Object.assign({},e,{s12nCourseOwnerships:new s(o||[])});var i=new n(e);return i}).fail(function(){return new n({id:e.get("id")+"~"+o,userId:e.get("id"),productId:o,s12nCourseOwnerships:new s})});return i.done(),i}});
define("bundles/catalogP/data/specializationMemberships",["require","exports","module","memoize!bundles/catalogP/api/api.promise","bundles/catalogP/models/specializationMemberships","bundles/catalogP/lib/catalogUrl"],function(require,exports,module){var e=require("memoize!bundles/catalogP/api/api.promise"),a=require("bundles/catalogP/models/specializationMemberships"),i=require("bundles/catalogP/lib/catalogUrl");module.exports=function(l){return e(i.build(a.prototype.resourceName,l||{}))}});

define("bundles/catalogP/promises/specializationMemberships",["require","exports","module","underscore","memoize!bundles/catalogP/data/specializationMemberships","bundles/catalogP/lib/createLinkedModels","bundles/catalogP/models/specializationMemberships","bundles/catalogP/models/courses"],function(require,exports,module){var _=require("underscore"),i=require("memoize!bundles/catalogP/data/specializationMemberships"),s=require("bundles/catalogP/lib/createLinkedModels"),e=require("bundles/catalogP/models/specializationMemberships"),n=require("bundles/catalogP/models/courses");module.exports=function(r){return i(r||{}).then(function(i){if(i.linked&&i.linked["v1Details.v1"]&&(i.linked["courses.v1"]=_(i.linked["courses.v1"]).map(function(e){if("v1.session"===e.courseType||"v1.capstone"===e.courseType){e.v1Details=e.id;var s=_(i.linked["v1Sessions.v1"]).reduce(function(i,s){return s.courseId===e.id&&i.push(s.id.toString()),i},[]);e.v1Sessions=s}return e})),i.linked&&i.linked["memberships.v1"]){var a=_(i.linked["memberships.v1"]).groupBy("courseId");i.linked["courses.v1"]=_(i.linked["courses.v1"]).map(function(e){return e.membershipIds=_(a[e.id]).pluck("id"),e})}if(i.linked&&i.linked["vcMemberships.v1"]){var l=_(i.linked["vcMemberships.v1"]).pluck("id");i.linked["memberships.v1"]=_(i.linked["memberships.v1"]).map(function(e){return _(l).contains(e.id)&&(e.vcMembershipId=e.id),e})}if(i.linked&&i.linked["v1VcDetails.v1"]){var t=_(i.linked["v1VcDetails.v1"]).pluck("id");i.linked["v1Sessions.v1"]=_(i.linked["v1Sessions.v1"]).map(function(e){return _(t).contains(e.id)&&(e.vcDetails=e.id),e})}i.linked&&i.linked["signatureTrackProfiles.v1"]&&_(i.elements).each(function(e){e.signatureTrackProfile=e.userId});var r=s(e.prototype.resourceName,i);return r.each(function(s){var e=s.get("specialization");if(e.has("interchangeableMap")){var i;!function(){var s=e.get("interchangeableMap");i={},Object.keys(s).forEach(function(r){var a=s[r],l=[new n(e.get("interchangeableCourses").filter(function(e){return _(a).includes(e.get("id"))}))];i[r]=l}),e.set("interchangeableMap",i)}()}}),r}).fail(function(){return new e})}});
define("pages/hut/course/promises/specializationMemberships",["require","exports","module","bundles/catalogP/promises/specializationMemberships"],function(require,exports,module){var e=require("bundles/catalogP/promises/specializationMemberships");module.exports=function(i){return e({q:"me",fields:["specializationId","bulkVoucherId","eligibleForCapstone"]}).then(function(e){return e.findWhere({specializationId:i})})}});
define("bundles/catalogP/data/specializations",["require","exports","module","memoize!bundles/catalogP/api/api.promise","bundles/catalogP/models/specializations","bundles/catalogP/lib/catalogUrl"],function(require,exports,module){var a=require("memoize!bundles/catalogP/api/api.promise"),e=require("bundles/catalogP/models/specializations"),l=require("bundles/catalogP/lib/catalogUrl");module.exports=function(o){return a(l.build(e.prototype.resourceName,o||{}))}});

var _extends=Object.assign||function(s){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(s[i]=n[i])}return s};define("bundles/catalogP/promises/specialization",["require","exports","module","underscore","memoize!bundles/catalogP/data/specializations","bundles/catalogP/lib/createLinkedModels","bundles/catalogP/models/specialization","bundles/catalogP/models/courses"],function(require,exports,module){var _=require("underscore"),e=require("memoize!bundles/catalogP/data/specializations"),n=require("bundles/catalogP/lib/createLinkedModels"),i=require("bundles/catalogP/models/specialization"),s=require("bundles/catalogP/models/courses");module.exports=function(a){return e(a).then(function(e){if(e.linked&&e.linked["v1Details.v1"]&&(e.linked["courses.v1"]=_(e.linked["courses.v1"]).map(function(n){if("v1.session"===n.courseType||"v1.capstone"===n.courseType){n.v1Details=n.id;var i=_(e.linked["v1Sessions.v1"]).reduce(function(e,i){return i.courseId===n.id&&e.push(i.id.toString()),e},[]);n.v1Sessions=i}return n})),e.linked&&e.linked["memberships.v1"]&&e.linked["courses.v1"]){var r=_(e.linked["memberships.v1"]).groupBy("courseId");if(e.linked["courses.v1"]=_(e.linked["courses.v1"]).map(function(e){return e.membershipIds=_(r[e.id]).pluck("id"),e}),e.linked&&e.linked["vcMemberships.v1"]){var t=_(e.linked["vcMemberships.v1"]).pluck("id");e.linked["memberships.v1"]=_(e.linked["memberships.v1"]).map(function(e){return _(t).contains(e.id)&&(e.vcMembershipId=e.id),e})}}if(e.linked&&e.linked["v1VcDetails.v1"]){var o=_(e.linked["v1VcDetails.v1"]).pluck("id");e.linked["v1Sessions.v1"]=_(e.linked["v1Sessions.v1"]).map(function(e){return _(o).contains(e.id)&&(e.vcDetails=e.id),e})}var a=n(i.prototype.resourceName,e);return a.each(function(e){var n=e.get("details");if(n&&n.auxInfo&&e.set("details",_extends({},n,{auxInfo:JSON.parse(n.auxInfo)})),e.has("interchangeableMap")){var i;!function(){var n=e.get("interchangeableMap");i={},Object.keys(n).forEach(function(a){var r=n[a],t=[new s(e.get("interchangeableCourses").filter(function(e){return _(r).includes(e.get("id"))}))];i[a]=t}),e.set("interchangeableMap",i)}()}}),a})}});
define("bundles/s12n-common/service/promises/specializationPromiseFactory",["require","exports","module","bundles/catalogP/promises/specialization","bundles/catalogP/models/instructors"],function(require,exports,module){var e=require("bundles/catalogP/promises/specialization"),s=require("bundles/catalogP/models/instructors"),i=["interchangeableMap","interchangeableCourseIds","primaryCourseIds","partnerIds","description","id","name","shortName","logo","workload","display","details"],t={partners:{fields:["name","homeLink","shortName","logo","classLogo","description"]},instructors:{},interchangeableCourses:{},courses:{fields:["courseType","id","name","slug","subtitleLanguages","instructorIds","courseStatus","workload","membershipIds"],includes:{instructors:{fields:["fullName","prefixName","firstName","middleName","lastName","suffixName","photo","title"]},primaryLanguages:{fields:["englishName"]},memberships:{includes:{vcMembership:{fields:[]}}},details:{fields:["name","shortName","ondemandCourseSlug","upcomingSessionId","aboutTheCourse"],includes:{sessions:{fields:["active","startDay","startMonth","startYear","dbEndDate","durationString","hasSigTrack","selfStudy","study","status"],includes:{vcDetails:{fields:["vcRegistrationOpen","vcPrice","vcRegularPrice"]}}}}}}}};module.exports=function(a){var r=e({id:a,fields:i,includes:t}).then(function(e){return e.at(0)}).then(function(e){var i=e.get("courses").chain().map(function(e){return e.get("instructors")}).invoke("toArray").flatten().uniq().value();return e.set("instructors",new s(i)),e});return r.done(),r}});
define("bundles/s12n-common/lib/specializationMembershipToS12nOwnershipTransform",["require","exports","module","bundles/s12n-common/service/models/s12nOwnership","bundles/product/models/courseOwnerships","bundles/catalogP/models/specializationMembership"],function(require,exports,module){function transform(r){function buildCourseOwnerships(e){return new s(i.get("courses").map(function(n){var s=n.get("id");return{courseId:s,owns:!!e.find(function(e){return e.get("id")===s})}}))}var i=r.specialization,o=r.specializationMembership,u=void 0===o?new n:o,t=buildCourseOwnerships(i.get("courses").filter(function(e){return e.has("memberships")&&e.get("memberships").some(function(e){return e.has("vcMembership")})}));return new e({owns:u.has("bulkVoucherId"),s12nCourseOwnerships:t})}var e=require("bundles/s12n-common/service/models/s12nOwnership"),s=require("bundles/product/models/courseOwnerships"),n=require("bundles/catalogP/models/specializationMembership");module.exports=transform});
define("bundles/s12n-common/actions/S12nOwnershipActionCreators",["require","exports","module","q","bundles/s12n-common/service/promises/s12nOwnershipPromiseFactory","pages/hut/course/promises/specializationMemberships","bundles/s12n-common/service/promises/specializationPromiseFactory","bundles/s12n-common/lib/specializationMembershipToS12nOwnershipTransform"],function(require,exports,module){var s=require("q"),i=require("bundles/s12n-common/service/promises/s12nOwnershipPromiseFactory"),n=require("pages/hut/course/promises/specializationMemberships"),e=require("bundles/s12n-common/service/promises/specializationPromiseFactory"),o=require("bundles/s12n-common/lib/specializationMembershipToS12nOwnershipTransform");exports.loadS12nOwnership=function(n,e,o){var s=e.s12nId;return i(s).then(function(i){n.dispatch("RECEIVED_S12N_OWNERSHIP",{s12nId:s,s12nOwnership:i})}).done(o)},exports.loadAndBuildSpecializationOwnership=function(r,a,c){var i=a.specializationId;return s.all([n(i),e(i)]).spread(function(s,n){r.dispatch("RECEIVED_S12N_OWNERSHIP",{s12nId:i.toString(),s12nOwnership:o({specialization:n,specializationMembership:s})})}).done(c)}});
define("bundles/catalogP/data/s12nMemberships",["require","exports","module","memoize!bundles/catalogP/api/api.promise","bundles/catalogP/models/s12nMembership","bundles/catalogP/lib/catalogUrl"],function(require,exports,module){var e=require("memoize!bundles/catalogP/api/api.promise"),a=require("bundles/catalogP/models/s12nMembership"),l=require("bundles/catalogP/lib/catalogUrl");module.exports=function(o){return e(l.build(a.prototype.resourceName,o))}});

define("bundles/catalogP/promises/s12nMemberships",["require","exports","module","js/lib/underscore.extend","memoize!bundles/catalogP/data/s12nMemberships","bundles/catalogP/lib/createLinkedModels","bundles/catalogP/models/courses","bundles/catalogP/models/s12nMembership","bundles/phoenix/template/models/userIdentity"],function(require,exports,module){var _=require("js/lib/underscore.extend"),e=require("memoize!bundles/catalogP/data/s12nMemberships"),n=require("bundles/catalogP/lib/createLinkedModels"),s=require("bundles/catalogP/models/courses"),i=require("bundles/catalogP/models/s12nMembership"),r=require("bundles/phoenix/template/models/userIdentity");module.exports=function(a){return e(a).then(function(e){if(e.linked&&e.linked["courses.v1"]&&e.linked["courses.v1"].map(function(e){e.v2Details=e.id}),e.linked&&e.linked["v2Details.v1"]&&e.linked["onDemandSessions.v1"]&&e.linked["v2Details.v1"].map(function(n){n.onDemandSessions=e.linked["onDemandSessions.v1"].filter(function(e){var s=e.courseId;return s===n.id}).map(function(e){return e.id})}),e.linked&&e.linked["onDemandCoursesProgress.v1"]&&e.linked["courses.v1"]&&(e.linked["courses.v1"]=_(e.linked["courses.v1"]).map(function(e){return e.courseProgress=r.get("id")+"~"+e.id,e})),e.linked&&e.linked["onDemandSpecializationProgress.v1"]&&_(e.elements).each(function(e){e.progress=e.id}),e.linked&&e.linked["memberships.v1"]){var d=_(e.linked["memberships.v1"]).groupBy("courseId");e.linked["courses.v1"]=_(e.linked["courses.v1"]).map(function(e){return e.membershipIds=_(d[e.id]).pluck("id"),e})}if(e.linked&&e.linked["memberships.v1"]&&e.linked["vcMemberships.v1"]&&(e.linked["memberships.v1"]=_(e.linked["memberships.v1"]).map(function(n){var s=_(e.linked["vcMemberships.v1"]).find(function(e){return e.id===n.id});return s&&(n.vcMembershipId=n.id),n})),e.linked&&e.linked["v1Sessions.v1"]){var l=_(e.linked["v1Sessions.v1"]).groupBy("courseId");e.linked["courses.v1"]=_(e.linked["courses.v1"]).map(function(e){return e.v1SessionIds=_(l[e.id]).pluck("id"),e})}e.linked&&e.linked["signatureTrackProfiles.v1"]&&_(e.elements).each(function(e){e.signatureTrackProfile=e.userId}),e.linked&&e.linked["onDemandSpecializations.v1"]&&_(e.linked["onDemandSpecializations.v1"]).map(function(e){return e.interchangeableMap=Object.assign({},e.interchangeableCourseIds),e.interchangeableCourseIds=_(e.interchangeableCourseIds).chain().values().flatten().uniq().value(),e});var a=n(i.prototype.resourceName,e);return a.each(function(n){var e=n.get("specialization");e&&e.has("interchangeableMap")&&!function(){var n=e.get("interchangeableCourses"),i=_(e.get("interchangeableMap")).courseraMapValues(function(e){return e.map(function(e){return new s(_(e).map(function(e){return n.get(e)}))})});e.set("interchangeableMap",i)}()}),a})}});
define("bundles/s12n/service/promises/s12nMemberships",["require","exports","module","bundles/catalogP/models/s12nMembership","bundles/catalogP/promises/s12nMemberships","js/lib/memoize"],function(require,exports,module){var e=require("bundles/catalogP/models/s12nMembership"),s=require("bundles/catalogP/promises/s12nMemberships"),i=require("js/lib/memoize");module.exports=i(function(i,r){return s({id:i+"~"+r,includes:{specialization:{fields:["interchangeableCourseIds"],includes:{progress:{},partners:{},courses:{includes:{courseProgress:{},memberships:{fields:["grade"]},vcMemberships:{fields:["certificateCodeWithGrade"]}}}}}}}).invoke("at",0).fail(function(){return new e({id:i+"~"+r,userId:i,s12nId:r,role:"NOT_ENROLLED"})})})});
define("bundles/s12n-common/actions/S12nMembershipActionCreators",["require","exports","module","bundles/s12n/service/promises/s12nMemberships","pages/hut/course/promises/specializationMemberships","bundles/catalogP/models/s12nMembership","bundles/catalogP/models/specializationMembership","bundles/phoenix/template/models/userIdentity"],function(require,exports,module){var e=require("bundles/s12n/service/promises/s12nMemberships"),s=require("pages/hut/course/promises/specializationMemberships"),n=require("bundles/catalogP/models/s12nMembership"),i=require("bundles/catalogP/models/specializationMembership"),o=require("bundles/phoenix/template/models/userIdentity");exports.loadS12nMembership=function(t,r,a){var s=r.s12nId,d=r.userId,i=void 0===d?o.get("id"):d;return e(i,s).then(function(e){t.dispatch("RECEIVED_S12N_MEMBERSHIP",{s12nId:s,s12nMembership:e})})["catch"](function(e){t.dispatch("RECEIVED_S12N_MEMBERSHIP",{s12nId:s,s12nMembership:new n({id:i+"~"+s,userId:i,s12nId:s,role:"NOT_ENROLLED"})})}).done(a)},exports.loadSpecializationMembership=function(n,o,t){var e=o.specializationId;return s(e.toString()).then(function(s){n.dispatch("RECEIVED_S12N_MEMBERSHIP",{s12nId:e.toString(),s12nMembership:s?s:new i})}).done(t)}});
define("bundles/s12n-common/actions/S12nActionCreators",["require","exports","module","bundles/s12n/service/promises/s12ns","bundles/s12n-common/service/promises/specializationPromiseFactory","pages/specialization/common/promises/specialization"],function(require,exports,module){var i=require("bundles/s12n/service/promises/s12ns"),n=i.fromId,e=i.fromSlug,o=require("bundles/s12n-common/service/promises/specializationPromiseFactory"),s=require("pages/specialization/common/promises/specialization");exports.loadS12nById=function(o,i,s){var t=i.s12nId,e=i.includeMembership,r=void 0===e?!0:e;return n(t,{includeMembership:r}).then(function(i){o.dispatch("RECEIVED_S12N",i)}).done(s)},exports.loadS12nBySlug=function(o,i,s){var t=i.slug,n=i.includeMembership,r=void 0===n?!0:n;return e(t,{includeMembership:r}).then(function(i){o.dispatch("RECEIVED_S12N",i)}).done(s)},exports.loadSpecializationById=function(i,n,e){var s=n.specializationId;return o(s.toString()).then(function(n){i.dispatch("RECEIVED_S12N",n)}).done(e)},exports.loadSpecializationFromDjangoEndpointById=function(i,n,e){var o=n.specializationId;return s(o.toString()).then(function(n){i.dispatch("RECEIVED_S12N_FROM_DJANGO",n)}).done(e)}});
define("bundles/s12n-common/stores/S12nOwnershipsStore",["require","exports","module","vendor/cnpm/fluxible.v0-4/addons/createStore"],function(require,exports,module){var e=require("vendor/cnpm/fluxible.v0-4/addons/createStore"),n=e({storeName:"S12nOwnershipsStore",handlers:{RECEIVED_S12N_OWNERSHIP:"handleReceivedS12nOwnership"},initialize:function initialize(){this.contents={}},handleReceivedS12nOwnership:function handleReceivedS12nOwnership(e){var n=e.s12nId,t=e.s12nOwnership;this.contents[n]=t,this.emitChange()},getOwnership:function getOwnership(e){return this.contents[e]},getFirst:function getFirst(){return this.contents[Object.keys(this.contents)[0]]}});module.exports=n});
define("bundles/s12n-common/stores/S12nMembershipsStore",["require","exports","module","vendor/cnpm/fluxible.v0-4/addons/createStore"],function(require,exports,module){var e=require("vendor/cnpm/fluxible.v0-4/addons/createStore"),n=e({storeName:"S12nMembershipsStore",handlers:{RECEIVED_S12N_MEMBERSHIP:"handleReceivedS12nMembership"},initialize:function initialize(){this.contents={}},handleReceivedS12nMembership:function handleReceivedS12nMembership(e){var n=e.s12nId,t=e.s12nMembership;this.contents[n]=t,this.emitChange()},getMembership:function getMembership(e){return this.contents[e]},getFirst:function getFirst(){return this.contents[Object.keys(this.contents)[0]]}});module.exports=n});
define("bundles/s12n-common/stores/S12nsStore",["require","exports","module","vendor/cnpm/fluxible.v0-4/addons/createStore"],function(require,exports,module){var e=require("vendor/cnpm/fluxible.v0-4/addons/createStore"),n=e({storeName:"S12nsStore",handlers:{RECEIVED_S12N:"handleReceivedS12n",RECEIVED_S12N_FROM_DJANGO:"handleReceivedDjangoS12n"},initialize:function initialize(){this.byId={},this.byShortName={},this.djangoS12nById={}},handleReceivedS12n:function handleReceivedS12n(e){this.byId[e.get("id")]=e,this.byShortName[e.get("shortName")]=e,this.emitChange()},handleReceivedDjangoS12n:function handleReceivedDjangoS12n(e){this.djangoS12nById[e.get("id")]=e,this.emitChange()},getById:function getById(e){return this.byId[e]},getDjangoS12nById:function getDjangoS12nById(e){return this.djangoS12nById[e]},getByShortname:function getByShortname(e){return this.byShortName[e]},getFirst:function getFirst(){return this.byId[Object.keys(this.byId)[0]]},getFirstFromDjango:function getFirstFromDjango(){return this.djangoS12nById[Object.keys(this.djangoS12nById)[0]]}});module.exports=n});

define('css!bundles/s12n-enroll/components/__styles__/S12nEnrollModal',[],function(){})
define("bundles/s12n-enroll/components/S12nEnrollModal",["require","exports","module","react-with-addons","bundles/catalogP/models/course","bundles/certificate-enroll/components/FinaidLinkOnModal","bundles/phoenix/components/Modal","bundles/epic/client","bundles/s12n-enroll/components/PaymentChoices","bundles/ondemand/stores/ContentAccessStore","bundles/ondemand/actions/ContentAccessActions","bundles/s12n/service/constants","bundles/s12n-common/actions/S12nOwnershipActionCreators","bundles/s12n-common/actions/S12nMembershipActionCreators","bundles/s12n-common/actions/S12nActionCreators","bundles/s12n-common/stores/S12nOwnershipsStore","bundles/s12n-common/stores/S12nMembershipsStore","bundles/s12n-common/stores/S12nsStore","bundles/s12n-common/service/models/userS12n","js/app/retracked","js/lib/coursera.redirect","vendor/cnpm/fluxible.v0-4/addons/connectToStores","vendor/cnpm/fluxible.v0-4/lib/Fluxible","vendor/cnpm/fluxible.v0-4/addons/FluxibleComponent","i18n!nls/s12n-enroll","css!./__styles__/S12nEnrollModal"],function(require,exports,module){var e=require("react-with-addons"),f=require("bundles/catalogP/models/course"),X=require("bundles/certificate-enroll/components/FinaidLinkOnModal"),p=require("bundles/phoenix/components/Modal"),t=require("bundles/epic/client"),b=require("bundles/s12n-enroll/components/PaymentChoices"),y=require("bundles/ondemand/stores/ContentAccessStore"),A=require("bundles/ondemand/actions/ContentAccessActions"),N=A.loadContentAccessLevels,r=require("bundles/s12n/service/constants"),i=require("bundles/s12n-common/actions/S12nOwnershipActionCreators"),d=i.loadS12nOwnership,u=i.loadAndBuildSpecializationOwnership,l=require("bundles/s12n-common/actions/S12nMembershipActionCreators"),S=l.loadS12nMembership,m=l.loadSpecializationMembership,o=require("bundles/s12n-common/actions/S12nActionCreators"),C=o.loadS12nById,j=o.loadSpecializationById,g=o.loadSpecializationFromDjangoEndpointById,x=require("bundles/s12n-common/stores/S12nOwnershipsStore"),E=require("bundles/s12n-common/stores/S12nMembershipsStore"),F=require("bundles/s12n-common/stores/S12nsStore"),s=require("bundles/s12n-common/service/models/userS12n"),M=require("js/app/retracked"),P=require("js/lib/coursera.redirect"),T=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),k=require("vendor/cnpm/fluxible.v0-4/lib/Fluxible"),v=require("vendor/cnpm/fluxible.v0-4/addons/FluxibleComponent"),w=e.addons.CSSTransitionGroup,O=require("i18n!nls/s12n-enroll");require("css!./__styles__/S12nEnrollModal");var c={onClose:e.PropTypes.func.isRequired,userS12n:e.PropTypes.instanceOf(s),isContentGate:e.PropTypes.bool,s12nId:e.PropTypes.string,courseIdOverride:e.PropTypes.string,showFreeOption:e.PropTypes.bool,isPreEnroll:e.PropTypes.bool,title:e.PropTypes.string,isCoherentX:e.PropTypes.bool,onFreeEnroll:e.PropTypes.func,onEnrollFailure:e.PropTypes.func,onEnrollSuccess:e.PropTypes.func},I=e.createClass({displayName:"S12nEnrollModal",propTypes:c,contextTypes:{onSdp:e.PropTypes.bool},childContextTypes:{userS12n:e.PropTypes.instanceOf(s),course:e.PropTypes.instanceOf(f),track:e.PropTypes.func,isCoherentX:e.PropTypes.bool},getDefaultProps:function getDefaultProps(){return{showFreeOption:!1,isContentGate:!1,onEnrollFailure:function onEnrollFailure(){return null},isPreEnroll:!1,isCoherentX:!1}},getInitialState:function getInitialState(){return{refreshPageOnClose:!1}},getChildContext:function getChildContext(){return{userS12n:this.props.userS12n,course:this.getSingleCourse(),track:this.track,isCoherentX:!this.context.onSdp&&this.props.isCoherentX}},componentWillMount:function componentWillMount(){var e=this;this.track=M.makeTracker({namespace:"specialization.enroll_modal",include:{specialization_id:function specialization_id(){return e.props.userS12n.getMetadata("id").toString()},open_course_id:function open_course_id(){return e.getSingleCourse().get("id")}}}),this.showFinaidLink=!this.props.isCoherentX&&t.get("Finaid","rolloutShowFinaidLink")&&"onEnrollment"===t.get("Finaid","showFinaidLink")},componentDidMount:function componentDidMount(){this.track("render",{show_free_option:this.props.showFreeOption,taking_specialization:this.props.userS12n.isTakingS12n()})},handleClose:function handleClose(){this.track("click.close"),this.state.refreshPageOnClose?P.refresh():this.props.onClose()},handleFreeEnroll:function handleFreeEnroll(){this.track("emit.free_enroll_success"),this.props.onFreeEnroll?this.props.userS12n.isSpark()?this.props.onFreeEnroll("free"):(this.props.onFreeEnroll(),this.handleClose()):(this.setState({refreshPageOnClose:!0}),this.handleClose())},getSingleCourse:function getSingleCourse(){var n=this.props,o=n.courseIdOverride,e=n.userS12n;return o?e.getMetadata("courses").get(o):e.getNextUnownedCourse()||e.getMetadata("courses").first()},getModalName:function getModalName(){return O(this.props.isContentGate?"Join to continue":this.props.userS12n.isTakingS12n()?"Continue this Specialization":"Join this Specialization")},render:function render(){return e.createElement("div",{className:"rc-S12nEnrollModal"},e.createElement(w,{transitionName:"fade",transitionEnter:!1},this.props.userS12n.hasFullData()&&e.createElement(p,{key:"S12nEnrollModal",modalName:this.getModalName(),handleClose:this.handleClose},e.createElement(b,{title:this.context.onSdp?this.props.userS12n.getMetadata("name"):this.getSingleCourse().get("name"),userS12n:this.props.userS12n,showFreeOption:this.props.showFreeOption,onFreeEnroll:this.handleFreeEnroll,onEnrollFailure:this.props.onEnrollFailure,onEnrollSuccess:this.props.onEnrollSuccess,isPreEnroll:this.props.isPreEnroll}),this.showFinaidLink&&e.createElement(X,null))))}}),z=e.createClass({displayName:"S12nEnrollModalContainer",propTypes:c,contextTypes:{executeAction:e.PropTypes.func},componentWillMount:function componentWillMount(){var e=this.props.s12nId,o=Object.keys(r.sparkSpecializationIds).some(function(n){return r.sparkSpecializationIds[n].toString()===e.toString()});if(o){var n=e;this.context.executeAction(j,{specializationId:n}),this.context.executeAction(g,{specializationId:n}),this.context.executeAction(m,{specializationId:n}),this.context.executeAction(u,{specializationId:n})}else this.context.executeAction(C,{s12nId:e}),this.context.executeAction(S,{s12nId:e}),this.context.executeAction(d,{s12nId:e});this.context.executeAction(N)},render:function render(){if(!this.props.userS12n.hasFullData())return!1;return e.createElement(I,this.props)}}),a=T(z,["S12nOwnershipsStore","S12nMembershipsStore","S12nsStore","ContentAccessStore"],function(n,e){return{userS12n:new s({metadata:n.S12nsStore.getById(e.s12nId),ownership:n.S12nOwnershipsStore.getOwnership(e.s12nId),membership:n.S12nMembershipsStore.getMembership(e.s12nId),sparkMetadata:n.S12nsStore.getFirstFromDjango()}),courseId:e.courseId,showFreeOption:e.showFreeOption,isContentGate:e.isContentGate,onEnrollFailure:e.onEnrollFailure,onEnrollSuccess:e.onEnrollSuccess,isCoherentX:n.ContentAccessStore&&n.ContentAccessStore.isCoherentXEnrollmentModal()}}),n=new k({component:a});n.registerStore(y),n.registerStore(x),n.registerStore(E),n.registerStore(F);var h=n.createContext();module.exports=e.createClass({displayName:"exports",render:function render(){return e.createElement(v,{context:h.getComponentContext()},e.createElement(a,this.props))}})});
define("bundles/s12n-enroll/components/StandaloneEnrollModal",["require","exports","module","react-with-addons","bundles/s12n-enroll/components/S12nEnrollModal"],function(require,exports,module){var n=require("react-with-addons"),e=require("bundles/s12n-enroll/components/S12nEnrollModal"),o=n.createClass({displayName:"StandaloneEnrollModal",handleClose:function handleClose(){this.setState({showModal:!1})},getInitialState:function getInitialState(){return{showModal:!0}},render:function render(){var o=this,t=Object.assign(this.props,{onClose:function onClose(){return o.setState({showModal:!1})}});return n.createElement("div",{className:"rc-StandaloneEnrollModal"},this.state.showModal&&n.createElement(e,t))}});module.exports=o});

define('css!bundles/certificate-enroll/components/__styles__/EnrollButton',[],function(){})
define("bundles/certificate-enroll/components/EnrollButton",["require","exports","module","react-with-addons","bundles/certificate-enroll/actions/EnrollActions","i18n!nls/certificate-enroll","css!./__styles__/EnrollButton"],function(require,exports,module){var t=require("react-with-addons"),e=require("bundles/certificate-enroll/actions/EnrollActions"),n=require("i18n!nls/certificate-enroll");require("css!./__styles__/EnrollButton");var r=t.createClass({displayName:"EnrollButton",propTypes:{buttonText:t.PropTypes.string,handleClick:t.PropTypes.func,redirectUrlAfterAuth:t.PropTypes.string},getDefaultProps:function getDefaultProps(){return{buttonText:n("Join Course")}},contextTypes:{track:t.PropTypes.func.isRequired},openModal:function openModal(){this.context.track("click.enroll_button"),e.openModalWithRedirectUrlAfterAuth(this.props.redirectUrlAfterAuth)},render:function render(){var n=this.props,e=n.handleClick,r=n.buttonText;return e||(e=this.openModal),t.createElement("div",{className:"rc-EnrollButton"},t.createElement("button",{ref:"EnrollButton",className:"primary enroll",onClick:e},r))}});module.exports=r});
define("bundles/product/models/productOwnership",["require","exports","module","backbone-associations"],function(require,exports,module){var Backbone=require("backbone-associations"),e=Backbone.AssociatedModel.extend({parse:function parse(e){return e.userSettings={optedOutOfVerification:e.optedOutOfVerification},delete e.optedOutOfVerification,e}});module.exports=e});
define("bundles/product/promises/productOwnerships",["require","exports","module","bundles/product/data/productOwnerships","bundles/product/models/productOwnership"],function(require,exports,module){var e=require("bundles/product/data/productOwnerships"),r=require("bundles/product/models/productOwnership");module.exports=function(s,t){var u=s+"~"+t,n=e(u).then(function(e){return new r(e.elements[0],{parse:!0})});return n.done(),n}});
define("bundles/certificate-enroll/components/PhoenixEnrollButton",["require","exports","module","react-with-addons","bundles/certificate-enroll/components/EnrollButton","bundles/certificate-enroll/components/PhoenixEnrollModal","bundles/phoenix/template/models/userIdentity","bundles/product/promises/productOwnerships","pages/open-course/common/models/course"],function(require,exports,module){var e=require("react-with-addons"),n=require("bundles/certificate-enroll/components/EnrollButton"),o=require("bundles/certificate-enroll/components/PhoenixEnrollModal"),t=require("bundles/phoenix/template/models/userIdentity"),r=require("bundles/product/promises/productOwnerships"),s=require("pages/open-course/common/models/course"),l=e.createClass({displayName:"PhoenixEnrollButton",propTypes:{redirectUrlAfterAuth:e.PropTypes.string},contextTypes:{course:e.PropTypes.instanceOf(s).isRequired},getInitialState:function getInitialState(){return{shouldShow:!1,ownsCourse:!1}},componentDidMount:function componentDidMount(){var e=this;t.get("authenticated")?r(t.get("id"),this.context.course.get("id")).then(function(t){return e.setState({ownsCourse:t.get("owns")})})["finally"](function(){return e.setState({shouldShow:!0})}):this.setState({shouldShow:!0})},render:function render(){if(!this.state.shouldShow)return null;var r={};return t.get("authenticated")||this.state.ownsCourse||(r.redirectUrlAfterAuth=this.props.redirectUrlAfterAuth),e.createElement("div",{className:"rc-PhoenixEnrollButton"},e.createElement(n,r),e.createElement(o,{isPreEnroll:!1}))}});module.exports=l});
define("bundles/ondemand/components/ContentRequiresEnrollModal",["require","exports","module","react-with-addons","bundles/certificate-enroll/components/PhoenixEnrollButton","bundles/phoenix/components/Modal","js/lib/retracked","pages/open-course/common/models/course","js/lib/coursera.react-intl","i18n!nls/ondemand"],function(require,exports,module){var e=require("react-with-addons"),s=require("bundles/certificate-enroll/components/PhoenixEnrollButton"),r=require("bundles/phoenix/components/Modal"),t=require("js/lib/retracked"),n=require("pages/open-course/common/models/course"),l=require("js/lib/coursera.react-intl"),c=l.FormattedMessage,o=require("i18n!nls/ondemand"),a=e.createClass({displayName:"ContentRequiresEnrollModal",propTypes:{course:e.PropTypes.instanceOf(n).isRequired,onClose:e.PropTypes.func.isRequired},childContextTypes:{course:e.PropTypes.instanceOf(n),track:e.PropTypes.func},getChildContext:function getChildContext(){var e=this.props.course;return{course:e,track:t.makeTracker({namespace:"open_course.quiz",include:{open_course_id:function open_course_id(){return e.get("id")},open_course_slug:function open_course_slug(){return e.get("slug")}}})}},render:function render(){return e.createElement("div",{className:"rc-ContentRequiresEnrollModal"},e.createElement(r,{type:"layer",key:"ContentRequiresEnrollModal",modalName:"Join to access course content",handleClose:this.handleClose},e.createElement("h1",null,e.createElement(c,{message:o("Join {courseName}."),courseName:this.props.course.get("name")})),e.createElement("p",null,o("Enroll to access this course content.")),e.createElement(s,null)))},handleClose:function handleClose(){this.props.onClose()}});module.exports=a});
define("pages/open-course/common/singletons/courseMembership",["require","exports","module","bundles/phoenix/template/models/userIdentity","pages/open-course/common/models/membership","memoize!pages/open-course/common/promises/membership","pages/open-course/common/singletons/course"],function(require,exports,module){var e=require("bundles/phoenix/template/models/userIdentity"),o=require("pages/open-course/common/models/membership"),s=require("memoize!pages/open-course/common/promises/membership"),m=require("pages/open-course/common/singletons/course");module.exports=m.get("id").then(function(m){return e.get("authenticated")?s(e.get("id"),m):new o({courseId:m,courseRole:o.BROWSER})})});
define("bundles/verificationDisplay/api",["require","exports","module","bundles/phoenix/lib/apiWrapper"],function(require,exports,module){var e=require("bundles/phoenix/lib/apiWrapper");module.exports=e("/api/verificationPreferences.v1",{type:"rest"})});
define("bundles/verificationDisplay/data/verificationPreferences",["require","exports","module","bundles/verificationDisplay/api","q"],function(require,exports,module){var i=require("bundles/verificationDisplay/api"),e=require("q");module.exports=function(n,r){return e(i.get(n+"~"+r,{}))}});
define("bundles/verificationDisplay/models/verificationPreferences",["require","exports","module","backbone","bundles/verificationDisplay/api"],function(require,exports,module){var Backbone=require("backbone"),t=require("bundles/verificationDisplay/api"),i=Backbone.Model.extend({opt:function opt(i){var e=this;t.put(this.get("id"),{data:{optedOutOfVerification:i}}).done(function(){e.set("optedOutOfVerification",i)})},optOut:function optOut(){this.opt(!0)},optIn:function optIn(){this.opt(!1)}},{unauthenticatedDefault:{optedOutOfVerification:!1},failedCallDefault:function failedCallDefault(t,i){return{optedOutOfVerification:!1,userId:t,courseId:i,id:t.toString()+"~"+i}}});module.exports=i});
define("bundles/verificationDisplay/promises/verificationPreferences",["require","exports","module","q","bundles/verificationDisplay/data/verificationPreferences","bundles/verificationDisplay/models/verificationPreferences"],function(require,exports,module){var i=require("q"),n=require("bundles/verificationDisplay/data/verificationPreferences"),e=require("bundles/verificationDisplay/models/verificationPreferences");module.exports=function(r,t){return r?n(r,t)["catch"](function(i){if(i.responseJSON)return e.failedCallDefault(r,t);throw i}).then(function(i){return new e(i.elements[0])}):i(new e(e.unauthenticatedDefault))}});
define("bundles/verificationDisplay/models/verificationDisplay",["require","exports","module","backbone-associations"],function(require,exports,module){var Backbone=require("backbone-associations"),i=Backbone.AssociatedModel.extend({defaults:{isProductVerificationEnabled:!1,productOwnership:null,verificationPreferences:null,s12n:null},shouldPromptForVerification:function shouldPromptForVerification(){return this.get("isProductVerificationEnabled")&&!this.get("verificationPreferences.optedOutOfVerification")},showS12nAdvertising:function showS12nAdvertising(){return this.get("isProductVerificationEnabled")&&this.get("s12n")&&this.get("productOwnership")&&!this.get("productOwnership.owns")&&this.get("verificationPreferences")&&!this.get("verificationPreferences.optedOutOfVerification")},showCCAdvertising:function showCCAdvertising(){return this.get("isProductVerificationEnabled")&&!this.get("s12n")&&this.get("productOwnership")&&!this.get("productOwnership.owns")&&this.get("verificationPreferences")&&!this.get("verificationPreferences.optedOutOfVerification")},showAdvertising:function showAdvertising(){return this.showCCAdvertising()||this.showS12nAdvertising()}});module.exports=i});
define("bundles/verificationDisplay/promises/verificationDisplay",["require","exports","module","q","bundles/verificationDisplay/promises/verificationPreferences","bundles/product/promises/productOwnerships","bundles/verificationDisplay/models/verificationDisplay","pages/open-course/common/singletons/s12n"],function(require,exports,module){var i=require("q"),n=require("bundles/verificationDisplay/promises/verificationPreferences"),s=require("bundles/product/promises/productOwnerships"),e=require("bundles/verificationDisplay/models/verificationDisplay"),r=require("pages/open-course/common/singletons/s12n");module.exports=function(o,t,c){if(c&&o){var a=i.all([n(o,t),s(o,t),r]).spread(function(i,n,s){return new e({isProductVerificationEnabled:c,productOwnership:n,verificationPreferences:i,s12n:s.at(0)})},function(){return new e});return a.done(),a}var p=i(new e);return p.done(),p}});
define("pages/open-course/common/singletons/verificationDisplay",["require","exports","module","bundles/phoenix/template/models/userIdentity","bundles/verificationDisplay/promises/verificationDisplay","pages/open-course/common/singletons/course"],function(require,exports,module){var e=require("bundles/phoenix/template/models/userIdentity"),i=require("bundles/verificationDisplay/promises/verificationDisplay"),s=require("pages/open-course/common/singletons/course");module.exports=s.then(function(s){return i(e.get("id"),s.get("id"),s.isVerificationEnabled())})});
define("pages/open-course/common/utils/ensureEnrolled",["require","exports","module","jquery","react-with-addons","q","bundles/certificate-enroll/actions/EnrollActions","bundles/certificate-enroll/components/OpenCourseEnrollModal","bundles/s12n-enroll/components/StandaloneEnrollModal","bundles/ondemand/components/ContentRequiresEnrollModal","bundles/phoenix/template/models/userIdentity","pages/open-course/common/singletons/course","pages/open-course/common/singletons/courseMembership","pages/open-course/common/promises/membership","pages/open-course/common/singletons/s12n","pages/open-course/common/singletons/verificationDisplay"],function(require,exports,module){var $=require("jquery"),e=require("react-with-addons"),o=require("q"),u=require("bundles/certificate-enroll/actions/EnrollActions"),i=require("bundles/certificate-enroll/components/OpenCourseEnrollModal"),r=require("bundles/s12n-enroll/components/StandaloneEnrollModal"),t=require("bundles/ondemand/components/ContentRequiresEnrollModal"),l=require("bundles/phoenix/template/models/userIdentity"),m=require("pages/open-course/common/singletons/course"),c=require("pages/open-course/common/singletons/courseMembership"),d=require("pages/open-course/common/promises/membership"),a=require("pages/open-course/common/singletons/s12n"),p=require("pages/open-course/common/singletons/verificationDisplay"),n=function UserRejectedEnrollPromptException(){},s=function ensureEnrolled(){return c.then(function(s){return s.hasEnrolledRole()?o():o.all([m,a.invoke("at",0),p]).spread(function(a,m,g){if(m&&g.get("productOwnership.owns"))return d(l.get("id"),a.get("id")).invoke("enroll");var s=o.defer(),p=$("<div></div>").appendTo("body"),c;return m?(c=e.createElement(r,{s12nId:m.get("id"),courseIdOverride:a.get("id"),showFreeOption:!m.get("membership").isEnrolled(),isContentGate:!0,onFail:s.reject.bind(s,new n),onEnroll:s.resolve}),e.render(c,p.get(0))):a.isVerificationEnabled()?(c=e.createElement(i,{course:a}),e.render(c,p.get(0)),u.updateShowModal(!0)):(c=e.createElement(t,{course:a,onClose:s.reject.bind(s,new n)}),e.render(c,p.get(0))),s.promise["finally"](p.remove.bind(p))})})};s.UserRejectedEnrollPromptException=n,module.exports=s});
define("nls/classmates",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define("bundles/classmates/actions/ClassmatesProfileActions",["require","exports","module","q","underscore","bundles/phoenix/lib/apiWrapper","jsuri","pages/open-course/common/constants","js/lib/coursera.store","bundles/ondemand/stores/SessionStore","bundles/classmates/stores/ClassmatesProfileStore","bundles/ondemand/utils/socialExperimentUtils"],function(require,exports,module){var e=require("q"),_=require("underscore"),a=require("bundles/phoenix/lib/apiWrapper"),r=require("jsuri"),s=require("pages/open-course/common/constants"),t=require("js/lib/coursera.store"),i=require("bundles/ondemand/stores/SessionStore"),o=require("bundles/classmates/stores/ClassmatesProfileStore"),l=require("bundles/ondemand/utils/socialExperimentUtils"),u=l.isNearbyLearnersEnabled,d="learner_count_"+s.courseId,n=a("/api/onDemandSessionMemberships.v1",{type:"rest"});exports.getClassmatesProfile=function(t,n){var o=a("/api/onDemandClassmateProfiles.v1",{type:"rest"}),d=(new r).addQueryParam("courseId",s.courseId).addQueryParam("q","byExternalIds").addQueryParam("externalUserIds",n).addQueryParam("fields","socialProfiles.v1(photoUrl)").addQueryParam("includes","userId,_links");return e(o.get(d.toString())).then(function(e){return t.dispatch("LOAD_CLASSMATES_PROFILES",e)}).done()},exports.getClassmatesProfiles=function(n,t){var o=t.ids,d=t.countryCode,i=a("/api/onDemandClassmateProfiles.v1",{type:"rest"}),u=(new r).addQueryParam("courseId",s.courseId).addQueryParam("q","byExternalIds").addQueryParam("externalUserIds",o).addQueryParam("fields","socialProfiles.v1(photoUrl)").addQueryParam("includes","userId,_links");return e(i.get(u.toString())).then(function(e){return _(e.elements).each(function(e){return e.countryCode=d}),n.dispatch("LOAD_CLASSMATES_PROFILES",e)}).done()},exports.getRandomClassmates=function(m){var g=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=g.countryCode;if(m.getStore(o).get10Profiles(a).length>7)return;var l=0,c=t.get(d+a);c&&(l=Math.floor(Math.random()*c),l>c-10&&(l-=10));var P=(new r).addQueryParam("courseId",s.courseId).addQueryParam("q","bySession").addQueryParam("sessionId",i.getSessionId()).addQueryParam("limit",9).addQueryParam("start",l).addQueryParam("includes","userId,_links");a&&u(),e(n.get(P.toString())).then(function(e){var r=e.linked["userExternalIds.v1"].map(function(e){return e.externalUserId}),s=r.toString();return t.set(d+a,e.paging.total),m.dispatch("LOAD_LEARNER_COUNT",e.paging.total),exports.getClassmatesProfiles(m,{ids:s,countryCode:a})}).done()},exports.getNumberOfClassmates=function(s){if(s.getStore(o).learnerCount>0)return;var a=(new r).addQueryParam("q","bySession").addQueryParam("sessionId",i.getSessionId()).addQueryParam("limit",9).addQueryParam("start",0);e(n.get(a.toString())).then(function(e){s.dispatch("LOAD_LEARNER_COUNT",e.paging.total)}).done()}});
define("bundles/classmates/utils/lib",["require","exports","module","underscore","i18n!nls/classmates","pages/open-course/common/constants"],function(require,exports,module){var _=require("underscore"),e=require("i18n!nls/classmates"),s=require("pages/open-course/common/constants");exports.getProgressString=function(s,t){return e(t?"Completed course":25>s?"Getting Started":50>s?"Halfway through":"Almost completed")},exports.getCourseRoleString=function(s){switch(s){case"INSTRUCTOR":return e("Instructor");case"TEACHING_STAFF":return e("Teaching Staff");case"UNIVERSITY_ADMIN":return e("Teaching Staff");case"MENTOR":return e("Mentor")}},exports.hasModeratorAccess=function(e){return e&&_(s.courseRolesWithModeratorAccess).contains(e.toUpperCase())}});
define("bundles/catalogP/data/courseProgress",["require","exports","module","memoize!bundles/catalogP/api/api.promise","bundles/catalogP/models/courseProgress","bundles/catalogP/lib/catalogUrl"],function(require,exports,module){var e=require("memoize!bundles/catalogP/api/api.promise"),o=require("bundles/catalogP/models/courseProgress"),r=require("bundles/catalogP/lib/catalogUrl");module.exports=function(a,s){return s&&s.forceUpdate?e.force(r.build(o.prototype.resourceName,a)):e(r.build(o.prototype.resourceName,a))}});
define("bundles/catalogP/promises/courseProgress",["require","exports","module","bundles/catalogP/data/courseProgress","bundles/catalogP/lib/createLinkedModels","pages/open-course/common/models/courseProgress"],function(require,exports,module){var e=require("bundles/catalogP/data/courseProgress"),o=require("bundles/catalogP/lib/createLinkedModels"),s=require("pages/open-course/common/models/courseProgress");module.exports=function(r,t){return e(r,t).then(function(e){return o(s.prototype.resourceName,e).first()})}});
define("bundles/ondemand/utils/homeProgressApi",["require","exports","module","q","jsuri","bundles/phoenix/lib/apiWrapper","bundles/phoenix/template/models/userIdentity","pages/open-course/common/constants"],function(require,exports,module){var e=require("q"),s=require("jsuri"),o=require("bundles/phoenix/lib/apiWrapper"),n=require("bundles/phoenix/template/models/userIdentity"),r=require("pages/open-course/common/constants"),t=o("/api/onDemandHomeProgress.v1",{type:"rest"});exports.getHomeProgress=function(){var o=n.get("id")+"~"+r.courseId,d=new s(o).addQueryParam("fields","modulesCompleted,modulesPassed");return e(t.get(d.toString()))}});
define("bundles/ondemand/actions/ProgressActions",["require","exports","module","bundles/catalogP/promises/courseProgress","bundles/ondemand/utils/homeProgressApi","bundles/phoenix/template/models/userIdentity","pages/open-course/common/constants"],function(require,exports,module){var s=require("bundles/catalogP/promises/courseProgress"),t=require("bundles/ondemand/utils/homeProgressApi"),n=t.getHomeProgress,e=require("bundles/phoenix/template/models/userIdentity"),o=require("pages/open-course/common/constants");exports.getProgress=function(t){if(e.get("authenticated"))return s({id:e.get("id")+"~"+o.courseId},{forceUpdate:!0}).then(function(e){t.executeAction(exports.updateProgress,e)})},exports.getHomeProgress=function(s){if(e.get("authenticated"))return n().then(function(e){e.elements&&e.elements.length&&s.dispatch("LOAD_HOME_PROGRESS",e.elements[0])})},exports.updateProgress=function(e,s){e.dispatch("LOAD_COURSE_PROGRESS",s)}});
define("bundles/profile/actions/ProfileActions",["require","exports","module","q","bundles/phoenix/lib/apiWrapper","jsuri","pages/open-course/common/constants","bundles/profile/common/api/profile","bundles/phoenix/template/models/userIdentity"],function(require,exports,module){var e=require("q"),o=require("bundles/phoenix/lib/apiWrapper"),r=require("jsuri"),i=require("pages/open-course/common/constants"),n=require("bundles/profile/common/api/profile"),a=o("/api/onDemandClassmateProfiles.v1",{type:"rest"}),t=require("bundles/phoenix/template/models/userIdentity");exports.initProfileStore=function(o){if(!o.getStore("ProfileStore").hasLoaded()&&t.get("authenticated")){o.executeAction(exports.getSocialProfile);var r=t.get("id");if(r)return e(n.get(r.toString(),{data:{fields:"fullName"}})).then(function(e){o.dispatch("INIT_PROFILE_STORE",e)}).done()}},exports.getSocialProfile=function(o){var n=t.get("external_id"),s=(new r).addQueryParam("courseId",i.courseId).addQueryParam("q","byExternalIds").addQueryParam("externalUserIds",n).addQueryParam("includes","userId,_links");return e(a.get(s.toString())).then(function(e){o.dispatch("RECEIVE_SOCIAL_PROFILE",e)}).done()},exports.updateLocation=function(t){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=t.getStore("ProfileStore").profile;return o.location=r,t.dispatch("UPDATE_LOCATION_START",r),e(n.put(o.userId+"",{data:o})).then(function(e){t.dispatch("UPDATE_LOCATION_SUCCESS",e)}).done()},exports.updateProfileImage=function(r,t){var n={photo_120:t.photo120,photo_60:t.photo60,photo_24:t.photo24,photo:t.original,privacy:1e3},i=o("/maestro/api/user/save_profile");return e(i.post("",{data:n})).then(function(){r.dispatch("UPDATE_PROFILE_IMAGE_SUCCESS",n)})}});
define("bundles/naptimejs/util/hoistNonReactStatics",["require","exports","module"],function(require,exports,module){var e={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0};module.exports=function hoistNonReactStatics(i,n){for(var s=Object.keys(n),t=0;t<s.length;++t)e[s[t]]||(i[s[t]]=n[s[t]]);return i}});
define("bundles/naptimejs/util/naptimeUrl",["require","exports","module","underscore","bundles/naptimejs/client/NaptimeClient","bundles/naptimejs/client/Finder"],function(require,exports,module){var _=require("underscore"),e=require("bundles/naptimejs/client/NaptimeClient"),n=require("bundles/naptimejs/client/Finder");exports.constructUrl=function(t,i){var r=this,s={},c={},o=Object.keys(t).filter(function(n){return t[n]instanceof e}),a={};o.forEach(function(e){r.parseRequest(t[e],s,c);var n=t[e];n.isValid()&&(a[e]=n)});var u=this.parseSubcomponents(t,i);return u.forEach(function(o){var t=o.getWrappedComponentProps(i,{});Object.keys(t).forEach(function(o){var i=t[o];i instanceof e&&(r.parseRequest(i,s,c),i instanceof n&&(a[o]=i))})}),Object.keys(a).map(function(o){var e=a[o],n=e.getUri(),t=r.stringifyResourceData(s,e.resourceName);t.length&&n.addQueryParam("fields",t);var i=r.stringifyResourceData(c,e.resourceName);i.length&&n.addQueryParam("includes",i);var u=n.toString().replace(/%2C/g,",");return{url:u,client:e}})},exports.parseRequest=function(e,n,t){var r=n[e.resourceName]||[];n[e.resourceName]=r.concat(e.getFields()).concat(e.getIncludes());var a=t[e.resourceName]||[];t[e.resourceName]=a.concat(e.getIncludes())},exports.stringifyResourceData=function(e,n){return Object.keys(e).map(function(t){var r=e[t];if(r.length>0){var a=_(r).uniq().join(",");return t===n?a:t+"("+a+")"}}).filter(function(e){return e}).join(",")},exports.parseSubcomponents=function(t,r){var a=this,s=arguments.length<=2||void 0===arguments[2]?[]:arguments[2],n=s;return Object.keys(t).forEach(function(c){var s=t[c];s instanceof e&&(n=n.concat(s.getSubcomponents()),s.getSubcomponents().forEach(function(t){var e=t.getWrappedComponentProps(r,{});e&&(n=a.parseSubcomponents(e,r,n))}))}),n}});
define("bundles/naptimejs/util/loadDataForClients",["require","exports","module","q","bundles/naptimejs/util/naptimeUrl","js/lib/api"],function(require,exports,module){function loadData(e,t){return n(e.get(t.url)).then(function(n){return t.data=n,t}).fail(function(n){return t.data={},t.failure=n,t})}var n=require("q"),t=require("bundles/naptimejs/util/naptimeUrl"),e=require("js/lib/api");module.exports=function(u,r,i){var l=arguments.length<=3||void 0===arguments[3]?[]:arguments[3];if(!r.length)return n();var a=new e("",{cookies:u.cookies}),o=t.constructUrl(r,i).filter(function(n){return-1===l.indexOf(n.url)}),s=o.map(loadData.bind(null,a));return n.allSettled(s).then(function(n){return n.map(function(n){return n.value})})}});
define("bundles/naptimejs/actions/requestData",["require","exports","module","bundles/naptimejs/util/loadDataForClients"],function(require,exports,module){var e=require("bundles/naptimejs/util/loadDataForClients");module.exports=function requestData(n,t){var s=t.requestId,a=t.clients,i=t.context;e(n,a,i).then(function(e){n.dispatch("RECEIVE_DATA",{requestId:s,responseData:e})}).done()}});
function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(r,t){for(var n=0;n<t.length;n++){var e=t[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(r,e.key,e)}}return function(e,n,t){return n&&defineProperties(e.prototype,n),t&&defineProperties(e,t),e}}();define("bundles/naptimejs/util/NaptimeProp",["require","exports","module"],function(require,exports,module){var e=function(){function NaptimeProp(n){var e=n.paging,t=void 0===e?{}:e;_classCallCheck(this,NaptimeProp),this.paging=t}return _createClass(NaptimeProp,[{key:"getPagingFor",value:function getPagingFor(e){return this.paging[e]||{}}}]),NaptimeProp}();module.exports=e});
define("bundles/naptimejs/util/mergePropsWithLoadedData",["require","exports","module","bundles/naptimejs/client/NaptimeClient","bundles/naptimejs/stores/NaptimeStore","bundles/naptimejs/util/NaptimeProp"],function(require,exports,module){var e=require("bundles/naptimejs/client/NaptimeClient"),t=require("bundles/naptimejs/stores/NaptimeStore"),n=require("bundles/naptimejs/util/NaptimeProp");module.exports=function(o,a,l){var r=a.getStore(t),s=o.getWrappedComponentProps(a,l),i={},p={paging:{}},u=Object.keys(s).every(function(n){var t=s[n];if(t instanceof e&&t.isValid()){var a=r.getDataForClient(t);return a?(i[n]=a,p.paging[n]=r.getPagingForClient(t),!0):!1}return i[n]=t,!0});return i.naptime=new n(p),{mergedProps:i,allDataIsLoaded:u}}});
define("bundles/naptimejs/util/calculateDataRequirements",["require","exports","module","bundles/naptimejs/client/NaptimeClient","bundles/naptimejs/stores/NaptimeStore"],function(require,exports,module){var e=require("bundles/naptimejs/client/NaptimeClient"),t=require("bundles/naptimejs/stores/NaptimeStore");module.exports=function(r,i,a){var s=i.getStore(t),n=r.getWrappedComponentProps(i,a),u=Object.keys(n).filter(function(i){var t=n[i];return t instanceof e&&t.isValid()}),o=u.filter(function(e){var t=n[e];return!s.clientDataIsLoaded(t)});return o.map(function(e){return n[e]})}});
define("bundles/naptimejs/util/compareDataRequirements",["require","exports","module","bundles/naptimejs/util/calculateDataRequirements","bundles/naptimejs/util/naptimeUrl"],function(require,exports,module){var t=require("bundles/naptimejs/util/calculateDataRequirements"),n=require("bundles/naptimejs/util/naptimeUrl"),e=function getCombinedUrlString(u,e,r){var i=t(u,e,r),a=n.constructUrl(i,e);return a.reduce(function(e,t){return e+t.url},"")};module.exports=function(t,n,u,r){var i=e(t,n,u),a=e(t,n,r);return i===a}});
define("bundles/naptimejs/util/createContainer",["require","exports","module","react-with-addons","bundles/naptimejs/util/hoistNonReactStatics","bundles/naptimejs/client/NaptimeClient","bundles/naptimejs/actions/requestData","bundles/naptimejs/util/mergePropsWithLoadedData","bundles/naptimejs/util/calculateDataRequirements","bundles/naptimejs/util/compareDataRequirements","vendor/cnpm/setimmediate.v1/setImmediate"],function(require,exports,module){var t=require("react-with-addons"),n=require("bundles/naptimejs/util/hoistNonReactStatics"),s=require("bundles/naptimejs/client/NaptimeClient"),i=require("bundles/naptimejs/actions/requestData"),a=require("bundles/naptimejs/util/mergePropsWithLoadedData"),e=require("bundles/naptimejs/util/calculateDataRequirements"),r=require("bundles/naptimejs/util/compareDataRequirements");require("vendor/cnpm/setimmediate.v1/setImmediate"),module.exports=function(o,u,m){var d=o.displayName||o.name,c=t.createClass({displayName:d+"NaptimeConnector",contextTypes:{executeAction:t.PropTypes.func.isRequired,getStore:t.PropTypes.func.isRequired,onDataRequired:t.PropTypes.func},statics:{getWrappedComponentProps:m,isNaptimeContainer:!0,BaseComponent:o},componentWillMount:function componentWillMount(){if(this.context.onDataRequired){var t=e(this.constructor,this.context,this.props);t.length&&this.context.onDataRequired(t)}},componentDidMount:function componentDidMount(){var t=this;this.naptimeStore=this.context.getStore("NaptimeStore"),this.fetchData(),u.forEach(function(e){return t.context.getStore(e).addChangeListener(t._onStoreChange)})},componentWillReceiveProps:function componentWillReceiveProps(t){var e=r(this.constructor,this.context,this.props,t);e||this.fetchData(t)},shouldComponentUpdate:function shouldComponentUpdate(e,t){return!t.pending},componentWillUnmount:function componentWillUnmount(){var t=this;this.requestId&&this.naptimeStore.removeRequestListener(this.requestId,function(){return t.getStateFromStores()}),u.forEach(function(e){return t.context.getStore(e).removeChangeListener(t._onStoreChange)})},getInitialState:function getInitialState(){return{allDataIsLoaded:!1,pending:!1}},getStateFromStores:function getStateFromStores(){var n=arguments.length<=0||void 0===arguments[0]?this.props:arguments[0];this.naptimeStore=this.context.getStore("NaptimeStore");var e=a(this.constructor,this.context,n),s=e.mergedProps,t=e.allDataIsLoaded;return t=t||this.state.allDataIsLoaded,{mergedProps:s,allDataIsLoaded:t}},fetchData:function fetchData(){var t=this,n=arguments.length<=0||void 0===arguments[0]?this.props:arguments[0],s=e(this.constructor,this.context,n);0===s.length?this.setState(this.getStateFromStores(n)):(this.setState({pending:!0}),this.requestId=this.naptimeStore.addRequestListener(function(){return t.setState(Object.assign({pending:!1},t.getStateFromStores(n)))}),setImmediate(function(){return t.context.executeAction(i,{requestId:t.requestId,clients:s,context:t.context})}))},_onStoreChange:function _onStoreChange(){var t=this;this.isMounted()&&this.setState(this.getStateFromStores(),function(){return t.fetchData()})},render:function render(){var n=this.getStateFromStores(this.props),a=n.mergedProps,r=n.allDataIsLoaded;if(!r)return o.LOADING_COMPONENT?t.createElement(o.LOADING_COMPONENT):null;var i={},e=a;return Object.keys(e||{}).filter(function(t){return!(e[t]instanceof s)}).forEach(function(t){return i[t]=e[t]}),t.createElement(o,Object.assign({pending:this.state.pending},this.props,i))}});return n(c,o),c}});
define("bundles/naptimejs/util/createBaseComponent",["require","exports","module","react-with-addons","vendor/cnpm/fluxible.v0-4/index","vendor/cnpm/fluxible.v0-4/addons/FluxibleComponent","bundles/naptimejs/stores/NaptimeStore"],function(require,exports,module){var e=require("react-with-addons"),n=require("vendor/cnpm/fluxible.v0-4/index"),t=require("vendor/cnpm/fluxible.v0-4/addons/FluxibleComponent"),o=require("bundles/naptimejs/stores/NaptimeStore");module.exports=function(i,l){var r=new n({component:i});r.registerStore(o),(l||[]).forEach(function(e){r.registerStore(e)});var s=r.createContext();return e.createElement(t,{context:s.getComponentContext()},e.createElement(i,null))}});
define("naptime",["require","exports","module","bundles/naptimejs/util/createContainer","bundles/naptimejs/util/createBaseComponent","bundles/naptimejs/resources/index","bundles/naptimejs/util/NaptimeProp"],function(require,exports,module){module.exports={createContainer:require("bundles/naptimejs/util/createContainer"),createBaseComponent:require("bundles/naptimejs/util/createBaseComponent"),resources:require("bundles/naptimejs/resources/index"),NaptimeProp:require("bundles/naptimejs/util/NaptimeProp")}});
define("bundles/discovery/lib/offerings",["require","exports","module","react-with-addons"],function(require,exports,module){function offeringOf(e){var i=e.courseType||"specialization";return Object.assign(e,{offeringType:i})}function offeringIn(e){var i=e.course||e.onDemandSpecialization||e.specialization;return offeringOf(i)}function offeringDebug(e){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=r.courses,a=void 0===i?{}:i,n=r.specializations,d=void 0===n?{}:n,o=e.course?a:d,s=o.boosts,u=void 0===s?{}:s,t=o.explain,f=void 0===t?{}:t;return{boosts:u[e.id],explain:f[e.id]}}var i=require("react-with-addons"),e=i.PropTypes,n=e.shape({id:e.string.isRequired,link:e.string.isRequired,offeringType:e.string});module.exports={offeringIn:offeringIn,offeringOf:offeringOf,offeringShape:n,offeringDebug:offeringDebug}});
function _objectWithoutProperties(r,i){var n={};for(var e in r){if(i.indexOf(e)>=0)continue;if(!Object.prototype.hasOwnProperty.call(r,e))continue;n[e]=r[e]}return n}var _extends=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i};define("bundles/discovery/components/OfferingLink",["require","exports","module","react-with-addons","bundles/discovery/lib/offerings","bundles/page/components/TrackedLink"],function(require,exports,module){var e=require("react-with-addons"),r=require("bundles/discovery/lib/offerings"),n=r.offeringShape,i=require("bundles/page/components/TrackedLink"),o=e.createClass({displayName:"OfferingLink",propTypes:{trackingName:e.PropTypes.string.isRequired,className:e.PropTypes.string,offering:n.isRequired,children:e.PropTypes.node.isRequired},render:function render(){var n=this.props,r=n.offering,o=_objectWithoutProperties(n,["offering"]),t={id:r.id,target:r.link,offeringType:r.offeringType};return e.createElement(i,_extends({to:this.props.offering.link,moreValues:t},o))}});module.exports=o});
function _objectWithoutProperties(t,a){var n={};for(var e in t){if(a.indexOf(e)>=0)continue;if(!Object.prototype.hasOwnProperty.call(t,e))continue;n[e]=t[e]}return n}define("bundles/catalog/components/ExpandableContainer",["require","exports","module","react-with-addons"],function(require,exports,module){var e=require("react-with-addons"),t=e.createClass({displayName:"ExpandableContainer",propTypes:{handle:e.PropTypes.element.isRequired,children:e.PropTypes.element,expandedInitially:e.PropTypes.bool},getInitialState:function getInitialState(){return{expanded:this.props.expandedInitially}},handleClick:function handleClick(e){e.stopPropagation(),e.preventDefault(),this.setState({expanded:!this.state.expanded})},render:function render(){var t=this.props,n=t.handle,a=t.children,i=_objectWithoutProperties(t,["handle","children"]);return e.createElement("div",i,e.createElement("span",{className:"expandable-handle",onClick:this.handleClick},n),this.state.expanded&&a)}});module.exports=t});
function _objectWithoutProperties(t,r){var n={};for(var e in t){if(r.indexOf(e)>=0)continue;if(!Object.prototype.hasOwnProperty.call(t,e))continue;n[e]=t[e]}return n}define("bundles/catalog-browse/components/OfferingCardDebug",["require","exports","module","underscore","react-with-addons","bundles/catalog/components/ExpandableContainer"],function(require,exports,module){var _=require("underscore"),e=require("react-with-addons"),n=require("bundles/catalog/components/ExpandableContainer"),t=function format(e){return e.toFixed(4)},r=e.createClass({displayName:"OfferingCardDebug",propTypes:{boosts:e.PropTypes.object.isRequired,explain:e.PropTypes.object.isRequired},renderDetails:function renderDetails(r){var a=this;return e.createElement("ul",null,r.map(function(r,o){var i=r.description,c=r.value,l=r.details;return e.createElement(n,{key:o,handle:e.createElement("span",null,t(c)," ",e.createElement("code",null,i))},l&&a.renderDetails(l))}))},render:function render(){var r=this.props.explain,i=r.value,d=r.description,p=r.details,l=t(i),o=this.props.boosts,E=o.score,c=_objectWithoutProperties(o,["score"]),a=t(_(c).reduce(function(e,t){return e*t},1)),s=t(i/a),m=_(c).map(function(e,n){return n.replace("$","")+" ("+t(e)+")"}).join(" * "),f=e.createElement("span",{className:"offering-badge"},l),u=e.createElement("div",{className:"offering-debug-details card-rich-interaction",onClick:function(e){e.preventDefault(),e.stopPropagation()}},e.createElement("div",null,e.createElement("strong",null,"Total Score")," ",s," * ",a," = ",l),e.createElement("div",null,e.createElement("strong",null,"Raw Score")," ",s),e.createElement("div",null,e.createElement("strong",null,"Boost")," ",m," = ",a),e.createElement(n,{handle:e.createElement("strong",null,"Details"),expandedInitially:!0},this.renderDetails(p)),e.createElement(n,{handle:e.createElement("strong",null,"Description")},e.createElement("pre",null,d)));return e.createElement(n,{handle:f},u)}});module.exports=r});
define("bundles/page/common/imgixParams",["require","exports","module"],function(require,exports,module){module.exports={fillWithWhiteBackground:{fit:"fill",bg:"FFF"}}});
define("bundles/partners/components/Names",["require","exports","module","naptime","react-with-addons","underscore","js/app/loggerSingleton","bundles/naptimejs/resources/partners.v1"],function(require,exports,module){var n=require("naptime"),e=require("react-with-addons"),_=require("underscore"),s=require("js/app/loggerSingleton"),r=require("bundles/naptimejs/resources/partners.v1"),t=e.createClass({displayName:"Names",propTypes:{partners:e.PropTypes.arrayOf(e.PropTypes.instanceOf(r)).isRequired},render:function render(){if(!this.props.partners)return null;var r=_.chain(this.props.partners).compact().filter(function(e){return e.name?!0:(s.error("Partner with id "+e.id+" does not have a name"),!1)}).pluck("name").value();return e.createElement("span",null,r.join(", "))}});module.exports=n.createContainer(t,[],function(t,n){var e=n.ids,s=void 0===e?[]:e;return{partners:r.multiGet(s,{fields:["name"]})}})});
define("bundles/catalog/lib/debugUtils",["require","exports","module","js/lib/coursera.store"],function(require,exports,module){function isDebugEnabled(){return!!e.get("search.debug")}function parseDebugInfo(){var r=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],e={};return isDebugEnabled()&&r.forEach(function(t){var r=t.debug,n=void 0===r?"{}":r,s=JSON.parse(n);Object.keys(s).forEach(function(r){e[r]=Object.assign({},e[r],s[r])})}),e}var e=require("js/lib/coursera.store");module.exports={isDebugEnabled:isDebugEnabled,parseDebugInfo:parseDebugInfo}});
define("nls/catalog-browse",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});


define('css!bundles/catalog-browse/components/__styles__/OfferingCard',[],function(){})
define("bundles/catalog-browse/components/OfferingCard",["require","exports","module","naptime","react-with-addons","bundles/discovery/components/OfferingLink","bundles/discovery/lib/offerings","bundles/catalog-browse/components/OfferingCardDebug","bundles/naptimejs/resources/courses.v1","bundles/naptimejs/resources/onDemandSpecializations.v1","bundles/naptimejs/resources/specializations.v1","bundles/page/common/imgixParams","bundles/partners/components/Names","bundles/catalog/lib/debugUtils","js/components/Imgix","js/lib/coursera.react-intl","i18n!nls/catalog-browse","css!./__styles__/OfferingCard"],function(require,exports,module){var c=require("naptime"),e=require("react-with-addons"),o=require("bundles/discovery/components/OfferingLink"),i=require("bundles/discovery/lib/offerings"),l=i.offeringIn,m=i.offeringDebug,p=require("bundles/catalog-browse/components/OfferingCardDebug"),t=require("bundles/naptimejs/resources/courses.v1"),a=require("bundles/naptimejs/resources/onDemandSpecializations.v1"),n=require("bundles/naptimejs/resources/specializations.v1"),d=require("bundles/page/common/imgixParams"),s=require("bundles/partners/components/Names"),u=require("bundles/catalog/lib/debugUtils"),r=require("js/components/Imgix"),f=require("js/lib/coursera.react-intl"),g=f.FormattedMessage,b=require("i18n!nls/catalog-browse");require("css!./__styles__/OfferingCard");var v=e.createClass({displayName:"OfferingCard",propTypes:{id:e.PropTypes.string.isRequired,course:e.PropTypes.instanceOf(t),onDemandSpecialization:e.PropTypes.instanceOf(a),specialization:e.PropTypes.instanceOf(n),debug:e.PropTypes.object},contextTypes:{track:e.PropTypes.func.isRequired},renderSubtitle:function renderSubtitle(){if(this.props.course)return e.createElement("div",{className:"text-light offering-partner-names"},e.createElement(s,{ids:this.props.course.partnerIds}));var n=this.props.onDemandSpecialization||this.props.specialization,i=n.courseCount,t=n.partnerIds;return e.createElement("div",null,e.createElement("span",{className:"specialization-course-count"},e.createElement(g,{message:b("{courseCount}-course Specialization"),courseCount:i})),e.createElement("span",{className:"dot-delimiter"},""),e.createElement("span",{className:"text-light"},e.createElement(s,{ids:t})))},render:function render(){var s=l(this.props);return e.createElement(o,{className:"rc-OfferingCard",trackingName:"offering_card",offering:s},e.createElement("div",{className:"offering-content"},e.createElement("div",{className:"bt3-row"},e.createElement("div",{className:"bt3-col-xs-3 bt3-col-sm-2"},e.createElement(r,{className:"offering-image",src:s.iconSrc,imgParams:d.fillWithWhiteBackground,width:100,height:100,alt:r.DECORATIVE})),e.createElement("div",{className:"bt3-col-xs-8 bt3-col-xs-offset-1 bt3-col-sm-10 bt3-col-sm-offset-0 offering-info-container"},e.createElement("div",{className:"offering-info"},e.createElement("h2",{className:"headline-1-text"},s.name),this.renderSubtitle())))),e.createElement("div",{className:"offering-debug-info"},u.isDebugEnabled()&&e.createElement(p,m(this.props,this.props.debug)),!s.isPublic&&e.createElement("span",{className:"offering-badge"},"Superuser only")))}});module.exports=c.createContainer(v,[],function(i,e){return{course:t.get(e.courseId,{fields:["name","description","link","iconSrc","isPublic"],includes:["partnerIds"]}),onDemandSpecialization:a.get(e.onDemandSpecializationId,{fields:["name","description","link","iconSrc","courseCount","isPublic"],includes:["partnerIds"]}),specialization:n.get(e.specializationId,{fields:["name","description","link","iconSrc","courseCount","isPublic"],includes:["partnerIds"],subcomponents:[s]})}})});
define("pages/hut/course/promises/relatedCourses",["require","exports","module","bundles/catalogP/promises/courses","backbone"],function(require,exports,module){function relatedCoursesPromiseFactory(o,s){var r={q:"relatedCourses",courseId:o,fields:["photoUrl","name","slug","display"],includes:{partners:{fields:["name","abbrName","homeLink"]}}};return s&&(r.limit=s),e(r).then(function(e){return new Backbone.Collection(e.where({display:!0}))})}var e=require("bundles/catalogP/promises/courses"),Backbone=require("backbone");module.exports=relatedCoursesPromiseFactory});

define('css!bundles/ondemand/components/__styles__/RelatedCourses',[],function(){})
define("bundles/ondemand/components/RelatedCourses",["require","exports","module","react-with-addons","bundles/catalog-browse/components/OfferingCard","i18n!nls/ondemand","pages/hut/course/promises/relatedCourses","pages/open-course/common/models/course","js/lib/retracked","js/lib/coursera.redirect","css!./__styles__/RelatedCourses"],function(require,exports,module){var e=require("react-with-addons"),r=require("bundles/catalog-browse/components/OfferingCard"),t=require("i18n!nls/ondemand"),n=require("pages/hut/course/promises/relatedCourses"),s=require("pages/open-course/common/models/course"),o=require("js/lib/retracked"),a=require("js/lib/coursera.redirect");require("css!./__styles__/RelatedCourses");var u=e.createClass({displayName:"RelatedCourses",propTypes:{numRelatedCourses:e.PropTypes.number},contextTypes:{course:e.PropTypes.instanceOf(s).isRequired},childContextTypes:{course:e.PropTypes.instanceOf(s).isRequired,track:e.PropTypes.func.isRequired},getChildContext:function getChildContext(){return{track:o.makeTracker({namespace:"open_course_home.related_courses"}),course:this.context.course}},getDefaultProps:function getDefaultProps(){return{numRelatedCourses:5}},getInitialState:function getInitialState(){return{relatedCourses:[]}},componentWillMount:function componentWillMount(){var e=this;n(this.context.course.id,this.props.numRelatedCourses).then(function(s){return e.setState({relatedCourses:s})})},onClickOfferingCard:function onClickOfferingCard(e){e.isOnDemand()&&setTimeout(function(){return a.refresh()},300)},render:function render(){var s=this;return e.createElement("div",{className:"rc-RelatedCourses"},e.createElement("h3",null,t("Related Courses")),e.createElement("br",null),this.state.relatedCourses.map(function(t){return e.createElement("div",{key:t.get("id"),onClick:s.onClickOfferingCard.bind(s,t)},e.createElement(r,{id:t.get("id"),courseId:t.get("id")}))}))}});module.exports=u});
define("nls/certificate",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});


define('css!bundles/certificate/components/__styles__/CertificatePromoBox',[],function(){})
define("bundles/certificate/components/CertificatePromoBox",["require","exports","module","react-with-addons","bundles/iconfont/Icon","js/components/Imgix","i18n!nls/certificate","pages/open-course/common/constants","css!./__styles__/CertificatePromoBox"],function(require,exports,module){var e=require("react-with-addons"),c=require("bundles/iconfont/Icon"),o=require("js/components/Imgix"),t=require("i18n!nls/certificate"),r=require("pages/open-course/common/constants");require("css!./__styles__/CertificatePromoBox");var s=e.createClass({displayName:"CertificatePromoBox",propTypes:{href:e.PropTypes.string.isRequired},contextTypes:{track:e.PropTypes.func.isRequired},render:function render(){return e.createElement("div",{className:"c-welcome-rounded-box rc-CertificatePromoBox"},e.createElement("a",{href:this.props.href,onClick:this.context.track.handle("click.certificate_available_learn_more"),className:"nostyle"},e.createElement("h2",null,t("Certificate Available For Learners")),e.createElement(o,{alt:"certificate logo",src:r.certLogoWithBlueBackground,width:120}),e.createElement("p",{className:"body-1-text"},t("Complete this course and showcase your success with a Certificate - it's trusted, secure and issued by Coursera.")),e.createElement("p",{className:"body-2-text"},e.createElement("span",{className:"c-cpb-main-link horizontal-box align-items-absolute-center",onClick:this.context.track.handle("welcome.vc_learn_more.click")},t("Learn more about Certificates"),"",e.createElement(c,{name:"chevron-right"})))))}});module.exports=s});
define("bundles/ondemand/components/s12n/CourseInfoHeaderS12nLink",["require","exports","module","react-with-addons","bundles/catalogP/models/s12n","js/lib/coursera.react-intl","i18n!nls/ondemand","vendor/cnpm/fluxible.v0-4/addons/connectToStores"],function(require,exports,module){var e=require("react-with-addons"),n=require("bundles/catalogP/models/s12n"),s=require("js/lib/coursera.react-intl"),r=s.FormattedHTMLMessage,o=require("i18n!nls/ondemand"),t=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),a=e.createClass({displayName:"CourseInfoHeaderS12nLink",propTypes:{s12n:e.PropTypes.instanceOf(n)},render:function render(){var n=this.props.s12n;if(!n)return null;return e.createElement("h3",{className:"rc-CourseInfoHeaderS12nLink headline-1-text styleguide"},e.createElement(r,{message:o('Part of a {numCourses}-course series, the <a href="{s12nLink}">{s12nName} Specialization</a>'),numCourses:n.getNumCourses(),s12nLink:n.getLink(),s12nName:n.getName()}))}});module.exports=t(a,["S12nStore"],function(e,s){var n=e.S12nStore;return{s12n:n.getS12n()}})});

define('css!bundles/ondemand/components/__styles__/CourseInfoHeader',[],function(){})
define("bundles/ondemand/components/CourseInfoHeader",["require","exports","module","react-with-addons","bundles/ondemand/components/s12n/CourseInfoHeaderS12nLink","vendor/cnpm/fluxible.v0-4/addons/connectToStores","js/lib/imgix","css!./__styles__/CourseInfoHeader.css"],function(require,exports,module){var e=require("react-with-addons"),r=require("bundles/ondemand/components/s12n/CourseInfoHeaderS12nLink"),o=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),t=require("js/lib/imgix");require("css!./__styles__/CourseInfoHeader.css");var s=e.createClass({displayName:"CourseInfoHeader",propTypes:{promoPhoto:e.PropTypes.string,universities:e.PropTypes.string,courseNames:e.PropTypes.string},render:function render(){var s=t.processImage(this.props.promoPhoto,{brightness:10,blur:20}),o={backgroundImage:"url("+s+")"};return e.createElement("div",{className:"rc-CourseInfoHeader styleguide"},e.createElement("div",{className:"course-text vertical-box align-items-absolute-center"},e.createElement("h2",{className:"course-partners headline-1-text color-secondary-text"},this.props.universities),e.createElement("h1",{className:"course-name display-4-text"},this.props.courseNames),e.createElement(r,null)),e.createElement("div",{className:"course-image",style:o}))}});module.exports=o(s,["CourseStore"],function(s,o){var r=s.CourseStore,e=r.getMetadata();if(e)return{promoPhoto:e.get("promoPhoto"),universities:e.get("universities")?e.get("universities").getNamesString():"",courseNames:e.get("name")}}),module.exports.BaseComp=s});

define('css!bundles/ondemand/components/__styles__/HowToPass',[],function(){})
define("bundles/ondemand/components/HowToPass",["require","exports","module","react-with-addons","bundles/ondemand/stores/SessionStore","bundles/epic/client","bundles/ondemand/utils/penaltiesExperiment","i18n!nls/ondemand","css!./__styles__/HowToPass.css"],function(require,exports,module){var e=require("react-with-addons"),n=require("bundles/ondemand/stores/SessionStore"),t=require("bundles/epic/client"),a=require("bundles/ondemand/utils/penaltiesExperiment"),s=require("i18n!nls/ondemand");require("css!./__styles__/HowToPass.css");var o=e.createClass({displayName:"HowToPass",propTypes:{showInOnDemand:e.PropTypes.bool},render:function render(){if(!n.isSessionsEnabled()&&!this.props.showInOnDemand)return null;return e.createElement("div",{className:"rc-HowToPass card-no-action primary od-container comfy"},e.createElement("h2",{className:"body-2-text"},s("How to Pass the Course")),e.createElement("p",null,s(a()?"Pass all graded assignments to complete the course.\nYou can still pass an assignment after the deadline, but a 20% late penalty will be applied.":"Pass all graded assignments to complete the course.")))}});module.exports=o});

define('css!bundles/ondemand/components/__styles__/InstructorBox',[],function(){})
define("bundles/ondemand/components/InstructorBox",["require","exports","module","react-with-addons","vendor/cnpm/fluxible.v0-4/addons/connectToStores","bundles/catalogP/models/instructor","i18n!nls/ondemand","js/components/Imgix","css!./__styles__/InstructorBox.css"],function(require,exports,module){var e=require("react-with-addons"),r=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),s=require("bundles/catalogP/models/instructor"),n=require("i18n!nls/ondemand"),o=require("js/components/Imgix");require("css!./__styles__/InstructorBox.css");var t=e.createClass({displayName:"InstructorBox",propTypes:{instructors:e.PropTypes.arrayOf(e.PropTypes.instanceOf(s))},_renderInstructor:function _renderInstructor(t){return e.createElement("a",{className:"nostyle",href:t.getLink(),key:t.get("id")},e.createElement("div",{className:"horizontal-box instructor"},e.createElement(o,{alt:"",src:t.getPhotoSrc(),height:64,width:64,imgParams:{fit:"crop"},className:"bt3-img-circle instructor-photo"}),e.createElement("div",{className:"styleguide"},e.createElement("p",{className:"instructor-name headline-1-text"},t.getFullName()),e.createElement("div",{className:"color-secondary-text"},t.get("title")),e.createElement("div",{className:"color-secondary-text"},t.get("department")))))},render:function render(){var t=this.props.instructors?this.props.instructors.map(this._renderInstructor):null;return e.createElement("div",{className:"rc-InstructorBox comfy card-no-action primary od-container"},e.createElement("h2",{className:"headline-2-text card-headline"},n("Instructors")),t)}});module.exports=t,module.exports=r(t,["CourseStore"],function(e,r){var t=e.CourseStore;return{instructors:t.getInstructorsToDisplay()}}),module.exports.BaseComp=t});

define('css!bundles/ondemand/components/__styles__/ReferrerInformation',[],function(){})
define("bundles/ondemand/components/ReferrerInformation",["require","exports","module","react-with-addons","js/lib/coursera.react-intl","q","bundles/phoenix/lib/apiWrapper","jsuri","pages/open-course/common/constants","bundles/phoenix/components/ProfileImage","bundles/ondemand/stores/SessionStore","bundles/phoenix/template/models/userIdentity","vendor/cnpm/fluxible.v0-4/addons/connectToStores","pages/open-course/common/models/course","css!./__styles__/ReferrerInformation"],function(require,exports,module){var e=require("react-with-addons"),a=require("js/lib/coursera.react-intl"),l=a.FormattedMessage,t=require("q"),n=require("bundles/phoenix/lib/apiWrapper"),s=require("jsuri"),f=require("pages/open-course/common/constants"),i=require("bundles/phoenix/components/ProfileImage"),o=require("bundles/ondemand/stores/SessionStore"),d=require("bundles/phoenix/template/models/userIdentity"),c=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),u=require("pages/open-course/common/models/course");require("css!./__styles__/ReferrerInformation");var r=e.createClass({displayName:"ReferrerInformation",propTypes:{referrerId:e.PropTypes.string.isRequired,course:e.PropTypes.instanceOf(u)},contextTypes:{track:e.PropTypes.func.isRequired},getInitialState:function getInitialState(){return{referrerProfile:null}},componentWillMount:function componentWillMount(){var e=this;if(o.isSessionsEnabled()&&!o.isEnrolled()&&d.get("authenticated")){var r=n("/api/onDemandClassmateProfiles.v1",{type:"rest"}),a=(new s).addQueryParam("courseId",f.courseId).addQueryParam("q","byExternalIds").addQueryParam("externalUserIds",this.props.referrerId).addQueryParam("fields","socialProfiles.v1(photoUrl)").addQueryParam("includes","userId,_links");return t(r.get(a.toString())).then(function(r){if(r.linked["onDemandSocialProfiles.v1"].length){var o=r.linked["onDemandSocialProfiles.v1"][0];e.setState({referrerProfile:{fullName:o.fullName,photoUrl:o.photoUrl}})}},function(r){e.context.track("invite_friends.emit.error",{from:"referrer",error:r,external_user_id:e.props.referrerId})}).done()}},componentDidUpdate:function componentDidUpdate(r,e){!e.referrerProfile&&this.state.referrerProfile&&this.context.track("invite_friends.render.referrer")},render:function render(){if(!this.state.referrerProfile)return null;return e.createElement("div",{className:"rc-ReferrerInformation horizontal-box align-items-absolute-center card-no-action"},e.createElement(i,{profileImageUrl:this.state.referrerProfile.photoUrl,fullName:this.state.referrerProfile.fullName,width:44,height:44}),e.createElement("div",{className:"information"},e.createElement(l,{message:"{firstName} has invited you to take {course}. Join today!",firstName:this.state.referrerProfile.fullName.split(" ")[0],course:this.props.course.get("name")})))}});module.exports=c(r,["CourseStore"],function(e,o){var r=e.CourseStore;return{course:r.getMetadata()}}),module.exports.BaseComp=r});
define("bundles/ondemand/shapes/Period",["require","exports","module","react-with-addons"],function(require,exports,module){var e=require("react-with-addons");module.exports=e.PropTypes.shape({moduleIds:e.PropTypes.arrayOf(e.PropTypes.string).isRequired,numberOfWeeks:e.PropTypes.number})});
define("bundles/ondemand/components/SyllabusPeriod",["require","exports","module","react-router","react-with-addons","underscore","bundles/ondemand/stores/SessionStore","bundles/ondemand/utils/url","bundles/phoenix/template/models/userIdentity","js/lib/coursera.react-intl","i18n!nls/ondemand","pages/open-course/common/models/module","vendor/cnpm/fluxible.v0-4/addons/connectToStores"],function(require,exports,module){var c=require("react-router"),a=c.Link,e=require("react-with-addons"),_=require("underscore"),t=require("bundles/ondemand/stores/SessionStore"),o=require("bundles/ondemand/utils/url"),r=o.getWeekUrl,s=require("bundles/phoenix/template/models/userIdentity"),l=require("js/lib/coursera.react-intl"),d=l.FormattedMessage,n=require("i18n!nls/ondemand"),i=require("pages/open-course/common/models/module"),m=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),u=e.createClass({displayName:"SyllabusPeriod",propTypes:{modules:e.PropTypes.arrayOf(e.PropTypes.instanceOf(i)).isRequired,week:e.PropTypes.number.isRequired,isWeekLocked:e.PropTypes.bool},render:function render(){var o=this.props.modules.reduce(function(e,module){return e.concat(module.getGradables())},[]),l=this.props.modules.reduce(function(e,module){return e.concat(module.getLessons().toArray())},[]);return e.createElement("div",{className:"week-entry styleguide"},e.createElement("div",{className:"week-header horizontal-box align-items-top"},e.createElement("span",{className:"week-number caption-text"},e.createElement(d,{message:n("Week {week}"),week:this.props.week})),e.createElement("div",{className:"flex-1"},this.props.modules.map(function(module,t){return e.createElement("p",{key:t,className:"module-name headline-1-text"},module.get("name"))})),s.get("authenticated")&&t.isPreviewMode()&&!this.props.isWeekLocked&&e.createElement(a,{to:r(this.props.week)},n("Preview"))),e.createElement("ol",{className:"week-topics nostyle"},l.map(function(t,n){return e.createElement("li",{key:n},t.get("name"))})),o.length>0&&e.createElement("ol",{className:"week-assignments align-items-top theme-light nostyle"},o.map(function(t,n){return e.createElement("li",{key:n},e.createElement("span",null,e.createElement("span",{className:"body-2-text"},t.getTypePrefix()),": "+t.getName()))})))}});module.exports=m(u,["CourseStore","S12nStore","ContentAccessStore"],function(e,n){var s=e.CourseStore,o=e.S12nStore,r=e.ContentAccessStore,a=n.moduleIds,l=n.week,d=o.isRestrictedCapstone();return{modules:_(a.map(function(module){return s.getModule(module)})).compact(),isWeekLocked:t.isWeekLocked(l,r,d)}})});

define('css!bundles/ondemand/components/__styles__/Syllabus',[],function(){})
define("bundles/ondemand/components/Syllabus",["require","exports","module","react-with-addons","underscore","bundles/ondemand/shapes/Period","bundles/ondemand/components/SyllabusPeriod","vendor/cnpm/fluxible.v0-4/addons/connectToStores","i18n!nls/ondemand","css!./__styles__/Syllabus.css"],function(require,exports,module){var e=require("react-with-addons"),_=require("underscore"),n=require("bundles/ondemand/shapes/Period"),s=require("bundles/ondemand/components/SyllabusPeriod"),o=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),a=require("i18n!nls/ondemand");require("css!./__styles__/Syllabus.css");var d=e.createClass({displayName:"Syllabus",propTypes:{weekMap:e.PropTypes.objectOf(n)},contextTypes:{track:e.PropTypes.func.isRequired},render:function render(){return e.createElement("div",{className:"rc-Syllabus od-container comfy card-no-action primary styleguide"},e.createElement("div",{className:"horizontal-box"},e.createElement("h2",{className:"flex-1 headline-2-text card-headline"},a("Syllabus"))),_(this.props.weekMap).map(function(o,n){return e.createElement(s,{key:parseInt(n,10),moduleIds:o.moduleIds,week:n})}))}});module.exports=o(d,["CourseScheduleStore"],function(e,s){var n=e.CourseScheduleStore;return{weekMap:n.getSchedule().weekMap}})});

define('css!bundles/ondemand/components/enrollBox/__styles__/CoursePassedBox',[],function(){})
define("bundles/ondemand/components/enrollBox/CoursePassedBox",["require","exports","module","react-with-addons","bundles/ondemand/stores/SessionStore","js/components/Imgix","js/lib/path","i18n!nls/ondemand","pages/open-course/common/constants","css!./__styles__/CoursePassedBox.css"],function(require,exports,module){var e=require("react-with-addons"),s=require("bundles/ondemand/stores/SessionStore"),n=require("js/components/Imgix"),o=require("js/lib/path"),a=require("i18n!nls/ondemand"),t=require("pages/open-course/common/constants").assets.rootPath;require("css!./__styles__/CoursePassedBox.css");var r=e.createClass({displayName:"CoursePassedBox",render:function render(){return e.createElement("div",{className:"rc-CoursePassedBox rc-EnrollBox vertical-box align-items-vertical-center od-container styleguide"},e.createElement(n,{className:"badge",alt:"VC Image",src:o.join(t,"bundles/ondemand/assets/images/infinity_badge.png")}),e.createElement("h5",null,a("You've completed this course")),s.isSessionsEnabled()&&e.createElement("span",{className:"caption-text passed-session-dates"},s.getSessionDates()))}});module.exports=r});
define("bundles/ondemand/components/enrollBox/LoggedOutBox",["require","exports","module","react-router","react-with-addons","jsuri","bundles/phoenix/template/models/userAuthorization","i18n!nls/ondemand"],function(require,exports,module){var n=require("react-router"),r=n.State,e=require("react-with-addons"),o=require("jsuri"),i=require("bundles/phoenix/template/models/userAuthorization"),t=require("i18n!nls/ondemand"),a=e.createClass({displayName:"LoggedOutBox",contextTypes:{track:e.PropTypes.func.isRequired},mixins:[r],componentDidMount:function componentDidMount(){this.context.track("login_box.render")},handleLoginClick:function handleLoginClick(){this.context.track("login_box.click.login"),i.ensureAuthenticated({redirectUrl:this.getRedirectUrlAfterAuth()})},getRedirectUrlAfterAuth:function getRedirectUrlAfterAuth(){var e=new o(this.getPathname());return e.addQueryParam("action","enroll"),e.toString()},render:function render(){return e.createElement("div",{className:"rc-LoggedOutBox rc-EnrollBox cozy od-container theme-dark"},e.createElement("div",{className:"vertical-box styleguide"},e.createElement("h3",{className:"color-primary-text"},t("Log in to enroll in this course")),e.createElement("div",{className:"horizontal-box align-items-right"},e.createElement("button",{onClick:this.handleLoginClick,className:"primary"},t("Log in")))))}});module.exports=a});
define("bundles/ondemand/components/enrollBox/NoSessionBox",["require","exports","module","react-with-addons","i18n!nls/ondemand"],function(require,exports,module){var e=require("react-with-addons"),n=require("i18n!nls/ondemand"),o=e.createClass({displayName:"NoSessionBox",contextTypes:{track:e.PropTypes.func.isRequired},componentDidMount:function componentDidMount(){this.context.track("session_enroll_box.render")},render:function render(){return e.createElement("div",{className:"rc-NoSessionBox rc-EnrollBox cozy od-container card-rich-interaction"},e.createElement("div",{className:"vertical-box align-items-absolute-center styleguide"},e.createElement("h4",{className:"color-primary-text no-sessions-available"},n("There are no sessions available for this course.")),e.createElement("p",null,n("Check back later for updates about upcoming sessions."))))}});module.exports=o});
function _defaults(e,o){for(var l=Object.getOwnPropertyNames(o),t=0;t<l.length;t++){var r=l[t],n=Object.getOwnPropertyDescriptor(o,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var _createClass=function(){function defineProperties(n,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),_get=function get(l,u,s){var o=!0;e:for(;o;){var t=l,i=u,a=s;e=r=n=void 0,o=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,i);if(void 0===e){var r=Object.getPrototypeOf(t);if(null===r)return void 0;l=r,u=i,s=a,o=!0;continue e}if("value"in e)return e.value;var n=e.get;if(void 0===n)return void 0;return n.call(a)}};define("bundles/ondemand/components/enrollButton/BaseButton",["require","exports","module","react-with-addons","i18n!nls/ondemand"],function(require,exports,module){var e=require("react-with-addons"),t=require("i18n!nls/ondemand"),r=function(r){function BaseButton(){_classCallCheck(this,BaseButton),_get(Object.getPrototypeOf(BaseButton.prototype),"constructor",this).apply(this,arguments)}return _inherits(BaseButton,r),_createClass(BaseButton,[{key:"render",value:function render(){var t=this.props,r=t.enrollText,n=t.enrolledText;return e.createElement("button",{className:"primary",onClick:this.props.onClick,disabled:this.props.isEnrolled},this.props.isEnrolled?n:r)}}],[{key:"propTypes",value:{isEnrolled:e.PropTypes.bool.isRequired,onClick:e.PropTypes.func,enrolledText:e.PropTypes.string,enrollText:e.PropTypes.string},enumerable:!0},{key:"defaultProps",value:{enrollText:t("Enroll"),enrolledText:t("Enrolled")},enumerable:!0}]),BaseButton}(e.Component);module.exports=r});
function _defaults(e,t){for(var l=Object.getOwnPropertyNames(t),n=0;n<l.length;n++){var r=l[n],o=Object.getOwnPropertyDescriptor(t,r);o&&o.configurable&&void 0===e[r]&&Object.defineProperty(e,r,o)}return e}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _inherits(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):_defaults(n,e))}var _createClass=function(){function defineProperties(o,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(o,e.key,e)}}return function(e,n,r){return n&&defineProperties(e.prototype,n),r&&defineProperties(e,r),e}}(),_get=function get(l,a,i){var t=!0;e:for(;t;){var n=l,s=a,u=i;e=r=o=void 0,t=!1,null===n&&(n=Function.prototype);var e=Object.getOwnPropertyDescriptor(n,s);if(void 0===e){var r=Object.getPrototypeOf(n);if(null===r)return void 0;l=r,a=s,i=u,t=!0;continue e}if("value"in e)return e.value;var o=e.get;if(void 0===o)return void 0;return o.call(u)}};define("bundles/ondemand/components/enrollButton/OnDemandEnrollButton",["require","exports","module","./BaseButton","react-with-addons","bundles/ondemand/stores/CourseMembershipStore","bundles/ondemand/utils/courseMembershipApi","bundles/page/lib/uriManager","js/lib/coursera.redirect","js/lib/coursera.store","pages/open-course/common/constants"],function(require,exports,module){var r=require("./BaseButton"),e=require("react-with-addons"),o=require("bundles/ondemand/stores/CourseMembershipStore"),t=require("bundles/ondemand/utils/courseMembershipApi"),l=require("bundles/page/lib/uriManager"),s=require("js/lib/coursera.redirect"),u=require("js/lib/coursera.store"),n=require("pages/open-course/common/constants"),i=function(i){function OnDemandEnrollButton(){var e=this;_classCallCheck(this,OnDemandEnrollButton),_get(Object.getPrototypeOf(OnDemandEnrollButton.prototype),"constructor",this).apply(this,arguments),this.onClick=function(){e.props.onClick(),OnDemandEnrollButton.enrollInCourse(e.props.onEnroll)}}return _inherits(OnDemandEnrollButton,i),_createClass(OnDemandEnrollButton,[{key:"componentDidMount",value:function componentDidMount(){var e=l.parseAndDeleteQueryParam("action");"enroll"!==e||OnDemandEnrollButton.isEnrolled()||(this.context.track("ondemand_enroll_box.emit.auto_enroll"),OnDemandEnrollButton.enrollInCourse(this.props.onEnroll))}},{key:"render",value:function render(){return e.createElement(r,{onClick:this.onClick,isEnrolled:OnDemandEnrollButton.isEnrolled()})}}],[{key:"isEnrolled",value:function isEnrolled(){return o.isEnrolled()}},{key:"enrollInCourse",value:function enrollInCourse(e){t.enroll().then(function(){u.set(n.onboardModalStorageKey+n.courseId,!0),e?e():s.refresh()}).done()}},{key:"propTypes",value:{onClick:e.PropTypes.func,onEnroll:e.PropTypes.func},enumerable:!0},{key:"contextTypes",value:{track:e.PropTypes.func.isRequired},enumerable:!0},{key:"defaultProps",value:{onClick:function onClick(){}},enumerable:!0}]),OnDemandEnrollButton}(e.Component);module.exports=i});
function _defaults(e,r){for(var i=Object.getOwnPropertyNames(r),t=0;t<i.length;t++){var n=i[t],o=Object.getOwnPropertyDescriptor(r,n);o&&o.configurable&&void 0===e[n]&&Object.defineProperty(e,n,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var _createClass=function(){function defineProperties(o,n){for(var t=0;t<n.length;t++){var e=n[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(o,e.key,e)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),_get=function get(i,l,c){var r=!0;e:for(;r;){var t=i,u=l,a=c;e=n=o=void 0,r=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,u);if(void 0===e){var n=Object.getPrototypeOf(t);if(null===n)return void 0;i=n,l=u,c=a,r=!0;continue e}if("value"in e)return e.value;var o=e.get;if(void 0===o)return void 0;return o.call(a)}};define("bundles/phoenix/components/TopLevelModal",["require","exports","module","react-with-addons"],function(require,exports,module){var e=require("react-with-addons"),t=function(t){function TopLevelModal(){_classCallCheck(this,TopLevelModal),_get(Object.getPrototypeOf(TopLevelModal.prototype),"constructor",this).apply(this,arguments)}return _inherits(TopLevelModal,t),_createClass(TopLevelModal,[{key:"componentDidMount",value:function componentDidMount(){this.node=document.createElement("div"),document.body.appendChild(this.node),this.renderModal()}},{key:"componentWillUnmount",value:function componentWillUnmount(){e.unmountComponentAtNode(this.node),document.body.removeChild(this.node)}},{key:"renderModal",value:function renderModal(){e.render(this.props.children,this.node)}},{key:"render",value:function render(){return null}}],[{key:"propTypes",value:{children:e.PropTypes.any},enumerable:!0}]),TopLevelModal}(e.Component);module.exports=t});
define("bundles/certificate-enroll/components/EnrolledWithNoCert",["require","exports","module","react-with-addons","bundles/spark-cdp/components/ShareButtons","js/components/Imgix","js/lib/path","i18n!nls/certificate-enroll","pages/open-course/common/constants"],function(require,exports,module){var e=require("react-with-addons"),n=require("bundles/spark-cdp/components/ShareButtons"),s=require("js/components/Imgix"),r=require("js/lib/path"),t=require("i18n!nls/certificate-enroll"),a=require("pages/open-course/common/constants").assets.rootPath,c=r.join(a,"bundles/certificate/assets/images/ic_welcome_nocert_course.png"),o=e.createClass({displayName:"EnrolledWithNoCert",propTypes:{startLearningLink:e.PropTypes.string.isRequired,course:e.PropTypes.object.isRequired},contextTypes:{track:e.PropTypes.func.isRequired},render:function render(){var r=this;return e.createElement("div",{className:"rc-EnrolledWithNoCert"},e.createElement("div",{className:"horizontal-box"},e.createElement("div",{className:"flex-3"},e.createElement(s,{alt:"Certificate",className:"certificate",src:c})),e.createElement("div",{className:"flex-9"},e.createElement("h3",{className:"headline-1-text"},t("Welcome to the course. You can now access the course materials and discussions.")))),e.createElement("div",{className:"horizontal-box align-self-center start-learning-container"},e.createElement("a",{href:this.props.startLearningLink,onClick:function(){return r.context.track("click.enroll_modal_start_learning")},className:"styleguide nostyle start-learning-button-link"},e.createElement("button",{className:"primary align-horizontal-center"},t("Start Learning")))),e.createElement("div",{className:"share-buttons-container"},e.createElement(n,{course:this.props.course})))}});module.exports=o});
function _defaults(e,r){for(var l=Object.getOwnPropertyNames(r),n=0;n<l.length;n++){var o=l[n],t=Object.getOwnPropertyDescriptor(r,o);t&&t.configurable&&void 0===e[o]&&Object.defineProperty(e,o,t)}return e}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _inherits(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):_defaults(n,e))}var _createClass=function(){function defineProperties(t,o){for(var n=0;n<o.length;n++){var e=o[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(e,n,o){return n&&defineProperties(e.prototype,n),o&&defineProperties(e,o),e}}(),_get=function get(l,u,c){var r=!0;e:for(;r;){var n=l,a=u,i=c;e=o=t=void 0,r=!1,null===n&&(n=Function.prototype);var e=Object.getOwnPropertyDescriptor(n,a);if(void 0===e){var o=Object.getPrototypeOf(n);if(null===o)return void 0;l=o,u=a,c=i,r=!0;continue e}if("value"in e)return e.value;var t=e.get;if(void 0===t)return void 0;return t.call(i)}};define("bundles/ondemand/components/enrollButton/CertOnDemandEnrollButton",["require","exports","module","./BaseButton","react-with-addons","bundles/certificate-enroll/actions/EnrollActions","bundles/certificate-enroll/components/OpenCourseEnrollModal","bundles/ondemand/components/enrollButton/OnDemandEnrollButton","bundles/page/lib/uriManager","bundles/phoenix/components/TopLevelModal","bundles/certificate-enroll/components/EnrolledWithNoCert","pages/open-course/common/models/course"],function(require,exports,module){var t=require("./BaseButton"),e=require("react-with-addons"),n=require("bundles/certificate-enroll/actions/EnrollActions"),r=require("bundles/certificate-enroll/components/OpenCourseEnrollModal"),o=require("bundles/ondemand/components/enrollButton/OnDemandEnrollButton"),l=require("bundles/page/lib/uriManager"),a=require("bundles/phoenix/components/TopLevelModal"),i=require("bundles/certificate-enroll/components/EnrolledWithNoCert"),c=require("pages/open-course/common/models/course"),u=function(u){function CertOnDemandEnrollButton(e){var o=this;_classCallCheck(this,CertOnDemandEnrollButton),_get(Object.getPrototypeOf(CertOnDemandEnrollButton.prototype),"constructor",this).call(this,e),this.onClick=function(){o.props.onClick(),n.updateShowModal(!0)}}return _inherits(CertOnDemandEnrollButton,u),_createClass(CertOnDemandEnrollButton,[{key:"componentDidMount",value:function componentDidMount(){var e=l.parseAndDeleteQueryParam("action");"enroll"!==e||o.isEnrolled()||(this.context.track("ondemand_enroll_box.emit.auto_enroll"),n.updateShowModal(!0))}}],[{key:"propTypes",value:{course:e.PropTypes.instanceOf(c).isRequired,isEnrolled:e.PropTypes.bool.isRequired,onClick:e.PropTypes.func,onEnroll:e.PropTypes.func},enumerable:!0},{key:"contextTypes",value:{track:e.PropTypes.func.isRequired},enumerable:!0},{key:"defaultProps",value:{onClick:function onClick(){}},enumerable:!0}]),_createClass(CertOnDemandEnrollButton,[{key:"render",value:function render(){var n=this.props.course;return e.createElement("div",null,e.createElement(t,{onClick:this.onClick,isEnrolled:o.isEnrolled()}),e.createElement(a,null,e.createElement(r,{course:n,isPreEnroll:!1},e.createElement(i,{startLearningLink:n.getHomeLink(),course:n}))))}}]),CertOnDemandEnrollButton}(e.Component);module.exports=u});
function _defaults(e,o){for(var i=Object.getOwnPropertyNames(o),t=0;t<i.length;t++){var r=i[t],n=Object.getOwnPropertyDescriptor(o,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var _createClass=function(){function defineProperties(n,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),_get=function get(i,l,c){var o=!0;e:for(;o;){var t=i,u=l,a=c;e=r=n=void 0,o=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,u);if(void 0===e){var r=Object.getPrototypeOf(t);if(null===r)return void 0;i=r,l=u,c=a,o=!0;continue e}if("value"in e)return e.value;var n=e.get;if(void 0===n)return void 0;return n.call(a)}};define("bundles/ondemand/components/enrollButton/LoggedOutButton",["require","exports","module","./BaseButton","jsuri","react-with-addons","bundles/phoenix/template/models/userAuthorization"],function(require,exports,module){var t=require("./BaseButton"),r=require("jsuri"),e=require("react-with-addons"),n=require("bundles/phoenix/template/models/userAuthorization"),o=function(o){function LoggedOutButton(){var e=this;_classCallCheck(this,LoggedOutButton),_get(Object.getPrototypeOf(LoggedOutButton.prototype),"constructor",this).apply(this,arguments),this.onClick=function(){e.context.track("login_box.click.login"),n.ensureAuthenticated({redirectUrl:e.getRedirectUrlAfterAuth()})}}return _inherits(LoggedOutButton,o),_createClass(LoggedOutButton,[{key:"componentDidMount",value:function componentDidMount(){this.context.track("login_box.render")}},{key:"getRedirectUrlAfterAuth",value:function getRedirectUrlAfterAuth(){var e=new r(this.context.router.getCurrentPathname());return e.addQueryParam("action","enroll"),e.toString()}},{key:"render",value:function render(){return e.createElement(t,{onClick:this.onClick,isEnrolled:!1})}}],[{key:"contextTypes",value:{track:e.PropTypes.func.isRequired,router:e.PropTypes.func.isRequired},enumerable:!0},{key:"defaultProps",value:{onClick:function onClick(){}},enumerable:!0}]),LoggedOutButton}(e.Component);module.exports=o});
var _extends=Object.assign||function(s){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(s[n]=o[n])}return s};define("bundles/ondemand/components/enrollButton/S12nEnrollButton",["require","exports","module","react-with-addons","./BaseButton","bundles/ondemand/models/S12n","pages/open-course/common/models/course","bundles/page/lib/uriManager","bundles/phoenix/components/TopLevelModal","bundles/s12n-enroll/components/S12nEnrollModal","./OnDemandEnrollButton","bundles/certificate-enroll/actions/EnrollActions","bundles/common/constants/CourseRoles","bundles/ondemand/utils/courseMembershipApi","pages/open-course/common/constants","vendor/cnpm/fluxible.v0-4/addons/connectToStores"],function(require,exports,module){var e=require("react-with-addons"),i=require("./BaseButton"),d=require("bundles/ondemand/models/S12n"),a=require("pages/open-course/common/models/course"),l=require("bundles/page/lib/uriManager"),r=require("bundles/phoenix/components/TopLevelModal"),t=require("bundles/s12n-enroll/components/S12nEnrollModal"),h=require("./OnDemandEnrollButton"),s=require("bundles/certificate-enroll/actions/EnrollActions"),n=require("bundles/common/constants/CourseRoles"),u=require("bundles/ondemand/utils/courseMembershipApi"),c=require("pages/open-course/common/constants"),p=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),o=e.createClass({displayName:"S12nEnrollButton",propTypes:{s12n:e.PropTypes.instanceOf(d).isRequired,course:e.PropTypes.instanceOf(a).isRequired,shouldEnrollWithoutModal:e.PropTypes.bool.isRequired,isEnrolled:e.PropTypes.bool,isSessions:e.PropTypes.bool,onFreeEnroll:e.PropTypes.func,isPreEnroll:e.PropTypes.bool,onClick:e.PropTypes.func},contextTypes:{track:e.PropTypes.func.isRequired},getDefaultProps:function getDefaultProps(){return{onFreeEnroll:function onFreeEnroll(){},isPreEnroll:!1,onClick:function onClick(){},isEnrolled:h.isEnrolled(),isSessions:!1}},getInitialState:function getInitialState(){return{showModal:!1,isEnrolled:this.props.isEnrolled}},componentDidMount:function componentDidMount(){var e=l.parseAndDeleteQueryParam("action");"enroll"!==e||this.props.isEnrolled||(this.context.track("session_enroll_box.emit.auto_enroll"),this.onClick())},handleClose:function handleClose(){this.setState({showModal:!1})},onClick:function onClick(){this.props.onClick(),this.props.shouldEnrollWithoutModal?this.enrollWithoutModal():this.setState({showModal:!0})},enrollWithoutModal:function enrollWithoutModal(){var o=this,e=this.props,l=e.isSessions,r=e.isPreEnroll;r?(s.enroll(this.props.course,{role:n.PRE_ENROLLED_LEARNER}),this.setState({isEnrolled:!0})):l?(s.enroll(this.props.course,{role:n.LEARNER}),this.setState({isEnrolled:!0})):u.enroll().then(function(){return o.setState({isEnrolled:!0})}).done()},renderS12nEnrollModal:function renderS12nEnrollModal(){return e.createElement(r,null,e.createElement(t,{onClose:this.handleClose,s12nId:this.props.s12n.getBackboneModel().get("id"),courseIdOverride:c.courseId,showFreeOption:!this.props.s12n.isTakingS12n(),onFreeEnroll:this.props.onFreeEnroll,isPreEnroll:this.props.isPreEnroll}))},render:function render(){var o=_extends({},this.props,{isEnrolled:this.state.isEnrolled,onClick:this.onClick});return e.createElement("div",null,e.createElement(i,o),this.state.showModal&&this.renderS12nEnrollModal())}});module.exports=p(o,["S12nStore"],function(e,o){var n=e.S12nStore,s=o.isEnrolled;return{s12n:n.getS12n()}}),module.exports.BaseComp=o});
var _extends=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])}return r};define("bundles/ondemand/components/enrollButton/S12nPreEnrollButton",["require","exports","module","react-with-addons","./S12nEnrollButton","bundles/ondemand/models/S12n","pages/open-course/common/models/course","bundles/ondemand/stores/CourseMembershipStore","bundles/certificate-enroll/actions/EnrollActions","bundles/common/constants/CourseRoles","bundles/certificate-enroll/constants","js/lib/coursera.redirect"],function(require,exports,module){var e=require("react-with-addons"),l=require("./S12nEnrollButton"),s=require("bundles/ondemand/models/S12n"),r=require("pages/open-course/common/models/course"),o=require("bundles/ondemand/stores/CourseMembershipStore"),n=require("bundles/certificate-enroll/actions/EnrollActions"),t=require("bundles/common/constants/CourseRoles"),i=require("bundles/certificate-enroll/constants"),d=i.enrollStates,u=require("js/lib/coursera.redirect"),c=e.createClass({displayName:"S12nPreEnrollButton",propTypes:{s12n:e.PropTypes.instanceOf(s).isRequired,course:e.PropTypes.instanceOf(r).isRequired,shouldEnrollWithoutModal:e.PropTypes.bool.isRequired},isEnrolled:function isEnrolled(){return o.isPreEnrolled()||o.isEnrolled()},preEnrollInCourse:function preEnrollInCourse(){var e=this.props.course;n.enroll(e,{role:t.PRE_ENROLLED_LEARNER}).then(function(){return n.updateEnrolled(d.enrolled)}).done()},render:function render(){var n=_extends({},this.props,{onFreeEnroll:this.preEnrollInCourse,isPreEnroll:!0,isSessions:!0,isEnrolled:this.isEnrolled(),onClose:u.refresh});return e.createElement(l,n)}});module.exports=c});

define('css!bundles/ondemand/components/sessions/__styles__/SessionEnrollConfirmation',[],function(){})
define("bundles/ondemand/components/sessions/SessionEnrollConfirmation",["require","exports","module","react-with-addons","bundles/iconfont/Icon","bundles/ondemand/stores/SessionStore","pages/open-course/common/models/course","js/lib/coursera.react-intl","i18n!nls/ondemand","css!./__styles__/SessionEnrollConfirmation.css"],function(require,exports,module){var e=require("react-with-addons"),s=require("bundles/iconfont/Icon"),o=require("bundles/ondemand/stores/SessionStore"),t=require("pages/open-course/common/models/course"),r=require("js/lib/coursera.react-intl"),a=r.FormattedMessage,n=require("i18n!nls/ondemand");require("css!./__styles__/SessionEnrollConfirmation.css");var i=e.createClass({displayName:"SessionEnrollConfirmation",propTypes:{isPreEnroll:e.PropTypes.bool.isRequired,course:e.PropTypes.instanceOf(t).isRequired,onConfirm:e.PropTypes.func.isRequired},contextTypes:{track:e.PropTypes.func.isRequired},componentDidMount:function componentDidMount(){this.context.track("session_enroll_confirmation_modal.render",{ondemand_session_id:o.getSessionId()})},onConfirm:function onConfirm(){this.context.track("session_enroll_confirmation_modal.click.confirm",{ondemand_session_id:o.getSessionId()}),this.props.onConfirm()},render:function render(){var r=this.props,t=r.isPreEnroll,i=r.course,l=t?i.get("plannedLaunchDate"):o.getStartDate();return e.createElement("div",{className:"rc-SessionEnrollConfirmation styleguide"},e.createElement("h3",{className:"title"},n("You're enrolled!")),e.createElement("div",{className:"horizontal-box align-items-vertical-center text-block"},e.createElement(s,{name:"calendar",className:"c-nav-icon color-primary-text"}),e.createElement("div",null,e.createElement("p",{className:"body-2-text"},e.createElement(a,{message:"Your session starts on {startDate}.",startDate:l})),e.createElement("p",null,n("We'll send you an email when the course opens.")))),!t&&e.createElement("div",{className:"horizontal-box align-items-vertical-center text-block"},e.createElement(s,{name:"unlock",className:"c-nav-icon color-primary-text"}),e.createElement("div",null,e.createElement("p",{className:"body-2-text"},n("Week 1 is fully unlocked.")),e.createElement("p",null,n("Now that you've enrolled early, get a head start in the course and complete the first week.")))),e.createElement("div",{className:"cta-button horizontal-box align-items-right wrap"},e.createElement("button",{className:"primary",type:"submit",onClick:this.onConfirm},n(t?"Okay!":"Get a head start"))))}});module.exports=i});

define('css!bundles/ondemand/components/sessions/__styles__/SessionEnrollConfirmationModal',[],function(){})
define("bundles/ondemand/components/sessions/SessionEnrollConfirmationModal",["require","exports","module","react-with-addons","bundles/ondemand/components/sessions/SessionEnrollConfirmation","bundles/ondemand/stores/SessionStore","bundles/ondemand/utils/url","bundles/phoenix/components/Modal","js/lib/coursera.redirect","i18n!nls/ondemand","css!./__styles__/SessionEnrollConfirmationModal.css"],function(require,exports,module){var n=require("react-with-addons"),e=require("bundles/ondemand/components/sessions/SessionEnrollConfirmation"),o=require("bundles/ondemand/stores/SessionStore"),s=require("bundles/ondemand/utils/url"),i=s.getWeekUrl,r=require("bundles/phoenix/components/Modal"),t=require("js/lib/coursera.redirect"),l=require("i18n!nls/ondemand");require("css!./__styles__/SessionEnrollConfirmationModal.css");var d=n.createClass({displayName:"SessionEnrollConfirmationModal",propTypes:{onClose:n.PropTypes.func.isRequired},contextTypes:{track:n.PropTypes.func.isRequired},componentDidMount:function componentDidMount(){this.context.track("session_enroll_confirmation_modal.render",{ondemand_session_id:o.getSessionId()})},handleConfirmation:function handleConfirmation(){this.context.track("session_enroll_confirmation_modal.click.confirm",{ondemand_session_id:o.getSessionId()}),this.onConfirm()},onConfirm:function onConfirm(){t.setLocation(i(1)),this.props.onClose()},render:function render(){return n.createElement("div",{className:"rc-SessionEnrollConfirmationModal"},n.createElement(r,{handleClose:this.onConfirm,modalName:l("Start Course with Schedule")},n.createElement(e,{onConfirm:this.onConfirm,isPreEnroll:!1})))}});module.exports=d});

define('css!bundles/ondemand/components/sessions/__styles__/SessionStartedInfo',[],function(){})
define("bundles/ondemand/components/sessions/SessionStartedInfo",["require","exports","module","jsuri","q","react-router","react-with-addons","bundles/iconfont/Icon","bundles/ondemand/stores/SessionStore","bundles/phoenix/lib/apiWrapper","bundles/ondemand/utils/url","pages/open-course/common/models/course","js/lib/coursera.react-intl","js/lib/coursera.redirect","i18n!nls/ondemand","css!./__styles__/SessionStartedInfo.css"],function(require,exports,module){var d=require("jsuri"),c=require("q"),u=require("react-router"),b=u.Navigation,e=require("react-with-addons"),n=require("bundles/iconfont/Icon"),r=require("bundles/ondemand/stores/SessionStore"),i=require("bundles/phoenix/lib/apiWrapper"),l=require("bundles/ondemand/utils/url"),t=l.getHomeUrl,m=require("pages/open-course/common/models/course"),o=require("js/lib/coursera.react-intl"),a=o.FormattedMessage,p=o.FormattedNumber,h=require("js/lib/coursera.redirect"),s=require("i18n!nls/ondemand");require("css!./__styles__/SessionStartedInfo.css");var y=i("/api/onDemandSessionMemberships.v1",{type:"rest"}),g=e.createClass({displayName:"SessionStartedInfo",propTypes:{inItemPage:e.PropTypes.bool,justEnrolled:e.PropTypes.bool,numLearners:e.PropTypes.number.isRequired,course:e.PropTypes.instanceOf(m).isRequired,handleClose:e.PropTypes.func},contextTypes:{track:e.PropTypes.func},mixins:[b],componentWillMount:function componentWillMount(){var e=this,s=(new d).addQueryParam("courseId",this.props.course.get("id")).addQueryParam("q","bySession").addQueryParam("sessionId",r.getSessionId()).addQueryParam("limit",1);c(y.get(s.toString())).then(function(s){e.setState({numLearners:s.paging.total})}).done()},handleConfirmation:function handleConfirmation(){this.context.track("session_started_modal.click.confirm",{ondemand_session_id:r.getSessionId()}),this.props.inItemPage||(this.props.justEnrolled?h.setPathname(t()):this.replaceWith(t())),this.props.handleClose&&this.props.handleClose()},render:function render(){return e.createElement("div",{className:"rc-SessionStartedInfo"},e.createElement("h3",{className:"title"},e.createElement(a,{message:s("Welcome to {courseName}!"),courseName:this.props.course.get("name")})),e.createElement("div",{className:"horizontal-box align-items-vertical-center text-block"},e.createElement(n,{name:"home",className:"c-nav-icon color-primary-text"}),e.createElement("div",null,e.createElement("p",{className:"body-2-text"},s("Check out your progress in Home.")),e.createElement("p",null,s("Keep up with the course by checking your progress in the Home tab.")))),e.createElement("div",{className:"horizontal-box align-items-vertical-center text-block"},e.createElement(n,{name:"discussions",className:"c-nav-icon color-primary-text"}),e.createElement("div",null,e.createElement("p",{className:"body-2-text"},s("Introduce yourself in the Discussion forums.")),e.createElement("p",null,e.createElement(a,{message:s("Say hello to the other {numLearners} learners taking this course."),numLearners:this.props.numLearners?e.createElement(p,{value:this.state.numLearners}):""})))),e.createElement("div",{className:"cta-button horizontal-box align-items-right wrap"},e.createElement("button",{className:"primary",type:"submit",onClick:this.handleConfirmation},s(this.props.inItemPage?"Continue":"Get started"))))}});module.exports=g});

define('css!bundles/ondemand/components/sessions/__styles__/SessionStartedModal',[],function(){})
define("bundles/ondemand/components/sessions/SessionStartedModal",["require","exports","module","q","react-with-addons","bundles/iconfont/Icon","bundles/ondemand/components/sessions/SessionStartedInfo","bundles/ondemand/stores/SessionStore","bundles/phoenix/components/Modal","bundles/phoenix/lib/apiWrapper","js/lib/coursera.redirect","js/lib/coursera.react-intl","bundles/ondemand/utils/onDemandTutorialViewsApi","i18n!nls/ondemand","vendor/cnpm/fluxible.v0-4/addons/connectToStores","pages/open-course/common/models/course","css!./__styles__/SessionStartedModal.css"],function(require,exports,module){var b=require("q"),e=require("react-with-addons"),S=require("bundles/iconfont/Icon"),i=require("bundles/ondemand/components/sessions/SessionStartedInfo"),o=require("bundles/ondemand/stores/SessionStore"),a=require("bundles/phoenix/components/Modal"),f=require("bundles/phoenix/lib/apiWrapper"),d=require("js/lib/coursera.redirect"),t=require("js/lib/coursera.react-intl"),M=t.FormattedMessage,h=t.FormattedNumber,r=require("bundles/ondemand/utils/onDemandTutorialViewsApi"),l=r.storeKey,u=r.hasKey,c=require("i18n!nls/ondemand"),p=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),m=require("pages/open-course/common/models/course"),n="SessionStartedModal."+o.getSessionId();require("css!./__styles__/SessionStartedModal.css");var s=e.createClass({displayName:"SessionStartedModal",propTypes:{justEnrolled:e.PropTypes.bool.isRequired,inItemPage:e.PropTypes.bool,course:e.PropTypes.instanceOf(m)},contextTypes:{track:e.PropTypes.func.isRequired},statics:{shouldShowPromise:function shouldShowPromise(){return u(n).then(function(e){return!e})},markShown:function markShown(){l(n)}},getInitialState:function getInitialState(){return{showModal:!1}},componentDidMount:function componentDidMount(){var e=this;this.context.track("session_started_modal.render",{ondemand_session_id:o.getSessionId()}),this.props.justEnrolled?(this.setState({showModal:!0}),s.markShown()):s.shouldShowPromise().then(function(o){o&&(e.setState({showModal:!0}),s.markShown())}).done()},handleClose:function handleClose(){this.setState({showModal:!1}),this.props.justEnrolled&&!this.props.inItemPage&&d.refresh()},render:function render(){if(!this.state.showModal)return null;return e.createElement("div",{className:"rc-SessionStartedModal styleguide"},e.createElement(a,{handleClose:this.handleClose,modalName:c("The session has begun")},e.createElement(i,{inItemPage:this.props.inItemPage,justEnrolled:this.props.justEnrolled,course:this.props.course,handleClose:this.handleClose})))}});module.exports=s,module.exports=p(s,["CourseStore"],function(e,o){var s=e.CourseStore;return{course:s.getMetadata()}}),module.exports.BaseComp=s});
var _extends=Object.assign||function(s){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(s[o]=n[o])}return s};define("bundles/ondemand/components/enrollButton/S12nSessionEnrollButton",["require","exports","module","react-with-addons","./S12nEnrollButton","bundles/ondemand/models/S12n","pages/open-course/common/models/course","bundles/ondemand/components/sessions/SessionEnrollConfirmationModal","bundles/ondemand/components/sessions/SessionStartedModal","bundles/ondemand/stores/SessionStore","bundles/ondemand/utils/onDemandSessionsApi","bundles/phoenix/components/TopLevelModal","js/lib/coursera.store","pages/open-course/common/constants"],function(require,exports,module){var e=require("react-with-addons"),l=require("./S12nEnrollButton"),u=require("bundles/ondemand/models/S12n"),s=require("pages/open-course/common/models/course"),r=require("bundles/ondemand/components/sessions/SessionEnrollConfirmationModal"),t=require("bundles/ondemand/components/sessions/SessionStartedModal"),n=require("bundles/ondemand/stores/SessionStore"),d=require("bundles/ondemand/utils/onDemandSessionsApi"),a=require("bundles/phoenix/components/TopLevelModal"),i=require("js/lib/coursera.store"),o=require("pages/open-course/common/constants"),c=e.createClass({displayName:"S12nSessionEnrollButton",propTypes:{s12n:e.PropTypes.instanceOf(u).isRequired,course:e.PropTypes.instanceOf(s).isRequired,shouldEnrollWithoutModal:e.PropTypes.bool.isRequired,sessionId:e.PropTypes.string.isRequired,onClick:e.PropTypes.func},onFreeEnroll:function onFreeEnroll(){var e=this;return d.enroll(this.props.sessionId).then(function(){return e.setState({showModal:!0})})},getInitialState:function getInitialState(){return{showModal:!1}},renderConfirmationModal:function renderConfirmationModal(s){var l=s.courseId,d=s.onClose;return i.set(o.onboardModalStorageKey+l,!0),e.createElement(a,null,n.hasStarted()?e.createElement(t,{justEnrolled:!0}):e.createElement(r,{onClose:d,isPreEnroll:!1}))},render:function render(){var s=this,r=_extends({},this.props,{isSessions:!0,isPreEnroll:!1,onFreeEnroll:this.onFreeEnroll,isEnrolled:n.isEnrolled()});return e.createElement("div",null,e.createElement(l,r),this.state.showModal&&this.renderConfirmationModal({courseId:o.courseId,onClose:function onClose(){return s.setState({showModal:!1})}}))}});module.exports=c});
define("bundles/ondemand/components/enrollButton/SessionEnrollButton",["require","exports","module","react-with-addons","./BaseButton","bundles/certificate-enroll/actions/EnrollActions","bundles/certificate-enroll/components/OpenCourseEnrollModal","bundles/epic/client","bundles/ondemand/components/sessions/SessionEnrollConfirmation","bundles/ondemand/components/sessions/SessionEnrollConfirmationModal","bundles/ondemand/components/sessions/SessionStartedInfo","bundles/ondemand/components/sessions/SessionStartedModal","bundles/ondemand/stores/CourseMembershipStore","bundles/ondemand/stores/SessionStore","bundles/ondemand/utils/onDemandSessionsApi","bundles/ondemand/utils/url","bundles/page/lib/uriManager","bundles/phoenix/components/TopLevelModal","js/lib/coursera.redirect","pages/open-course/common/constants","pages/open-course/common/models/course","vendor/cnpm/fluxible.v0-4/addons/connectToStores"],function(require,exports,module){var e=require("react-with-addons"),c=require("./BaseButton"),n=require("bundles/certificate-enroll/actions/EnrollActions"),m=require("bundles/certificate-enroll/components/OpenCourseEnrollModal"),C=require("bundles/epic/client"),S=require("bundles/ondemand/components/sessions/SessionEnrollConfirmation"),r=require("bundles/ondemand/components/sessions/SessionEnrollConfirmationModal"),i=require("bundles/ondemand/components/sessions/SessionStartedInfo"),d=require("bundles/ondemand/components/sessions/SessionStartedModal"),o=require("bundles/ondemand/stores/CourseMembershipStore"),h=require("bundles/ondemand/stores/SessionStore"),u=require("bundles/ondemand/utils/onDemandSessionsApi"),p=require("bundles/ondemand/utils/url"),s=p.getWeekUrl,b=require("bundles/page/lib/uriManager"),t=require("bundles/phoenix/components/TopLevelModal"),l=require("js/lib/coursera.redirect"),f=require("pages/open-course/common/constants"),E=require("pages/open-course/common/models/course"),M=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),a=e.createClass({displayName:"SessionEnrollButton",propTypes:{sessionId:e.PropTypes.string.isRequired,onClick:e.PropTypes.func,isPreEnroll:e.PropTypes.bool.isRequired,course:e.PropTypes.instanceOf(E).isRequired},contextTypes:{track:e.PropTypes.func.isRequired},componentDidMount:function componentDidMount(){var e=b.parseAndDeleteQueryParam("action");"enroll"!==e||this.isEnrolled()||(this.context.track("session_enroll_box.emit.auto_enroll",{isPreEnroll:this.props.isPreEnroll}),n.updateShowModal(!0))},getInitialState:function getInitialState(){return{showModal:!1}},handleClose:function handleClose(){this.setState({showModal:!1}),l.setLocation(s(1))},onConfirm:function onConfirm(){this.props.isPreEnroll?window.location.reload():l.setLocation(s(1))},onClick:function onClick(){this.props.onClick&&this.props.onClick(),n.updateShowModal(!0)},enrollInSession:function enrollInSession(){var e=this;u.enroll(this.props.sessionId).then(function(){return e.setState({showModal:!0})}).done()},isEnrolled:function isEnrolled(){return o.isPreEnrolled()||o.isEnrolled()},render:function render(){var s=h.hasStarted(),l=this.props,o=l.course,n=l.isPreEnroll;return e.createElement("div",{className:"rc-SessionEnrollButton"},e.createElement(c,{onClick:this.onClick,isEnrolled:this.isEnrolled()}),e.createElement(t,null,e.createElement(m,{course:o,isPreEnroll:n},s&&!n?e.createElement(i,{justEnrolled:!0,course:o}):e.createElement(S,{onConfirm:this.onConfirm,isPreEnroll:n,course:o}))),this.state.showModal&&!n&&e.createElement(t,null,s?e.createElement(d,{justEnrolled:!0}):e.createElement(r,{onClose:this.handleClose})))}});module.exports=a});
define("bundles/ondemand/utils/getCourseType",["require","exports","module","bundles/ondemand/stores/SessionStore","pages/open-course/common/constants"],function(require,exports,module){var n=require("bundles/ondemand/stores/SessionStore"),s=require("pages/open-course/common/constants"),e=s.courseTypes;module.exports=function(r,t,s){var o=n.isSessionsEnabled(),d=!!t,i=r.isVerificationEnabled();return d?s?e.s12nPreEnroll:o?e.s12nSessions:e.s12nOnDemand:s?e.preEnroll:o?e.sessions:i?e.certOnDemand:e.onDemand}});
var _extends=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t};define("bundles/ondemand/components/enrollButton/EnrollButton",["require","exports","module","react-with-addons","bundles/ondemand/components/enrollButton/CertOnDemandEnrollButton","bundles/ondemand/components/enrollButton/LoggedOutButton","bundles/ondemand/components/enrollButton/OnDemandEnrollButton","bundles/ondemand/components/enrollButton/S12nEnrollButton","bundles/ondemand/components/enrollButton/S12nPreEnrollButton","bundles/ondemand/components/enrollButton/S12nSessionEnrollButton","bundles/ondemand/components/enrollButton/SessionEnrollButton","bundles/ondemand/models/S12n","bundles/ondemand/utils/getCourseType","bundles/phoenix/template/models/userIdentity","pages/open-course/common/constants","pages/open-course/common/models/course","vendor/cnpm/fluxible.v0-4/addons/connectToStores"],function(require,exports,module){var n=require("react-with-addons"),u=require("bundles/ondemand/components/enrollButton/CertOnDemandEnrollButton"),i=require("bundles/ondemand/components/enrollButton/LoggedOutButton"),t=require("bundles/ondemand/components/enrollButton/OnDemandEnrollButton"),s=require("bundles/ondemand/components/enrollButton/S12nEnrollButton"),r=require("bundles/ondemand/components/enrollButton/S12nPreEnrollButton"),l=require("bundles/ondemand/components/enrollButton/S12nSessionEnrollButton"),o=require("bundles/ondemand/components/enrollButton/SessionEnrollButton"),B=require("bundles/ondemand/models/S12n"),a=require("bundles/ondemand/utils/getCourseType"),c=require("bundles/phoenix/template/models/userIdentity"),m=require("pages/open-course/common/constants"),p=require("pages/open-course/common/models/course"),e=m.courseTypes,E=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),d=n.createClass({displayName:"EnrollButton",propTypes:{course:n.PropTypes.instanceOf(p).isRequired,hasS12nLoaded:n.PropTypes.bool.isRequired,sessionId:n.PropTypes.string,s12n:n.PropTypes.instanceOf(B),onClick:n.PropTypes.func,onEnroll:n.PropTypes.func,onFreeEnroll:n.PropTypes.func,isPreEnroll:n.PropTypes.bool},render:function render(){if(!this.props.hasS12nLoaded)return null;if(!c.get("authenticated"))return n.createElement(i,this.props);var m=this.props,p=m.course,E=m.s12n,B=m.isPreEnroll,d=Object.assign({},this.props,{courseName:p.get("name")});switch(E&&Object.assign(d,{shouldEnrollWithoutModal:E.ownsCourse(p.get("id"))}),a(p,E,B)){case e.s12nPreEnroll:return n.createElement(r,d);case e.s12nSessions:return n.createElement(l,d);case e.s12nOnDemand:return n.createElement(s,d);case e.preEnroll:return n.createElement(o,_extends({},d,{isPreEnroll:!0}));case e.sessions:return n.createElement(o,_extends({},d,{isPreEnroll:!1}));case e.certOnDemand:return n.createElement(u,d);case e.onDemand:return n.createElement(t,d);default:return null}}});module.exports=E(d,["CourseStore","S12nStore"],function(n,s){var e=n.CourseStore,o=n.S12nStore,t=o.getS12n();return{hasS12nLoaded:o.hasLoaded(),course:e.getMetadata(),isPreEnroll:e.isPreEnrollEnabledForUser(),s12n:t}})});
define("bundles/ondemand/utils/areDeadlinesBlacklisted",["require","exports","module","bundles/epic/client","pages/open-course/common/constants"],function(require,exports,module){var e=require("bundles/epic/client"),n=require("pages/open-course/common/constants");module.exports=function(){var s=arguments.length<=0||void 0===arguments[0]?n.courseId:arguments[0];return-1!==e.get("featureBlacklist","defaultDeadlines").indexOf(s)}});
define("bundles/ondemand/components/enrollBox/OnDemandBox",["require","exports","module","classnames","react-router","react-with-addons","bundles/ondemand/components/enrollButton/EnrollButton","bundles/ondemand/models/S12n","bundles/ondemand/stores/CourseMembershipStore","bundles/ondemand/utils/areDeadlinesBlacklisted","bundles/ondemand/utils/url","bundles/payments/promises/productPrices","js/lib/coursera.react-intl","js/lib/coursera.redirect","i18n!nls/ondemand","pages/open-course/common/constants","vendor/cnpm/fluxible.v0-4/addons/connectToStores"],function(require,exports,module){var g=require("classnames"),c=require("react-router"),b=c.Navigation,e=require("react-with-addons"),s=require("bundles/ondemand/components/enrollButton/EnrollButton"),r=require("bundles/ondemand/models/S12n"),a=require("bundles/ondemand/stores/CourseMembershipStore"),i=require("bundles/ondemand/utils/areDeadlinesBlacklisted"),l=require("bundles/ondemand/utils/url"),S=l.getHomeUrl,d=require("bundles/payments/promises/productPrices"),u=d.getPriceForVC,m=require("js/lib/coursera.react-intl"),p=m.FormattedNumber,h=require("js/lib/coursera.redirect"),t=require("i18n!nls/ondemand"),n=require("pages/open-course/common/constants"),x=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),o=e.createClass({displayName:"OnDemandBox",propTypes:{hasS12nLoaded:e.PropTypes.bool.isRequired,s12n:e.PropTypes.instanceOf(r),isTakingS12n:e.PropTypes.bool},contextTypes:{track:e.PropTypes.func.isRequired},mixins:[b],getInitialState:function getInitialState(){return{isEnrolled:a.isEnrolled(),price:null}},componentDidMount:function componentDidMount(){this.context.track("ondemand_enroll_box.render"),this.props.isTakingS12n&&!this.props.s12n.ownsCourse(n.courseId)&&this.loadPrice()},componentWillReceiveProps:function componentWillReceiveProps(e){e.isTakingS12n&&!e.s12n.ownsCourse(n.courseId)&&this.loadPrice()},handleEnrollClick:function handleEnrollClick(){this.context.track("ondemand_enroll_box.click.enroll")},loadPrice:function loadPrice(){var e=this;u({courseId:n.courseId}).then(function(n){return e.setState({price:n})}).done()},navigateToHome:function navigateToHome(){h.setPathname(S())},render:function render(){if(!this.props.hasS12nLoaded)return null;var n=g("rc-EnrollBox","rc-OnDemandBox","cozy","od-container",{"theme-dark":!this.state.isEnrolled,"card-rich-interaction":this.state.isEnrolled});return e.createElement("div",null,e.createElement("div",{className:n},e.createElement("div",{className:"vertical-box styleguide"},e.createElement("h3",{className:"color-primary-text"},t(this.state.isEnrolled?"You're enrolled in this course":"Start learning now")),!i()&&e.createElement("p",{className:"color-primary-text"},t("This course is self-paced, with suggested deadlines to help you keep on track.")),this.state.price&&e.createElement("h3",{className:"price color-primary-text"},e.createElement(p,{style:"currency",value:this.state.price.getDisplayAmount(),currency:this.state.price.getDisplayCurrencyCode(),maximumFractionDigits:0,minimumFractionDigits:0})),e.createElement("div",{className:"horizontal-box align-items-right"},e.createElement(s,{onClick:this.handleEnrollClick,onEnroll:this.navigateToHome,onFreeEnroll:this.navigateToHome})))))}});module.exports=x(o,["S12nStore"],function(o,t){var n=o.S12nStore,e=n.getS12n();return{hasS12nLoaded:n.hasLoaded(),s12n:e,isTakingS12n:e&&e.isTakingS12n()}}),module.exports.BaseComp=o});

define('css!bundles/ondemand/components/enrollBox/__styles__/PreEnrollBox',[],function(){})
var _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t};define("bundles/ondemand/components/enrollBox/PreEnrollBox",["require","exports","module","classnames","react-with-addons","bundles/ondemand/components/enrollButton/EnrollButton","bundles/ondemand/stores/CourseMembershipStore","bundles/payments/promises/productPrices","pages/open-course/common/models/course","js/lib/coursera.react-intl","i18n!nls/ondemand","pages/open-course/common/constants","vendor/cnpm/fluxible.v0-4/addons/connectToStores","css!./__styles__/PreEnrollBox"],function(require,exports,module){var u=require("classnames"),e=require("react-with-addons"),a=require("bundles/ondemand/components/enrollButton/EnrollButton"),n=require("bundles/ondemand/stores/CourseMembershipStore"),s=require("bundles/payments/promises/productPrices"),r=s.getPriceForVC,p=require("pages/open-course/common/models/course"),i=require("js/lib/coursera.react-intl"),l=i.FormattedNumber,c=require("i18n!nls/ondemand"),o=require("pages/open-course/common/constants"),d=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores");require("css!./__styles__/PreEnrollBox");var t=e.createClass({displayName:"PreEnrollBox",propTypes:{course:e.PropTypes.instanceOf(p).isRequired,hasS12nLoaded:e.PropTypes.bool.isRequired,isCapstone:e.PropTypes.bool,isEligibleForCapstone:e.PropTypes.bool,isTakingS12n:e.PropTypes.bool,ownsS12nCourse:e.PropTypes.bool},contextTypes:{track:e.PropTypes.func.isRequired},getInitialState:function getInitialState(){return _extends({},this.getStateFromStores(),{price:null})},componentWillMount:function componentWillMount(){n.listen(this.handleChange)},componentDidMount:function componentDidMount(){this.context.track("preenroll_box.render"),this.props.isTakingS12n&&!this.props.ownsS12nCourse&&this.loadPrice()},componentWillReceiveProps:function componentWillReceiveProps(e){e.isTakingS12n&&!e.ownsS12nCourse&&this.loadPrice()},componentWillUnmount:function componentWillUnmount(){n.unlisten(this.handleChange)},handleChange:function handleChange(){this.setState(this.getStateFromStores())},handlePreEnrollClick:function handlePreEnrollClick(){this.context.track("preenroll_box.click.enroll")},getStateFromStores:function getStateFromStores(){return{isEnrolled:n.isPreEnrolled()||n.isEnrolled()}},loadPrice:function loadPrice(){var e=this;r({courseId:o.courseId}).then(function(n){return e.setState({price:n})}).done()},render:function render(){if(!this.props.hasS12nLoaded)return null;var n=this.props,t=n.isCapstone,s=n.isEligibleForCapstone,r=n.ownsS12nCourse,i=n.course,o=!this.state.isEnrolled&&(!t||s&&r),d=u("cozy","od-container","styleguide",{"theme-dark":o,"card-rich-interaction":!o});return e.createElement("div",null,e.createElement("div",{className:"rc-EnrollBox rc-PreEnrollBox"},e.createElement("div",{className:d},e.createElement("p",{className:"color-primary-text"},c("Course start date:")),e.createElement("h3",{className:"headline-2-text upcoming-session-dates color-primary-text"},e.createElement("span",{className:"start-date"},this.props.course.get("plannedLaunchDate"))),this.state.price&&!this.state.isEnrolled&&e.createElement("h3",{className:"price color-primary-text"},e.createElement(l,{style:"currency",value:this.state.price.getDisplayAmount(),currency:this.state.price.getDisplayCurrencyCode(),maximumFractionDigits:0,minimumFractionDigits:0})),(o||this.state.isEnrolled)&&e.createElement("div",{className:"align-right button-container"},e.createElement(a,{onClick:this.handlePreEnrollClick,course:i})))))}});module.exports=d(t,["S12nStore","CourseStore"],function(n,r){var t=n.S12nStore,s=n.CourseStore,e=t.getS12n();return{course:s.getMetadata(),hasS12nLoaded:t.hasLoaded(),isCapstone:e&&e.isCapstone(o.courseId),isEligibleForCapstone:e&&e.isEligibleForCapstone(),isTakingS12n:e&&e.isTakingS12n(),ownsS12nCourse:e&&e.ownsCourse(o.courseId)}}),module.exports.BaseComp=t});

define('css!bundles/ondemand/components/enrollBox/__styles__/SessionEnrollBox',[],function(){})
define("bundles/ondemand/components/enrollBox/SessionEnrollBox",["require","exports","module","classnames","react-with-addons","bundles/ondemand/components/enrollButton/EnrollButton","bundles/ondemand/stores/SessionStore","bundles/ondemand/utils/onDemandSessionsApi","bundles/payments/promises/productPrices","bundles/phoenix/template/models/userIdentity","js/lib/coursera.react-intl","i18n!nls/ondemand","pages/open-course/common/constants","vendor/cnpm/fluxible.v0-4/addons/connectToStores","css!./__styles__/SessionEnrollBox"],function(require,exports,module){var l=require("classnames"),e=require("react-with-addons"),a=require("bundles/ondemand/components/enrollButton/EnrollButton"),s=require("bundles/ondemand/stores/SessionStore"),c=require("bundles/ondemand/utils/onDemandSessionsApi"),m=require("bundles/payments/promises/productPrices"),p=m.getPriceForVC,g=require("bundles/phoenix/template/models/userIdentity"),r=require("js/lib/coursera.react-intl"),o=r.FormattedMessage,d=r.FormattedNumber,n=require("i18n!nls/ondemand"),t=require("pages/open-course/common/constants"),u=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores");require("css!./__styles__/SessionEnrollBox");var i=e.createClass({displayName:"SessionEnrollBox",propTypes:{hasS12nLoaded:e.PropTypes.bool.isRequired,isCapstone:e.PropTypes.bool,isEligibleForCapstone:e.PropTypes.bool,isTakingS12n:e.PropTypes.bool,ownsS12nCourse:e.PropTypes.bool},contextTypes:{track:e.PropTypes.func.isRequired},getInitialState:function getInitialState(){return{isUpcoming:s.isUpcoming(),sessionId:s.getSessionId(),isEnrolled:s.isEnrolled(),followingSession:s.getFollowingSession(),price:null}},componentDidMount:function componentDidMount(){this.context.track("session_enroll_box.render",{ondemand_session_id:this.state.sessionId}),s.listen(this.onChange),this.state.followingSession||c.getFollowingSession(this.state.sessionId).done(),this.props.isTakingS12n&&!this.props.ownsS12nCourse&&this.loadPrice()},componentWillReceiveProps:function componentWillReceiveProps(e){e.isTakingS12n&&!e.ownsS12nCourse&&this.loadPrice()},componentWillUnmount:function componentWillUnmount(){s.unlisten(this.onChange)},onChange:function onChange(){this.setState({followingSession:s.getFollowingSession()})},loadPrice:function loadPrice(){var e=this;p({courseId:t.courseId}).then(function(s){return e.setState({price:s})}).done()},renderFollowingSession:function renderFollowingSession(){return e.createElement("div",{className:"following-session card-no-action primary"},e.createElement("p",{className:"color-secondary-text"},e.createElement(o,{message:n("Following session begins {startDate}"),startDate:this.state.followingSession.getStartDate()})))},render:function render(){if(!this.props.hasS12nLoaded)return null;var i=this.props,r=i.isCapstone,c=i.isEligibleForCapstone,m=i.ownsS12nCourse,p=c&&m,t=!r&&!g.get("authenticated")||!this.state.isEnrolled&&(!r||p),u=l("cozy","od-container","styleguide","primary-enroll-box",{"theme-dark":t,"card-rich-interaction":!t});return e.createElement("div",null,e.createElement("div",{className:"rc-EnrollBox rc-SessionEnrollBox"},e.createElement("div",{className:u},e.createElement("p",{className:"color-primary-text"},n(this.state.isUpcoming?"Upcoming session:":"Current session:")),e.createElement("h3",{className:"headline-2-text session-dates color-primary-text"},e.createElement("span",{className:"session-date"},s.getStartDate())," - ",e.createElement("span",{className:"session-date"},s.getEndDate())),this.state.price&&e.createElement("h3",{className:"color-primary-text"},e.createElement(d,{style:"currency",value:this.state.price.getDisplayAmount(),currency:this.state.price.getDisplayCurrencyCode(),maximumFractionDigits:0,minimumFractionDigits:0})),s.isPreviewMode()&&!(r&&!c)&&e.createElement("div",{className:"align-right button-container"},e.createElement("p",{className:"color-secondary-text"},t?e.createElement(o,{message:n("Enrollment ends {enrollmentEndDate}"),enrollmentEndDate:s.getEnrollmentEndDate()}):e.createElement(o,{message:n("{timeUntilStart} until session begins"),timeUntilStart:s.getTimeUntilStart()})),e.createElement(a,{ref:"enrollButton",sessionId:s.getSessionId()}))),t&&this.state.followingSession&&this.renderFollowingSession()))}});module.exports=u(i,["S12nStore"],function(n,o){var s=n.S12nStore,e=s.getS12n();return{hasS12nLoaded:s.hasLoaded(),isCapstone:e&&e.isCapstone(t.courseId),isEligibleForCapstone:e&&e.isEligibleForCapstone(),isTakingS12n:e&&e.isTakingS12n(),ownsS12nCourse:e&&e.ownsCourse(t.courseId)}}),module.exports.BaseComp=i});

define('css!bundles/ondemand/components/enrollBox/__styles__/SessionSwitchModal',[],function(){})
define("bundles/ondemand/components/enrollBox/SessionSwitchModal",["require","exports","module","react-with-addons","bundles/ondemand/sessions/models/Sessions","bundles/ondemand/utils/onDemandSessionsApi","bundles/phoenix/components/Modal","js/lib/coursera.react-intl","js/lib/coursera.redirect","i18n!nls/ondemand","css!./__styles__/SessionSwitchModal.css"],function(require,exports,module){var e=require("react-with-addons"),o=require("bundles/ondemand/sessions/models/Sessions"),t=o.Session,n=require("bundles/ondemand/utils/onDemandSessionsApi"),i=require("bundles/phoenix/components/Modal"),a=require("js/lib/coursera.react-intl"),r=a.FormattedMessage,l=require("js/lib/coursera.redirect"),s=require("i18n!nls/ondemand");require("css!./__styles__/SessionSwitchModal.css");var d=e.createClass({displayName:"SessionSwitchModal",contextTypes:{track:e.PropTypes.func.isRequired},propTypes:{handleClose:e.PropTypes.func.isRequired,currentSessionId:e.PropTypes.string.isRequired,enrollableSession:e.PropTypes.instanceOf(t).isRequired,hasEnded:e.PropTypes.bool.isRequired},componentDidMount:function componentDidMount(){this.context.track("session_switch_modal.render",{ondemand_session_id:this.props.currentSessionId})},handleConfirmation:function handleConfirmation(){this.context.track("session_switch_modal.click.confirm",{ondemand_session_id:this.props.currentSessionId,next_session_id:this.props.enrollableSession.getId()}),this.props.hasEnded?this.enrollInSession():n.unenroll(this.props.currentSessionId).then(this.enrollInSession)},enrollInSession:function enrollInSession(){var e=this;n.enroll(this.props.enrollableSession.getId()).then(function(){l.refresh(),e.props.handleClose()}).done()},render:function render(){var n=this.props.enrollableSession;return e.createElement("div",{className:"rc-SessionSwitchModal styleguide"},e.createElement(i,{handleClose:this.props.handleClose,modalName:s("You're switching sessions")},e.createElement("h3",{className:"title"},s("You're switching sessions!")),e.createElement("div",{className:"contents"},!n.hasStarted()&&e.createElement("p",{className:"body-1-text"},e.createElement(r,{message:"If you switch sessions, you won't have access to the course until the next\n session begins on {startDate}.",startDate:n.getStartDate()})),e.createElement("p",{className:"body-1-text"},s("Youll begin the new session with your progress saved and a new group of classmates. That means\n new deadlines, new discussion forums, and a head start in the course!"))),e.createElement("div",{className:"horizontal-box align-items-right wrap"},e.createElement("button",{ref:"cancel",className:"secondary cancel-button",onClick:this.props.handleClose},s("Cancel")),e.createElement("button",{className:"primary",type:"submit",onClick:this.handleConfirmation},s("Got it")))))}});module.exports=d});

define('css!bundles/ondemand/components/enrollBox/__styles__/SessionSwitchBox',[],function(){})
define("bundles/ondemand/components/enrollBox/SessionSwitchBox",["require","exports","module","react-with-addons","bundles/ondemand/components/enrollBox/SessionSwitchModal","bundles/ondemand/stores/SessionStore","bundles/ondemand/utils/onDemandSessionsApi","js/lib/coursera.react-intl","i18n!nls/ondemand","css!./__styles__/SessionSwitchBox.css"],function(require,exports,module){var e=require("react-with-addons"),t=require("bundles/ondemand/components/enrollBox/SessionSwitchModal"),s=require("bundles/ondemand/stores/SessionStore"),o=require("bundles/ondemand/utils/onDemandSessionsApi"),a=require("js/lib/coursera.react-intl"),i=a.FormattedMessage,n=require("i18n!nls/ondemand");require("css!./__styles__/SessionSwitchBox.css");var l=e.createClass({displayName:"SessionSwitchBox",contextTypes:{track:e.PropTypes.func.isRequired},propTypes:{hasEnded:e.PropTypes.bool.isRequired},getInitialState:function getInitialState(){return Object.assign({},this.getStateFromStores(),{showModal:!1})},componentWillMount:function componentWillMount(){s.listen(this.onChange)},componentDidMount:function componentDidMount(){this.context.track("session_enroll_box.render",{ondemand_session_id:s.getSessionId()}),this.state.followingSession||o.getFollowingSession(s.getSessionId()).done()},componentWillUnmount:function componentWillUnmount(){s.unlisten(this.onChange)},handleClose:function handleClose(){this.setState({showModal:!1})},onChange:function onChange(){this.setState(this.getStateFromStores())},getStateFromStores:function getStateFromStores(){return{enrollableSession:s.getEnrollableSession(),followingSession:s.getFollowingSession()}},showModal:function showModal(){this.setState({showModal:!0})},render:function render(){var a=this.state,o=a.enrollableSession,l=a.followingSession;if(!this.state.enrollableSession)return e.createElement("div",null);var r={handleClose:this.handleClose,currentSessionId:s.getSessionId(),enrollableSession:o,hasEnded:this.props.hasEnded};return e.createElement("div",{className:"rc-EnrollBox rc-SessionSwitchBox"},e.createElement("div",{className:"current-session card-rich-interaction od-container cozy"},e.createElement("span",{className:"caption-text color-secondary-text"},n("You're currently enrolled in this session:")),e.createElement("span",{className:"current-session-dates caption-text color-secondary-text"},s.getSessionDates())),e.createElement("div",{className:"upcoming-session od-container cozy styleguide theme-dark"},e.createElement("p",{className:"color-primary-text"},n("Upcoming session:")),e.createElement("h3",{className:"headline-2-text upcoming-session-dates color-primary-text"},e.createElement("span",{className:"session-date"},o.getStartDate())," - ",e.createElement("span",{className:"session-date"},o.getEndDate())),e.createElement("div",{className:"button-container"},e.createElement("button",{className:"primary",onClick:this.showModal},n("Switch sessions")))),l&&e.createElement("div",{className:"following-session card-rich-interaction"},e.createElement("span",{className:"caption-text color-secondary-text"},e.createElement(i,{message:n("Following session begins {startDate}"),startDate:l.getStartDate()}))),this.state.showModal&&e.createElement(t,r))}});module.exports=l});
define("bundles/ondemand/components/enrollBox/SessionBox",["require","exports","module","react-with-addons","bundles/ondemand/components/enrollBox/SessionEnrollBox","bundles/ondemand/components/enrollBox/SessionSwitchBox","bundles/ondemand/stores/SessionStore","vendor/cnpm/fluxible.v0-4/addons/connectToStores"],function(require,exports,module){var e=require("react-with-addons"),o=require("bundles/ondemand/components/enrollBox/SessionEnrollBox"),s=require("bundles/ondemand/components/enrollBox/SessionSwitchBox"),n=require("bundles/ondemand/stores/SessionStore"),d=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),r=e.createClass({displayName:"SessionBox",propTypes:{isLagging:e.PropTypes.bool.isRequired},render:function render(){return n.isPreviewMode()||!this.props.isLagging&&!n.hasEnded()?e.createElement(o,null):e.createElement(s,{hasEnded:n.hasEnded()})}});module.exports=d(r,["CourseScheduleStore"],function(e,o){var n=e.CourseScheduleStore;return{isLagging:n.isLagging()}})});

define('css!bundles/ondemand/components/enrollBox/__styles__/EnrollBox',[],function(){})
define("bundles/ondemand/components/enrollBox/EnrollBox",["require","exports","module","react-with-addons","bundles/ondemand/components/enrollBox/CoursePassedBox","bundles/ondemand/components/enrollBox/LoggedOutBox","bundles/ondemand/components/enrollBox/NoSessionBox","bundles/ondemand/components/enrollBox/OnDemandBox","bundles/ondemand/components/enrollBox/PreEnrollBox","bundles/ondemand/components/enrollBox/SessionBox","bundles/ondemand/stores/SessionStore","bundles/phoenix/template/models/userIdentity","pages/open-course/common/constants","bundles/phoenix/lib/waitForStores","css!./__styles__/EnrollBox"],function(require,exports,module){var e=require("react-with-addons"),d=require("bundles/ondemand/components/enrollBox/CoursePassedBox"),n=require("bundles/ondemand/components/enrollBox/LoggedOutBox"),s=require("bundles/ondemand/components/enrollBox/NoSessionBox"),l=require("bundles/ondemand/components/enrollBox/OnDemandBox"),r=require("bundles/ondemand/components/enrollBox/PreEnrollBox"),m=require("bundles/ondemand/components/enrollBox/SessionBox"),o=require("bundles/ondemand/stores/SessionStore"),a=require("bundles/phoenix/template/models/userIdentity"),i=require("pages/open-course/common/constants"),u=require("bundles/phoenix/lib/waitForStores");require("css!./__styles__/EnrollBox");var t=e.createClass({displayName:"EnrollBox",propTypes:{isCapstone:e.PropTypes.bool.isRequired,isPreEnrollEnabled:e.PropTypes.bool.isRequired,hasPassedCourse:e.PropTypes.bool.isRequired},render:function render(){var t=o.isSessionAvailable()?e.createElement(m,null):e.createElement(s,null);return a.get("authenticated")?this.props.hasPassedCourse?e.createElement(d,null):!o.isSessionAvailable()&&this.props.isPreEnrollEnabled?e.createElement(r,null):o.isSessionsEnabled()?t:e.createElement(l,null):this.props.isCapstone||o.isSessionAvailable()?t:e.createElement(n,null)}});module.exports=u(t,{requiredStores:["S12nStore","CourseStore"],lazyStores:["CourseGradeStore"]},function(e,r){var n=e.S12nStore,s=e.CourseStore,l=e.CourseGradeStore,o=n.getS12n();return{isPreEnrollEnabled:s.isPreEnrollEnabledForUser(),isCapstone:!!o&&o.isCapstone(i.courseId),hasPassedCourse:l.hasPassedCourse()}})});

define('css!bundles/ondemand/components/s12n/__styles__/CapstoneBanner',[],function(){})
define("bundles/ondemand/components/s12n/CapstoneBanners",["require","exports","module","react-with-addons","bundles/catalogP/models/s12n","bundles/s12n-enroll/components/S12nEnrollModal","i18n!nls/ondemand","pages/open-course/common/constants","css!./__styles__/CapstoneBanner.css"],function(require,exports,module){var e=require("react-with-addons"),o=require("bundles/catalogP/models/s12n"),s=require("bundles/s12n-enroll/components/S12nEnrollModal"),n=require("i18n!nls/ondemand"),r=require("pages/open-course/common/constants"),a=r.courseId;require("css!./__styles__/CapstoneBanner.css");var t=e.createClass({displayName:"CapstoneBanner",contextTypes:{track:e.PropTypes.func.isRequired},propTypes:{bodyText:e.PropTypes.string.isRequired,buttonText:e.PropTypes.string.isRequired,buttonLink:e.PropTypes.string,onClick:e.PropTypes.func},getDefaultProps:function getDefaultProps(){return{onClick:function onClick(){}}},componentDidMount:function componentDidMount(){this.context.track("capstone_info_box.render")},render:function render(){return e.createElement("div",{className:"rc-CapstoneBanner horizontal-box theme-dark align-items-vertical-center"},e.createElement("span",{className:"flex-1 body-1-text"},this.props.bodyText),e.createElement("a",{href:this.props.buttonLink},e.createElement("button",{className:"primary",onClick:this.props.onClick},this.props.buttonText)))}});exports.NotInS12nBanner=e.createClass({displayName:"NotInS12nBanner",contextTypes:{track:e.PropTypes.func.isRequired},propTypes:{sdpLink:e.PropTypes.string.isRequired},handleClick:function handleClick(){this.context.track("capstone_info_box.click.learn_more")},render:function render(){var o=n("To unlock this Capstone Project, join the Specialization and pass all its courses."),s=n("Learn more");return e.createElement(t,{bodyText:o,buttonText:s,buttonLink:this.props.sdpLink,onClick:this.handleClick})}}),exports.NotEligibleBanner=e.createClass({displayName:"NotEligibleBanner",contextTypes:{track:e.PropTypes.func.isRequired},handleClick:function handleClick(){this.context.track("capstone_info_box.click.view_progress")},render:function render(){var o=n("You'll unlock this Capstone once you successfully pass all courses in the Specialization."),s=n("View progress");return e.createElement(t,{bodyText:o,buttonText:s,buttonLink:"/",onClick:this.handleClick})}}),exports.PurchaseCapstoneBanner=e.createClass({displayName:"PurchaseCapstoneBanner",contextTypes:{track:e.PropTypes.func.isRequired},propTypes:{s12n:e.PropTypes.instanceOf(o).isRequired},getInitialState:function getInitialState(){return{showEnrollModal:!1}},handleClick:function handleClick(){this.context.track("capstone_info_box.click.purchase"),this.toggleEnrollModal()},toggleEnrollModal:function toggleEnrollModal(){this.setState({showEnrollModal:!this.state.showEnrollModal})},renderEnrollModal:function renderEnrollModal(){return e.createElement(s,{s12nId:this.props.s12n.get("id"),courseIdOverride:a,ref:"s12nEnrollModal",onClose:this.toggleEnrollModal})},render:function render(){var o=n("Congratulations! You've unlocked this Capstone Project and can enroll after payment."),s=n("Purchase");return e.createElement("div",null,e.createElement(t,{bodyText:o,buttonText:s,onClick:this.handleClick}),this.state.showEnrollModal&&this.renderEnrollModal())}})});
define("bundles/ondemand/components/s12n/CapstoneStatusBanner",["require","exports","module","react-with-addons","bundles/catalogP/models/s12n","bundles/phoenix/template/models/userIdentity","bundles/ondemand/components/s12n/CapstoneBanners","pages/open-course/common/constants","vendor/cnpm/fluxible.v0-4/addons/connectToStores"],function(require,exports,module){var n=require("react-with-addons"),i=require("bundles/catalogP/models/s12n"),p=require("bundles/phoenix/template/models/userIdentity"),s=require("bundles/ondemand/components/s12n/CapstoneBanners"),t=s.NotInS12nBanner,d=s.NotEligibleBanner,a=s.PurchaseCapstoneBanner,r=require("pages/open-course/common/constants"),e=r.courseId,l=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),o=n.createClass({displayName:"CapstoneStatusBanner",propTypes:{isCapstone:n.PropTypes.bool.isRequired,s12nLink:n.PropTypes.string,isTakingS12n:n.PropTypes.bool,isEligibleForCapstone:n.PropTypes.bool,s12nBackboneModel:n.PropTypes.instanceOf(i),ownsCapstone:n.PropTypes.bool},render:function render(){if(!this.props.isCapstone)return null;if(!p.get("authenticated")||!this.props.isTakingS12n)return n.createElement(t,{sdpLink:this.props.s12nLink});if(this.props.isTakingS12n&&!this.props.isEligibleForCapstone)return n.createElement(d,null);if(this.props.isEligibleForCapstone&&!this.props.ownsCapstone)return n.createElement(a,{s12n:this.props.s12nBackboneModel});return null}});module.exports=l(o,["S12nStore"],function(s,t){var o=s.S12nStore,n=o.getS12n();return n&&n.isCapstone(e)?{isCapstone:n.isCapstone(e),s12nLink:n.getLink(),isTakingS12n:n.isTakingS12n(),isEligibleForCapstone:n.isEligibleForCapstone(),s12nBackboneModel:n.getBackboneModel(),ownsCapstone:n.isCapstone(e)&&n.ownsCourse(e)}:{isCapstone:!1}})});

define('css!bundles/ondemand/components/s12n/__styles__/S12nInfoBox',[],function(){})
define("bundles/ondemand/components/s12n/S12nInfoBox",["require","exports","module","react-with-addons","bundles/ondemand/models/S12n","js/lib/coursera.react-intl","i18n!nls/ondemand","pages/open-course/common/constants","vendor/cnpm/fluxible.v0-4/addons/connectToStores","css!./__styles__/S12nInfoBox"],function(require,exports,module){var e=require("react-with-addons"),a=require("bundles/ondemand/models/S12n"),o=require("js/lib/coursera.react-intl"),s=o.FormattedMessage,n=require("i18n!nls/ondemand"),t=require("pages/open-course/common/constants"),r=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores");require("css!./__styles__/S12nInfoBox");var c=e.createClass({displayName:"S12nInfoBox",propTypes:{s12n:e.PropTypes.instanceOf(a).isRequired,courseName:e.PropTypes.string.isRequired},render:function render(){var o=this.props,a=o.s12n,r=o.courseName;if(!a)return null;var c=a.getCourseNumber(t.courseId),i=a.getNumCourses();return e.createElement("div",{className:"rc-S12nInfoBox styleguide card-no-action primary comfy od-container"},e.createElement("h2",{className:"title headline-2-text card-headline"},i>c?e.createElement(s,{message:n("{courseName} is course {courseNum} of {numCourses} in the {s12nName} Specialization."),courseName:r,courseNum:c,numCourses:i,s12nName:a.getName()}):e.createElement(s,{message:n("{courseName} is the last course in the {s12nName} Specialization."),courseName:r,s12nName:a.getName()})),e.createElement("span",{className:"s12n-description"},a.getDescription()),e.createElement("div",{className:"metadata-box horizontal-box"},e.createElement("img",{className:"logo",src:a.getLogo()}),e.createElement("div",{className:"link-box flex-1 bgcolor-black-g1 horizontal-box align-items-vertical-center"},e.createElement("div",null,e.createElement("h5",{className:"s12n-name"},a.getName()),e.createElement("a",{className:"view-specialization",href:a.getLink()},n("View Specialization "))))))}});module.exports=r(c,["S12nStore","CourseStore"],function(e,o){var n=e.S12nStore,s=e.CourseStore,a=n.getS12n();return{s12n:a,courseName:s.getMetadata().get("name")}})});

define('css!bundles/ondemand/components/sessions/__styles__/ModeSwitcher',[],function(){})
define("bundles/ondemand/components/sessions/ModeSwitcher",["require","exports","module","react-with-addons","react-bootstrap","bundles/ondemand/stores/CourseMembershipStore","bundles/ondemand/stores/SessionStore","bundles/phoenix/template/models/userIdentity","bundles/outsourcing/utils","js/lib/coursera.redirect","bundles/ondemand/utils/courseModeOverrideUtils","vendor/cnpm/fluxible.v0-4/addons/connectToStores","css!./__styles__/ModeSwitcher"],function(require,exports,module){var e=require("react-with-addons"),d=require("react-bootstrap"),m=d.DropdownButton,o=d.MenuItem,S=require("bundles/ondemand/stores/CourseMembershipStore"),c=require("bundles/ondemand/stores/SessionStore"),n=require("bundles/phoenix/template/models/userIdentity"),l=require("bundles/outsourcing/utils"),p=l.isOutsourcing,a=require("js/lib/coursera.redirect"),r=require("bundles/ondemand/utils/courseModeOverrideUtils"),u=r.getCourseModeOverride,h=r.setCourseModeOverride,s=r.courseModes,E=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores");require("css!./__styles__/ModeSwitcher");var t={PRE_ENROLL:"Pre-Enroll",ON_DEMAND:"On-Demand",SESSIONS:"Cohorts"},i=e.createClass({displayName:"ModeSwitcher",propTypes:{isPreEnrollEnabledForCourse:e.PropTypes.bool.isRequired,isSessionsCourse:e.PropTypes.bool.isRequired},getInitialState:function getInitialState(){return{shouldShow:n.get("authenticated")&&(S.hasTeachingRole()||n.get("is_superuser")||p(n))&&(this.props.isSessionsCourse||this.props.isPreEnrollEnabledForCourse),selectedMode:this.determineMode()}},handleDropdownChange:function handleDropdownChange(e){this.setState({selectedMode:e})},determineMode:function determineMode(){var e=u();if(e)return e;return this.props.isPreEnrollEnabledForCourse?s.PRE_ENROLL:c.isSessionsEnabled()?s.SESSIONS:s.ON_DEMAND},switchModes:function switchModes(){h(this.state.selectedMode),a.refresh()},render:function render(){if(!this.state.shouldShow)return null;return e.createElement("div",{className:"rc-ModeSwitcher"},e.createElement("div",{className:"card-rich-interaction od-container cozy styleguide"},e.createElement("h2",{className:"headline-2-text card-headline"},"Course Mode"),e.createElement("div",{className:"dropdown-section"},e.createElement(m,{title:t[this.state.selectedMode],onSelect:this.handleDropdownChange},this.state.selectedMode!==s.PRE_ENROLL&&this.props.isPreEnrollEnabledForCourse&&e.createElement(o,{eventKey:s.PRE_ENROLL},t[s.PRE_ENROLL]),this.state.selectedMode!==s.ON_DEMAND&&e.createElement(o,{eventKey:s.ON_DEMAND},t[s.ON_DEMAND]),this.state.selectedMode!==s.SESSIONS&&this.props.isSessionsCourse&&e.createElement(o,{eventKey:s.SESSIONS},t[s.SESSIONS]))),e.createElement("button",{className:"primary",onClick:this.switchModes},"Switch Modes"),e.createElement("div",{className:"explanation"},e.createElement("span",{className:"caption-text color-secondary-text"},"This feature is only available to admins. Learners will only see one mode."))))}});module.exports=E(i,["CourseStore"],function(s,t){var e=s.CourseStore;return{isPreEnrollEnabledForCourse:e.isPreEnrollEnabledForCourse(),isSessionsCourse:e.hasSessions()}}),module.exports.BaseComp=i});
define("nls/phoenix-cdp",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});


define('css!bundles/phoenix-cdp/components/__styles__/AboutBox',[],function(){})
define("bundles/phoenix-cdp/components/AboutBox",["require","exports","module","react-with-addons","underscore","js/lib/coursera.react-intl","i18n!nls/phoenix-cdp","pages/open-course/common/models/course","css!./__styles__/AboutBox"],function(require,exports,module){var e=require("react-with-addons"),_=require("underscore"),s=require("js/lib/coursera.react-intl"),o=s.FormattedHTMLMessage,t=require("i18n!nls/phoenix-cdp"),c=require("pages/open-course/common/models/course");require("css!./__styles__/AboutBox");var n=e.createClass({displayName:"AboutBox",contextTypes:{course:e.PropTypes.instanceOf(c).isRequired},render:function render(){var s=this.context.course.get("estimatedWorkload");return e.createElement("div",{className:"rc-AboutBox c-welcome-rounded-box"},e.createElement("h2",{className:"headline-2-text card-headline"},t("About this Course")),e.createElement("p",null,this.context.course.get("description")),e.createElement("div",null,e.createElement("i",{className:"cif-globe c-about-box-icon"}),e.createElement(o,{message:t("Subtitles available in <strong>{subtitleLanguages}</strong>"),subtitleLanguages:this.context.course.getSubtitles().join(", ")})),s&&e.createElement("div",null,e.createElement("i",{className:"cif-clock-o c-about-box-icon"}),s))}});module.exports=n});
define("bundles/phoenix/utils/matchMedia",["require","exports","module"],function(require,exports,module){var n=480,t=768,e=992,r=1200,u=t-1,o=e-1,h=r-1,i=function matches(i){var t=window.matchMedia(i);return t.matches},a={isPhoneOrSmaller:function isPhoneOrSmaller(){return i("(max-width: "+u+"px)")},isTabletOrSmaller:function isTabletOrSmaller(){return i("(max-width: "+o+"px)")},isDesktopOrSmaller:function isDesktopOrSmaller(){return i("(max-width: "+h+"px)")},isPhoneOrBigger:function isPhoneOrBigger(){return i("(min-width: "+n+"px)")},isTabletOrBigger:function isTabletOrBigger(){return i("(min-width: "+t+"px)")},isDesktopOrBigger:function isDesktopOrBigger(){return i("(min-width: "+e+"px)")},isHeightOrSmaller:function isHeightOrSmaller(t){return i("(max-height: "+t+"px)")},isAboveHeight:function isAboveHeight(t){return i("(min-height: "+(t+1)+"px)")}};module.exports=a});
define("bundles/recentlyViewed/lib",["require","exports","module","underscore","js/lib/coursera.store"],function(require,exports,module){var _=require("underscore"),e=require("js/lib/coursera.store"),r=12,n=function get(r){return e.get(r)||[]},i=function add(n,t){var i=e.get(n),c=Date.now();t=_(i).findWhere(t)||t;var u=_({count:0}).extend(t,{timestamp:c});u.count++;var s=_(i).chain().reject(function(e){return _.isEqual(e,t)}).unshift(u).slice(0,r).value();return e.setIfEnabled(n,s),s},t="recentlyViewed.course",u={add:_.partial(i,t),get:_.partial(n,t)};module.exports={limit:r,course:u}});

define('css!bundles/ondemand/components/__styles__/CourseInfoPage',[],function(){})
!function(){var t=function Affixes($,s,_){var t={defaults:{"bind.scroll":"scroll","attribute.affix":"data-affix","offset.y":"0","offset.x":"0","class":"affix",preserve:"1","z.index":"3000",debounce:500},getAffix:function getAffix(s,i){var t=$(s).data("affix.me");return t&&t.constructor==e.prototype.constructor?i?t.customize(i):t:null},makeAffix:function makeAffix(o,r){var s=$(o),i=t.getAffix(s);return i||(i=new e(s,r),s.data("affix.me",i)),i},readDataAttributes:function readDataAttributes(o,r,i){var s={};for(var t in i){var e=o.attr(r+t.replace(/\./g,"-"));s[t]=void 0===e||0===e.length?i[t]:e}return s}},e=function Affix(t,e){this.$el=$(t),this.$parent=this.$el.parent(),this.emitter=s.emitter(this),this.customize(e),this.affixed=!1};e.prototype.customize=function(e){return this.options=_.extend({},t.readDataAttributes(this.$el,t["attribute.affix"]+"-",t.defaults),e),this},e.prototype.reposition=function(){if(!this.$el.is(":visible"))return;var i=$(window).scrollTop(),t=this.$el.offset(),s=this.$el.outerHeight(),e=parseInt(this.options["offset.y"],10)||0;!this.affixed&&i>t.top+e?(this.options.preserve&&(this.restore={display:this.$el.css("display"),"z-index":this.$el.css("z-index"),top:this.$el.css("top"),left:this.$el.css("left"),width:this.$el.css("width"),position:this.$el.css("position")},this.placeholder=$("<"+this.$el.prop("tagName")+">").css({display:"block",top:this.restore.top,left:this.restore.left,width:this.restore.width,height:s,"z-index":0}),this.$el.css({display:"block","z-index":this.options["z.index"],top:e,left:t.left,width:this.$el.width(),position:"fixed"}),this.placeholder.insertBefore(this.$el)),this.position=t,this.$el.addClass(this.options["class"]),this.affixed=!0,this.emitter.trigger("pin")):this.affixed&&i<=this.position.top+e&&(this.placeholder.remove(),this.$el.removeClass(this.options["class"]),this.options.preserve&&(this.$el.css(this.restore),this.restore={}),this.affixed=!1,this.emitter.trigger("unpin"))},e.prototype.remove=function(){this.placeholder&&this.placeholder.remove(),this.$el.remove()};var i=function external(){return t.getAffix.apply(null,arguments)||t.makeAffix.apply(this,arguments)};return i.start=function(i,o){var s=$(i),r=i==window?$(document):s,e=_.extend({},t.defaults,o);s.on(e["bind.scroll"]+".affix",function(){r.find("["+e["attribute.affix"]+"]").each(function(){var i=$(this);e=_.extend({},e,t.readDataAttributes(i,e["attribute.affix"]+"-",t.defaults));var s=t.getAffix(i,e)||t.makeAffix(i,e);s.reposition()})})},i.stop=function(t){var e=$(t);e.unbind(".affix")},i.start(window),i};"function"==typeof define&&define.amd?define("js/lib/affix",["require","jquery","js/vendor/lucid.v2-7-0","underscore"],function(require){var $=require("jquery"),e=require("js/vendor/lucid.v2-7-0"),_=require("underscore");return t($,e,_)}):"undefined"!=typeof window&&"undefined"==typeof ender&&(window.Affix=t(window.$,window.LucidJS,window._))}();
define("bundles/ondemand/components/CourseInfoPage",["require","exports","module","classnames","react-router","react-with-addons","bundles/ondemand/components/RelatedCourses","bundles/certificate-enroll/components/FinaidLink","bundles/certificate/components/CertificatePromoBox","bundles/epic/client","bundles/ondemand/components/CourseInfoHeader","bundles/ondemand/components/HowToPass","bundles/ondemand/components/InstructorBox","bundles/ondemand/components/ReferrerInformation","bundles/ondemand/components/Syllabus","bundles/ondemand/components/enrollBox/EnrollBox","bundles/ondemand/components/s12n/CapstoneStatusBanner","bundles/ondemand/components/s12n/S12nInfoBox","bundles/ondemand/components/sessions/ModeSwitcher","bundles/page/lib/metatagsAddressBook","bundles/phoenix-cdp/components/AboutBox","bundles/phoenix/lib/waitForStores","bundles/phoenix/template/models/userIdentity","bundles/phoenix/utils/matchMedia","bundles/recentlyViewed/lib","bundles/spark-cdp/components/ShareButtons","pages/open-course/common/constants","pages/open-course/common/models/course","i18n!nls/ondemand","css!./__styles__/CourseInfoPage","js/lib/affix"],function(require,exports,module){var P=require("classnames"),h=require("react-router"),i=h.State,e=require("react-with-addons"),I=require("bundles/ondemand/components/RelatedCourses"),N=require("bundles/certificate-enroll/components/FinaidLink"),a=require("bundles/certificate/components/CertificatePromoBox"),o=require("bundles/epic/client"),d=require("bundles/ondemand/components/CourseInfoHeader"),c=require("bundles/ondemand/components/HowToPass"),l=require("bundles/ondemand/components/InstructorBox"),u=require("bundles/ondemand/components/ReferrerInformation"),m=require("bundles/ondemand/components/Syllabus"),p=require("bundles/ondemand/components/enrollBox/EnrollBox"),b=require("bundles/ondemand/components/s12n/CapstoneStatusBanner"),q=require("bundles/ondemand/components/s12n/S12nInfoBox"),f=require("bundles/ondemand/components/sessions/ModeSwitcher"),g=require("bundles/page/lib/metatagsAddressBook"),x=require("bundles/phoenix-cdp/components/AboutBox"),E=require("bundles/phoenix/lib/waitForStores"),s=require("bundles/phoenix/template/models/userIdentity"),y=require("bundles/phoenix/utils/matchMedia"),S=y.isPhoneOrSmaller,C=require("bundles/recentlyViewed/lib"),v=require("bundles/spark-cdp/components/ShareButtons"),t=require("pages/open-course/common/constants"),w=t.courseRootPath,B=t.vcLandingPagePath,r=require("pages/open-course/common/models/course"),k=require("i18n!nls/ondemand");require("css!./__styles__/CourseInfoPage"),require("js/lib/affix");var n=e.createClass({displayName:"CourseInfoPage",propTypes:{isPreEnrollEnabled:e.PropTypes.bool.isRequired,course:e.PropTypes.instanceOf(r).isRequired,showVCPromo:e.PropTypes.bool.isRequired,hasPurchasedVC:e.PropTypes.bool.isRequired,query:e.PropTypes.object},contextTypes:{track:e.PropTypes.func.isRequired},childContextTypes:{course:e.PropTypes.instanceOf(r).isRequired},mixins:[i],statics:{getUrl:function getUrl(){return w+"/home/info"}},getChildContext:function getChildContext(){return{course:this.props.course}},componentWillMount:function componentWillMount(){this.showFinaidLink=!this.props.hasPurchasedVC&&o.get("Finaid","rolloutShowFinaidLink")&&"onPage"===o.get("Finaid","showFinaidLink")},componentDidMount:function componentDidMount(){this.context.track("course_info.render");var e=this.props.course;if(C.course.add({id:e.get("id")}),this.props.query.referrerId){var n={};n.referrer_id=this.props.query.referrerId,s.get("authenticated")&&(n.user_id=s.get("id")),this.context.track("invite_friends.render.invite",n)}this.isActive("CDP")&&g.setMetatags({pageName:"open-course-welcome",context:{courseName:e.get("name"),partnerNames:e.get("universities")?e.get("universities").getNamesString():"",courseDescription:e.get("description")},options:{imageHref:e.get("promoPhoto")}})},render:function render(){var n=P("horizontal-box","wrap",{"flex-reverse":S()});return e.createElement("div",{className:"rc-CourseInfoPage"},e.createElement(d,null),e.createElement("div",{className:"content"},e.createElement(b,null),e.createElement("div",{className:n},e.createElement("div",{className:"flex-1"},e.createElement("div",{className:"about-container card-no-action primary comfy"},e.createElement(x,null)),e.createElement(q,null),e.createElement(l,null),!this.props.isPreEnrollEnabled&&e.createElement(m,null),e.createElement(c,null),e.createElement("div",{className:"card-no-action primary od-container comfy"},e.createElement(I,null))),e.createElement("div",{className:"right-rail"},this.props.query.referrerId&&e.createElement(u,{referrerId:this.props.query.referrerId}),e.createElement(p,null),this.showFinaidLink&&e.createElement(N,null),e.createElement(f,null),this.props.showVCPromo&&e.createElement("div",{className:"cozy od-container card-rich-interaction"},e.createElement(a,{href:B})),e.createElement("div",{className:"comfy od-container card-no-action primary"},e.createElement("h3",{className:"headline-2-text"},k("Share")),e.createElement(v,{course:this.props.course}))))))}});module.exports=E(n,{requiredStores:["S12nStore","VerificationStore"],lazyStores:["CourseStore"]},function(e,r){var t=e.S12nStore,n=e.VerificationStore,o=e.CourseStore,s=o.getMetadata();return{showVCPromo:!t.getS12n()&&s.isVerificationEnabled()&&n.getVerificationPreferences(),isPreEnrollEnabled:o.isPreEnrollEnabledForUser(),hasPurchasedVC:n.hasPurchasedVC(),course:s}}),module.exports.getUrl=n.getUrl});
define("nls/course-profile",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});


define('css!bundles/ondemand/components/__styles__/FormItemSaveIndicator',[],function(){})
define("bundles/ondemand/components/FormItemSaveIndicator",["require","exports","module","react-with-addons","bundles/profile/constants/constants","bundles/iconfont/Icon","css!./__styles__/FormItemSaveIndicator.css"],function(require,exports,module){var e=require("react-with-addons"),s=require("bundles/profile/constants/constants"),t=require("bundles/iconfont/Icon");require("css!./__styles__/FormItemSaveIndicator.css");var a=e.createClass({displayName:"FormItemSaveIndicator",propTypes:{savingState:e.PropTypes.string.isRequired},render:function render(){return e.createElement("div",{className:"rc-FormItemSave horizontal-box align-items-absolute-center"},this.props.savingState===s.savingStates.SAVING&&e.createElement(t,{name:"spinner",className:"cif-spin cif-lg"}),this.props.savingState===s.savingStates.SAVED&&e.createElement(t,{name:"checkmark",className:"cif-lg color-success"}),this.props.savingState===s.savingStates.ERROR&&e.createElement(t,{name:"ban",className:"cif-lg color-error"}))}});module.exports=a});

define('css!bundles/profile/components/__styles__/LocationInput',[],function(){})
define("bundles/profile/components/LocationInput",["require","exports","module","underscore","i18n!nls/course-profile","react-with-addons","vendor/cnpm/fluxible.v0-4/addons/connectToStores","js/lib/retracked","bundles/phoenix/template/models/userIdentity","bundles/profile/constants/constants","bundles/profile/actions/ProfileActions","bundles/ondemand/components/FormItemSaveIndicator","css!./__styles__/LocationInput.css"],function(require,exports,module){var _=require("underscore"),t=require("i18n!nls/course-profile"),e=require("react-with-addons"),n=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),o=require("js/lib/retracked"),i=require("bundles/phoenix/template/models/userIdentity"),a=require("bundles/profile/constants/constants"),s=require("bundles/profile/actions/ProfileActions"),r=s.updateLocation,c=require("bundles/ondemand/components/FormItemSaveIndicator");require("css!./__styles__/LocationInput.css");var l=e.createClass({displayName:"LocationInput",propTypes:{savingState:e.PropTypes.string.isRequired,locationString:e.PropTypes.string},contextTypes:{executeAction:e.PropTypes.func.isRequired},childContextTypes:{track:e.PropTypes.func},getInitialState:function getInitialState(){return{locationString:this.props.locationString}},componentWillMount:function componentWillMount(){this.track=o.makeTracker({namespace:"user",include:{user_id:function user_id(){return i.get("id")}}})},componentDidMount:function componentDidMount(){if("undefined"!=typeof google&&google.maps)this.setupPlaces();else{window.initializePlacesAutocomplete=this.setupPlaces;var e=document.createElement("script");e.type="text/javascript",e.src="https://maps.googleapis.com/maps/api/js?sensor=false&key=AIzaSyC7XENXcXiE_oj0HvDUC_MiLY9zI3xTW0g&libraries=places&callback=initializePlacesAutocomplete",document.body.appendChild(e)}},componentWillReceiveProps:function componentWillReceiveProps(e){this.setState({locationString:e.locationString})},componentWillUnmount:function componentWillUnmount(){"undefined"!=typeof google&&google.maps&&google.maps.event&&google.maps.event.removeListener(this.listener)},handleKeyDown:function handleKeyDown(e){13===e.keyCode&&(e.preventDefault(),e.stopPropagation())},setupPlaces:function setupPlaces(){var t=e.findDOMNode(this.refs.placesInput);this.autocompleteInput=new google.maps.places.Autocomplete(t,{types:["geocode"]}),this.listener=google.maps.event.addListener(this.autocompleteInput,"place_changed",this.saveLocation)},saveLocation:function saveLocation(){function findComponent(t,n,o){var e=_.find(t.address_components,function(e){return _.include(e.types,n)});if(o)return e&&e.long_name;return e&&e.short_name}var t=this.autocompleteInput.getPlace();if(t&&t.geometry){var n=t.geometry.location.lat(),o=t.geometry.location.lng(),a=e.findDOMNode(this.refs.placesInput),i={lat:"number"==typeof n?n:null,lng:"number"==typeof o?o:null,country:findComponent(t,"country"),countryName:findComponent(t,"country",!0),state:findComponent(t,"administrative_area_level_1"),city:findComponent(t,"administrative_area_level_3")||findComponent(t,"locality"),freeform:a.value};this.track("location_editor.click.save",{location:i}),this.context.executeAction(r,i)}},ensureSaved:function ensureSaved(){this.state.locationString!==this.props.locationString&&this.props.savingState!==a.UNCHANGED&&this.saveLocation()},render:function render(){var n=this;return e.createElement("section",{className:"rc-LocationInput horizontal-box align-items-vertical-center"},e.createElement("div",{className:"input-area flex-1 horizontal-box align-items-absolute-center"},e.createElement("input",{value:this.state.locationString,onChange:function(e){return n.setState({locationString:e.target.value})},onKeyDown:this.handleKeyDown,type:"text",ref:"placesInput",placeholder:t("Where are you from? (optional)")}),e.createElement(c,{savingState:this.props.savingState})))}});module.exports=n(l,["ProfileStore"],function(n){var e=n.ProfileStore,t=e.profile.location;return{savingState:e.getLocationSavedState(),locationString:t&&t.freeform}})});

define('css!bundles/ondemand/components/__styles__/NearbyLearnersModal',[],function(){})
define("bundles/ondemand/components/NearbyLearnersModal",["require","exports","module","underscore","i18n!nls/discussions","react-with-addons","js/lib/coursera.store","vendor/cnpm/fluxible.v0-4/addons/connectToStores","bundles/phoenix/components/Modal","pages/open-course/common/constants","bundles/profile/components/LocationInput","bundles/iconfont/Icon","bundles/ondemand/utils/socialExperimentUtils","bundles/profile/actions/ProfileActions","css!bundles/ondemand/components/__styles__/NearbyLearnersModal.css"],function(require,exports,module){var _=require("underscore"),o=require("i18n!nls/discussions"),e=require("react-with-addons"),t=require("js/lib/coursera.store"),r=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),s=require("bundles/phoenix/components/Modal"),n=require("pages/open-course/common/constants"),m=require("bundles/profile/components/LocationInput"),c=require("bundles/iconfont/Icon"),l=require("bundles/ondemand/utils/socialExperimentUtils"),i=l.isNearbyLearnersEnabled,d=require("bundles/profile/actions/ProfileActions"),u=d.updateLocation;require("css!bundles/ondemand/components/__styles__/NearbyLearnersModal.css");var a=e.createClass({displayName:"NearbyLearnersModal",propTypes:{location:e.PropTypes.object,startOpen:e.PropTypes.bool,showWelcome:e.PropTypes.bool},contextTypes:{executeAction:e.PropTypes.func.isRequired,track:e.PropTypes.func},getInitialState:function getInitialState(){return{show:this.shouldShowModal()||this.props.startOpen,locationChosen:!1}},onContinue:function onContinue(){var e=this;this.context.track("nearby_learners_modal.click.continue"),this.setState({locationChosen:!0}),setTimeout(function(){e.setState({show:!1})},2e3)},onClose:function onClose(){var e=this;this.context.track("nearby_learners_modal.click.close"),this.context.executeAction(u,void 0);var o=_.isEmpty(this.props.location)?0:600;setTimeout(function(){e.setState({show:!1})},o)},shouldShowModal:function shouldShowModal(){if(t.get(n.onboardModalStorageKey+n.courseId)&&i())return t.remove(n.onboardModalStorageKey+n.courseId),this.context.track("nearby_learners_modal.render"),!0;return!1},render:function render(){return e.createElement("div",{className:"rc-NearbyLearnersModal styleguide"},this.state.show&&e.createElement(s,{handleClose:this.onClose,modalName:o("Learners Near You")},e.createElement("section",{className:"header vertical-box align-items-absolute-center"},this.props.showWelcome&&e.createElement("h5",{className:"align-horizontal-center"},o("Welcome!")),e.createElement("p",{className:"align-horizontal-center"},o("Share your location to meet other learners from your country."))),e.createElement("form",{ref:"form",className:"form"},e.createElement(m,null)),this.state.locationChosen?e.createElement("div",{className:"generating-state color-secondary-text horizontal-box align-items-absolute-center"},e.createElement(c,{name:"spinner",className:"cif-spin cif-lg"}),e.createElement("p",null,o("Generating your learning community"))):e.createElement("section",{className:"actions vertical-box align-items-absolute-center"},e.createElement("button",{className:"primary",onClick:this.onContinue,disabled:_.isEmpty(this.props.location)},o("Let's go!")),e.createElement("button",{className:"passive caption-text",onClick:this.onClose},o("Not right now")))))}});module.exports=r(a,["ProfileStore"],function(e){return{location:e.ProfileStore.profile.location}})});
define("pages/open-course/common/views/nls/helpwidget",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

!function(e){var n=function(n,e,t){var i=function template(d){var t=[],l={},a,i=d||{};return function(e,i){t.push('<a data-js="helpwidget-link"'+n.attr("href",e,!0,!1)+' target="_blank" class="c-helpwidget-link"><div class="helpwidget-tab c-helpwidget-tab">'+n.escape(null==(a=i("Help Center"))?"":a)+"</div></a>")}.call(this,"helpLink"in i?i.helpLink:"undefined"!=typeof helpLink?helpLink:void 0,"_t"in i?i._t:"undefined"!=typeof e?e:void 0),t.join("")};return function(n){return n&&"_t"in n&&(e=n._t.merge(e)),i(n)}};"function"==typeof define&&define.amd?define('pages/open-course/common/views/helpwidget.html',["js/vendor/jade","i18n!pages/open-course/common/views/nls/helpwidget"],function(e,i){var t;return n(e,i,t)}):e.jade.templates["pages.open-course.common.views.helpwidget"]=n(e.jade.helpers)}(window);
define("pages/open-course/common/views/helpwidget",["require","exports","module","bundles/phoenix/lib/multitrackerMixin","backbone","pages/open-course/common/views/helpwidget.html","bundles/phoenix/template/models/userIdentity","js/lib/coursera.helpcenter","css!bundles/helpwidget/index.css","css!pages/open-course/common/styl/helpwidget.css"],function(require,exports,module){var s=require("bundles/phoenix/lib/multitrackerMixin"),Backbone=require("backbone"),n=require("pages/open-course/common/views/helpwidget.html"),e=require("bundles/phoenix/template/models/userIdentity"),t=require("js/lib/coursera.helpcenter"),i=t.getNewHelpCenterHome(e&&e.get("authenticated"));require("css!bundles/helpwidget/index.css"),require("css!pages/open-course/common/styl/helpwidget.css");var l=Backbone.View.extend({name:"helpwidget",multitracker:{namespace:"open_course",events:{"help_widget.click":'click [data-js~="helpwidget-link"]'},eventingVersion:2},render:function render(){this.$el.html(n({helpLink:i}))}});module.exports=l.extend(s)});
define("bundles/ondemand/utils/useItemSideNav",["require","exports","module","bundles/epic/client","bundles/phoenix/template/models/userIdentity","bundles/phoenix/utils/matchMedia"],function(require,exports,module){var e=require("bundles/epic/client"),i=require("bundles/phoenix/template/models/userIdentity"),t=require("bundles/phoenix/utils/matchMedia"),n=t.isPhoneOrSmaller;module.exports=function(){return!n()&&(i.get("is_superuser")||e.get("siteOnDemandCompletion","itemSideNavigation"))}});

define('css!bundles/ondemand/components/__styles__/PartnerLogo',[],function(){})
define("bundles/ondemand/components/PartnerLogo",["require","exports","module","react-with-addons","js/components/Imgix","i18n!nls/account-settings","css!./__styles__/PartnerLogo"],function(require,exports,module){var e=require("react-with-addons"),t=require("js/components/Imgix"),s=require("i18n!nls/account-settings");require("css!./__styles__/PartnerLogo");var n=e.createClass({displayName:"PartnerLogo",contextTypes:{track:e.PropTypes.func.isRequired},propTypes:{thumbnail:e.PropTypes.string.isRequired,universityLink:e.PropTypes.string},render:function render(){return this.props.universityLink?e.createElement("a",{className:"nostyle",href:this.props.universityLink,target:"_blank",onClick:this.context.track.handle("menu.click.univ_logo")},e.createElement(t,{className:"rc-PartnerLogo bgcolor-white",src:this.props.thumbnail,alt:s("University Link")})):e.createElement(t,{className:"rc-PartnerLogo bgcolor-white bt3-hidden-xs",src:this.props.thumbnail,alt:t.DECORATIVE})}});module.exports=n});
define("js/lib/moment.validator",["require","exports","module","moment"],function(require,exports,module){var o=require("moment"),e;o.isMoment&&!o.ReactPropTypeValidator&&(e=function(o,t,i){if(void 0!==o[t])return e.isRequired(o,t,i)},e.isRequired=function(t,e,i){if(!o.isMoment(t[e]))return new Error("Prop '"+e+"' in component '"+i+"' is not of type 'moment'.")}),module.exports=e});

define('css!bundles/profile/components/__styles__/ImageEditorButton',[],function(){})
define("bundles/profile/components/ImageEditorButton",["require","exports","module","react-with-addons","bundles/iconfont/Icon","react-bootstrap","js/lib/retracked","bundles/phoenix/template/models/userIdentity","classnames","i18n!nls/discussions","css!bundles/profile/components/__styles__/ImageEditorButton.css"],function(require,exports,module){var e=require("react-with-addons"),o=require("bundles/iconfont/Icon"),t=require("react-bootstrap"),s=t.OverlayTrigger,i=t.Tooltip,r=require("js/lib/retracked"),a=require("bundles/phoenix/template/models/userIdentity"),n=require("classnames"),c=require("i18n!nls/discussions");require("css!bundles/profile/components/__styles__/ImageEditorButton.css");var l=e.createClass({displayName:"ImageEditorButton",propTypes:{onButtonClick:e.PropTypes.func.isRequired,isMini:e.PropTypes.bool},childContextTypes:{track:e.PropTypes.func},openFileUploader:function openFileUploader(){this.track("image_editor_button.click.open",{from:window.location.href}),this.props.onButtonClick()},componentWillMount:function componentWillMount(){var e=a.get("id");this.track=r.makeTracker({namespace:"user",include:{user_id:function user_id(){return e}}})},render:function render(){var t=n("rc-ImageEditorButton",{mini:this.props.mini}),r=n("color-primary-text",{"cif-2x":!this.props.mini,"cif-fw":this.props.mini}),a=e.createElement(i,null,e.createElement("span",null,c("Upload photo")));return e.createElement("section",{className:t},e.createElement(s,{placement:"right",overlay:a},e.createElement("button",{className:"secondary camera theme-light",onClick:this.openFileUploader},e.createElement(o,{name:"camera",className:r}))))}});module.exports=l});
define("bundles/profile/components/ReactAvatarEditor",["require","exports","module","react-with-addons"],function(require,exports,module){var e=require("react-with-addons"),i="ontouchstart"in window||navigator.msMaxTouchPoints>0,o={mobile:{react:{down:"onTouchStart",drag:"onTouchMove",drop:"onTouchEnd",move:"onTouchMove",up:"onTouchUp"},"native":{down:"touchstart",drag:"touchmove",drop:"touchend",move:"touchmove",up:"touchup"}},desktop:{react:{down:"onMouseDown",drag:"onDragOver",drop:"onDrop",move:"onMouseMove",up:"onMouseUp"},"native":{down:"mousedown",drag:"dragStart",drop:"drop",move:"mousemove",up:"mouseup"}}},t=i?o.mobile:o.desktop,s=e.createClass({displayName:"ReactAvatarEditor",propTypes:{scale:e.PropTypes.number,image:e.PropTypes.string,border:e.PropTypes.number,width:e.PropTypes.number,height:e.PropTypes.number,color:e.PropTypes.arrayOf(e.PropTypes.number),onImageReady:e.PropTypes.func,style:e.PropTypes.object},getDefaultProps:function getDefaultProps(){return{scale:1,border:25,width:200,height:200,color:[0,0,0,.5],onImageReady:function onImageReady(){},style:{}}},getInitialState:function getInitialState(){return{drag:!1,my:null,mx:null,image:{x:0,y:0}}},getDimensions:function getDimensions(){return{width:this.props.width,height:this.props.height,border:this.props.border,canvas:{width:this.props.width+2*this.props.border,height:this.props.height+2*this.props.border}}},getImage:function getImage(s,a){var t=document.createElement("canvas"),o=t.getContext("2d"),i=this.getDimensions();t.width=i.width,t.height=i.height,o.globalCompositeOperation="destination-over";var e=this.state.image;return this.paintImage(o,{resource:e.resource,x:e.x-i.border,y:e.y-i.border,width:e.width,height:e.height}),t.toDataURL(s,a)},isDataURL:function isDataURL(e){var t=/^\s*data:([a-z]+\/[a-z]+(;[a-z\-]+\=[a-z\-]+)?)?(;base64)?,[a-z0-9\!\$\&\'\,\(\)\*\+\,\;\=\-\.\_\~\:\@\/\?\%\s]*\s*$/i;return!!e.match(t)},loadImage:function loadImage(t){var e=new Image;e.onload=this.handleImageReady.bind(this,e),this.isDataURL(t)||(e.crossOrigin="anonymous"),e.src=t},componentDidMount:function componentDidMount(){var o=this.getDOMNode().getContext("2d");this.props.image&&this.loadImage(this.props.image),this.paint(o),document&&document.addEventListener(t["native"].move,this.handleMouseMove,!1),document&&document.addEventListener(t["native"].up,this.handleMouseUp,!1),i&&e.initializeTouchEvents(!0)},componentWillUnmount:function componentWillUnmount(){document&&document.removeEventListener(t["native"].move,this.handleMouseMove,!1),document&&document.removeEventListener(t["native"].up,this.handleMouseUp,!1)},componentDidUpdate:function componentDidUpdate(){var e=this.getDOMNode().getContext("2d");e.clearRect(0,0,this.getDimensions().canvas.width,this.getDimensions().canvas.height),this.paint(e),this.paintImage(e,this.state.image)},handleImageReady:function handleImageReady(t){var e=this.getInitialSize(t.width,t.height);e.resource=t,e.x=this.props.border,e.y=this.props.border,this.setState({drag:!1,image:e},this.props.onImageReady)},getInitialSize:function getInitialSize(i,o){var e,t,s,a,n;return s=this.getDimensions(),a=s.height/s.width,n=o/i,a>n?(e=this.getDimensions().height,t=i*(e/o)):(t=this.getDimensions().width,e=o*(t/i)),{height:e,width:t}},componentWillReceiveProps:function componentWillReceiveProps(e){this.props.image!=e.image&&this.loadImage(e.image),this.props.scale!=e.scale&&this.squeeze(e)},paintImage:function paintImage(t,e){if(e.resource){var i=this.calculatePosition(e);t.save(),t.globalCompositeOperation="destination-over",t.drawImage(e.resource,e.x,e.y,i.width,i.height),t.restore()}},calculatePosition:function calculatePosition(i){i=i||this.state.image;var e,t,a,s,o=this.getDimensions();a=i.width*this.props.scale,s=i.height*this.props.scale;var d=(a-i.width)/2,h=(s-i.height)/2;e=i.x-d,t=i.y-h,e=Math.min(e,o.border),t=Math.min(t,o.border);var r=s+(t-o.border);t=r>o.height?t:t+(o.height-r);var n=a+(e-o.border);return e=n>o.width?e:e+(o.width-n),{x:e,y:t,height:s,width:a}},getCropPositions:function getCropPositions(){var t=this.getDimensions(),e=this.state.image;return{x:-1*e.x+t.border,y:-1*e.y+t.border,width:e.width*this.props.scale,height:e.height*this.props.scale}},paint:function paint(t){t.save(),t.translate(0,0),t.fillStyle="rgba("+this.props.color.slice(0,4).join(",")+")";var i=this.getDimensions(),e=i.border,o=i.canvas.height,s=i.canvas.width;t.fillRect(0,0,s,e),t.fillRect(0,o-e,s,e),t.fillRect(0,e,e,o-2*e),t.fillRect(s-e,e,e,o-2*e),t.restore()},handleMouseDown:function handleMouseDown(){this.setState({drag:!0,mx:null,my:null})},handleMouseUp:function handleMouseUp(){this.state.drag&&this.setState({drag:!1})},handleMouseMove:function handleMouseMove(t){if(0==this.state.drag)return;var e=this.state.image,a=e.x,n=e.y,o=i?event.targetTouches[0].pageX:t.clientX,s=i?event.targetTouches[0].pageY:t.clientY,r={mx:o,my:s,image:e};if(this.state.mx&&this.state.my){var h=this.state.mx-o,d=this.state.my-s;e.y=this.getBoundedY(n-d,this.props.scale),e.x=this.getBoundedX(a-h,this.props.scale)}this.setState(r)},squeeze:function squeeze(t){var e=this.state.image;e.y=this.getBoundedY(e.y,t.scale),e.x=this.getBoundedX(e.x,t.scale),this.setState({image:e})},getBoundedX:function getBoundedX(t,s){var o=this.state.image,e=this.getDimensions(),a=Math.ceil((o.width*s-o.width)/2),n=Math.ceil(-o.width*s+e.width+e.border),r=e.border,i;return t-a>=e.border&&(i=e.border+a),n>t&&(i=n),t>r&&(i=r),i||t},getBoundedY:function getBoundedY(t,s){var o=this.state.image,e=this.getDimensions(),a=Math.ceil((o.height*s-o.height)/2),n=Math.ceil(-o.height*s+e.height+e.border),r=e.border,i;return t-a>=e.border&&(i=e.border+a),n>t&&(i=n),t>r&&(i=r),i||t},handleDragOver:function handleDragOver(e){e.preventDefault()},handleDrop:function handleDrop(e){e.stopPropagation(),e.preventDefault();var t=new FileReader;t.onload=this.handleUploadReady,t.readAsDataURL(e.dataTransfer.files[0])},handleUploadReady:function handleUploadReady(e){this.loadImage(e.target.result)},render:function render(){var i={width:this.getDimensions().canvas.width,height:this.getDimensions().canvas.height,style:this.props.style};return i[t.react.down]=this.handleMouseDown,i[t.react.drag]=this.handleDragOver,i[t.react.drop]=this.handleDrop,e.createElement("canvas",i)}});module.exports=s});
define("bundles/phoenix/components/fileUploader/constants",["require","exports","module"],function(require,exports,module){module.exports={transloaditKey:"05912e90e83346abb96c261bf458b615",peerReviewTransloaditTemplateId:"5daef0a0169d11e49fb59d7fc80efd48"}});

define('css!bundles/profile/components/__styles__/ImageEditor',[],function(){})
define("bundles/profile/components/ImageEditor",["require","exports","module","react-with-addons","jquery","i18n!nls/discussions","q","underscore","classnames","js/lib/transloadit","js/lib/util","vendor/cnpm/fluxible.v0-4/addons/connectToStores","js/lib/retracked","bundles/phoenix/template/models/userIdentity","bundles/profile/components/ReactAvatarEditor","bundles/phoenix/components/fileUploader/constants","bundles/iconfont/Icon","bundles/profile/actions/ProfileActions","css!bundles/profile/components/__styles__/ImageEditor.css"],function(require,exports,module){var e=require("react-with-addons"),$=require("jquery"),o=require("i18n!nls/discussions"),n=require("q"),_=require("underscore"),s=require("classnames"),a=require("js/lib/transloadit"),t=require("js/lib/util"),i=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),h=require("js/lib/retracked"),l=require("bundles/phoenix/template/models/userIdentity"),c=require("bundles/profile/components/ReactAvatarEditor"),m=require("bundles/phoenix/components/fileUploader/constants"),p=require("bundles/iconfont/Icon"),u=require("bundles/profile/actions/ProfileActions"),d=u.updateProfileImage;require("css!bundles/profile/components/__styles__/ImageEditor.css");var r=e.createClass({displayName:"ImageEditor",contextTypes:{executeAction:e.PropTypes.func.isRequired},propTypes:{onCloseEditor:e.PropTypes.func.isRequired},childContextTypes:{track:e.PropTypes.func},getInitialState:function getInitialState(){return{imageDataUrl:null,scale:1,uploadState:{state:"ready",progress:0},currentState:"upload"}},componentWillMount:function componentWillMount(){var e=l.get("id");this.track=h.makeTracker({namespace:"user",include:{user_id:function user_id(){return e}}})},componentDidMount:function componentDidMount(){this.refs.uploadButton.getDOMNode().click()},createUploader:function createUploader(e){var t={wait:!0,params:{auth:{key:"05912e90e83346abb96c261bf458b615"},template_id:"8f4ad5202f0b11e5884b378d02f4564a",steps:{crop:{crop:e}}}};this.uploader=a(this.refs.uploader.getDOMNode(),t),this.uploader.on("select",this.onSelect),this.uploader.on("start",this.onStart),this.uploader.on("progress",this.onProgress),this.uploader.on("upload-complete",this.onUploadComplete),this.uploader.on("result",this.onResult),this.uploader.on("success",this.onSuccess),this.uploader.on("error",this.onError),this.uploader.on("cancel",this.onCancel),this.uploader.$files=$(this.refs.uploader.getDOMNode()).find("input[type=file]"),this.uploader.submit(),this.onSelect()},removeUploader:function removeUploader(){if(!this.uploader)return;this.uploader.reset(),this.uploader.off("select",this.onSelect),this.uploader.off("start",this.onStart),this.uploader.off("progress",this.onProgress),this.uploader.off("upload-complete",this.onUploadComplete),this.uploader.off("result",this.onResult),this.uploader.off("success",this.onSuccess),this.uploader.off("error",this.onError),this.uploader.off("cancel",this.onCancel),this.uploader=null},reset:function reset(){this.removeUploader()},onSelect:function onSelect(){this.setState({uploadState:{state:"uploading",progress:0}}),this.props.onUploadSelect&&this.props.onUploadSelect()},onStart:function onStart(){this.props.onUploadStart&&this.props.onUploadStart()},onProgress:function onProgress(e){var s=e.bytes_received,t=e.bytes_expected,o=0===t?0:100*s/t;this.setState({uploadState:{state:"uploading",progress:o}}),this.props.onUploadProgress&&this.props.onUploadProgress(o)},onUploadComplete:function onUploadComplete(e,t){this.props.onUploadComplete&&this.props.onUploadComplete(e,t)},onResult:function onResult(e,t){this.props.onUploadResult&&this.props.onUploadResult(e,t)},onSuccess:function onSuccess(e){var o=this;if(this.setState({uploadState:{state:"uploaded",progress:100}}),!e.results[":original"])return this.handleUploadError(),void this.reset();var s={photo120:t.makeHttps(e.results.resize_to_120[0].url),photo60:t.makeHttps(e.results.resize_to_60[0].url),photo24:t.makeHttps(e.results.resize_to_24[0].url),original:t.makeHttps(e.results[":original"][0].url)};n(this.context.executeAction(d,s)).then(function(){o.setState({uploadState:{state:"saved",progress:100}}),setTimeout(function(){o.props.onCloseEditor()},2e3)},function(e){o.track("image_editor.emit.error",{error:e}),o.setState({uploadState:{state:"error"}})}).done()},handleUploadError:function handleUploadError(e){this.onError(e)},onError:function onError(e){this.track("image_editor.emit.error",{error:e}),"uploading"===this.state.uploadState.state&&this.uploader.cancel(),this.setState({uploadState:{state:"error",progress:0,error:e}}),this.props.onUploadError&&this.props.onUploadError(e),this.reset()},onCancel:function onCancel(){this.props.onUploadCancel&&this.props.onUploadCancel()},closeEditor:function closeEditor(){this.track("image_editor.click.close"),this.props.onCloseEditor()},handleSave:function handleSave(){var i=this.refs.avatar.getImage(),s=this.refs.avatar.props.width,a=this.refs.avatar.props.height,t=this.refs.avatar.getCropPositions(),r=t.width,e=this.origImgDims.width/r,o={x1:t.x*e,y1:t.y*e,x2:t.x*e+s*e,y2:t.y*e+a*e};this.track("image_editor.click.save",{crop_coordinates:o,scale_factor:this.state.scale}),this.createUploader(o)},handleScale:function handleScale(){var e=this.refs.scale.getDOMNode().value;this.setState({scale:e})},onNewFile:function onNewFile(){var t=this,e=this.refs.file.getDOMNode();if(this.track("image_editor.click.new_file",{file_name:e.files[0].name,file_type:e.files[0].type,file_size:e.files[0].size}),e.files[0]){var o=new FileReader;o.readAsDataURL(e.files[0]),o.onloadend=function(o){var e=new Image;e.src=o.target.result,t.origImgDims={width:e.width,height:e.height},t.setState({currentState:"edit",imageDataUrl:o.target.result})}}},openFileUpload:function openFileUpload(){this.refs.file.getDOMNode().click()},renderUploadButton:function renderUploadButton(){var t=s("vertical-box","align-items-absolute-center",{hide:"upload"!=this.state.currentState});return e.createElement("div",{className:t},e.createElement("a",{ref:"uploader"},e.createElement("input",{type:"file",name:"file",ref:"file",multiple:"false",className:"hide",onChange:this.onNewFile,accept:"image/x-png, image/gif, image/jpeg"}),e.createElement("button",{className:"passive align-horizontal-center",ref:"uploadButton",onClick:this.openFileUpload},"Upload Photo")))},renderImageEditing:function renderImageEditing(){return e.createElement("div",null,e.createElement("p",{className:"headline-2-text align-horizontal-center"},o("Edit your photo")),e.createElement("div",{className:"contents"},e.createElement(c,{ref:"avatar",rotation:this.state.rotation,scale:parseFloat(this.state.scale),onSave:this.handleSave,image:this.state.imageDataUrl}),this.renderUploadState(),"ready"===this.state.uploadState.state&&e.createElement("div",{className:"work-area"},e.createElement("input",{name:"scale",type:"range",ref:"scale",onChange:this.handleScale,min:"1",max:"2",step:"0.01",defaultValue:"1"}),e.createElement("div",{className:"horizontal-box button-box align-items-absolute-center"},e.createElement("button",{className:"passive",onClick:this.closeEditor},o("Cancel")),e.createElement("button",{className:"secondary",onClick:this.handleSave},o("Save"))))))},renderUploadState:function renderUploadState(){if("uploading"===this.state.uploadState.state){var t=this.state.uploadState.progress||0,s=Math.min(Math.max(t,5),95).toFixed(2),a={width:s+"%"};return e.createElement("div",{className:"work-area"},e.createElement("div",{className:"bt3-progress"},e.createElement("div",{className:"bt3-progress-bar",style:a})),e.createElement("div",{className:"color-hint-text label-text align-horizontal-center"},"Uploading ..."))}if("saved"===this.state.uploadState.state)return e.createElement("div",{className:"work-area horizontal-box align-items-absolute-center saved"},e.createElement(p,{name:"checkmark",className:"cif-fw"}),o("Your photo is saved!"))},renderErrorState:function renderErrorState(){if("error"===this.state.uploadState.state)return e.createElement("div",{className:"caption-text error"},"Sorry, something went wrong. Please try again.")},render:function render(){return e.createElement("section",{className:"rc-ImageEditor vertical-box align-items-absolute-center"},this.renderUploadButton(),"edit"===this.state.currentState&&this.renderImageEditing(),this.renderErrorState())}});module.exports=i(r,["ProfileStore"],function(e){return{}})});

define('css!bundles/profile/components/__styles__/ImageEditorModal',[],function(){})
define("bundles/profile/components/ImageEditorModal",["require","exports","module","react-with-addons","bundles/phoenix/components/Modal","js/lib/retracked","bundles/phoenix/template/models/userIdentity","bundles/profile/components/ImageEditor","css!bundles/profile/components/__styles__/ImageEditorModal.css"],function(require,exports,module){var e=require("react-with-addons"),o=require("bundles/phoenix/components/Modal"),t=require("js/lib/retracked"),s=require("bundles/phoenix/template/models/userIdentity"),n=require("bundles/profile/components/ImageEditor");require("css!bundles/profile/components/__styles__/ImageEditorModal.css");var r=e.createClass({displayName:"ImageEditorModal",propTypes:{onEditingComplete:e.PropTypes.func.isRequired},childContextTypes:{track:e.PropTypes.func},closeModal:function closeModal(){this.track("image_editor.click.close"),this.props.onEditingComplete()},componentWillMount:function componentWillMount(){var e=s.get("id");this.track=t.makeTracker({namespace:"user",include:{user_id:function user_id(){return e}}})},render:function render(){return e.createElement("div",{className:"rc-ImageEditorModal"},e.createElement(o,{handleClose:this.closeModal,ref:"editPhoto"},e.createElement(n,{onCloseEditor:this.closeModal})))}});module.exports=r});
define("bundles/ondemand/components/ProfileImageUploader",["require","exports","module","react-with-addons","vendor/cnpm/fluxible.v0-4/addons/connectToStores","bundles/profile/components/ImageEditorButton","bundles/profile/components/ImageEditorModal","bundles/phoenix/components/ProfileImage"],function(require,exports,module){var e=require("react-with-addons"),o=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),t=require("bundles/profile/components/ImageEditorButton"),n=require("bundles/profile/components/ImageEditorModal"),i=require("bundles/phoenix/components/ProfileImage"),r=e.createClass({displayName:"ProfileImageUploader",propTypes:{mini:e.PropTypes.bool,profileImageUrl:e.PropTypes.string},getInitialState:function getInitialState(){return{showModal:!1}},onImageEditorClick:function onImageEditorClick(){this.setState({showModal:!0})},editingComplete:function editingComplete(){this.setState({showModal:!1})},render:function render(){return e.createElement("div",{className:"rc-ProfileImageUploader"},this.props.profileImageUrl?e.createElement(i,{profileImageUrl:this.props.profileImageUrl,width:36,height:36}):e.createElement("div",null,e.createElement(t,{ref:"editorButton",onButtonClick:this.onImageEditorClick,mini:this.props.mini}),this.state.showModal&&e.createElement(n,{onEditingComplete:this.editingComplete})))}});module.exports=o(r,["ProfileStore"],function(e){return{profileImageUrl:e.ProfileStore.getProfileImage()}})});

define('css!bundles/classmates/components/__styles__/ClassmatesProfile',[],function(){})
define("bundles/classmates/components/ClassmatesProfile",["require","exports","module","i18n!nls/ondemand","react-with-addons","react-router","pages/open-course/common/constants","js/lib/path","bundles/phoenix/template/models/userIdentity","classnames","bundles/classmates/utils/lib","bundles/phoenix/components/ProfileImage","bundles/ondemand/components/ProfileImageUploader","css!./__styles__/ClassmatesProfile.css"],function(require,exports,module){var s=require("i18n!nls/ondemand"),e=require("react-with-addons"),a=require("react-router"),t=a.Link,l=require("pages/open-course/common/constants"),r=require("js/lib/path"),p=require("bundles/phoenix/template/models/userIdentity"),o=require("classnames"),c=require("bundles/classmates/utils/lib"),i=c.getProgressString,m=require("bundles/phoenix/components/ProfileImage"),d=require("bundles/ondemand/components/ProfileImageUploader");require("css!./__styles__/ClassmatesProfile.css");var n=e.createClass({displayName:"ClassmatesProfile",propTypes:{profile:e.PropTypes.object.isRequired},contextTypes:{track:e.PropTypes.func.isRequired},trackProfileClick:function trackProfileClick(){this.context.track("classmates.click.profile",{external_user_id:this.props.profile.externalId})},render:function render(){var a=this.props.profile,n=a.externalId===p.get("external_id"),c=o("rc-ClassmatesProfile","card-one-clicker",{self:n});return e.createElement("div",{className:c},e.createElement(t,{onClick:this.trackProfileClick,to:r.join(l.courseRootPath,"profiles",a.externalId),className:"nostyle"},e.createElement("div",{className:""},e.createElement("div",{className:"classmate-image"},e.createElement(m,{fullName:a.fullName,profileImageUrl:a.photoUrl})),e.createElement("h4",{className:"classmate-name headline-1-text"},n?s("You"):a.fullName)),e.createElement("div",{className:"flex classmate-progress"},e.createElement("span",{className:"body-1-text"},s("Progress"),": "),e.createElement("span",{className:"body-2-text"},i(a.courseProgressPercentage)))),n&&!a.photoUrl&&e.createElement(d,{mini:!0}))}});module.exports=n});
define("bundles/classmates/components/ClassmatesProfilesArea",["require","exports","module","react-with-addons","vendor/cnpm/fluxible.v0-4/addons/connectToStores","bundles/classmates/components/ClassmatesProfile","bundles/classmates/actions/ClassmatesProfileActions"],function(require,exports,module){var e=require("react-with-addons"),t=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),s=require("bundles/classmates/components/ClassmatesProfile"),o=require("bundles/classmates/actions/ClassmatesProfileActions"),r=o.getRandomClassmates,a=e.createClass({displayName:"ClassmatesProfilesArea",propTypes:{profile:e.PropTypes.object,classmatesProfiles:e.PropTypes.array,countryCode:e.PropTypes.string},contextTypes:{executeAction:e.PropTypes.func.isRequired},componentWillMount:function componentWillMount(){this.context.executeAction(r,void 0)},render:function render(){return e.createElement("div",{className:"rc-ClassmatesProfilesArea"},e.createElement("div",{className:"profiles-area horizontal-box wrap align-items-absolute-center"},e.createElement(s,{profile:this.props.profile}),this.props.classmatesProfiles.map(function(t,o){return e.createElement(s,{key:o,profile:t})})))}});module.exports=t(a,["ProfileStore","ClassmatesProfileStore"],function(e){var s=e.ProfileStore,t=e.ClassmatesProfileStore;return{profile:s.profile,classmatesProfiles:t.get10Profiles()}})});
!function(i,e,n){var a=i.L,t={};t.version="0.7.2","object"==typeof module&&"object"==typeof module.exports?module.exports=t:"function"==typeof define&&define.amd&&define("leaflet",t),t.noConflict=function(){return i.L=a,this},i.L=t,t.Util={extend:function(n){var o=Array.prototype.slice.call(arguments,1),t,e,s,i;for(e=0,s=o.length;s>e;e++){i=o[e]||{};for(t in i)i.hasOwnProperty(t)&&(n[t]=i[t])}return n},bind:function(t,e){var i=arguments.length>2?Array.prototype.slice.call(arguments,2):null;return function(){return t.apply(e,i||arguments)}},stamp:function(){var e=0,t="_leaflet_id";return function(i){return i[t]=i[t]||++e,i[t]}}(),invokeEach:function(t,n,o){var e,i;if("object"==typeof t){i=Array.prototype.slice.call(arguments,3);for(e in t)n.apply(o,[e,t[e]].concat(i));return!0}return!1},limitExecByInterval:function(n,o,i){var t,e;return function wrapperFn(){var s=arguments;if(t)return void(e=!0);t=!0,setTimeout(function(){t=!1,e&&(wrapperFn.apply(i,s),e=!1)},o),n.apply(i,s)}},falseFn:function(){return!1},formatNum:function(e,i){var t=Math.pow(10,i||5);return Math.round(e*t)/t},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},splitWords:function(e){return t.Util.trim(e).split(/\s+/)},setOptions:function(e,i){return e.options=t.extend({},e.options,i),e.options},getParamString:function(e,i,o){var n=[];for(var t in e)n.push(encodeURIComponent(o?t.toUpperCase():t)+"="+encodeURIComponent(e[t]));return(i&&-1!==i.indexOf("?")?"&":"?")+n.join("&")},template:function(e,t){return e.replace(/\{ *([\w_]+) *\}/g,function(i,o){var e=t[o];if(e===n)throw new Error("No value provided for variable "+i);return"function"==typeof e&&(e=e(t)),e})},isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="},function(){function getPrefixed(o){var t,e,n=["webkit","moz","o","ms"];for(t=0;t<n.length&&!e;t++)e=i[n[t]+o];return e}function timeoutDefer(o){var t=+new Date,n=Math.max(0,16-(t-e));return e=t+n,i.setTimeout(o,n)}var e=0,n=i.requestAnimationFrame||getPrefixed("RequestAnimationFrame")||timeoutDefer,o=i.cancelAnimationFrame||getPrefixed("CancelAnimationFrame")||getPrefixed("CancelRequestAnimationFrame")||function(t){i.clearTimeout(t)};t.Util.requestAnimFrame=function(e,o,s,a){if(e=t.bind(e,o),!s||n!==timeoutDefer)return n.call(i,e,a);e()},t.Util.cancelAnimFrame=function(t){t&&o.call(i,t)}}(),t.extend=t.Util.extend,t.bind=t.Util.bind,t.stamp=t.Util.stamp,t.setOptions=t.Util.setOptions,t.Class=function(){},t.Class.extend=function(e){var n=function(){this.initialize&&this.initialize.apply(this,arguments),this._initHooks&&this.callInitHooks()},a=function(){};a.prototype=this.prototype;var i=new a;i.constructor=n,n.prototype=i;for(var o in this)this.hasOwnProperty(o)&&"prototype"!==o&&(n[o]=this[o]);e.statics&&(t.extend(n,e.statics),delete e.statics),e.includes&&(t.Util.extend.apply(null,[i].concat(e.includes)),delete e.includes),e.options&&i.options&&(e.options=t.extend({},i.options,e.options)),t.extend(i,e),i._initHooks=[];var s=this;return n.__super__=s.prototype,i.callInitHooks=function(){if(this._initHooksCalled)return;s.prototype.callInitHooks&&s.prototype.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=i._initHooks.length;e>t;t++)i._initHooks[t].call(this)},n},t.Class.include=function(e){t.extend(this.prototype,e)},t.Class.mergeOptions=function(e){t.extend(this.prototype.options,e)},t.Class.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),i="function"==typeof t?t:function(){this[t].apply(this,e)};this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(i)};var o="_leaflet_events";t.Mixin={},t.Mixin.Events={addEventListener:function(i,d,n){if(t.Util.invokeEach(i,this.addEventListener,this,d,n))return this;var e=this[o]=this[o]||{},a=n&&n!==this&&t.stamp(n),r,p,u,s,h,c,l;for(i=t.Util.splitWords(i),r=0,p=i.length;p>r;r++)u={action:d,context:n||this},s=i[r],a?(h=s+"_idx",c=h+"_len",l=e[h]=e[h]||{},l[a]||(l[a]=[],e[c]=(e[c]||0)+1),l[a].push(u)):(e[s]=e[s]||[],e[s].push(u));return this},hasEventListeners:function(e){var t=this[o];return!!t&&(e in t&&t[e].length>0||e+"_idx"in t&&t[e+"_idx_len"]>0)},removeEventListener:function(i,c,e){if(!this[o])return this;if(!i)return this.clearAllEventListeners();if(t.Util.invokeEach(i,this.removeEventListener,this,c,e))return this;var n=this[o],p=e&&e!==this&&t.stamp(e),u,m,l,a,s,h,d,r,f;for(i=t.Util.splitWords(i),u=0,m=i.length;m>u;u++)if(l=i[u],h=l+"_idx",d=h+"_len",r=n[h],c){if(a=p&&r?r[p]:n[l]){for(s=a.length-1;s>=0;s--)a[s].action!==c||e&&a[s].context!==e||(f=a.splice(s,1),f[0].action=t.Util.falseFn);e&&r&&0===a.length&&(delete r[p],n[d]--)}}else delete n[l],delete n[h],delete n[d];return this},clearAllEventListeners:function(){return delete this[o],this},fireEvent:function(n,u){if(!this.hasEventListeners(n))return this;var h=t.Util.extend({},u,{type:n,target:this}),a=this[o],i,e,s,r,l;if(a[n])for(i=a[n].slice(),e=0,s=i.length;s>e;e++)i[e].action.call(i[e].context,h);r=a[n+"_idx"];for(l in r)if(i=r[l].slice())for(e=0,s=i.length;s>e;e++)i[e].action.call(i[e].context,h);return this},addOneTimeEventListener:function(e,n,i){if(t.Util.invokeEach(e,this.addOneTimeEventListener,this,n,i))return this;var o=t.bind(function(){this.removeEventListener(e,n,i).removeEventListener(e,o,i)},this);return this.addEventListener(e,n,i).addEventListener(e,o,i)}},t.Mixin.Events.on=t.Mixin.Events.addEventListener,t.Mixin.Events.off=t.Mixin.Events.removeEventListener,t.Mixin.Events.once=t.Mixin.Events.addOneTimeEventListener,t.Mixin.Events.fire=t.Mixin.Events.fireEvent,function(){var s="ActiveXObject"in i,y=s&&!e.addEventListener,o=navigator.userAgent.toLowerCase(),h=-1!==o.indexOf("webkit"),x=-1!==o.indexOf("chrome"),g=-1!==o.indexOf("phantom"),L=-1!==o.indexOf("android"),c=-1!==o.search("android [23]"),P=-1!==o.indexOf("gecko"),a=typeof orientation!=n+"",d=i.navigator&&i.navigator.msPointerEnabled&&i.navigator.msMaxTouchPoints&&!i.PointerEvent,f=i.PointerEvent&&i.navigator.pointerEnabled&&i.navigator.maxTouchPoints||d,v="devicePixelRatio"in i&&i.devicePixelRatio>1||"matchMedia"in i&&i.matchMedia("(min-resolution:144dpi)")&&i.matchMedia("(min-resolution:144dpi)").matches,r=e.documentElement,m=s&&"transition"in r.style,l="WebKitCSSMatrix"in i&&"m11"in new i.WebKitCSSMatrix&&!c,u="MozPerspective"in r.style,p="OTransition"in r.style,w=!i.L_DISABLE_3D&&(m||l||u||p)&&!g,T=!i.L_NO_TOUCH&&!g&&function(){var i="ontouchstart";if(f||i in r)return!0;var t=e.createElement("div"),n=!1;if(!t.setAttribute)return!1;return t.setAttribute(i,"return;"),"function"==typeof t[i]&&(n=!0),t.removeAttribute(i),t=null,n}();t.Browser={ie:s,ielt9:y,webkit:h,gecko:P&&!h&&!i.opera&&!s,android:L,android23:c,chrome:x,ie3d:m,webkit3d:l,gecko3d:u,opera3d:p,any3d:w,mobile:a,mobileWebkit:a&&h,mobileWebkit3d:a&&l,mobileOpera:a&&i.opera,touch:T,msPointer:d,pointer:f,retina:v}}(),t.Point=function(t,e,i){this.x=i?Math.round(t):t,this.y=i?Math.round(e):e},t.Point.prototype={clone:function(){return new t.Point(this.x,this.y)},add:function(e){return this.clone()._add(t.point(e))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(e){return this.clone()._subtract(t.point(e))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},distanceTo:function(e){e=t.point(e);var i=e.x-this.x,n=e.y-this.y;return Math.sqrt(i*i+n*n)},equals:function(e){return e=t.point(e),e.x===this.x&&e.y===this.y},contains:function(e){return e=t.point(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+t.Util.formatNum(this.x)+", "+t.Util.formatNum(this.y)+")"}},t.point=function(e,i,o){if(e instanceof t.Point)return e;if(t.Util.isArray(e))return new t.Point(e[0],e[1]);if(e===n||null===e)return e;return new t.Point(e,i,o)},t.Bounds=function(t,i){if(!t)return;for(var n=i?[t,i]:t,e=0,o=n.length;o>e;e++)this.extend(n[e])},t.Bounds.prototype={extend:function(e){return e=t.point(e),this.min||this.max?(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(e.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(e.y,this.max.y)):(this.min=e.clone(),this.max=e.clone()),this},getCenter:function(e){return new t.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return new t.Point(this.min.x,this.max.y)},getTopRight:function(){return new t.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var i,n;return e="number"==typeof e[0]||e instanceof t.Point?t.point(e):t.bounds(e),e instanceof t.Bounds?(i=e.min,n=e.max):i=n=e,i.x>=this.min.x&&n.x<=this.max.x&&i.y>=this.min.y&&n.y<=this.max.y},intersects:function(e){e=t.bounds(e);var i=this.min,n=this.max,o=e.min,s=e.max,a=s.x>=i.x&&o.x<=n.x,r=s.y>=i.y&&o.y<=n.y;return a&&r},isValid:function(){return!(!this.min||!this.max)}},t.bounds=function(e,i){if(!e||e instanceof t.Bounds)return e;return new t.Bounds(e,i)},t.Transformation=function(t,e,i,n){this._a=t,this._b=e,this._c=i,this._d=n},t.Transformation.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(i,e){return e=e||1,new t.Point((i.x/e-this._b)/this._a,(i.y/e-this._d)/this._c)}},t.DomUtil={get:function(t){return"string"==typeof t?e.getElementById(t):t},getStyle:function(i,n){var t=i.style[n];if(!t&&i.currentStyle&&(t=i.currentStyle[n]),(!t||"auto"===t)&&e.defaultView){var o=e.defaultView.getComputedStyle(i,null);t=o?o[n]:null}return"auto"===t?null:t},getViewportOffset:function(h){var n=0,o=0,i=h,s=e.body,r=e.documentElement,a;do{if(n+=i.offsetTop||0,o+=i.offsetLeft||0,n+=parseInt(t.DomUtil.getStyle(i,"borderTopWidth"),10)||0,o+=parseInt(t.DomUtil.getStyle(i,"borderLeftWidth"),10)||0,a=t.DomUtil.getStyle(i,"position"),i.offsetParent===s&&"absolute"===a)break;if("fixed"===a){n+=s.scrollTop||r.scrollTop||0,o+=s.scrollLeft||r.scrollLeft||0;break}if("relative"===a&&!i.offsetLeft){var u=t.DomUtil.getStyle(i,"width"),c=t.DomUtil.getStyle(i,"max-width"),l=i.getBoundingClientRect();("none"!==u||"none"!==c)&&(o+=l.left+i.clientLeft),n+=l.top+(s.scrollTop||r.scrollTop||0);break}i=i.offsetParent}while(i);i=h;do{if(i===s)break;n-=i.scrollTop||0,o-=i.scrollLeft||0,i=i.parentNode}while(i);return new t.Point(o,n)},documentIsLtr:function(){return t.DomUtil._docIsLtrCached||(t.DomUtil._docIsLtrCached=!0,t.DomUtil._docIsLtr="ltr"===t.DomUtil.getStyle(e.body,"direction")),t.DomUtil._docIsLtr},create:function(n,o,i){var t=e.createElement(n);return t.className=o,i&&i.appendChild(t),t},hasClass:function(e,i){if(e.classList!==n)return e.classList.contains(i);var o=t.DomUtil._getClass(e);return o.length>0&&new RegExp("(^|\\s)"+i+"(\\s|$)").test(o)},addClass:function(e,i){if(e.classList!==n)for(var s=t.Util.splitWords(i),o=0,r=s.length;r>o;o++)e.classList.add(s[o]);else if(!t.DomUtil.hasClass(e,i)){var a=t.DomUtil._getClass(e);t.DomUtil._setClass(e,(a?a+" ":"")+i)}},removeClass:function(e,i){e.classList!==n?e.classList.remove(i):t.DomUtil._setClass(e,t.Util.trim((" "+t.DomUtil._getClass(e)+" ").replace(" "+i+" "," ")))},_setClass:function(t,e){t.className.baseVal===n?t.className=e:t.className.baseVal=e},_getClass:function(t){return t.className.baseVal===n?t.className:t.className.baseVal},setOpacity:function(e,t){if("opacity"in e.style)e.style.opacity=t;else if("filter"in e.style){var i=!1,n="DXImageTransform.Microsoft.Alpha";try{i=e.filters.item(n)}catch(o){if(1===t)return}t=Math.round(100*t),i?(i.Enabled=100!==t,i.Opacity=t):e.style.filter+=" progid:"+n+"(opacity="+t+")"}},testProp:function(i){for(var n=e.documentElement.style,t=0;t<i.length;t++)if(i[t]in n)return i[t];return!1},getTranslateString:function(e){var i=t.Browser.webkit3d,n="translate"+(i?"3d":"")+"(",o=(i?",0":"")+")";return n+e.x+"px,"+e.y+"px"+o},getScaleString:function(e,i){var n=t.DomUtil.getTranslateString(i.add(i.multiplyBy(-1*e))),o=" scale("+e+") ";return n+o},setPosition:function(e,i,n){e._leaflet_pos=i,!n&&t.Browser.any3d?e.style[t.DomUtil.TRANSFORM]=t.DomUtil.getTranslateString(i):(e.style.left=i.x+"px",e.style.top=i.y+"px")},getPosition:function(t){return t._leaflet_pos}},t.DomUtil.TRANSFORM=t.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),t.DomUtil.TRANSITION=t.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),t.DomUtil.TRANSITION_END="webkitTransition"===t.DomUtil.TRANSITION||"OTransition"===t.DomUtil.TRANSITION?t.DomUtil.TRANSITION+"End":"transitionend",function(){if("onselectstart"in e)t.extend(t.DomUtil,{disableTextSelection:function(){t.DomEvent.on(i,"selectstart",t.DomEvent.preventDefault)},enableTextSelection:function(){t.DomEvent.off(i,"selectstart",t.DomEvent.preventDefault)}});else{var n=t.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);t.extend(t.DomUtil,{disableTextSelection:function(){if(n){var t=e.documentElement.style;this._userSelect=t[n],t[n]="none"}},enableTextSelection:function(){n&&(e.documentElement.style[n]=this._userSelect,delete this._userSelect)}})}t.extend(t.DomUtil,{disableImageDrag:function(){t.DomEvent.on(i,"dragstart",t.DomEvent.preventDefault)},enableImageDrag:function(){t.DomEvent.off(i,"dragstart",t.DomEvent.preventDefault)}})}(),t.LatLng=function(t,e,i){if(t=parseFloat(t),e=parseFloat(e),isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=t,this.lng=e,i!==n&&(this.alt=parseFloat(i))},t.extend(t.LatLng,{DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,MAX_MARGIN:1e-9}),t.LatLng.prototype={equals:function(e){if(!e)return!1;e=t.latLng(e);var i=Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng));return i<=t.LatLng.MAX_MARGIN},toString:function(e){return"LatLng("+t.Util.formatNum(this.lat,e)+", "+t.Util.formatNum(this.lng,e)+")"},distanceTo:function(e){e=t.latLng(e);var a=6378137,i=t.LatLng.DEG_TO_RAD,r=(e.lat-this.lat)*i,h=(e.lng-this.lng)*i,l=this.lat*i,u=e.lat*i,n=Math.sin(r/2),o=Math.sin(h/2),s=n*n+o*o*Math.cos(l)*Math.cos(u);return 2*a*Math.atan2(Math.sqrt(s),Math.sqrt(1-s))},wrap:function(i,e){var n=this.lng;return i=i||-180,e=e||180,n=(n+e)%(e-i)+(i>n||n===e?e:i),new t.LatLng(this.lat,n)}},t.latLng=function(e,i){if(e instanceof t.LatLng)return e;if(t.Util.isArray(e))return"number"==typeof e[0]||"string"==typeof e[0]?new t.LatLng(e[0],e[1],e[2]):null;if(e===n||null===e)return e;if("object"==typeof e&&"lat"in e)return new t.LatLng(e.lat,"lng"in e?e.lng:e.lon);if(i===n)return null;return new t.LatLng(e,i)},t.LatLngBounds=function(t,i){if(!t)return;for(var n=i?[t,i]:t,e=0,o=n.length;o>e;e++)this.extend(n[e])},t.LatLngBounds.prototype={extend:function(e){if(!e)return this;var i=t.latLng(e);return e=null!==i?i:t.latLngBounds(e),e instanceof t.LatLng?this._southWest||this._northEast?(this._southWest.lat=Math.min(e.lat,this._southWest.lat),this._southWest.lng=Math.min(e.lng,this._southWest.lng),this._northEast.lat=Math.max(e.lat,this._northEast.lat),this._northEast.lng=Math.max(e.lng,this._northEast.lng)):(this._southWest=new t.LatLng(e.lat,e.lng),this._northEast=new t.LatLng(e.lat,e.lng)):e instanceof t.LatLngBounds&&(this.extend(e._southWest),this.extend(e._northEast)),this},pad:function(n){var e=this._southWest,i=this._northEast,o=Math.abs(e.lat-i.lat)*n,s=Math.abs(e.lng-i.lng)*n;return new t.LatLngBounds(new t.LatLng(e.lat-o,e.lng-s),new t.LatLng(i.lat+o,i.lng+s))},getCenter:function(){return new t.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new t.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new t.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){e="number"==typeof e[0]||e instanceof t.LatLng?t.latLng(e):t.latLngBounds(e);var o=this._southWest,s=this._northEast,i,n;return e instanceof t.LatLngBounds?(i=e.getSouthWest(),n=e.getNorthEast()):i=n=e,i.lat>=o.lat&&n.lat<=s.lat&&i.lng>=o.lng&&n.lng<=s.lng},intersects:function(e){e=t.latLngBounds(e);var i=this._southWest,n=this._northEast,o=e.getSouthWest(),s=e.getNorthEast(),a=s.lat>=i.lat&&o.lat<=n.lat,r=s.lng>=i.lng&&o.lng<=n.lng;return a&&r},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e){if(!e)return!1;return e=t.latLngBounds(e),this._southWest.equals(e.getSouthWest())&&this._northEast.equals(e.getNorthEast())},isValid:function(){return!(!this._southWest||!this._northEast)}},t.latLngBounds=function(e,i){if(!e||e instanceof t.LatLngBounds)return e;return new t.LatLngBounds(e,i)},t.Projection={},t.Projection.SphericalMercator={MAX_LATITUDE:85.0511287798,project:function(i){var n=t.LatLng.DEG_TO_RAD,o=this.MAX_LATITUDE,s=Math.max(Math.min(o,i.lat),-o),a=i.lng*n,e=s*n;return e=Math.log(Math.tan(Math.PI/4+e/2)),new t.Point(a,e)},unproject:function(e){var i=t.LatLng.RAD_TO_DEG,n=e.x*i,o=(2*Math.atan(Math.exp(e.y))-Math.PI/2)*i;return new t.LatLng(o,n)}},t.Projection.LonLat={project:function(e){return new t.Point(e.lng,e.lat)},unproject:function(e){return new t.LatLng(e.y,e.x)}},t.CRS={latLngToPoint:function(t,e){var i=this.projection.project(t),n=this.scale(e);return this.transformation._transform(i,n)},pointToLatLng:function(t,e){var i=this.scale(e),n=this.transformation.untransform(t,i);return this.projection.unproject(n)},project:function(t){return this.projection.project(t)},scale:function(t){return 256*Math.pow(2,t)},getSize:function(i){var e=this.scale(i);return t.point(e,e)}},t.CRS.Simple=t.extend({},t.CRS,{projection:t.Projection.LonLat,transformation:new t.Transformation(1,0,-1,0),scale:function(t){return Math.pow(2,t)}}),t.CRS.EPSG3857=t.extend({},t.CRS,{code:"EPSG:3857",projection:t.Projection.SphericalMercator,transformation:new t.Transformation(.5/Math.PI,.5,-.5/Math.PI,.5),project:function(t){var e=this.projection.project(t),i=6378137;return e.multiplyBy(i)}}),t.CRS.EPSG900913=t.extend({},t.CRS.EPSG3857,{code:"EPSG:900913"}),t.CRS.EPSG4326=t.extend({},t.CRS,{code:"EPSG:4326",projection:t.Projection.LonLat,transformation:new t.Transformation(1/360,.5,-1/360,.5)}),t.Map=t.Class.extend({includes:t.Mixin.Events,options:{crs:t.CRS.EPSG3857,fadeAnimation:t.DomUtil.TRANSITION&&!t.Browser.android23,trackResize:!0,markerZoomAnimation:t.DomUtil.TRANSITION&&t.Browser.any3d},initialize:function(i,e){e=t.setOptions(this,e),this._initContainer(i),this._initLayout(),this._onResize=t.bind(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),e.center&&e.zoom!==n&&this.setView(t.latLng(e.center),e.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._tileLayersNum=0,this.callInitHooks(),this._addLayers(e.layers)},setView:function(i,e){return e=e===n?this.getZoom():e,this._resetView(t.latLng(i),this._limitZoom(e)),this},setZoom:function(t,e){if(!this._loaded)return this._zoom=this._limitZoom(t),this;return this.setView(this.getCenter(),t,{zoom:e})},zoomIn:function(t,e){return this.setZoom(this._zoom+(t||1),e)},zoomOut:function(t,e){return this.setZoom(this._zoom-(t||1),e)},setZoomAround:function(e,i,o){var s=this.getZoomScale(i),n=this.getSize().divideBy(2),a=e instanceof t.Point?e:this.latLngToContainerPoint(e),r=a.subtract(n).multiplyBy(1-1/s),h=this.containerPointToLatLng(n.add(r));return this.setView(h,i,{zoom:o})},fitBounds:function(i,e){e=e||{},i=i.getBounds?i.getBounds():t.latLngBounds(i);var o=t.point(e.paddingTopLeft||e.padding||[0,0]),s=t.point(e.paddingBottomRight||e.padding||[0,0]),n=this.getBoundsZoom(i,!1,o.add(s)),a=s.subtract(o).divideBy(2),r=this.project(i.getSouthWest(),n),h=this.project(i.getNorthEast(),n),l=this.unproject(r.add(h).divideBy(2).add(a),n);return n=e&&e.maxZoom?Math.min(e.maxZoom,n):n,this.setView(l,n,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(e){return this.fire("movestart"),this._rawPanBy(t.point(e)),this.fire("move"),this.fire("moveend")},setMaxBounds:function(e){if(e=t.latLngBounds(e),this.options.maxBounds=e,!e)return this.off("moveend",this._panInsideMaxBounds,this);return this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds,this)},panInsideBounds:function(i,n){var t=this.getCenter(),e=this._limitCenter(t,this._zoom,i);if(t.equals(e))return this;return this.panTo(e,n)},addLayer:function(e){var i=t.stamp(e);if(this._layers[i])return this;return this._layers[i]=e,!e.options||isNaN(e.options.maxZoom)&&isNaN(e.options.minZoom)||(this._zoomBoundLayers[i]=e,this._updateZoomLevels()),this.options.zoomAnimation&&t.TileLayer&&e instanceof t.TileLayer&&(this._tileLayersNum++,this._tileLayersToLoad++,e.on("load",this._onTileLayerLoad,this)),this._loaded&&this._layerAdd(e),this},removeLayer:function(e){var i=t.stamp(e);if(!this._layers[i])return this;return this._loaded&&e.onRemove(this),delete this._layers[i],this._loaded&&this.fire("layerremove",{layer:e}),this._zoomBoundLayers[i]&&(delete this._zoomBoundLayers[i],this._updateZoomLevels()),this.options.zoomAnimation&&t.TileLayer&&e instanceof t.TileLayer&&(this._tileLayersNum--,this._tileLayersToLoad--,e.off("load",this._onTileLayerLoad,this)),this},hasLayer:function(e){if(!e)return!1;return t.stamp(e)in this._layers},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},invalidateSize:function(e){if(!this._loaded)return this;e=t.extend({animate:!1,pan:!0},e===!0?{animate:!0}:e);var n=this.getSize();this._sizeChanged=!0,this._initialCenter=null;var o=this.getSize(),s=n.divideBy(2).round(),a=o.divideBy(2).round(),i=s.subtract(a);if(!i.x&&!i.y)return this;return e.animate&&e.pan?this.panBy(i):(e.pan&&this._rawPanBy(i),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(t.bind(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:n,newSize:o})},addHandler:function(t,e){if(!e)return this;var i=this[t]=new e(this);return this._handlers.push(i),this.options[t]&&i.enable(),this},remove:function(){this._loaded&&this.fire("unload"),this._initEvents("off");try{delete this._container._leaflet}catch(t){this._container._leaflet=n}return this._clearPanes(),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this},getCenter:function(){if(this._checkIfLoaded(),this._initialCenter&&!this._moved())return this._initialCenter;return this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds(),i=this.unproject(e.getBottomLeft()),n=this.unproject(e.getTopRight());return new t.LatLngBounds(i,n)},getMinZoom:function(){return this.options.minZoom===n?this._layersMinZoom===n?0:this._layersMinZoom:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===n?this._layersMaxZoom===n?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,n,s){i=t.latLngBounds(i);var e=this.getMinZoom()-(n?1:0),h=this.getMaxZoom(),a=this.getSize(),l=i.getNorthWest(),u=i.getSouthEast(),r=!0,o;s=t.point(s||[0,0]);do e++,o=this.project(u,e).subtract(this.project(l,e)).add(s),r=n?o.x<a.x||o.y<a.y:a.contains(o);while(r&&h>=e);if(r&&n)return null;return n?e:e-1},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new t.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(){var e=this._getTopLeftPoint();return new t.Bounds(e,e.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._initialTopLeftPoint},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e){var t=this.options.crs;return t.scale(e)/t.scale(this._zoom)},getScaleZoom:function(t){return this._zoom+Math.log(t)/Math.LN2},project:function(i,e){return e=e===n?this._zoom:e,this.options.crs.latLngToPoint(t.latLng(i),e)},unproject:function(i,e){return e=e===n?this._zoom:e,this.options.crs.pointToLatLng(t.point(i),e)},layerPointToLatLng:function(e){var i=t.point(e).add(this.getPixelOrigin());return this.unproject(i)},latLngToLayerPoint:function(e){var i=this.project(t.latLng(e))._round();return i._subtract(this.getPixelOrigin())},containerPointToLayerPoint:function(e){return t.point(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return t.point(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var i=this.containerPointToLayerPoint(t.point(e));return this.layerPointToLatLng(i)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(t.latLng(e)))},mouseEventToContainerPoint:function(e){return t.DomEvent.getMousePosition(e,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(i){var e=this._container=t.DomUtil.get(i);if(!e)throw new Error("Map container not found.");if(e._leaflet)throw new Error("Map container is already initialized.");e._leaflet=!0},_initLayout:function(){var e=this._container;t.DomUtil.addClass(e,"leaflet-container"+(t.Browser.touch?" leaflet-touch":"")+(t.Browser.retina?" leaflet-retina":"")+(t.Browser.ielt9?" leaflet-oldie":"")+(this.options.fadeAnimation?" leaflet-fade-anim":""));var i=t.DomUtil.getStyle(e,"position");"absolute"!==i&&"relative"!==i&&"fixed"!==i&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._mapPane=e.mapPane=this._createPane("leaflet-map-pane",this._container),this._tilePane=e.tilePane=this._createPane("leaflet-tile-pane",this._mapPane),e.objectsPane=this._createPane("leaflet-objects-pane",this._mapPane),e.shadowPane=this._createPane("leaflet-shadow-pane"),e.overlayPane=this._createPane("leaflet-overlay-pane"),e.markerPane=this._createPane("leaflet-marker-pane"),e.popupPane=this._createPane("leaflet-popup-pane");var i=" leaflet-zoom-hide";this.options.markerZoomAnimation||(t.DomUtil.addClass(e.markerPane,i),t.DomUtil.addClass(e.shadowPane,i),t.DomUtil.addClass(e.popupPane,i))},_createPane:function(e,i){return t.DomUtil.create("div",e,i||this._panes.objectsPane)},_clearPanes:function(){this._container.removeChild(this._mapPane)},_addLayers:function(e){e=e?t.Util.isArray(e)?e:[e]:[];for(var i=0,n=e.length;n>i;i++)this.addLayer(e[i])},_resetView:function(i,n,e,o){var s=this._zoom!==n;o||(this.fire("movestart"),s&&this.fire("zoomstart")),this._zoom=n,this._initialCenter=i,this._initialTopLeftPoint=this._getNewTopLeftPoint(i),e?this._initialTopLeftPoint._add(this._getMapPanePos()):t.DomUtil.setPosition(this._mapPane,new t.Point(0,0)),this._tileLayersToLoad=this._tileLayersNum;var a=!this._loaded;this._loaded=!0,this.fire("viewreset",{hard:!e}),a&&(this.fire("load"),this.eachLayer(this._layerAdd,this)),this.fire("move"),(s||o)&&this.fire("zoomend"),this.fire("moveend",{hard:!e})},_rawPanBy:function(e){t.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_updateZoomLevels:function(){var e,i=1/0,o=-(1/0),s=this._getZoomSpan();for(e in this._zoomBoundLayers){var t=this._zoomBoundLayers[e];isNaN(t.options.minZoom)||(i=Math.min(i,t.options.minZoom)),isNaN(t.options.maxZoom)||(o=Math.max(o,t.options.maxZoom))}e===n?this._layersMaxZoom=this._layersMinZoom=n:(this._layersMaxZoom=o,this._layersMinZoom=i),s!==this._getZoomSpan()&&this.fire("zoomlevelschange")},_panInsideMaxBounds:function(){this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){if(!t.DomEvent)return;e=e||"on",t.DomEvent[e](this._container,"click",this._onMouseClick,this);var o=["dblclick","mousedown","mouseup","mouseenter","mouseleave","mousemove","contextmenu"],n,s;for(n=0,s=o.length;s>n;n++)t.DomEvent[e](this._container,o[n],this._fireMouseEvent,this);this.options.trackResize&&t.DomEvent[e](i,"resize",this._onResize,this)},_onResize:function(){t.Util.cancelAnimFrame(this._resizeRequest),this._resizeRequest=t.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:!0})},this,!1,this._container)},_onMouseClick:function(e){if(!this._loaded||!e._simulated&&(this.dragging&&this.dragging.moved()||this.boxZoom&&this.boxZoom.moved())||t.DomEvent._skipped(e))return;this.fire("preclick"),this._fireMouseEvent(e)},_fireMouseEvent:function(i){if(!this._loaded||t.DomEvent._skipped(i))return;var e=i.type;if(e="mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,!this.hasEventListeners(e))return;"contextmenu"===e&&t.DomEvent.preventDefault(i);var n=this.mouseEventToContainerPoint(i),o=this.containerPointToLayerPoint(n),s=this.layerPointToLatLng(o);this.fire(e,{latlng:s,layerPoint:o,containerPoint:n,originalEvent:i})},_onTileLayerLoad:function(){this._tileLayersToLoad--,this._tileLayersNum&&!this._tileLayersToLoad&&this.fire("tilelayersload")},_clearHandlers:function(){for(var t=0,e=this._handlers.length;e>t;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,this):this.on("load",t,e),this},_layerAdd:function(t){t.onAdd(this),this.fire("layeradd",{layer:t})},_getMapPanePos:function(){return t.DomUtil.getPosition(this._mapPane)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(){return this.getPixelOrigin().subtract(this._getMapPanePos())},_getNewTopLeftPoint:function(t,e){var i=this.getSize()._divideBy(2);return this.project(t,e)._subtract(i)._round()},_latLngToNewLayerPoint:function(e,t,i){var n=this._getNewTopLeftPoint(i,t).add(this._getMapPanePos());return this.project(e,t)._subtract(n)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(n,e,o){if(!o)return n;var i=this.project(n,e),s=this.getSize().divideBy(2),a=new t.Bounds(i.subtract(s),i.add(s)),r=this._getBoundsOffset(a,o,e);return this.unproject(i.add(r),e)},_limitOffset:function(e,i){if(!i)return e;var n=this.getPixelBounds(),o=new t.Bounds(n.min.add(e),n.max.add(e));return e.add(this._getBoundsOffset(o,i))},_getBoundsOffset:function(e,i,n){var o=this.project(i.getNorthWest(),n).subtract(e.min),s=this.project(i.getSouthEast(),n).subtract(e.max),a=this._rebound(o.x,-s.x),r=this._rebound(o.y,-s.y);return new t.Point(a,r)},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),i=this.getMaxZoom();return Math.max(e,Math.min(i,t))}}),t.map=function(e,i){return new t.Map(e,i)},t.Projection.Mercator={MAX_LATITUDE:85.0840591556,R_MINOR:6356752.314245179,R_MAJOR:6378137,project:function(o){var a=t.LatLng.DEG_TO_RAD,s=this.MAX_LATITUDE,u=Math.max(Math.min(s,o.lat),-s),n=this.R_MAJOR,l=this.R_MINOR,d=o.lng*a*n,e=u*a,r=l/n,h=Math.sqrt(1-r*r),i=h*Math.sin(e);
i=Math.pow((1-i)/(1+i),.5*h);var c=Math.tan(.5*(.5*Math.PI-e))/i;return e=-n*Math.log(c),new t.Point(d,e)},unproject:function(s){for(var h=t.LatLng.RAD_TO_DEG,n=this.R_MAJOR,m=this.R_MINOR,u=s.x*h/n,a=m/n,r=Math.sqrt(1-a*a),l=Math.exp(-s.y/n),e=Math.PI/2-2*Math.atan(l),c=15,d=1e-7,p=c,o=.1,i;Math.abs(o)>d&&--p>0;)i=r*Math.sin(e),o=Math.PI/2-2*Math.atan(l*Math.pow((1-i)/(1+i),.5*r))-e,e+=o;return new t.LatLng(e*h,u)}},t.CRS.EPSG3395=t.extend({},t.CRS,{code:"EPSG:3395",projection:t.Projection.Mercator,transformation:function(){var i=t.Projection.Mercator,n=i.R_MAJOR,e=.5/(Math.PI*n);return new t.Transformation(e,.5,-e,.5)}()}),t.TileLayer=t.Class.extend({includes:t.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",zoomOffset:0,opacity:1,unloadInvisibleTiles:t.Browser.mobile,updateWhenIdle:t.Browser.mobile},initialize:function(n,e){e=t.setOptions(this,e),e.detectRetina&&t.Browser.retina&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomOffset++,e.minZoom>0&&e.minZoom--,this.options.maxZoom--),e.bounds&&(e.bounds=t.latLngBounds(e.bounds)),this._url=n;var i=this.options.subdomains;"string"==typeof i&&(this.options.subdomains=i.split(""))},onAdd:function(e){this._map=e,this._animated=e._zoomAnimated,this._initContainer(),e.on({viewreset:this._reset,moveend:this._update},this),this._animated&&e.on({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||(this._limitedUpdate=t.Util.limitExecByInterval(this._update,150,this),e.on("move",this._limitedUpdate,this)),this._reset(),this._update()},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){this._container.parentNode.removeChild(this._container),t.off({viewreset:this._reset,moveend:this._update},this),this._animated&&t.off({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||t.off("move",this._limitedUpdate,this),this._container=null,this._map=null},bringToFront:function(){var t=this._map._panes.tilePane;return this._container&&(t.appendChild(this._container),this._setAutoZIndex(t,Math.max)),this},bringToBack:function(){var t=this._map._panes.tilePane;return this._container&&(t.insertBefore(this._container,t.firstChild),this._setAutoZIndex(t,Math.min)),this},getAttribution:function(){return this.options.attribution},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},setUrl:function(t,e){return this._url=t,e||this.redraw(),this},redraw:function(){return this._map&&(this._reset({hard:!0}),this._update()),this},_updateZIndex:function(){this._container&&this.options.zIndex!==n&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a,i){var n=a.children,e=-i(1/0,-(1/0)),o,t,s;for(t=0,s=n.length;s>t;t++)n[t]!==this._container&&(o=parseInt(n[t].style.zIndex,10),isNaN(o)||(e=i(e,o)));this.options.zIndex=this._container.style.zIndex=(isFinite(e)?e:0)+i(1,-1)},_updateOpacity:function(){var e,i=this._tiles;if(t.Browser.ielt9)for(e in i)t.DomUtil.setOpacity(i[e],this.options.opacity);else t.DomUtil.setOpacity(this._container,this.options.opacity)},_initContainer:function(){var i=this._map._panes.tilePane;if(!this._container){if(this._container=t.DomUtil.create("div","leaflet-layer"),this._updateZIndex(),this._animated){var e="leaflet-tile-container";this._bgBuffer=t.DomUtil.create("div",e,this._container),this._tileContainer=t.DomUtil.create("div",e,this._container)}else this._tileContainer=this._container;i.appendChild(this._container),this.options.opacity<1&&this._updateOpacity()}},_reset:function(t){for(var e in this._tiles)this.fire("tileunload",{tile:this._tiles[e]});this._tiles={},this._tilesToLoad=0,this.options.reuseTiles&&(this._unusedTiles=[]),this._tileContainer.innerHTML="",this._animated&&t&&t.hard&&this._clearBgBuffer(),this._initContainer()},_getTileSize:function(){var t=this._map,n=t.getZoom()+this.options.zoomOffset,e=this.options.maxNativeZoom,i=this.options.tileSize;return e&&n>e&&(i=Math.round(t.getZoomScale(n)/t.getZoomScale(e)*i)),i},_update:function(){if(!this._map)return;var e=this._map,i=e.getPixelBounds(),n=e.getZoom(),o=this._getTileSize();if(n>this.options.maxZoom||n<this.options.minZoom)return;var s=t.bounds(i.min.divideBy(o)._floor(),i.max.divideBy(o)._floor());this._addTilesFromCenterOut(s),(this.options.unloadInvisibleTiles||this.options.reuseTiles)&&this._removeOtherTiles(s)},_addTilesFromCenterOut:function(n){var o=[],h=n.getCenter(),s,i,a;for(s=n.min.y;s<=n.max.y;s++)for(i=n.min.x;i<=n.max.x;i++)a=new t.Point(i,s),this._tileShouldBeLoaded(a)&&o.push(a);var r=o.length;if(0===r)return;o.sort(function(t,e){return t.distanceTo(h)-e.distanceTo(h)});var l=e.createDocumentFragment();for(this._tilesToLoad||this.fire("loading"),this._tilesToLoad+=r,i=0;r>i;i++)this._addTile(o[i],l);this._tileContainer.appendChild(l)},_tileShouldBeLoaded:function(t){if(t.x+":"+t.y in this._tiles)return!1;var e=this.options;if(!e.continuousWorld){var s=this._getWrapTileNum();if(e.noWrap&&(t.x<0||t.x>=s.x)||t.y<0||t.y>=s.y)return!1}if(e.bounds){var i=e.tileSize,a=t.multiplyBy(i),r=a.add([i,i]),n=this._map.unproject(a),o=this._map.unproject(r);if(e.continuousWorld||e.noWrap||(n=n.wrap(),o=o.wrap()),!e.bounds.intersects([n,o]))return!1}return!0},_removeOtherTiles:function(t){var e,i,n,o;for(o in this._tiles)e=o.split(":"),i=parseInt(e[0],10),n=parseInt(e[1],10),(i<t.min.x||i>t.max.x||n<t.min.y||n>t.max.y)&&this._removeTile(o)},_removeTile:function(i){var e=this._tiles[i];this.fire("tileunload",{tile:e,url:e.src}),this.options.reuseTiles?(t.DomUtil.removeClass(e,"leaflet-tile-loaded"),this._unusedTiles.push(e)):e.parentNode===this._tileContainer&&this._tileContainer.removeChild(e),t.Browser.android||(e.onload=null,e.src=t.Util.emptyImageUrl),delete this._tiles[i]},_addTile:function(i,n){var o=this._getTilePos(i),e=this._getTile();t.DomUtil.setPosition(e,o,t.Browser.chrome),this._tiles[i.x+":"+i.y]=e,this._loadTile(e,i),e.parentNode!==this._tileContainer&&n.appendChild(e)},_getZoomForUrl:function(){var t=this.options,e=this._map.getZoom();return t.zoomReverse&&(e=t.maxZoom-e),e+=t.zoomOffset,t.maxNativeZoom?Math.min(e,t.maxNativeZoom):e},_getTilePos:function(t){var e=this._map.getPixelOrigin(),i=this._getTileSize();return t.multiplyBy(i).subtract(e)},getTileUrl:function(e){return t.Util.template(this._url,t.extend({s:this._getSubdomain(e),z:e.z,x:e.x,y:e.y},this.options))},_getWrapTileNum:function(){var t=this._map.options.crs,e=t.getSize(this._map.getZoom());return e.divideBy(this._getTileSize())._floor()},_adjustTilePoint:function(t){var e=this._getWrapTileNum();this.options.continuousWorld||this.options.noWrap||(t.x=(t.x%e.x+e.x)%e.x),this.options.tms&&(t.y=e.y-t.y-1),t.z=this._getZoomForUrl()},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_getTile:function(){if(this.options.reuseTiles&&this._unusedTiles.length>0){var t=this._unusedTiles.pop();return this._resetTile(t),t}return this._createTile()},_resetTile:function(){},_createTile:function(){var e=t.DomUtil.create("img","leaflet-tile");return e.style.width=e.style.height=this._getTileSize()+"px",e.galleryimg="no",e.onselectstart=e.onmousemove=t.Util.falseFn,t.Browser.ielt9&&this.options.opacity!==n&&t.DomUtil.setOpacity(e,this.options.opacity),t.Browser.mobileWebkit3d&&(e.style.WebkitBackfaceVisibility="hidden"),e},_loadTile:function(t,e){t._layer=this,t.onload=this._tileOnLoad,t.onerror=this._tileOnError,this._adjustTilePoint(e),t.src=this.getTileUrl(e),this.fire("tileloadstart",{tile:t,url:t.src})},_tileLoaded:function(){this._tilesToLoad--,this._animated&&t.DomUtil.addClass(this._tileContainer,"leaflet-zoom-animated"),this._tilesToLoad||(this.fire("load"),this._animated&&(clearTimeout(this._clearBgBufferTimer),this._clearBgBufferTimer=setTimeout(t.bind(this._clearBgBuffer,this),500)))},_tileOnLoad:function(){var e=this._layer;this.src!==t.Util.emptyImageUrl&&(t.DomUtil.addClass(this,"leaflet-tile-loaded"),e.fire("tileload",{tile:this,url:this.src})),e._tileLoaded()},_tileOnError:function(){var t=this._layer;t.fire("tileerror",{tile:this,url:this.src});var e=t.options.errorTileUrl;e&&(this.src=e),t._tileLoaded()}}),t.tileLayer=function(e,i){return new t.TileLayer(e,i)},t.TileLayer.WMS=t.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",version:"1.1.1",layers:"",styles:"",format:"image/jpeg",transparent:!1},initialize:function(s,i){this._url=s;var e=t.extend({},this.defaultWmsParams),o=i.tileSize||this.options.tileSize;i.detectRetina&&t.Browser.retina?e.width=e.height=2*o:e.width=e.height=o;for(var n in i)this.options.hasOwnProperty(n)||"crs"===n||(e[n]=i[n]);this.wmsParams=e,t.setOptions(this,i)},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var i=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[i]=this._crs.code,t.TileLayer.prototype.onAdd.call(this,e)},getTileUrl:function(e){var s=this._map,o=this.options.tileSize,a=e.multiplyBy(o),h=a.add([o,o]),i=this._crs.project(s.unproject(a,e.z)),n=this._crs.project(s.unproject(h,e.z)),l=this._wmsVersion>=1.3&&this._crs===t.CRS.EPSG4326?[n.y,i.x,i.y,n.x].join(","):[i.x,n.y,n.x,i.y].join(","),r=t.Util.template(this._url,{s:this._getSubdomain(e)});return r+t.Util.getParamString(this.wmsParams,r,!0)+"&BBOX="+l},setParams:function(e,i){return t.extend(this.wmsParams,e),i||this.redraw(),this}}),t.tileLayer.wms=function(e,i){return new t.TileLayer.WMS(e,i)},t.TileLayer.Canvas=t.TileLayer.extend({options:{async:!1},initialize:function(e){t.setOptions(this,e)},redraw:function(){this._map&&(this._reset({hard:!0}),this._update());for(var t in this._tiles)this._redrawTile(this._tiles[t]);return this},_redrawTile:function(t){this.drawTile(t,t._tilePoint,this._map._zoom)},_createTile:function(){var e=t.DomUtil.create("canvas","leaflet-tile");return e.width=e.height=this.options.tileSize,e.onselectstart=e.onmousemove=t.Util.falseFn,e},_loadTile:function(t,e){t._layer=this,t._tilePoint=e,this._redrawTile(t),this.options.async||this.tileDrawn(t)},drawTile:function(){},tileDrawn:function(t){this._tileOnLoad.call(t)}}),t.tileLayer.canvas=function(e){return new t.TileLayer.Canvas(e)},t.ImageOverlay=t.Class.extend({includes:t.Mixin.Events,options:{opacity:1},initialize:function(e,i,n){this._url=e,this._bounds=t.latLngBounds(i),t.setOptions(this,n)},onAdd:function(e){this._map=e,this._image||this._initImage(),e._panes.overlayPane.appendChild(this._image),e.on("viewreset",this._reset,this),e.options.zoomAnimation&&t.Browser.any3d&&e.on("zoomanim",this._animateZoom,this),this._reset()},onRemove:function(t){t.getPanes().overlayPane.removeChild(this._image),t.off("viewreset",this._reset,this),t.options.zoomAnimation&&t.off("zoomanim",this._animateZoom,this)},addTo:function(t){return t.addLayer(this),this},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},bringToFront:function(){return this._image&&this._map._panes.overlayPane.appendChild(this._image),this},bringToBack:function(){var t=this._map._panes.overlayPane;return this._image&&t.insertBefore(this._image,t.firstChild),this},setUrl:function(t){this._url=t,this._image.src=this._url},getAttribution:function(){return this.options.attribution},_initImage:function(){this._image=t.DomUtil.create("img","leaflet-image-layer"),this._map.options.zoomAnimation&&t.Browser.any3d?t.DomUtil.addClass(this._image,"leaflet-zoom-animated"):t.DomUtil.addClass(this._image,"leaflet-zoom-hide"),this._updateOpacity(),t.extend(this._image,{galleryimg:"no",onselectstart:t.Util.falseFn,onmousemove:t.Util.falseFn,onload:t.bind(this._onImageLoad,this),src:this._url})},_animateZoom:function(e){var i=this._map,s=this._image,n=i.getZoomScale(e.zoom),a=this._bounds.getNorthWest(),r=this._bounds.getSouthEast(),o=i._latLngToNewLayerPoint(a,e.zoom,e.center),h=i._latLngToNewLayerPoint(r,e.zoom,e.center)._subtract(o),l=o._add(h._multiplyBy(.5*(1-1/n)));s.style[t.DomUtil.TRANSFORM]=t.DomUtil.getTranslateString(l)+" scale("+n+") "},_reset:function(){var e=this._image,i=this._map.latLngToLayerPoint(this._bounds.getNorthWest()),n=this._map.latLngToLayerPoint(this._bounds.getSouthEast())._subtract(i);t.DomUtil.setPosition(e,i),e.style.width=n.x+"px",e.style.height=n.y+"px"},_onImageLoad:function(){this.fire("load")},_updateOpacity:function(){t.DomUtil.setOpacity(this._image,this.options.opacity)}}),t.imageOverlay=function(e,i,n){return new t.ImageOverlay(e,i,n)},t.Icon=t.Class.extend({options:{className:""},initialize:function(e){t.setOptions(this,e)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var i=this._getIconUrl(t);if(!i){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var n;return n=e&&"IMG"===e.tagName?this._createImg(i,e):this._createImg(i),this._setIconStyles(n,t),n},_setIconStyles:function(i,s){var n=this.options,o=t.point(n[s+"Size"]),e;e="shadow"===s?t.point(n.shadowAnchor||n.iconAnchor):t.point(n.iconAnchor),!e&&o&&(e=o.divideBy(2,!0)),i.className="leaflet-marker-"+s+" "+n.className,e&&(i.style.marginLeft=-e.x+"px",i.style.marginTop=-e.y+"px"),o&&(i.style.width=o.x+"px",i.style.height=o.y+"px")},_createImg:function(i,t){return t=t||e.createElement("img"),t.src=i,t},_getIconUrl:function(e){if(t.Browser.retina&&this.options[e+"RetinaUrl"])return this.options[e+"RetinaUrl"];return this.options[e+"Url"]}}),t.icon=function(e){return new t.Icon(e)},t.Icon.Default=t.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]},_getIconUrl:function(e){var i=e+"Url";if(this.options[i])return this.options[i];t.Browser.retina&&"icon"===e&&(e+="-2x");var n=t.Icon.Default.imagePath;if(!n)throw new Error("Couldn't autodetect L.Icon.Default.imagePath, set it manually.");return n+"/marker-"+e+".png"}}),t.Icon.Default.imagePath=function(){var o=e.getElementsByTagName("script"),s=/[\/^]leaflet[\-\._]?([\w\-\._]*)\.js\??/,t,a,i,r,n;for(t=0,a=o.length;a>t;t++)if(i=o[t].src,r=i.match(s))return n=i.split(s)[0],(n?n+"/":"")+"images"}(),t.Marker=t.Class.extend({includes:t.Mixin.Events,options:{icon:new t.Icon.Default,title:"",alt:"",clickable:!0,draggable:!1,keyboard:!0,zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250},initialize:function(e,i){t.setOptions(this,i),this._latlng=t.latLng(e)},onAdd:function(t){this._map=t,t.on("viewreset",this.update,this),this._initIcon(),this.update(),this.fire("add"),t.options.zoomAnimation&&t.options.markerZoomAnimation&&t.on("zoomanim",this._animateZoom,this)},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){this.dragging&&this.dragging.disable(),this._removeIcon(),this._removeShadow(),this.fire("remove"),t.off({viewreset:this.update,zoomanim:this._animateZoom},this),this._map=null},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=t.latLng(e),this.update(),this.fire("move",{latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update(),this},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup),this},update:function(){if(this._icon){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var e=this.options,o=this._map,l=o.options.zoomAnimation&&o.options.markerZoomAnimation,s=l?"leaflet-zoom-animated":"leaflet-zoom-hide",i=e.icon.createIcon(this._icon),a=!1;i!==this._icon&&(this._icon&&this._removeIcon(),a=!0,e.title&&(i.title=e.title),e.alt&&(i.alt=e.alt)),t.DomUtil.addClass(i,s),e.keyboard&&(i.tabIndex="0"),this._icon=i,this._initInteraction(),e.riseOnHover&&t.DomEvent.on(i,"mouseover",this._bringToFront,this).on(i,"mouseout",this._resetZIndex,this);var n=e.icon.createShadow(this._shadow),r=!1;n!==this._shadow&&(this._removeShadow(),r=!0),n&&t.DomUtil.addClass(n,s),this._shadow=n,e.opacity<1&&this._updateOpacity();var h=this._map._panes;a&&h.markerPane.appendChild(this._icon),n&&r&&h.shadowPane.appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&t.DomEvent.off(this._icon,"mouseover",this._bringToFront).off(this._icon,"mouseout",this._resetZIndex),this._map._panes.markerPane.removeChild(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&this._map._panes.shadowPane.removeChild(this._shadow),this._shadow=null},_setPos:function(e){t.DomUtil.setPosition(this._icon,e),this._shadow&&t.DomUtil.setPosition(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(!this.options.clickable)return;var e=this._icon,n=["dblclick","mousedown","mouseover","mouseout","contextmenu"];t.DomUtil.addClass(e,"leaflet-clickable"),t.DomEvent.on(e,"click",this._onMouseClick,this),t.DomEvent.on(e,"keypress",this._onKeyPress,this);for(var i=0;i<n.length;i++)t.DomEvent.on(e,n[i],this._fireMouseEvent,this);t.Handler.MarkerDrag&&(this.dragging=new t.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())},_onMouseClick:function(e){var i=this.dragging&&this.dragging.moved();if((this.hasEventListeners(e.type)||i)&&t.DomEvent.stopPropagation(e),i)return;if((!this.dragging||!this.dragging._enabled)&&this._map.dragging&&this._map.dragging.moved())return;this.fire(e.type,{originalEvent:e,latlng:this._latlng})},_onKeyPress:function(t){13===t.keyCode&&this.fire("click",{originalEvent:t,latlng:this._latlng})},_fireMouseEvent:function(e){this.fire(e.type,{originalEvent:e,latlng:this._latlng}),"contextmenu"===e.type&&this.hasEventListeners(e.type)&&t.DomEvent.preventDefault(e),"mousedown"!==e.type?t.DomEvent.stopPropagation(e):t.DomEvent.preventDefault(e)},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){t.DomUtil.setOpacity(this._icon,this.options.opacity),this._shadow&&t.DomUtil.setOpacity(this._shadow,this.options.opacity)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}}),t.marker=function(e,i){return new t.Marker(e,i)},t.DivIcon=t.Icon.extend({options:{iconSize:[12,12],className:"leaflet-div-icon",html:!1},createIcon:function(n){var t=n&&"DIV"===n.tagName?n:e.createElement("div"),i=this.options;return i.html!==!1?t.innerHTML=i.html:t.innerHTML="",i.bgPos&&(t.style.backgroundPosition=-i.bgPos.x+"px "+-i.bgPos.y+"px"),this._setIconStyles(t,"icon"),t},createShadow:function(){return null}}),t.divIcon=function(e){return new t.DivIcon(e)},t.Map.mergeOptions({closePopupOnClick:!0}),t.Popup=t.Class.extend({includes:t.Mixin.Events,options:{minWidth:50,maxWidth:300,autoPan:!0,closeButton:!0,offset:[0,7],autoPanPadding:[5,5],keepInView:!1,className:"",zoomAnimation:!0},initialize:function(e,i){t.setOptions(this,e),this._source=i,this._animated=t.Browser.any3d&&this.options.zoomAnimation,this._isOpen=!1},onAdd:function(e){this._map=e,this._container||this._initLayout();var i=e.options.fadeAnimation;i&&t.DomUtil.setOpacity(this._container,0),e._panes.popupPane.appendChild(this._container),e.on(this._getEvents(),this),this.update(),i&&t.DomUtil.setOpacity(this._container,1),this.fire("open"),e.fire("popupopen",{popup:this}),this._source&&this._source.fire("popupopen",{popup:this})},addTo:function(t){return t.addLayer(this),this},openOn:function(t){return t.openPopup(this),this},onRemove:function(e){e._panes.popupPane.removeChild(this._container),t.Util.falseFn(this._container.offsetWidth),e.off(this._getEvents(),this),e.options.fadeAnimation&&t.DomUtil.setOpacity(this._container,0),this._map=null,this.fire("close"),e.fire("popupclose",{popup:this}),this._source&&this._source.fire("popupclose",{popup:this})},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=t.latLng(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},update:function(){if(!this._map)return;this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan()},_getEvents:function(){var t={viewreset:this._updatePosition};return this._animated&&(t.zoomanim=this._zoomAnimation),("closeOnClick"in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var e="leaflet-popup",s=e+" "+this.options.className+" leaflet-zoom-"+(this._animated?"animated":"hide"),n=this._container=t.DomUtil.create("div",s),i;this.options.closeButton&&(i=this._closeButton=t.DomUtil.create("a",e+"-close-button",n),i.href="#close",i.innerHTML="&#215;",t.DomEvent.disableClickPropagation(i),t.DomEvent.on(i,"click",this._onCloseButtonClick,this));var o=this._wrapper=t.DomUtil.create("div",e+"-content-wrapper",n);t.DomEvent.disableClickPropagation(o),this._contentNode=t.DomUtil.create("div",e+"-content",o),t.DomEvent.disableScrollPropagation(this._contentNode),t.DomEvent.on(o,"contextmenu",t.DomEvent.stopPropagation),this._tipContainer=t.DomUtil.create("div",e+"-tip-container",n),this._tip=t.DomUtil.create("div",e+"-tip",this._tipContainer)},_updateContent:function(){if(!this._content)return;if("string"==typeof this._content)this._contentNode.innerHTML=this._content;else{for(;this._contentNode.hasChildNodes();)this._contentNode.removeChild(this._contentNode.firstChild);this._contentNode.appendChild(this._content)}this.fire("contentupdate")},_updateLayout:function(){var i=this._contentNode,e=i.style;e.width="",e.whiteSpace="nowrap";var n=i.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var a=i.offsetHeight,o=this.options.maxHeight,s="leaflet-popup-scrolled";o&&a>o?(e.height=o+"px",t.DomUtil.addClass(i,s)):t.DomUtil.removeClass(i,s),this._containerWidth=this._container.offsetWidth},_updatePosition:function(){if(!this._map)return;var e=this._map.latLngToLayerPoint(this._latlng),i=this._animated,n=t.point(this.options.offset);i&&t.DomUtil.setPosition(this._container,e),this._containerBottom=-n.y-(i?0:e.y),this._containerLeft=-Math.round(this._containerWidth/2)+n.x+(i?0:e.x),this._container.style.bottom=this._containerBottom+"px",this._container.style.left=this._containerLeft+"px"},_zoomAnimation:function(e){var i=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);t.DomUtil.setPosition(this._container,i)},_adjustPan:function(){if(!this.options.autoPan)return;var r=this._map,h=this._container.offsetHeight,u=this._containerWidth,l=new t.Point(this._containerLeft,-h-this._containerBottom);this._animated&&l._add(t.DomUtil.getPosition(this._container));var e=r.layerPointToContainerPoint(l),c=t.point(this.options.autoPanPadding),s=t.point(this.options.autoPanPaddingTopLeft||c),a=t.point(this.options.autoPanPaddingBottomRight||c),o=r.getSize(),n=0,i=0;e.x+u+a.x>o.x&&(n=e.x+u-o.x+a.x),e.x-n-s.x<0&&(n=e.x-s.x),e.y+h+a.y>o.y&&(i=e.y+h-o.y+a.y),e.y-i-s.y<0&&(i=e.y-s.y),(n||i)&&r.fire("autopanstart").panBy([n,i])},_onCloseButtonClick:function(e){this._close(),t.DomEvent.stop(e)}}),t.popup=function(e,i){return new t.Popup(e,i)},t.Map.include({openPopup:function(e,i,n){if(this.closePopup(),!(e instanceof t.Popup)){var o=e;e=new t.Popup(n).setLatLng(i).setContent(o)}return e._isOpen=!0,this._popup=e,this.addLayer(e)},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&(this.removeLayer(t),t._isOpen=!1),this}}),t.Marker.include({openPopup:function(){return this._popup&&this._map&&!this._map.hasLayer(this._popup)&&(this._popup.setLatLng(this._latlng),this._map.openPopup(this._popup)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(){return this._popup&&(this._popup._isOpen?this.closePopup():this.openPopup()),this},bindPopup:function(n,e){var i=t.point(this.options.icon.options.popupAnchor||[0,0]);return i=i.add(t.Popup.prototype.options.offset),e&&e.offset&&(i=i.add(e.offset)),e=t.extend({offset:i},e),this._popupHandlersAdded||(this.on("click",this.togglePopup,this).on("remove",this.closePopup,this).on("move",this._movePopup,this),this._popupHandlersAdded=!0),n instanceof t.Popup?(t.setOptions(n,e),this._popup=n):this._popup=new t.Popup(e,this).setContent(n),this},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this.togglePopup,this).off("remove",this.closePopup,this).off("move",this._movePopup,this),this._popupHandlersAdded=!1),this},getPopup:function(){return this._popup},_movePopup:function(t){this._popup.setLatLng(t.latlng)}}),t.LayerGroup=t.Class.extend({initialize:function(e){this._layers={};var t,i;if(e)for(t=0,i=e.length;i>t;t++)this.addLayer(e[t])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){if(!t)return!1;return t in this._layers||this.getLayerId(t)in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this),this},invoke:function(e){var n=Array.prototype.slice.call(arguments,1),i,t;for(i in this._layers)t=this._layers[i],t[e]&&t[e].apply(t,n);return this},onAdd:function(t){this._map=t,this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t),this._map=null},addTo:function(t){return t.addLayer(this),this},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];for(var e in this._layers)t.push(this._layers[e]);return t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(e){return t.stamp(e)}}),t.layerGroup=function(e){return new t.LayerGroup(e)},t.FeatureGroup=t.LayerGroup.extend({includes:t.Mixin.Events,statics:{EVENTS:"click dblclick mouseover mouseout mousemove contextmenu popupopen popupclose"},addLayer:function(e){if(this.hasLayer(e))return this;return"on"in e&&e.on(t.FeatureGroup.EVENTS,this._propagateEvent,this),t.LayerGroup.prototype.addLayer.call(this,e),this._popupContent&&e.bindPopup&&e.bindPopup(this._popupContent,this._popupOptions),this.fire("layeradd",{layer:e})},removeLayer:function(e){if(!this.hasLayer(e))return this;return e in this._layers&&(e=this._layers[e]),e.off(t.FeatureGroup.EVENTS,this._propagateEvent,this),t.LayerGroup.prototype.removeLayer.call(this,e),this._popupContent&&this.invoke("unbindPopup"),this.fire("layerremove",{layer:e})},bindPopup:function(t,e){return this._popupContent=t,this._popupOptions=e,this.invoke("bindPopup",t,e)},openPopup:function(t){for(var e in this._layers){this._layers[e].openPopup(t);break}return this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new t.LatLngBounds;return this.eachLayer(function(i){e.extend(i instanceof t.Marker?i.getLatLng():i.getBounds())}),e},_propagateEvent:function(e){e=t.extend({layer:e.target,target:this},e),this.fire(e.type,e)}}),t.featureGroup=function(e){return new t.FeatureGroup(e)},t.Path=t.Class.extend({includes:[t.Mixin.Events],statics:{CLIP_PADDING:function(){var e=t.Browser.mobile?1280:2e3,n=(e/Math.max(i.outerWidth,i.outerHeight)-1)/2;return Math.max(0,Math.min(.5,n))}()},options:{stroke:!0,color:"#0033ff",dashArray:null,lineCap:null,lineJoin:null,weight:5,opacity:.5,fill:!1,fillColor:null,fillOpacity:.2,clickable:!0},initialize:function(e){t.setOptions(this,e)},onAdd:function(t){this._map=t,this._container||(this._initElements(),this._initEvents()),this.projectLatlngs(),this._updatePath(),this._container&&this._map._pathRoot.appendChild(this._container),this.fire("add"),t.on({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},addTo:function(t){return t.addLayer(this),this},onRemove:function(e){e._pathRoot.removeChild(this._container),this.fire("remove"),this._map=null,t.Browser.vml&&(this._container=null,this._stroke=null,this._fill=null),e.off({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},projectLatlngs:function(){},setStyle:function(e){return t.setOptions(this,e),this._container&&this._updateStyle(),this},redraw:function(){return this._map&&(this.projectLatlngs(),this._updatePath()),this}}),t.Map.include({_updatePathViewport:function(){var e=t.Path.CLIP_PADDING,i=this.getSize(),o=t.DomUtil.getPosition(this._mapPane),n=o.multiplyBy(-1)._subtract(i.multiplyBy(e)._round()),s=n.add(i.multiplyBy(1+2*e)._round());this._pathViewport=new t.Bounds(n,s)}}),t.Path.SVG_NS="http://www.w3.org/2000/svg",t.Browser.svg=!(!e.createElementNS||!e.createElementNS(t.Path.SVG_NS,"svg").createSVGRect),t.Path=t.Path.extend({statics:{SVG:t.Browser.svg},bringToFront:function(){var e=this._map._pathRoot,t=this._container;return t&&e.lastChild!==t&&e.appendChild(t),this},bringToBack:function(){var e=this._map._pathRoot,t=this._container,i=e.firstChild;return t&&i!==t&&e.insertBefore(t,i),this},getPathString:function(){},_createElement:function(i){return e.createElementNS(t.Path.SVG_NS,i)},_initElements:function(){this._map._initPathRoot(),this._initPath(),this._initStyle()},_initPath:function(){this._container=this._createElement("g"),this._path=this._createElement("path"),this.options.className&&t.DomUtil.addClass(this._path,this.options.className),this._container.appendChild(this._path)},_initStyle:function(){this.options.stroke&&(this._path.setAttribute("stroke-linejoin","round"),this._path.setAttribute("stroke-linecap","round")),this.options.fill&&this._path.setAttribute("fill-rule","evenodd"),this.options.pointerEvents&&this._path.setAttribute("pointer-events",this.options.pointerEvents),this.options.clickable||this.options.pointerEvents||this._path.setAttribute("pointer-events","none"),this._updateStyle()},_updateStyle:function(){this.options.stroke?(this._path.setAttribute("stroke",this.options.color),this._path.setAttribute("stroke-opacity",this.options.opacity),this._path.setAttribute("stroke-width",this.options.weight),this.options.dashArray?this._path.setAttribute("stroke-dasharray",this.options.dashArray):this._path.removeAttribute("stroke-dasharray"),this.options.lineCap&&this._path.setAttribute("stroke-linecap",this.options.lineCap),this.options.lineJoin&&this._path.setAttribute("stroke-linejoin",this.options.lineJoin)):this._path.setAttribute("stroke","none"),this.options.fill?(this._path.setAttribute("fill",this.options.fillColor||this.options.color),this._path.setAttribute("fill-opacity",this.options.fillOpacity)):this._path.setAttribute("fill","none")},_updatePath:function(){var t=this.getPathString();t||(t="M0 0"),this._path.setAttribute("d",t)},_initEvents:function(){if(this.options.clickable){(t.Browser.svg||!t.Browser.vml)&&t.DomUtil.addClass(this._path,"leaflet-clickable"),t.DomEvent.on(this._container,"click",this._onMouseClick,this);for(var i=["dblclick","mousedown","mouseover","mouseout","mousemove","contextmenu"],e=0;e<i.length;e++)t.DomEvent.on(this._container,i[e],this._fireMouseEvent,this)}},_onMouseClick:function(t){if(this._map.dragging&&this._map.dragging.moved())return;this._fireMouseEvent(t)},_fireMouseEvent:function(e){
if(!this.hasEventListeners(e.type))return;var i=this._map,n=i.mouseEventToContainerPoint(e),o=i.containerPointToLayerPoint(n),s=i.layerPointToLatLng(o);this.fire(e.type,{latlng:s,layerPoint:o,containerPoint:n,originalEvent:e}),"contextmenu"===e.type&&t.DomEvent.preventDefault(e),"mousemove"!==e.type&&t.DomEvent.stopPropagation(e)}}),t.Map.include({_initPathRoot:function(){this._pathRoot||(this._pathRoot=t.Path.prototype._createElement("svg"),this._panes.overlayPane.appendChild(this._pathRoot),this.options.zoomAnimation&&t.Browser.any3d?(t.DomUtil.addClass(this._pathRoot,"leaflet-zoom-animated"),this.on({zoomanim:this._animatePathZoom,zoomend:this._endPathZoom})):t.DomUtil.addClass(this._pathRoot,"leaflet-zoom-hide"),this.on("moveend",this._updateSvgViewport),this._updateSvgViewport())},_animatePathZoom:function(e){var i=this.getZoomScale(e.zoom),n=this._getCenterOffset(e.center)._multiplyBy(-i)._add(this._pathViewport.min);this._pathRoot.style[t.DomUtil.TRANSFORM]=t.DomUtil.getTranslateString(n)+" scale("+i+") ",this._pathZooming=!0},_endPathZoom:function(){this._pathZooming=!1},_updateSvgViewport:function(){if(this._pathZooming)return;this._updatePathViewport();var n=this._pathViewport,i=n.min,o=n.max,s=o.x-i.x,a=o.y-i.y,e=this._pathRoot,r=this._panes.overlayPane;t.Browser.mobileWebkit&&r.removeChild(e),t.DomUtil.setPosition(e,i),e.setAttribute("width",s),e.setAttribute("height",a),e.setAttribute("viewBox",[i.x,i.y,s,a].join(" ")),t.Browser.mobileWebkit&&r.appendChild(e)}}),t.Path.include({bindPopup:function(e,i){return e instanceof t.Popup?this._popup=e:((!this._popup||i)&&(this._popup=new t.Popup(i,this)),this._popup.setContent(e)),this._popupHandlersAdded||(this.on("click",this._openPopup,this).on("remove",this.closePopup,this),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this._openPopup).off("remove",this.closePopup),this._popupHandlersAdded=!1),this},openPopup:function(t){return this._popup&&(t=t||this._latlng||this._latlngs[Math.floor(this._latlngs.length/2)],this._openPopup({latlng:t})),this},closePopup:function(){return this._popup&&this._popup._close(),this},_openPopup:function(t){this._popup.setLatLng(t.latlng),this._map.openPopup(this._popup)}}),t.Browser.vml=!t.Browser.svg&&function(){try{var i=e.createElement("div");i.innerHTML='<v:shape adj="1"/>';var t=i.firstChild;return t.style.behavior="url(#default#VML)",t&&"object"==typeof t.adj}catch(n){return!1}}(),t.Path=t.Browser.svg||!t.Browser.vml?t.Path:t.Path.extend({statics:{VML:!0,CLIP_PADDING:.02},_createElement:function(){try{return e.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return e.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),_initPath:function(){var e=this._container=this._createElement("shape");t.DomUtil.addClass(e,"leaflet-vml-shape"+(this.options.className?" "+this.options.className:"")),this.options.clickable&&t.DomUtil.addClass(e,"leaflet-clickable"),e.coordsize="1 1",this._path=this._createElement("path"),e.appendChild(this._path),this._map._pathRoot.appendChild(e)},_initStyle:function(){this._updateStyle()},_updateStyle:function(){var i=this._stroke,n=this._fill,e=this.options,o=this._container;o.stroked=e.stroke,o.filled=e.fill,e.stroke?(i||(i=this._stroke=this._createElement("stroke"),i.endcap="round",o.appendChild(i)),i.weight=e.weight+"px",i.color=e.color,i.opacity=e.opacity,e.dashArray?i.dashStyle=t.Util.isArray(e.dashArray)?e.dashArray.join(" "):e.dashArray.replace(/( *, *)/g," "):i.dashStyle="",e.lineCap&&(i.endcap=e.lineCap.replace("butt","flat")),e.lineJoin&&(i.joinstyle=e.lineJoin)):i&&(o.removeChild(i),this._stroke=null),e.fill?(n||(n=this._fill=this._createElement("fill"),o.appendChild(n)),n.color=e.fillColor||e.color,n.opacity=e.fillOpacity):n&&(o.removeChild(n),this._fill=null)},_updatePath:function(){var t=this._container.style;t.display="none",this._path.v=this.getPathString()+" ",t.display=""}}),t.Map.include(t.Browser.svg||!t.Browser.vml?{}:{_initPathRoot:function(){if(this._pathRoot)return;var t=this._pathRoot=e.createElement("div");t.className="leaflet-vml-container",this._panes.overlayPane.appendChild(t),this.on("moveend",this._updatePathViewport),this._updatePathViewport()}}),t.Browser.canvas=function(){return!!e.createElement("canvas").getContext}(),t.Path=t.Path.SVG&&!i.L_PREFER_CANVAS||!t.Browser.canvas?t.Path:t.Path.extend({statics:{CANVAS:!0,SVG:!1},redraw:function(){return this._map&&(this.projectLatlngs(),this._requestUpdate()),this},setStyle:function(e){return t.setOptions(this,e),this._map&&(this._updateStyle(),this._requestUpdate()),this},onRemove:function(t){t.off("viewreset",this.projectLatlngs,this).off("moveend",this._updatePath,this),this.options.clickable&&(this._map.off("click",this._onClick,this),this._map.off("mousemove",this._onMouseMove,this)),this._requestUpdate(),this.fire("remove"),this._map=null},_requestUpdate:function(){this._map&&!t.Path._updateRequest&&(t.Path._updateRequest=t.Util.requestAnimFrame(this._fireMapMoveEnd,this._map))},_fireMapMoveEnd:function(){t.Path._updateRequest=null,this.fire("moveend")},_initElements:function(){this._map._initPathRoot(),this._ctx=this._map._canvasCtx},_updateStyle:function(){var t=this.options;t.stroke&&(this._ctx.lineWidth=t.weight,this._ctx.strokeStyle=t.color),t.fill&&(this._ctx.fillStyle=t.fillColor||t.color)},_drawPath:function(){var e,i,o,s,n,a;for(this._ctx.beginPath(),e=0,o=this._parts.length;o>e;e++){for(i=0,s=this._parts[e].length;s>i;i++)n=this._parts[e][i],a=(0===i?"move":"line")+"To",this._ctx[a](n.x,n.y);this instanceof t.Polygon&&this._ctx.closePath()}},_checkIfEmpty:function(){return!this._parts.length},_updatePath:function(){if(this._checkIfEmpty())return;var t=this._ctx,e=this.options;this._drawPath(),t.save(),this._updateStyle(),e.fill&&(t.globalAlpha=e.fillOpacity,t.fill()),e.stroke&&(t.globalAlpha=e.opacity,t.stroke()),t.restore()},_initEvents:function(){this.options.clickable&&(this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onClick,this))},_onClick:function(t){this._containsPoint(t.layerPoint)&&this.fire("click",t)},_onMouseMove:function(t){if(!this._map||this._map._animatingZoom)return;this._containsPoint(t.layerPoint)?(this._ctx.canvas.style.cursor="pointer",this._mouseInside=!0,this.fire("mouseover",t)):this._mouseInside&&(this._ctx.canvas.style.cursor="",this._mouseInside=!1,this.fire("mouseout",t))}}),t.Map.include(t.Path.SVG&&!i.L_PREFER_CANVAS||!t.Browser.canvas?{}:{_initPathRoot:function(){var t=this._pathRoot,i;t||(t=this._pathRoot=e.createElement("canvas"),t.style.position="absolute",i=this._canvasCtx=t.getContext("2d"),i.lineCap="round",i.lineJoin="round",this._panes.overlayPane.appendChild(t),this.options.zoomAnimation&&(this._pathRoot.className="leaflet-zoom-animated",this.on("zoomanim",this._animatePathZoom),this.on("zoomend",this._endPathZoom)),this.on("moveend",this._updateCanvasViewport),this._updateCanvasViewport())},_updateCanvasViewport:function(){if(this._pathZooming)return;this._updatePathViewport();var n=this._pathViewport,e=n.min,o=n.max.subtract(e),i=this._pathRoot;t.DomUtil.setPosition(i,e),i.width=o.x,i.height=o.y,i.getContext("2d").translate(-e.x,-e.y)}}),t.LineUtil={simplify:function(t,e){if(!e||!t.length)return t.slice();var i=e*e;return t=this._reducePoints(t,i),t=this._simplifyDP(t,i)},pointToSegmentDistance:function(t,e,i){return Math.sqrt(this._sqClosestPointOnSegment(t,e,i,!0))},closestPointOnSegment:function(t,e,i){return this._sqClosestPointOnSegment(t,e,i)},_simplifyDP:function(o,a){var e=o.length,r=typeof Uint8Array!=n+""?Uint8Array:Array,i=new r(e);i[0]=i[e-1]=1,this._simplifyDPStep(o,i,a,0,e-1);var t,s=[];for(t=0;e>t;t++)i[t]&&s.push(o[t]);return s},_simplifyDPStep:function(t,n,o,s,a){var r=0,i,e,h;for(e=s+1;a-1>=e;e++)h=this._sqClosestPointOnSegment(t[e],t[s],t[a],!0),h>r&&(i=e,r=h);r>o&&(n[i]=1,this._simplifyDPStep(t,n,o,s,i),this._simplifyDPStep(t,n,o,i,a))},_reducePoints:function(t,s){for(var i=[t[0]],e=1,n=0,o=t.length;o>e;e++)this._sqDist(t[e],t[n])>s&&(i.push(t[e]),n=e);return o-1>n&&i.push(t[o-1]),i},clipSegment:function(i,n,o,h){var t=h?this._lastCode:this._getBitCode(i,o),e=this._getBitCode(n,o),a,s,r;for(this._lastCode=e;;){if(!(t|e))return[i,n];if(t&e)return!1;a=t||e,s=this._getEdgeIntersection(i,n,a,o),r=this._getBitCode(s,o),a===t?(i=s,t=r):(n=s,e=r)}},_getEdgeIntersection:function(e,r,i,h){var n=r.x-e.x,o=r.y-e.y,s=h.min,a=h.max;if(8&i)return new t.Point(e.x+n*(a.y-e.y)/o,a.y);if(4&i)return new t.Point(e.x+n*(s.y-e.y)/o,s.y);if(2&i)return new t.Point(a.x,e.y+o*(a.x-e.x)/n);if(1&i)return new t.Point(s.x,e.y+o*(s.x-e.x)/n)},_getBitCode:function(e,i){var t=0;return e.x<i.min.x?t|=1:e.x>i.max.x&&(t|=2),e.y<i.min.y?t|=4:e.y>i.max.y&&(t|=8),t},_sqDist:function(t,e){var i=e.x-t.x,n=e.y-t.y;return i*i+n*n},_sqClosestPointOnSegment:function(a,h,r,u){var n=h.x,o=h.y,e=r.x-n,i=r.y-o,l=e*e+i*i,s;return l>0&&(s=((a.x-n)*e+(a.y-o)*i)/l,s>1?(n=r.x,o=r.y):s>0&&(n+=e*s,o+=i*s)),e=a.x-n,i=a.y-o,u?e*e+i*i:new t.Point(n,o)}},t.Polyline=t.Path.extend({initialize:function(e,i){t.Path.prototype.initialize.call(this,i),this._latlngs=this._convertLatLngs(e)},options:{smoothFactor:1,noClip:!1},projectLatlngs:function(){this._originalPoints=[];for(var t=0,e=this._latlngs.length;e>t;t++)this._originalPoints[t]=this._map.latLngToLayerPoint(this._latlngs[t])},getPathString:function(){for(var t=0,i=this._parts.length,e="";i>t;t++)e+=this._getPathPartStr(this._parts[t]);return e},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._latlngs=this._convertLatLngs(t),this.redraw()},addLatLng:function(e){return this._latlngs.push(t.latLng(e)),this.redraw()},spliceLatLngs:function(){var t=[].splice.apply(this._latlngs,arguments);return this._convertLatLngs(this._latlngs,!0),this.redraw(),t},closestLayerPoint:function(h){for(var a=1/0,l=this._parts,o,s,e=null,n=0,c=l.length;c>n;n++)for(var r=l[n],i=1,d=r.length;d>i;i++){o=r[i-1],s=r[i];var u=t.LineUtil._sqClosestPointOnSegment(h,o,s,!0);a>u&&(a=u,e=t.LineUtil._sqClosestPointOnSegment(h,o,s))}return e&&(e.distance=Math.sqrt(a)),e},getBounds:function(){return new t.LatLngBounds(this.getLatLngs())},_convertLatLngs:function(i,s){var e,n,o=s?i:[];for(e=0,n=i.length;n>e;e++){if(t.Util.isArray(i[e])&&"number"!=typeof i[e][0])return;o[e]=t.latLng(i[e])}return o},_initEvents:function(){t.Path.prototype._initEvents.call(this)},_getPathPartStr:function(n){for(var s=t.Path.VML,e=0,a=n.length,o="",i;a>e;e++)i=n[e],s&&i._round(),o+=(e?"L":"M")+i.x+" "+i.y;return o},_clipPoints:function(){var n=this._originalPoints,a=n.length,e,i,o;if(this.options.noClip)return void(this._parts=[n]);this._parts=[];var s=this._parts,r=this._map._pathViewport,h=t.LineUtil;for(e=0,i=0;a-1>e;e++){if(o=h.clipSegment(n[e],n[e+1],r,e),!o)continue;s[i]=s[i]||[],s[i].push(o[0]),(o[1]!==n[e+1]||e===a-2)&&(s[i].push(o[1]),i++)}},_simplifyPoints:function(){for(var i=this._parts,n=t.LineUtil,e=0,o=i.length;o>e;e++)i[e]=n.simplify(i[e],this.options.smoothFactor)},_updatePath:function(){if(!this._map)return;this._clipPoints(),this._simplifyPoints(),t.Path.prototype._updatePath.call(this)}}),t.polyline=function(e,i){return new t.Polyline(e,i)},t.PolyUtil={},t.PolyUtil.clipPolygon=function(i,r){var s,p=[1,4,2,8],e,d,c,h,l,u,o,n,a=t.LineUtil;for(e=0,u=i.length;u>e;e++)i[e]._code=a._getBitCode(i[e],r);for(c=0;4>c;c++){for(o=p[c],s=[],e=0,u=i.length,d=u-1;u>e;d=e++)h=i[e],l=i[d],h._code&o?l._code&o||(n=a._getEdgeIntersection(l,h,o,r),n._code=a._getBitCode(n,r),s.push(n)):(l._code&o&&(n=a._getEdgeIntersection(l,h,o,r),n._code=a._getBitCode(n,r),s.push(n)),s.push(h));i=s}return i},t.Polygon=t.Polyline.extend({options:{fill:!0},initialize:function(e,i){t.Polyline.prototype.initialize.call(this,e,i),this._initWithHoles(e)},_initWithHoles:function(e){var i,o,n;if(e&&t.Util.isArray(e[0])&&"number"!=typeof e[0][0])for(this._latlngs=this._convertLatLngs(e[0]),this._holes=e.slice(1),i=0,o=this._holes.length;o>i;i++)n=this._holes[i]=this._convertLatLngs(this._holes[i]),n[0].equals(n[n.length-1])&&n.pop();e=this._latlngs,e.length>=2&&e[0].equals(e[e.length-1])&&e.pop()},projectLatlngs:function(){if(t.Polyline.prototype.projectLatlngs.call(this),this._holePoints=[],!this._holes)return;var e,i,n,o;for(e=0,n=this._holes.length;n>e;e++)for(this._holePoints[e]=[],i=0,o=this._holes[e].length;o>i;i++)this._holePoints[e][i]=this._map.latLngToLayerPoint(this._holes[e][i])},setLatLngs:function(e){return e&&t.Util.isArray(e[0])&&"number"!=typeof e[0][0]?(this._initWithHoles(e),this.redraw()):t.Polyline.prototype.setLatLngs.call(this,e)},_clipPoints:function(){var o=this._originalPoints,i=[];if(this._parts=[o].concat(this._holePoints),this.options.noClip)return;for(var e=0,s=this._parts.length;s>e;e++){var n=t.PolyUtil.clipPolygon(this._parts[e],this._map._pathViewport);n.length&&i.push(n)}this._parts=i},_getPathPartStr:function(e){var i=t.Polyline.prototype._getPathPartStr.call(this,e);return i+(t.Browser.svg?"z":"x")}}),t.polygon=function(e,i){return new t.Polygon(e,i)},function(){function createMulti(e){return t.FeatureGroup.extend({initialize:function(t,e){this._layers={},this._options=e,this.setLatLngs(t)},setLatLngs:function(i){var t=0,n=i.length;for(this.eachLayer(function(e){n>t?e.setLatLngs(i[t++]):this.removeLayer(e)},this);n>t;)this.addLayer(new e(i[t++],this._options));return this},getLatLngs:function(){var t=[];return this.eachLayer(function(e){t.push(e.getLatLngs())}),t}})}t.MultiPolyline=createMulti(t.Polyline),t.MultiPolygon=createMulti(t.Polygon),t.multiPolyline=function(e,i){return new t.MultiPolyline(e,i)},t.multiPolygon=function(e,i){return new t.MultiPolygon(e,i)}}(),t.Rectangle=t.Polygon.extend({initialize:function(e,i){t.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(e),i)},setBounds:function(t){this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(e){return e=t.latLngBounds(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}}),t.rectangle=function(e,i){return new t.Rectangle(e,i)},t.Circle=t.Path.extend({initialize:function(e,i,n){t.Path.prototype.initialize.call(this,n),this._latlng=t.latLng(e),this._mRadius=i},options:{fill:!0},setLatLng:function(e){return this._latlng=t.latLng(e),this.redraw()},setRadius:function(t){return this._mRadius=t,this.redraw()},projectLatlngs:function(){var e=this._getLngRadius(),t=this._latlng,i=this._map.latLngToLayerPoint([t.lat,t.lng-e]);this._point=this._map.latLngToLayerPoint(t),this._radius=Math.max(this._point.x-i.x,1)},getBounds:function(){var i=this._getLngRadius(),n=this._mRadius/40075017*360,e=this._latlng;return new t.LatLngBounds([e.lat-n,e.lng-i],[e.lat+n,e.lng+i])},getLatLng:function(){return this._latlng},getPathString:function(){var i=this._point,e=this._radius;if(this._checkIfEmpty())return"";return t.Browser.svg?"M"+i.x+","+(i.y-e)+"A"+e+","+e+",0,1,1,"+(i.x-.1)+","+(i.y-e)+" z":(i._round(),e=Math.round(e),"AL "+i.x+","+i.y+" "+e+","+e+" 0,23592600")},getRadius:function(){return this._mRadius},_getLatRadius:function(){return this._mRadius/40075017*360},_getLngRadius:function(){return this._getLatRadius()/Math.cos(t.LatLng.DEG_TO_RAD*this._latlng.lat)},_checkIfEmpty:function(){if(!this._map)return!1;var t=this._map._pathViewport,e=this._radius,i=this._point;return i.x-e>t.max.x||i.y-e>t.max.y||i.x+e<t.min.x||i.y+e<t.min.y}}),t.circle=function(e,i,n){return new t.Circle(e,i,n)},t.CircleMarker=t.Circle.extend({options:{radius:10,weight:2},initialize:function(e,i){t.Circle.prototype.initialize.call(this,e,null,i),this._radius=this.options.radius},projectLatlngs:function(){this._point=this._map.latLngToLayerPoint(this._latlng)},_updateStyle:function(){t.Circle.prototype._updateStyle.call(this),this.setRadius(this.options.radius)},setLatLng:function(e){return t.Circle.prototype.setLatLng.call(this,e),this._popup&&this._popup._isOpen&&this._popup.setLatLng(e),this},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius}}),t.circleMarker=function(e,i){return new t.CircleMarker(e,i)},t.Polyline.include(t.Path.CANVAS?{_containsPoint:function(l,u){var i,e,o,a,s,r,n,h=this.options.weight/2;for(t.Browser.touch&&(h+=10),i=0,a=this._parts.length;a>i;i++)for(n=this._parts[i],e=0,s=n.length,o=s-1;s>e;o=e++){if(!u&&0===e)continue;if(r=t.LineUtil.pointToSegmentDistance(l,n[o],n[e]),h>=r)return!0}return!1}}:{}),t.Polygon.include(t.Path.CANVAS?{_containsPoint:function(i){var r=!1,n,e,o,s,a,h,u,l;if(t.Polyline.prototype._containsPoint.call(this,i,!0))return!0;for(s=0,u=this._parts.length;u>s;s++)for(n=this._parts[s],a=0,l=n.length,h=l-1;l>a;h=a++)e=n[a],o=n[h],e.y>i.y!=o.y>i.y&&i.x<(o.x-e.x)*(i.y-e.y)/(o.y-e.y)+e.x&&(r=!r);return r}}:{}),t.Circle.include(t.Path.CANVAS?{_drawPath:function(){var t=this._point;this._ctx.beginPath(),this._ctx.arc(t.x,t.y,this._radius,0,2*Math.PI,!1)},_containsPoint:function(t){var e=this._point,i=this.options.stroke?this.options.weight/2:0;return t.distanceTo(e)<=this._radius+i}}:{}),t.CircleMarker.include(t.Path.CANVAS?{_updateStyle:function(){t.Path.prototype._updateStyle.call(this)}}:{}),t.GeoJSON=t.FeatureGroup.extend({initialize:function(e,i){t.setOptions(this,i),this._layers={},e&&this.addData(e)},addData:function(e){var a=t.Util.isArray(e)?e:e.features,o,r,s;if(a){for(o=0,r=a.length;r>o;o++)s=a[o],(s.geometries||s.geometry||s.features||s.coordinates)&&this.addData(a[o]);return this}var i=this.options;if(i.filter&&!i.filter(e))return;var n=t.GeoJSON.geometryToLayer(e,i.pointToLayer,i.coordsToLatLng,i);return n.feature=t.GeoJSON.asFeature(e),n.defaultOptions=n.options,this.resetStyle(n),i.onEachFeature&&i.onEachFeature(e,n),this.addLayer(n)},resetStyle:function(e){var i=this.options.style;i&&(t.Util.extend(e.options,e.defaultOptions),this._setLayerStyle(e,i))},setStyle:function(t){this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(e,t){"function"==typeof t&&(t=t(e.feature)),e.setStyle&&e.setStyle(t)}}),t.extend(t.GeoJSON,{geometryToLayer:function(s,r,i,h){var u="Feature"===s.type?s.geometry:s,e=u.coordinates,l=[],a,o,n,c;switch(i=i||this.coordsToLatLng,u.type){case"Point":return a=i(e),r?r(s,a):new t.Marker(a);case"MultiPoint":for(n=0,c=e.length;c>n;n++)a=i(e[n]),l.push(r?r(s,a):new t.Marker(a));return new t.FeatureGroup(l);case"LineString":return o=this.coordsToLatLngs(e,0,i),new t.Polyline(o,h);case"Polygon":if(2===e.length&&!e[1].length)throw new Error("Invalid GeoJSON object.");return o=this.coordsToLatLngs(e,1,i),new t.Polygon(o,h);case"MultiLineString":return o=this.coordsToLatLngs(e,1,i),new t.MultiPolyline(o,h);case"MultiPolygon":return o=this.coordsToLatLngs(e,2,i),new t.MultiPolygon(o,h);case"GeometryCollection":for(n=0,c=u.geometries.length;c>n;n++)l.push(this.geometryToLayer({geometry:u.geometries[n],type:"Feature",properties:s.properties},r,i,h));return new t.FeatureGroup(l);default:throw new Error("Invalid GeoJSON object.")}},coordsToLatLng:function(e){return new t.LatLng(e[1],e[0],e[2])},coordsToLatLngs:function(e,i,n){var o,t,s,a=[];for(t=0,s=e.length;s>t;t++)o=i?this.coordsToLatLngs(e[t],i-1,n):(n||this.coordsToLatLng)(e[t]),a.push(o);return a},latLngToCoords:function(t){var e=[t.lng,t.lat];return t.alt!==n&&e.push(t.alt),e},latLngsToCoords:function(i){for(var n=[],e=0,o=i.length;o>e;e++)n.push(t.GeoJSON.latLngToCoords(i[e]));return n},getFeature:function(e,i){return e.feature?t.extend({},e.feature,{geometry:i}):t.GeoJSON.asFeature(i)},asFeature:function(t){if("Feature"===t.type)return t;return{type:"Feature",properties:{},geometry:t}}});var s={toGeoJSON:function(){return t.GeoJSON.getFeature(this,{type:"Point",coordinates:t.GeoJSON.latLngToCoords(this.getLatLng())})}};t.Marker.include(s),t.Circle.include(s),t.CircleMarker.include(s),t.Polyline.include({toGeoJSON:function(){return t.GeoJSON.getFeature(this,{type:"LineString",coordinates:t.GeoJSON.latLngsToCoords(this.getLatLngs())})}}),t.Polygon.include({toGeoJSON:function(){var e=[t.GeoJSON.latLngsToCoords(this.getLatLngs())],i,o,n;if(e[0].push(e[0][0]),this._holes)for(i=0,o=this._holes.length;o>i;i++)n=t.GeoJSON.latLngsToCoords(this._holes[i]),n.push(n[0]),e.push(n);return t.GeoJSON.getFeature(this,{type:"Polygon",coordinates:e})}}),function(){function multiToGeoJSON(e){return function(){var i=[];return this.eachLayer(function(t){i.push(t.toGeoJSON().geometry.coordinates)}),t.GeoJSON.getFeature(this,{type:e,coordinates:i})}}t.MultiPolyline.include({toGeoJSON:multiToGeoJSON("MultiLineString")}),t.MultiPolygon.include({toGeoJSON:multiToGeoJSON("MultiPolygon")}),t.LayerGroup.include({toGeoJSON:function(){var e=this.feature&&this.feature.geometry,i=[],n;if(e&&"MultiPoint"===e.type)return multiToGeoJSON("MultiPoint").call(this);var o=e&&"GeometryCollection"===e.type;if(this.eachLayer(function(e){e.toGeoJSON&&(n=e.toGeoJSON(),i.push(o?n.geometry:t.GeoJSON.asFeature(n)))}),o)return t.GeoJSON.getFeature(this,{geometries:i,type:"GeometryCollection"});return{type:"FeatureCollection",features:i}}})}(),t.geoJson=function(e,i){return new t.GeoJSON(e,i)},t.DomEvent={addListener:function(e,n,a,l){var s=t.stamp(a),r="_leaflet_"+n+s,i,o,h;if(e[r])return this;if(i=function(i){return a.call(l||e,i||t.DomEvent._getEvent())},t.Browser.pointer&&0===n.indexOf("touch"))return this.addPointerListener(e,n,i,s);return t.Browser.touch&&"dblclick"===n&&this.addDoubleTapListener&&this.addDoubleTapListener(e,i,s),"addEventListener"in e?"mousewheel"===n?(e.addEventListener("DOMMouseScroll",i,!1),e.addEventListener(n,i,!1)):"mouseenter"===n||"mouseleave"===n?(o=i,h="mouseenter"===n?"mouseover":"mouseout",i=function(i){if(!t.DomEvent._checkMouse(e,i))return;return o(i)},e.addEventListener(h,i,!1)):"click"===n&&t.Browser.android?(o=i,i=function(e){return t.DomEvent._filterClick(e,o)},e.addEventListener(n,i,!1)):e.addEventListener(n,i,!1):"attachEvent"in e&&e.attachEvent("on"+n,i),e[r]=i,this},removeListener:function(e,i,a){var o=t.stamp(a),s="_leaflet_"+i+o,n=e[s];if(!n)return this;return t.Browser.pointer&&0===i.indexOf("touch")?this.removePointerListener(e,i,o):t.Browser.touch&&"dblclick"===i&&this.removeDoubleTapListener?this.removeDoubleTapListener(e,o):"removeEventListener"in e?"mousewheel"===i?(e.removeEventListener("DOMMouseScroll",n,!1),e.removeEventListener(i,n,!1)):"mouseenter"===i||"mouseleave"===i?e.removeEventListener("mouseenter"===i?"mouseover":"mouseout",n,!1):e.removeEventListener(i,n,!1):"detachEvent"in e&&e.detachEvent("on"+i,n),e[s]=null,this},stopPropagation:function(e){return e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,t.DomEvent._skipped(e),this},disableScrollPropagation:function(e){var i=t.DomEvent.stopPropagation;return t.DomEvent.on(e,"mousewheel",i).on(e,"MozMousePixelScroll",i)},disableClickPropagation:function(e){for(var n=t.DomEvent.stopPropagation,i=t.Draggable.START.length-1;i>=0;i--)t.DomEvent.on(e,t.Draggable.START[i],n);return t.DomEvent.on(e,"click",t.DomEvent._fakeStop).on(e,"dblclick",n)},preventDefault:function(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this},stop:function(e){return t.DomEvent.preventDefault(e).stopPropagation(e)},getMousePosition:function(e,i){if(!i)return new t.Point(e.clientX,e.clientY);var n=i.getBoundingClientRect();return new t.Point(e.clientX-n.left-i.clientLeft,e.clientY-n.top-i.clientTop)},getWheelDelta:function(t){var e=0;return t.wheelDelta&&(e=t.wheelDelta/120),t.detail&&(e=-t.detail/3),e},_skipEvents:{},_fakeStop:function(e){t.DomEvent._skipEvents[e.type]=!0},_skipped:function(t){var e=this._skipEvents[t.type];return this._skipEvents[t.type]=!1,e},_checkMouse:function(e,i){var t=i.relatedTarget;if(!t)return!0;try{for(;t&&t!==e;)t=t.parentNode}catch(n){return!1}return t!==e},_getEvent:function(){var t=i.event;if(!t)for(var e=arguments.callee.caller;e&&(t=e.arguments[0],!t||i.Event!==t.constructor);)e=e.caller;return t},_filterClick:function(e,o){var n=e.timeStamp||e.originalEvent.timeStamp,i=t.DomEvent._lastClick&&n-t.DomEvent._lastClick;if(i&&i>100&&500>i||e.target._simulatedClick&&!e._simulated)return void t.DomEvent.stop(e);return t.DomEvent._lastClick=n,o(e)}},t.DomEvent.on=t.DomEvent.addListener,t.DomEvent.off=t.DomEvent.removeListener,t.Draggable=t.Class.extend({includes:t.Mixin.Events,statics:{START:t.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},initialize:function(t,e){this._element=t,this._dragStartTarget=e||t},enable:function(){if(this._enabled)return;for(var e=t.Draggable.START.length-1;e>=0;e--)t.DomEvent.on(this._dragStartTarget,t.Draggable.START[e],this._onDown,this);this._enabled=!0},disable:function(){if(!this._enabled)return;for(var e=t.Draggable.START.length-1;e>=0;e--)t.DomEvent.off(this._dragStartTarget,t.Draggable.START[e],this._onDown,this);this._enabled=!1,this._moved=!1},_onDown:function(i){if(this._moved=!1,i.shiftKey||1!==i.which&&1!==i.button&&!i.touches)return;if(t.DomEvent.stopPropagation(i),t.Draggable._disabled)return;if(t.DomUtil.disableImageDrag(),t.DomUtil.disableTextSelection(),this._moving)return;var n=i.touches?i.touches[0]:i;this._startPoint=new t.Point(n.clientX,n.clientY),this._startPos=this._newPos=t.DomUtil.getPosition(this._element),t.DomEvent.on(e,t.Draggable.MOVE[i.type],this._onMove,this).on(e,t.Draggable.END[i.type],this._onUp,this)},_onMove:function(i){if(i.touches&&i.touches.length>1)return void(this._moved=!0);var o=i.touches&&1===i.touches.length?i.touches[0]:i,s=new t.Point(o.clientX,o.clientY),n=s.subtract(this._startPoint);if(!n.x&&!n.y)return;if(t.Browser.touch&&Math.abs(n.x)+Math.abs(n.y)<3)return;t.DomEvent.preventDefault(i),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=t.DomUtil.getPosition(this._element).subtract(n),t.DomUtil.addClass(e.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,t.DomUtil.addClass(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,t.Util.cancelAnimFrame(this._animRequest),this._animRequest=t.Util.requestAnimFrame(this._updatePosition,this,!0,this._dragStartTarget)},_updatePosition:function(){this.fire("predrag"),t.DomUtil.setPosition(this._element,this._newPos),this.fire("drag")},_onUp:function(){t.DomUtil.removeClass(e.body,"leaflet-dragging"),this._lastTarget&&(t.DomUtil.removeClass(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var i in t.Draggable.MOVE)t.DomEvent.off(e,t.Draggable.MOVE[i],this._onMove).off(e,t.Draggable.END[i],this._onUp);t.DomUtil.enableImageDrag(),t.DomUtil.enableTextSelection(),this._moved&&this._moving&&(t.Util.cancelAnimFrame(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1}}),t.Handler=t.Class.extend({initialize:function(t){this._map=t},enable:function(){if(this._enabled)return;this._enabled=!0,this.addHooks()},disable:function(){if(!this._enabled)return;this._enabled=!1,this.removeHooks()},enabled:function(){return!!this._enabled}}),t.Map.mergeOptions({dragging:!0,inertia:!t.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,inertiaThreshold:t.Browser.touch?32:18,easeLinearity:.25,worldCopyJump:!1}),t.Map.Drag=t.Handler.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new t.Draggable(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDrag,this),e.on("viewreset",this._onViewReset,this),e.whenReady(this._onViewReset,this))}this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){var t=this._map;t._panAnim&&t._panAnim.stop(),t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(){if(this._map.options.inertia){var t=this._lastTime=+new Date,e=this._lastPos=this._draggable._newPos;this._positions.push(e),this._times.push(t),t-this._times[0]>200&&(this._positions.shift(),this._times.shift())}this._map.fire("move").fire("drag")},_onViewReset:function(){var t=this._map.getSize()._divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.project([0,180]).x},_onPreDrag:function(){var i=this._worldWidth,e=Math.round(i/2),t=this._initialWorldOffset,n=this._draggable._newPos.x,o=(n-e+t)%i+e-t,s=(n+e+t)%i-e-t,a=Math.abs(o+t)<Math.abs(s+t)?o:s;this._draggable._newPos.x=a},_onDragEnd:function(m){var e=this._map,n=e.options,s=+new Date-this._lastTime,u=!n.inertia||s>n.inertiaThreshold||!this._positions[0];if(e.fire("dragend",m),u)e.fire("moveend");else{var c=this._lastPos.subtract(this._positions[0]),d=(this._lastTime+s-this._times[0])/1e3,o=n.easeLinearity,a=c.multiplyBy(o/d),r=a.distanceTo([0,0]),h=Math.min(n.inertiaMaxSpeed,r),p=a.multiplyBy(h/r),l=h/(n.inertiaDeceleration*o),i=p.multiplyBy(-l/2).round();i.x&&i.y?(i=e._limitOffset(i,e.options.maxBounds),t.Util.requestAnimFrame(function(){e.panBy(i,{duration:l,easeLinearity:o,noMoveStart:!0})})):e.fire("moveend")}}}),t.Map.addInitHook("addHandler","dragging",t.Map.Drag),t.Map.mergeOptions({doubleClickZoom:!0}),t.Map.DoubleClickZoom=t.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,i=t.getZoom()+(e.originalEvent.shiftKey?-1:1);"center"===t.options.doubleClickZoom?t.setZoom(i):t.setZoomAround(e.containerPoint,i)}}),t.Map.addInitHook("addHandler","doubleClickZoom",t.Map.DoubleClickZoom),t.Map.mergeOptions({scrollWheelZoom:!0}),t.Map.ScrollWheelZoom=t.Handler.extend({addHooks:function(){t.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this),t.DomEvent.on(this._map._container,"MozMousePixelScroll",t.DomEvent.preventDefault),this._delta=0},removeHooks:function(){t.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll),t.DomEvent.off(this._map._container,"MozMousePixelScroll",t.DomEvent.preventDefault)},_onWheelScroll:function(e){var i=t.DomEvent.getWheelDelta(e);this._delta+=i,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var n=Math.max(40-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(t.bind(this._performZoom,this),n),t.DomEvent.preventDefault(e),t.DomEvent.stopPropagation(e)},_performZoom:function(){var e=this._map,t=this._delta,i=e.getZoom();if(t=t>0?Math.ceil(t):Math.floor(t),t=Math.max(Math.min(t,4),-4),t=e._limitZoom(i+t)-i,this._delta=0,this._startTime=null,!t)return;"center"===e.options.scrollWheelZoom?e.setZoom(i+t):e.setZoomAround(this._lastMousePos,i+t)}}),t.Map.addInitHook("addHandler","scrollWheelZoom",t.Map.ScrollWheelZoom),t.extend(t.DomEvent,{_touchstart:t.Browser.msPointer?"MSPointerDown":t.Browser.pointer?"pointerdown":"touchstart",_touchend:t.Browser.msPointer?"MSPointerUp":t.Browser.pointer?"pointerup":"touchend",addDoubleTapListener:function(n,d,a){function onTouchStart(e){var n;if(t.Browser.pointer?(o.push(e.pointerId),n=o.length):n=e.touches.length,n>1)return;var a=Date.now(),h=a-(s||a);i=e.touches?e.touches[0]:e,r=h>0&&p>=h,s=a}function onTouchEnd(l){if(t.Browser.pointer){var h=o.indexOf(l.pointerId);if(-1===h)return;o.splice(h,1)}if(r){if(t.Browser.pointer){var n={},e;for(var a in i)e=i[a],"function"==typeof e?n[a]=e.bind(i):n[a]=e;i=n}i.type="dblclick",d(i),s=null}}var s,r=!1,p=250,i,l="_leaflet_",u=this._touchstart,c=this._touchend,o=[];n[l+u+a]=onTouchStart,n[l+c+a]=onTouchEnd;var h=t.Browser.pointer?e.documentElement:n;return n.addEventListener(u,onTouchStart,!1),h.addEventListener(c,onTouchEnd,!1),
t.Browser.pointer&&h.addEventListener(t.DomEvent.POINTER_CANCEL,onTouchEnd,!1),this},removeDoubleTapListener:function(i,n){var o="_leaflet_";return i.removeEventListener(this._touchstart,i[o+this._touchstart+n],!1),(t.Browser.pointer?e.documentElement:i).removeEventListener(this._touchend,i[o+this._touchend+n],!1),t.Browser.pointer&&e.documentElement.removeEventListener(t.DomEvent.POINTER_CANCEL,i[o+this._touchend+n],!1),this}}),t.extend(t.DomEvent,{POINTER_DOWN:t.Browser.msPointer?"MSPointerDown":"pointerdown",POINTER_MOVE:t.Browser.msPointer?"MSPointerMove":"pointermove",POINTER_UP:t.Browser.msPointer?"MSPointerUp":"pointerup",POINTER_CANCEL:t.Browser.msPointer?"MSPointerCancel":"pointercancel",_pointers:[],_pointerDocumentListener:!1,addPointerListener:function(e,t,i,n){switch(t){case"touchstart":return this.addPointerListenerStart(e,t,i,n);case"touchend":return this.addPointerListenerEnd(e,t,i,n);case"touchmove":return this.addPointerListenerMove(e,t,i,n);default:throw"Unknown touch event type"}},addPointerListenerStart:function(n,l,a,r){var h="_leaflet_",i=this._pointers,o=function(e){t.DomEvent.preventDefault(e);for(var o=!1,n=0;n<i.length;n++)if(i[n].pointerId===e.pointerId){o=!0;break}o||i.push(e),e.touches=i.slice(),e.changedTouches=[e],a(e)};if(n[h+"touchstart"+r]=o,n.addEventListener(this.POINTER_DOWN,o,!1),!this._pointerDocumentListener){var s=function(e){for(var t=0;t<i.length;t++)if(i[t].pointerId===e.pointerId){i.splice(t,1);break}};e.documentElement.addEventListener(this.POINTER_UP,s,!1),e.documentElement.addEventListener(this.POINTER_CANCEL,s,!1),this._pointerDocumentListener=!0}return this},addPointerListenerMove:function(e,s,i,n){function cb(e){if((e.pointerType===e.MSPOINTER_TYPE_MOUSE||"mouse"===e.pointerType)&&0===e.buttons)return;for(var n=0;n<t.length;n++)if(t[n].pointerId===e.pointerId){t[n]=e;break}e.touches=t.slice(),e.changedTouches=[e],i(e)}var o="_leaflet_",t=this._pointers;return e[o+"touchmove"+n]=cb,e.addEventListener(this.POINTER_MOVE,cb,!1),this},addPointerListenerEnd:function(e,a,n,o){var s="_leaflet_",t=this._pointers,i=function(e){for(var i=0;i<t.length;i++)if(t[i].pointerId===e.pointerId){t.splice(i,1);break}e.touches=t.slice(),e.changedTouches=[e],n(e)};return e[s+"touchend"+o]=i,e.addEventListener(this.POINTER_UP,i,!1),e.addEventListener(this.POINTER_CANCEL,i,!1),this},removePointerListener:function(t,i,n){var o="_leaflet_",e=t[o+i+n];switch(i){case"touchstart":t.removeEventListener(this.POINTER_DOWN,e,!1);break;case"touchmove":t.removeEventListener(this.POINTER_MOVE,e,!1);break;case"touchend":t.removeEventListener(this.POINTER_UP,e,!1),t.removeEventListener(this.POINTER_CANCEL,e,!1)}return this}}),t.Map.mergeOptions({touchZoom:t.Browser.touch&&!t.Browser.android23,bounceAtZoomLimits:!0}),t.Map.TouchZoom=t.Handler.extend({addHooks:function(){t.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){t.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(n){var i=this._map;if(!n.touches||2!==n.touches.length||i._animatingZoom||this._zooming)return;var o=i.mouseEventToLayerPoint(n.touches[0]),s=i.mouseEventToLayerPoint(n.touches[1]),a=i._getCenterLayerPoint();this._startCenter=o.add(s)._divideBy(2),this._startDist=o.distanceTo(s),this._moved=!1,this._zooming=!0,this._centerOffset=a.subtract(this._startCenter),i._panAnim&&i._panAnim.stop(),t.DomEvent.on(e,"touchmove",this._onTouchMove,this).on(e,"touchend",this._onTouchEnd,this),t.DomEvent.preventDefault(n)},_onTouchMove:function(i){var e=this._map;if(!i.touches||2!==i.touches.length||!this._zooming)return;var n=e.mouseEventToLayerPoint(i.touches[0]),o=e.mouseEventToLayerPoint(i.touches[1]);if(this._scale=n.distanceTo(o)/this._startDist,this._delta=n._add(o)._divideBy(2)._subtract(this._startCenter),1===this._scale)return;if(!e.options.bounceAtZoomLimits&&(e.getZoom()===e.getMinZoom()&&this._scale<1||e.getZoom()===e.getMaxZoom()&&this._scale>1))return;this._moved||(t.DomUtil.addClass(e._mapPane,"leaflet-touching"),e.fire("movestart").fire("zoomstart"),this._moved=!0),t.Util.cancelAnimFrame(this._animRequest),this._animRequest=t.Util.requestAnimFrame(this._updateOnMove,this,!0,this._map._container),t.DomEvent.preventDefault(i)},_updateOnMove:function(){var t=this._map,e=this._getScaleOrigin(),i=t.layerPointToLatLng(e),n=t.getScaleZoom(this._scale);t._animateZoom(i,n,this._startCenter,this._scale,this._delta,!1,!0)},_onTouchEnd:function(){if(!this._moved||!this._zooming)return void(this._zooming=!1);var i=this._map;this._zooming=!1,t.DomUtil.removeClass(i._mapPane,"leaflet-touching"),t.Util.cancelAnimFrame(this._animRequest),t.DomEvent.off(e,"touchmove",this._onTouchMove).off(e,"touchend",this._onTouchEnd);var o=this._getScaleOrigin(),r=i.layerPointToLatLng(o),s=i.getZoom(),n=i.getScaleZoom(this._scale)-s,h=n>0?Math.ceil(n):Math.floor(n),a=i._limitZoom(s+h),l=i.getZoomScale(a)/this._scale;i._animateZoom(r,a,o,l)},_getScaleOrigin:function(){var t=this._centerOffset.subtract(this._delta).divideBy(this._scale);return this._startCenter.add(t)}}),t.Map.addInitHook("addHandler","touchZoom",t.Map.TouchZoom),t.Map.mergeOptions({tap:!0,tapTolerance:15}),t.Map.Tap=t.Handler.extend({addHooks:function(){t.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){t.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(!i.touches)return;if(t.DomEvent.preventDefault(i),this._fireClick=!0,i.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var n=i.touches[0],o=n.target;this._startPos=this._newPos=new t.Point(n.clientX,n.clientY),o.tagName&&"a"===o.tagName.toLowerCase()&&t.DomUtil.addClass(o,"leaflet-active"),this._holdTimeout=setTimeout(t.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",n))},this),1e3),t.DomEvent.on(e,"touchmove",this._onMove,this).on(e,"touchend",this._onUp,this)},_onUp:function(n){if(clearTimeout(this._holdTimeout),t.DomEvent.off(e,"touchmove",this._onMove,this).off(e,"touchend",this._onUp,this),this._fireClick&&n&&n.changedTouches){var o=n.changedTouches[0],i=o.target;i&&i.tagName&&"a"===i.tagName.toLowerCase()&&t.DomUtil.removeClass(i,"leaflet-active"),this._isTapValid()&&this._simulateEvent("click",o)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(i){var e=i.touches[0];this._newPos=new t.Point(e.clientX,e.clientY)},_simulateEvent:function(o,t){var n=e.createEvent("MouseEvents");n._simulated=!0,t.target._simulatedClick=!0,n.initMouseEvent(o,!0,!0,i,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(n)}}),t.Browser.touch&&!t.Browser.pointer&&t.Map.addInitHook("addHandler","tap",t.Map.Tap),t.Map.mergeOptions({boxZoom:!0}),t.Map.BoxZoom=t.Handler.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._moved=!1},addHooks:function(){t.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){t.DomEvent.off(this._container,"mousedown",this._onMouseDown),this._moved=!1},moved:function(){return this._moved},_onMouseDown:function(i){if(this._moved=!1,!i.shiftKey||1!==i.which&&1!==i.button)return!1;t.DomUtil.disableTextSelection(),t.DomUtil.disableImageDrag(),this._startLayerPoint=this._map.mouseEventToLayerPoint(i),t.DomEvent.on(e,"mousemove",this._onMouseMove,this).on(e,"mouseup",this._onMouseUp,this).on(e,"keydown",this._onKeyDown,this)},_onMouseMove:function(s){this._moved||(this._box=t.DomUtil.create("div","leaflet-zoom-box",this._pane),t.DomUtil.setPosition(this._box,this._startLayerPoint),this._container.style.cursor="crosshair",this._map.fire("boxzoomstart"));var e=this._startLayerPoint,i=this._box,n=this._map.mouseEventToLayerPoint(s),o=n.subtract(e),a=new t.Point(Math.min(n.x,e.x),Math.min(n.y,e.y));t.DomUtil.setPosition(i,a),this._moved=!0,i.style.width=Math.max(0,Math.abs(o.x)-4)+"px",i.style.height=Math.max(0,Math.abs(o.y)-4)+"px"},_finish:function(){this._moved&&(this._pane.removeChild(this._box),this._container.style.cursor=""),t.DomUtil.enableTextSelection(),t.DomUtil.enableImageDrag(),t.DomEvent.off(e,"mousemove",this._onMouseMove).off(e,"mouseup",this._onMouseUp).off(e,"keydown",this._onKeyDown)},_onMouseUp:function(o){this._finish();var e=this._map,i=e.mouseEventToLayerPoint(o);if(this._startLayerPoint.equals(i))return;var n=new t.LatLngBounds(e.layerPointToLatLng(this._startLayerPoint),e.layerPointToLatLng(i));e.fitBounds(n),e.fire("boxzoomend",{boxZoomBounds:n})},_onKeyDown:function(t){27===t.keyCode&&this._finish()}}),t.Map.addInitHook("addHandler","boxZoom",t.Map.BoxZoom),t.Map.mergeOptions({keyboard:!0,keyboardPanOffset:80,keyboardZoomOffset:1}),t.Map.Keyboard=t.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,173]},initialize:function(t){this._map=t,this._setPanOffset(t.options.keyboardPanOffset),this._setZoomOffset(t.options.keyboardZoomOffset)},addHooks:function(){var e=this._map._container;-1===e.tabIndex&&(e.tabIndex="0"),t.DomEvent.on(e,"focus",this._onFocus,this).on(e,"blur",this._onBlur,this).on(e,"mousedown",this._onMouseDown,this),this._map.on("focus",this._addHooks,this).on("blur",this._removeHooks,this)},removeHooks:function(){this._removeHooks();var e=this._map._container;t.DomEvent.off(e,"focus",this._onFocus,this).off(e,"blur",this._onBlur,this).off(e,"mousedown",this._onMouseDown,this),this._map.off("focus",this._addHooks,this).off("blur",this._removeHooks,this)},_onMouseDown:function(){if(this._focused)return;var t=e.body,n=e.documentElement,o=t.scrollTop||n.scrollTop,s=t.scrollLeft||n.scrollLeft;this._map._container.focus(),i.scrollTo(s,o)},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanOffset:function(n){var o=this._panKeys={},e=this.keyCodes,t,i;for(t=0,i=e.left.length;i>t;t++)o[e.left[t]]=[-1*n,0];for(t=0,i=e.right.length;i>t;t++)o[e.right[t]]=[n,0];for(t=0,i=e.down.length;i>t;t++)o[e.down[t]]=[0,n];for(t=0,i=e.up.length;i>t;t++)o[e.up[t]]=[0,-1*n]},_setZoomOffset:function(n){var o=this._zoomKeys={},e=this.keyCodes,t,i;for(t=0,i=e.zoomIn.length;i>t;t++)o[e.zoomIn[t]]=n;for(t=0,i=e.zoomOut.length;i>t;t++)o[e.zoomOut[t]]=-n},_addHooks:function(){t.DomEvent.on(e,"keydown",this._onKeyDown,this)},_removeHooks:function(){t.DomEvent.off(e,"keydown",this._onKeyDown,this)},_onKeyDown:function(n){var i=n.keyCode,e=this._map;if(i in this._panKeys){if(e._panAnim&&e._panAnim._inProgress)return;e.panBy(this._panKeys[i]),e.options.maxBounds&&e.panInsideBounds(e.options.maxBounds)}else{if(!(i in this._zoomKeys))return;e.setZoom(e.getZoom()+this._zoomKeys[i])}t.DomEvent.stop(n)}}),t.Map.addInitHook("addHandler","keyboard",t.Map.Keyboard),t.Handler.MarkerDrag=t.Handler.extend({initialize:function(t){this._marker=t},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new t.Draggable(e,e)),this._draggable.on("dragstart",this._onDragStart,this).on("drag",this._onDrag,this).on("dragend",this._onDragEnd,this),this._draggable.enable(),t.DomUtil.addClass(this._marker._icon,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off("dragstart",this._onDragStart,this).off("drag",this._onDrag,this).off("dragend",this._onDragEnd,this),this._draggable.disable(),t.DomUtil.removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(){var e=this._marker,i=e._shadow,n=t.DomUtil.getPosition(e._icon),o=e._map.layerPointToLatLng(n);i&&t.DomUtil.setPosition(i,n),e._latlng=o,e.fire("move",{latlng:o}).fire("drag")},_onDragEnd:function(t){this._marker.fire("moveend").fire("dragend",t)}}),t.Control=t.Class.extend({options:{position:"topright"},initialize:function(e){t.setOptions(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this._map=e;var i=this._container=this.onAdd(e),o=this.getPosition(),n=e._controlCorners[o];return t.DomUtil.addClass(i,"leaflet-control"),-1!==o.indexOf("bottom")?n.insertBefore(i,n.firstChild):n.appendChild(i),this},removeFrom:function(t){var e=this.getPosition(),i=t._controlCorners[e];return i.removeChild(this._container),this._map=null,this.onRemove&&this.onRemove(t),this},_refocusOnMap:function(){this._map&&this._map.getContainer().focus()}}),t.control=function(e){return new t.Control(e)},t.Map.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.removeFrom(this),this},_initControlPos:function(){function createCorner(o,s){var a=e+o+" "+e+s;i[o+s]=t.DomUtil.create("div",a,n)}var i=this._controlCorners={},e="leaflet-",n=this._controlContainer=t.DomUtil.create("div",e+"control-container",this._container);createCorner("top","left"),createCorner("top","right"),createCorner("bottom","left"),createCorner("bottom","right")},_clearControlPos:function(){this._container.removeChild(this._controlContainer)}}),t.Control.Zoom=t.Control.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out"},onAdd:function(n){var e="leaflet-control-zoom",i=t.DomUtil.create("div",e+" leaflet-bar");return this._map=n,this._zoomInButton=this._createButton(this.options.zoomInText,this.options.zoomInTitle,e+"-in",i,this._zoomIn,this),this._zoomOutButton=this._createButton(this.options.zoomOutText,this.options.zoomOutTitle,e+"-out",i,this._zoomOut,this),this._updateDisabled(),n.on("zoomend zoomlevelschange",this._updateDisabled,this),i},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},_zoomIn:function(t){this._map.zoomIn(t.shiftKey?3:1)},_zoomOut:function(t){this._map.zoomOut(t.shiftKey?3:1)},_createButton:function(o,s,a,r,h,n){var e=t.DomUtil.create("a",a,r);e.innerHTML=o,e.href="#",e.title=s;var i=t.DomEvent.stopPropagation;return t.DomEvent.on(e,"click",i).on(e,"mousedown",i).on(e,"dblclick",i).on(e,"click",t.DomEvent.preventDefault).on(e,"click",h,n).on(e,"click",this._refocusOnMap,n),e},_updateDisabled:function(){var e=this._map,i="leaflet-disabled";t.DomUtil.removeClass(this._zoomInButton,i),t.DomUtil.removeClass(this._zoomOutButton,i),e._zoom===e.getMinZoom()&&t.DomUtil.addClass(this._zoomOutButton,i),e._zoom===e.getMaxZoom()&&t.DomUtil.addClass(this._zoomInButton,i)}}),t.Map.mergeOptions({zoomControl:!0}),t.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new t.Control.Zoom,this.addControl(this.zoomControl))}),t.control.zoom=function(e){return new t.Control.Zoom(e)},t.Control.Attribution=t.Control.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(e){t.setOptions(this,e),this._attributions={}},onAdd:function(e){this._container=t.DomUtil.create("div","leaflet-control-attribution"),t.DomEvent.disableClickPropagation(this._container);for(var i in e._layers)e._layers[i].getAttribution&&this.addAttribution(e._layers[i].getAttribution());return e.on("layeradd",this._onLayerAdd,this).on("layerremove",this._onLayerRemove,this),this._update(),this._container},onRemove:function(t){t.off("layeradd",this._onLayerAdd).off("layerremove",this._onLayerRemove)},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){if(!t)return;return this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this},removeAttribution:function(t){if(!t)return;return this._attributions[t]&&(this._attributions[t]--,this._update()),this},_update:function(){if(!this._map)return;var t=[];for(var i in this._attributions)this._attributions[i]&&t.push(i);var e=[];this.options.prefix&&e.push(this.options.prefix),t.length&&e.push(t.join(", ")),this._container.innerHTML=e.join(" | ")},_onLayerAdd:function(t){t.layer.getAttribution&&this.addAttribution(t.layer.getAttribution())},_onLayerRemove:function(t){t.layer.getAttribution&&this.removeAttribution(t.layer.getAttribution())}}),t.Map.mergeOptions({attributionControl:!0}),t.Map.addInitHook(function(){this.options.attributionControl&&(this.attributionControl=(new t.Control.Attribution).addTo(this))}),t.control.attribution=function(e){return new t.Control.Attribution(e)},t.Control.Scale=t.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0,updateWhenIdle:!1},onAdd:function(e){this._map=e;var i="leaflet-control-scale",n=t.DomUtil.create("div",i),o=this.options;return this._addScales(o,i,n),e.on(o.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),n},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,i,n){e.metric&&(this._mScale=t.DomUtil.create("div",i+"-line",n)),e.imperial&&(this._iScale=t.DomUtil.create("div",i+"-line",n))},_update:function(){var t=this._map.getBounds(),o=t.getCenter().lat,s=6378137*Math.PI*Math.cos(o*Math.PI/180),a=s*(t.getNorthEast().lng-t.getSouthWest().lng)/180,e=this._map.getSize(),i=this.options,n=0;e.x>0&&(n=a*(i.maxWidth/e.x)),this._updateScales(i,n)},_updateScales:function(e,t){e.metric&&t&&this._updateMetric(t),e.imperial&&t&&this._updateImperial(t)},_updateMetric:function(e){var t=this._getRoundNum(e);this._mScale.style.width=this._getScaleWidth(t/e)+"px",this._mScale.innerHTML=1e3>t?t+" m":t/1e3+" km"},_updateImperial:function(s){var t=3.2808399*s,e=this._iScale,i,n,o;t>5280?(i=t/5280,n=this._getRoundNum(i),e.style.width=this._getScaleWidth(n/i)+"px",e.innerHTML=n+" mi"):(o=this._getRoundNum(t),e.style.width=this._getScaleWidth(o/t)+"px",e.innerHTML=o+" ft")},_getScaleWidth:function(t){return Math.round(this.options.maxWidth*t)-10},_getRoundNum:function(e){var i=Math.pow(10,(Math.floor(e)+"").length-1),t=e/i;return t=t>=10?10:t>=5?5:t>=3?3:t>=2?2:1,i*t}}),t.control.scale=function(e){return new t.Control.Scale(e)},t.Control.Layers=t.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0},initialize:function(i,n,o){t.setOptions(this,o),this._layers={},this._lastZIndex=0,this._handlingClick=!1;for(var e in i)this._addLayer(i[e],e);for(e in n)this._addLayer(n[e],e,!0)},onAdd:function(t){return this._initLayout(),this._update(),t.on("layeradd",this._onLayerChange,this).on("layerremove",this._onLayerChange,this),this._container},onRemove:function(t){t.off("layeradd",this._onLayerChange,this).off("layerremove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._update(),this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._update(),this},removeLayer:function(e){var i=t.stamp(e);return delete this._layers[i],this._update(),this},_initLayout:function(){var i="leaflet-control-layers",e=this._container=t.DomUtil.create("div",i);e.setAttribute("aria-haspopup",!0),t.Browser.touch?t.DomEvent.on(e,"click",t.DomEvent.stopPropagation):t.DomEvent.disableClickPropagation(e).disableScrollPropagation(e);var n=this._form=t.DomUtil.create("form",i+"-list");if(this.options.collapsed){t.Browser.android||t.DomEvent.on(e,"mouseover",this._expand,this).on(e,"mouseout",this._collapse,this);var o=this._layersLink=t.DomUtil.create("a",i+"-toggle",e);o.href="#",o.title="Layers",t.Browser.touch?t.DomEvent.on(o,"click",t.DomEvent.stop).on(o,"click",this._expand,this):t.DomEvent.on(o,"focus",this._expand,this),t.DomEvent.on(n,"click",function(){setTimeout(t.bind(this._onInputClick,this),0)},this),this._map.on("click",this._collapse,this)}else this._expand();this._baseLayersList=t.DomUtil.create("div",i+"-base",n),this._separator=t.DomUtil.create("div",i+"-separator",n),this._overlaysList=t.DomUtil.create("div",i+"-overlays",n),e.appendChild(n)},_addLayer:function(e,i,n){var o=t.stamp(e);this._layers[o]={layer:e,name:i,overlay:n},this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex))},_update:function(){if(!this._container)return;this._baseLayersList.innerHTML="",this._overlaysList.innerHTML="";var e=!1,i=!1,n,t;for(n in this._layers)t=this._layers[n],this._addItem(t),i=i||t.overlay,e=e||!t.overlay;this._separator.style.display=i&&e?"":"none"},_onLayerChange:function(e){var i=this._layers[t.stamp(e.layer)];if(!i)return;this._handlingClick||this._update();var n=i.overlay?"layeradd"===e.type?"overlayadd":"overlayremove":"layeradd"===e.type?"baselayerchange":null;n&&this._map.fire(n,i)},_createRadioElement:function(n,o){var t='<input type="radio" class="leaflet-control-layers-selector" name="'+n+'"';o&&(t+=' checked="checked"'),t+="/>";var i=e.createElement("div");return i.innerHTML=t,i.firstChild},_addItem:function(n){var o=e.createElement("label"),i,s=this._map.hasLayer(n.layer);n.overlay?(i=e.createElement("input"),i.type="checkbox",i.className="leaflet-control-layers-selector",i.defaultChecked=s):i=this._createRadioElement("leaflet-base-layers",s),i.layerId=t.stamp(n.layer),t.DomEvent.on(i,"click",this._onInputClick,this);var a=e.createElement("span");a.innerHTML=" "+n.name,o.appendChild(i),o.appendChild(a);var r=n.overlay?this._overlaysList:this._baseLayersList;return r.appendChild(o),o},_onInputClick:function(){var e,i,t,n=this._form.getElementsByTagName("input"),o=n.length;for(this._handlingClick=!0,e=0;o>e;e++)i=n[e],t=this._layers[i.layerId],i.checked&&!this._map.hasLayer(t.layer)?this._map.addLayer(t.layer):!i.checked&&this._map.hasLayer(t.layer)&&this._map.removeLayer(t.layer);this._handlingClick=!1,this._refocusOnMap()},_expand:function(){t.DomUtil.addClass(this._container,"leaflet-control-layers-expanded")},_collapse:function(){this._container.className=this._container.className.replace(" leaflet-control-layers-expanded","")}}),t.control.layers=function(e,i,n){return new t.Control.Layers(e,i,n)},t.PosAnimation=t.Class.extend({includes:t.Mixin.Events,run:function(e,i,n,o){this.stop(),this._el=e,this._inProgress=!0,this._newPos=i,this.fire("start"),e.style[t.DomUtil.TRANSITION]="all "+(n||.25)+"s cubic-bezier(0,0,"+(o||.5)+",1)",t.DomEvent.on(e,t.DomUtil.TRANSITION_END,this._onTransitionEnd,this),t.DomUtil.setPosition(e,i),t.Util.falseFn(e.offsetWidth),this._stepTimer=setInterval(t.bind(this._onStep,this),50)},stop:function(){if(!this._inProgress)return;t.DomUtil.setPosition(this._el,this._getPos()),this._onTransitionEnd(),t.Util.falseFn(this._el.offsetWidth)},_onStep:function(){var t=this._getPos();if(!t)return void this._onTransitionEnd();this._el._leaflet_pos=t,this.fire("step")},_transformRe:/([-+]?(?:\d*\.)?\d+)\D*, ([-+]?(?:\d*\.)?\d+)\D*\)/,_getPos:function(){var n,o,e,a=this._el,s=i.getComputedStyle(a);if(t.Browser.any3d){if(e=s[t.DomUtil.TRANSFORM].match(this._transformRe),!e)return;n=parseFloat(e[1]),o=parseFloat(e[2])}else n=parseFloat(s.left),o=parseFloat(s.top);return new t.Point(n,o,!0)},_onTransitionEnd:function(){if(t.DomEvent.off(this._el,t.DomUtil.TRANSITION_END,this._onTransitionEnd,this),!this._inProgress)return;this._inProgress=!1,this._el.style[t.DomUtil.TRANSITION]="",this._el._leaflet_pos=this._newPos,clearInterval(this._stepTimer),this.fire("step").fire("end")}}),t.Map.include({setView:function(o,i,e){if(i=i===n?this._zoom:this._limitZoom(i),o=this._limitCenter(t.latLng(o),i,this.options.maxBounds),e=e||{},this._panAnim&&this._panAnim.stop(),this._loaded&&!e.reset&&e!==!0){e.animate!==n&&(e.zoom=t.extend({animate:e.animate},e.zoom),e.pan=t.extend({animate:e.animate},e.pan));var s=this._zoom!==i?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,i,e.zoom):this._tryAnimatedPan(o,e.pan);if(s)return clearTimeout(this._sizeTimer),this}return this._resetView(o,i),this},panBy:function(e,i){if(e=t.point(e).round(),i=i||{},!e.x&&!e.y)return this;if(this._panAnim||(this._panAnim=new t.PosAnimation,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),i.noMoveStart||this.fire("movestart"),i.animate!==!1){t.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(e);this._panAnim.run(this._mapPane,n,i.duration||.25,i.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){t.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,t){var e=this._getCenterOffset(i)._floor();if((t&&t.animate)!==!0&&!this.getSize().contains(e))return!1;return this.panBy(e,t),!0}}),t.PosAnimation=t.DomUtil.TRANSITION?t.PosAnimation:t.PosAnimation.extend({run:function(e,i,n,o){this.stop(),this._el=e,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(o||.5,.2),this._startPos=t.DomUtil.getPosition(e),this._offset=i.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){if(!this._inProgress)return;this._step(),this._complete()},_animate:function(){this._animId=t.Util.requestAnimFrame(this._animate,this),this._step()},_step:function(){var t=+new Date-this._startTime,e=1e3*this._duration;e>t?this._runFrame(this._easeOut(t/e)):(this._runFrame(1),this._complete())},_runFrame:function(e){var i=this._startPos.add(this._offset.multiplyBy(e));t.DomUtil.setPosition(this._el,i),this.fire("step")},_complete:function(){t.Util.cancelAnimFrame(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),t.Map.mergeOptions({zoomAnimation:!0,zoomAnimationThreshold:4}),t.DomUtil.TRANSITION&&t.Map.addInitHook(function(){this._zoomAnimated=this.options.zoomAnimation&&t.DomUtil.TRANSITION&&t.Browser.any3d&&!t.Browser.android23&&!t.Browser.mobileOpera,this._zoomAnimated&&t.DomEvent.on(this._mapPane,t.DomUtil.TRANSITION_END,this._catchTransitionEnd,this)}),t.Map.include(t.DomUtil.TRANSITION?{_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,e,t){if(this._animatingZoom)return!0;if(t=t||{},!this._zoomAnimated||t.animate===!1||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var n=this.getZoomScale(e),o=this._getCenterOffset(i)._divideBy(1-1/n),s=this._getCenterLayerPoint()._add(o);if(t.animate!==!0&&!this.getSize().contains(o))return!1;return this.fire("movestart").fire("zoomstart"),this._animateZoom(i,e,s,n,null,!0),!0},_animateZoom:function(e,i,n,o,s,a,r){r||(this._animatingZoom=!0),t.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim"),this._animateToCenter=e,this._animateToZoom=i,t.Draggable&&(t.Draggable._disabled=!0),t.Util.requestAnimFrame(function(){this.fire("zoomanim",{center:e,zoom:i,origin:n,scale:o,delta:s,backwards:a})},this)},_onZoomTransitionEnd:function(){this._animatingZoom=!1,t.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim"),this._resetView(this._animateToCenter,this._animateToZoom,!0,!0),t.Draggable&&(t.Draggable._disabled=!1)}}:{}),t.TileLayer.include({_animateZoom:function(e){this._animating||(this._animating=!0,this._prepareBgBuffer());var i=this._bgBuffer,n=t.DomUtil.TRANSFORM,o=e.delta?t.DomUtil.getTranslateString(e.delta):i.style[n],s=t.DomUtil.getScaleString(e.scale,e.origin);i.style[n]=e.backwards?s+" "+o:o+" "+s},_endZoomAnim:function(){var e=this._tileContainer,i=this._bgBuffer;e.style.visibility="",e.parentNode.appendChild(e),t.Util.falseFn(i.offsetWidth),this._animating=!1},_clearBgBuffer:function(){var e=this._map;!e||e._animatingZoom||e.touchZoom._zooming||(this._bgBuffer.innerHTML="",this._bgBuffer.style[t.DomUtil.TRANSFORM]="")},_prepareBgBuffer:function(){var i=this._tileContainer,e=this._bgBuffer,n=this._getLoadedTilesPercentage(e),o=this._getLoadedTilesPercentage(i);if(e&&n>.5&&.5>o)return i.style.visibility="hidden",void this._stopLoadingImages(i);e.style.visibility="hidden",e.style[t.DomUtil.TRANSFORM]="",this._tileContainer=e,e=this._bgBuffer=i,this._stopLoadingImages(e),clearTimeout(this._clearBgBufferTimer)},_getLoadedTilesPercentage:function(o){var i=o.getElementsByTagName("img"),t,e,n=0;for(t=0,e=i.length;e>t;t++)i[t].complete&&n++;return n/e},_stopLoadingImages:function(s){var n=Array.prototype.slice.call(s.getElementsByTagName("img")),i,o,e;for(i=0,o=n.length;o>i;i++)e=n[i],e.complete||(e.onload=t.Util.falseFn,e.onerror=t.Util.falseFn,e.src=t.Util.emptyImageUrl,e.parentNode.removeChild(e))}}),t.Map.include({_defaultLocateOptions:{watch:!1,setView:!1,maxZoom:1/0,timeout:1e4,maximumAge:0,enableHighAccuracy:!1},locate:function(e){if(e=this._locateOptions=t.extend(this._defaultLocateOptions,e),!navigator.geolocation)return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var i=t.bind(this._handleGeolocationResponse,this),n=t.bind(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(i,n,e):navigator.geolocation.getCurrentPosition(i,n,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){var t=e.code,i=e.message||(1===t?"permission denied":2===t?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+i+"."})},_handleGeolocationResponse:function(e){var i=e.coords.latitude,n=e.coords.longitude,a=new t.LatLng(i,n),s=180*e.coords.accuracy/40075017,u=s/Math.cos(t.LatLng.DEG_TO_RAD*i),r=t.latLngBounds([i-s,n-u],[i+s,n+u]),h=this._locateOptions;if(h.setView){var c=Math.min(this.getBoundsZoom(r),h.maxZoom);this.setView(a,c)}var l={latlng:a,bounds:r,timestamp:e.timestamp};for(var o in e.coords)"number"==typeof e.coords[o]&&(l[o]=e.coords[o]);this.fire("locationfound",l)}})}(window,document);

define('css!vendor/cnpm/leaflet.v0-7/leaflet',[],function(){})
define("vendor/cnpm/Leaflet.markercluster.v0-4/leaflet.markercluster-src",["require","leaflet"],function(require){!function(i,e,n){var t=require("leaflet");t.MarkerClusterGroup=t.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animateAddingMarkers:!1,spiderfyDistanceMultiplier:1,chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(e){t.Util.setOptions(this,e),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=t.featureGroup(),this._featureGroup.on(t.FeatureGroup.EVENTS,this._propagateEvent,this),this._nonPointGroup=t.featureGroup(),this._nonPointGroup.on(t.FeatureGroup.EVENTS,this._propagateEvent,this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[]},addLayer:function(e){if(e instanceof t.LayerGroup){var n=[];for(var s in e._layers)n.push(e._layers[s]);return this.addLayers(n)}if(!e.getLatLng)return this._nonPointGroup.addLayer(e),this;if(!this._map)return this._needsClustering.push(e),this;if(this.hasLayer(e))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(e,this._maxZoom);var i=e,r=this._map.getZoom();if(e.__parent)for(;i.__parent._zoom>=r;)i=i.__parent;return this._currentShownBounds.contains(i.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(e,i):this._animationAddLayerNonAnimated(e,i)),this},removeLayer:function(e){if(e instanceof t.LayerGroup){var i=[];for(var n in e._layers)i.push(e._layers[n]);return this.removeLayers(i)}if(!e.getLatLng)return this._nonPointGroup.removeLayer(e),this;if(!this._map)return!this._arraySplice(this._needsClustering,e)&&this.hasLayer(e)&&this._needsRemoving.push(e),this;if(!e.__parent)return this;return this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(e)),this._removeLayer(e,!0),this._featureGroup.hasLayer(e)&&(this._featureGroup.removeLayer(e),e.setOpacity&&e.setOpacity(1)),this},addLayers:function(i){var l=this._featureGroup,h=this._nonPointGroup,p=this.options.chunkedLoading,d=this.options.chunkInterval,o=this.options.chunkProgress,r,s,a,e;if(this._map){var n=0,c=(new Date).getTime(),u=t.bind(function(){for(var r=(new Date).getTime();n<i.length;n++){if(p&&n%200===0){var a=(new Date).getTime()-r;if(a>d)break}if(e=i[n],!e.getLatLng){h.addLayer(e);continue}if(this.hasLayer(e))continue;if(this._addLayer(e,this._maxZoom),e.__parent&&2===e.__parent.getChildCount()){var s=e.__parent.getAllChildMarkers(),f=s[0]===e?s[1]:s[0];l.removeLayer(f)}}o&&o(n,i.length,(new Date).getTime()-c),n===i.length?(this._featureGroup.eachLayer(function(e){e instanceof t.MarkerCluster&&e._iconNeedsUpdate&&e._updateIcon()}),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(u,this.options.chunkDelay)},this);u()}else{for(r=[],s=0,a=i.length;a>s;s++){if(e=i[s],!e.getLatLng){h.addLayer(e);continue}if(this.hasLayer(e))continue;r.push(e)}this._needsClustering=this._needsClustering.concat(r)}return this},removeLayers:function(n){var i,s,e,r=this._featureGroup,o=this._nonPointGroup;if(!this._map){for(i=0,s=n.length;s>i;i++)e=n[i],this._arraySplice(this._needsClustering,e),o.removeLayer(e);return this}for(i=0,s=n.length;s>i;i++){if(e=n[i],!e.__parent){o.removeLayer(e);continue}this._removeLayer(e,!0,!0),r.hasLayer(e)&&(r.removeLayer(e),e.setOpacity&&e.setOpacity(1))}return this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),r.eachLayer(function(e){e instanceof t.MarkerCluster&&e._updateIcon()}),this},clearLayers:function(){return this._map||(this._needsClustering=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(t){delete t.__parent}),this._map&&this._generateInitialClusters(),this},getBounds:function(){var e=new t.LatLngBounds;this._topClusterLevel&&e.extend(this._topClusterLevel._bounds);for(var i=this._needsClustering.length-1;i>=0;i--)e.extend(this._needsClustering[i].getLatLng());return e.extend(this._nonPointGroup.getBounds()),e},eachLayer:function(i,n){var e=this._needsClustering.slice(),t;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(e),t=e.length-1;t>=0;t--)i.call(n,e[t]);this._nonPointGroup.eachLayer(i,n)},getLayers:function(){var t=[];return this.eachLayer(function(e){t.push(e)}),t},getLayer:function(i){var e=null;return this.eachLayer(function(n){t.stamp(n)===i&&(e=n)}),e},hasLayer:function(e){if(!e)return!1;var t,i=this._needsClustering;for(t=i.length-1;t>=0;t--)if(i[t]===e)return!0;for(i=this._needsRemoving,t=i.length-1;t>=0;t--)if(i[t]===e)return!1;return!(!e.__parent||e.__parent._group!==this)||this._nonPointGroup.hasLayer(e)},zoomToShowLayer:function(t,n){var e=function(){if((t._icon||t.__parent._icon)&&!this._inZoomAnimation)if(this._map.off("moveend",e,this),this.off("animationend",e,this),t._icon)n();else if(t.__parent._icon){var i=function(){this.off("spiderfied",i,this),n()};this.on("spiderfied",i,this),t.__parent.spiderfy()}};if(t._icon&&this._map.getBounds().contains(t.getLatLng()))n();else if(t.__parent._zoom<this._map.getZoom())this._map.on("moveend",e,this),this._map.panTo(t.getLatLng());else{var i=function(){this._map.off("movestart",i,this),i=null};this._map.on("movestart",i,this),this._map.on("moveend",e,this),this.on("animationend",e,this),t.__parent.zoomToBounds(),i&&e.call(this)}},onAdd:function(i){this._map=i;var t,e,n;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.onAdd(i),this._nonPointGroup.onAdd(i),this._gridClusters||this._generateInitialClusters(),t=0,e=this._needsRemoving.length;e>t;t++)n=this._needsRemoving[t],this._removeLayer(n,!0);this._needsRemoving=[],this._zoom=this._map.getZoom(),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),e=this._needsClustering,this._needsClustering=[],this.addLayers(e)},onRemove:function(t){t.off("zoomend",this._zoomEnd,this),t.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),this._hideCoverage(),this._featureGroup.onRemove(t),this._nonPointGroup.onRemove(t),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(e){for(var t=e;t&&!t._icon;)t=t.__parent;return t||null},_arraySplice:function(e,i){for(var t=e.length-1;t>=0;t--)if(e[t]===i)return e.splice(t,1),!0},_removeLayer:function(e,o,a){var u=this._gridClusters,r=this._gridUnclustered,h=this._featureGroup,s=this._map;if(o)for(var n=this._maxZoom;n>=0&&r[n].removeObject(e,s.project(e.getLatLng(),n));n--);var t=e.__parent,l=t._markers,i;for(this._arraySplice(l,e);t&&(t._childCount--,!(t._zoom<0));)o&&t._childCount<=1?(i=t._markers[0]===e?t._markers[1]:t._markers[0],u[t._zoom].removeObject(t,s.project(t._cLatLng,t._zoom)),r[t._zoom].addObject(i,s.project(i.getLatLng(),t._zoom)),this._arraySplice(t.__parent._childClusters,t),t.__parent._markers.push(i),i.__parent=t.__parent,t._icon&&(h.removeLayer(t),a||h.addLayer(i))):(t._recalculateBounds(),a&&t._icon||t._updateIcon()),t=t.__parent;delete e.__parent},_isOrIsParent:function(e,t){for(;t;){if(e===t)return!0;t=t.parentNode}return!1},_propagateEvent:function(e){if(e.layer instanceof t.MarkerCluster){if(e.originalEvent&&this._isOrIsParent(e.layer._icon,e.originalEvent.relatedTarget))return;e.type="cluster"+e.type}this.fire(e.type,e)},_defaultIconCreateFunction:function(n){var e=n.getChildCount(),i=" marker-cluster-";return i+=10>e?"small":100>e?"medium":"large",new t.DivIcon({html:"<div><span>"+e+"</span></div>",className:"marker-cluster"+i,iconSize:new t.Point(40,40)})},_bindEvents:function(){var t=this._map,e=this.options.spiderfyOnMaxZoom,i=this.options.showCoverageOnHover,n=this.options.zoomToBoundsOnClick;(e||n)&&this.on("clusterclick",this._zoomOrSpiderfy,this),i&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),t.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(t){var e=this._map;e.getMaxZoom()===e.getZoom()?this.options.spiderfyOnMaxZoom&&t.layer.spiderfy():this.options.zoomToBoundsOnClick&&t.layer.zoomToBounds(),t.originalEvent&&13===t.originalEvent.keyCode&&e._container.focus()},_showCoverage:function(e){var i=this._map;if(this._inZoomAnimation)return;this._shownPolygon&&i.removeLayer(this._shownPolygon),e.layer.getChildCount()>2&&e.layer!==this._spiderfied&&(this._shownPolygon=new t.Polygon(e.layer.getConvexHull(),this.options.polygonOptions),i.addLayer(this._shownPolygon))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var t=this.options.spiderfyOnMaxZoom,e=this.options.showCoverageOnHover,i=this.options.zoomToBoundsOnClick,n=this._map;(t||i)&&this.off("clusterclick",this._zoomOrSpiderfy,this),e&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),n.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){if(!this._map)return;this._mergeSplitClusters(),this._zoom=this._map._zoom,this._currentShownBounds=this._getExpandedVisibleBounds()},_moveEnd:function(){if(this._inZoomAnimation)return;var t=this._getExpandedVisibleBounds();return this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._zoom,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._map._zoom,t),void(this._currentShownBounds=t)},_generateInitialClusters:function(){var i=this._map.getMaxZoom(),n=this.options.maxClusterRadius,s=n;"function"!=typeof n&&(s=function(){return n}),this.options.disableClusteringAtZoom&&(i=this.options.disableClusteringAtZoom-1),this._maxZoom=i,this._gridClusters={},this._gridUnclustered={};for(var e=i;e>=0;e--)this._gridClusters[e]=new t.DistanceGrid(s(e)),this._gridUnclustered[e]=new t.DistanceGrid(s(e));this._topClusterLevel=new t.MarkerCluster(this,-1)},_addLayer:function(s,e){var h=this._gridClusters,u=this._gridUnclustered,o,i;for(this.options.singleMarkerMode&&(s.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[s]}}));e>=0;e--){o=this._map.project(s.getLatLng(),e);var n=h[e].getNearObject(o);if(n)return n._addChild(s),void(s.__parent=n);if(n=u[e].getNearObject(o)){var l=n.__parent;l&&this._removeLayer(n,!1);var r=new t.MarkerCluster(this,e,n,s);h[e].addObject(r,this._map.project(r._cLatLng,e)),n.__parent=r,s.__parent=r;var a=r;for(i=e-1;i>l._zoom;i--)a=new t.MarkerCluster(this,i,a),h[i].addObject(a,this._map.project(n.getLatLng(),i));for(l._addChild(a),i=e;i>=0&&u[i].removeObject(n,this._map.project(n.getLatLng(),i));i--);return}u[e].addObject(s,o)}return this._topClusterLevel._addChild(s),void(s.__parent=this._topClusterLevel)},_enqueue:function(e){this._queue.push(e),this._queueTimeout||(this._queueTimeout=setTimeout(t.bind(this._processQueue,this),300))},_processQueue:function(){for(var t=0;t<this._queue.length;t++)this._queue[t].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){this._processQueue(),this._zoom<this._map._zoom&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,this._map._zoom)):this._zoom>this._map._zoom?(this._animationStart(),this._animationZoomOut(this._zoom,this._map._zoom)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(!this.options.removeOutsideVisibleBounds)return this._map.getBounds();var o=this._map,n=o.getBounds(),e=n._southWest,i=n._northEast,s=t.Browser.mobile?0:Math.abs(e.lat-i.lat),r=t.Browser.mobile?0:Math.abs(e.lng-i.lng);return new t.LatLngBounds(new t.LatLng(e.lat-s,e.lng-r,!0),new t.LatLng(i.lat+s,i.lng+r,!0))},_animationAddLayerNonAnimated:function(e,t){if(t===e)this._featureGroup.addLayer(e);else if(2===t._childCount){t._addToMap();var i=t.getAllChildMarkers();this._featureGroup.removeLayer(i[0]),this._featureGroup.removeLayer(i[1])}else t._updateIcon()}}),t.MarkerClusterGroup.include(t.DomUtil.TRANSITION?{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_animationZoomIn:function(n,i){var e=this._getExpandedVisibleBounds(),s=this._featureGroup,r;this._topClusterLevel._recursively(e,n,0,function(t){var o=t._latlng,h=t._markers,a;for(e.contains(o)||(o=null),t._isSingleParent()&&n+1===i?(s.removeLayer(t),t._recursivelyAddChildrenToMap(null,i,e)):(t.setOpacity(0),t._recursivelyAddChildrenToMap(o,i,e)),r=h.length-1;r>=0;r--)a=h[r],e.contains(a._latlng)||s.removeLayer(a)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(e,i),s.eachLayer(function(e){e instanceof t.MarkerCluster||!e._icon||e.setOpacity(1)}),this._topClusterLevel._recursively(e,n,i,function(t){t._recursivelyRestoreChildPositions(i)}),this._enqueue(function(){this._topClusterLevel._recursively(e,n,0,function(t){s.removeLayer(t),t.setOpacity(1)}),this._animationEnd()})},_animationZoomOut:function(t,e){this._animationZoomOutSingle(this._topClusterLevel,t-1,e),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,t,this._getExpandedVisibleBounds())},_animationZoomOutSingle:function(t,n,i){var e=this._getExpandedVisibleBounds();t._recursivelyAnimateChildrenInAndAddSelfToMap(e,n+1,i);var s=this;this._forceLayout(),t._recursivelyBecomeVisible(e,i),this._enqueue(function(){if(1===t._childCount){var r=t._markers[0];r.setLatLng(r.getLatLng()),r.setOpacity&&r.setOpacity(1)}else t._recursively(e,i,0,function(t){t._recursivelyRemoveChildrenFromMap(e,n+1)});s._animationEnd()})},_animationAddLayer:function(t,e){var i=this,n=this._featureGroup;n.addLayer(t),e!==t&&(e._childCount>2?(e._updateIcon(),this._forceLayout(),this._animationStart(),t._setPos(this._map.latLngToLayerPoint(e.getLatLng())),t.setOpacity(0),this._enqueue(function(){n.removeLayer(t),t.setOpacity(1),i._animationEnd()})):(this._forceLayout(),i._animationStart(),i._animationZoomOutSingle(e,this._map.getMaxZoom(),this._map.getZoom())))},_forceLayout:function(){t.Util.falseFn(e.body.offsetWidth)}}:{_animationStart:function(){},_animationZoomIn:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(t,e){this._animationAddLayerNonAnimated(t,e)}}),t.markerClusterGroup=function(e){return new t.MarkerClusterGroup(e)},t.MarkerCluster=t.Marker.extend({initialize:function(n,s,e,i){t.Marker.prototype.initialize.call(this,e?e._cLatLng||e.getLatLng():new t.LatLng(0,0),{icon:this}),this._group=n,this._zoom=s,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._bounds=new t.LatLngBounds,e&&this._addChild(e),i&&this._addChild(i)},getAllChildMarkers:function(t){t=t||[];for(var e=this._childClusters.length-1;e>=0;e--)this._childClusters[e].getAllChildMarkers(t);for(var i=this._markers.length-1;i>=0;i--)t.push(this._markers[i]);return t},getChildCount:function(){return this._childCount},zoomToBounds:function(){for(var t=this._childClusters.slice(),r=this._group._map,n=r.getBoundsZoom(this._bounds),e=this._zoom+1,o=r.getZoom(),i;t.length>0&&n>e;){e++;var s=[];for(i=0;i<t.length;i++)s=s.concat(t[i]._childClusters);t=s}n>e?this._group._map.setView(this._latlng,e):o>=n?this._group._map.setView(this._latlng,o+1):this._group._map.fitBounds(this._bounds)},getBounds:function(){var e=new t.LatLngBounds;return e.extend(this._bounds),e},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(e,i){this._iconNeedsUpdate=!0,this._expandBounds(e),e instanceof t.MarkerCluster?(i||(this._childClusters.push(e),e.__parent=this),this._childCount+=e._childCount):(i||this._markers.push(e),this._childCount++),this.__parent&&this.__parent._addChild(e,!0)},_expandBounds:function(e){var n,i=e._wLatLng||e._latlng;e instanceof t.MarkerCluster?(this._bounds.extend(e._bounds),n=e._childCount):(this._bounds.extend(i),n=1),this._cLatLng||(this._cLatLng=e._cLatLng||i);var s=this._childCount+n;this._wLatLng?(this._wLatLng.lat=(i.lat*n+this._wLatLng.lat*this._childCount)/s,this._wLatLng.lng=(i.lng*n+this._wLatLng.lng*this._childCount)/s):this._latlng=this._wLatLng=new t.LatLng(i.lat,i.lng)},_addToMap:function(t){t&&(this._backupLatlng=this._latlng,this.setLatLng(t)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(e,t,i){this._recursively(e,0,i-1,function(s){var n=s._markers,e,i;for(e=n.length-1;e>=0;e--)i=n[e],i._icon&&(i._setPos(t),i.setOpacity(0))},function(s){var n=s._childClusters,e,i;for(e=n.length-1;e>=0;e--)i=n[e],i._icon&&(i._setPos(t),i.setOpacity(0))})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(t,e,i){this._recursively(t,i,0,function(n){n._recursivelyAnimateChildrenIn(t,n._group._map.latLngToLayerPoint(n.getLatLng()).round(),e),n._isSingleParent()&&e-1===i?(n.setOpacity(1),n._recursivelyRemoveChildrenFromMap(t,e)):n.setOpacity(0),n._addToMap()})},_recursivelyBecomeVisible:function(t,e){this._recursively(t,0,e,null,function(t){t.setOpacity(1)})},_recursivelyAddChildrenToMap:function(t,e,i){this._recursively(i,-1,e,function(s){if(e===s._zoom)return;for(var r=s._markers.length-1;r>=0;r--){var n=s._markers[r];if(!i.contains(n._latlng))continue;t&&(n._backupLatlng=n.getLatLng(),n.setLatLng(t),n.setOpacity&&n.setOpacity(0)),s._group._featureGroup.addLayer(n)}},function(e){e._addToMap(t)})},_recursivelyRestoreChildPositions:function(s){for(var e=this._markers.length-1;e>=0;e--){var t=this._markers[e];t._backupLatlng&&(t.setLatLng(t._backupLatlng),delete t._backupLatlng)}if(s-1===this._zoom)for(var i=this._childClusters.length-1;i>=0;i--)this._childClusters[i]._restorePosition();else for(var n=this._childClusters.length-1;n>=0;n--)this._childClusters[n]._recursivelyRestoreChildPositions(s)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(n,s,i){var t,e;this._recursively(n,-1,s-1,function(n){for(e=n._markers.length-1;e>=0;e--)t=n._markers[e],i&&i.contains(t._latlng)||(n._group._featureGroup.removeLayer(t),t.setOpacity&&t.setOpacity(1))},function(n){for(e=n._childClusters.length-1;e>=0;e--)t=n._childClusters[e],i&&i.contains(t._latlng)||(n._group._featureGroup.removeLayer(t),t.setOpacity&&t.setOpacity(1))})},_recursively:function(i,a,n,s,r){var o=this._childClusters,h=this._zoom,t,e;if(a>h)for(t=o.length-1;t>=0;t--)e=o[t],i.intersects(e._bounds)&&e._recursively(i,a,n,s,r);else if(s&&s(this),r&&this._zoom===n&&r(this),n>h)for(t=o.length-1;t>=0;t--)e=o[t],i.intersects(e._bounds)&&e._recursively(i,a,n,s,r)},_recalculateBounds:function(){var i=this._markers,n=this._childClusters,e;for(this._bounds=new t.LatLngBounds,delete this._wLatLng,e=i.length-1;e>=0;e--)this._expandBounds(i[e]);for(e=n.length-1;e>=0;e--)this._expandBounds(n[e])},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}}),t.DistanceGrid=function(t){this._cellSize=t,this._sqCellSize=t*t,this._grid={},this._objectPoint={}},t.DistanceGrid.prototype={addObject:function(i,e){var n=this._getCoord(e.x),s=this._getCoord(e.y),r=this._grid,o=r[s]=r[s]||{},a=o[n]=o[n]||[],h=t.Util.stamp(i);this._objectPoint[h]=e,a.push(i)},updateObject:function(t,e){this.removeObject(t),this.addObject(t,e)},removeObject:function(o,a){var i=this._getCoord(a.x),h=this._getCoord(a.y),u=this._grid,n=u[h]=u[h]||{},s=n[i]=n[i]||[],e,r;for(delete this._objectPoint[t.Util.stamp(o)],e=0,r=s.length;r>e;e++)if(s[e]===o)return s.splice(e,1),1===r&&delete n[i],!0},eachObject:function(h,u){var s,r,t,e,i,n,o,a=this._grid;for(s in a){i=a[s];for(r in i)for(n=i[r],t=0,e=n.length;e>t;t++)o=h.call(u,n[t]),o&&(t--,e--)}},getNearObject:function(o){var h=this._getCoord(o.x),d=this._getCoord(o.y),e,i,n,l,s,u,a,r,f=this._objectPoint,p=this._sqCellSize,c=null;for(e=d-1;d+1>=e;e++)if(l=this._grid[e])for(i=h-1;h+1>=i;i++)if(s=l[i])for(n=0,u=s.length;u>n;n++)a=s[n],r=this._sqDist(f[t.Util.stamp(a)],o),p>r&&(p=r,c=a);return c},_getCoord:function(t){return Math.floor(t/this._cellSize)},_sqDist:function(t,e){var i=e.x-t.x,n=e.y-t.y;return i*i+n*n}},function(){t.QuickHull={getDistant:function(e,t){var i=t[1].lat-t[0].lat,n=t[0].lng-t[1].lng;return n*(e.lat-t[0].lat)+i*(e.lng-t[0].lng)},findMostDistantPointFromBaseLine:function(a,n){var s=0,r=null,o=[],t,e,i;for(t=n.length-1;t>=0;t--){if(e=n[t],i=this.getDistant(e,a),!(i>0))continue;o.push(e),i>s&&(s=i,r=e)}return{maxPoint:r,newPoints:o}},buildConvexHull:function(e,n){var i=[],t=this.findMostDistantPointFromBaseLine(e,n);return t.maxPoint?(i=i.concat(this.buildConvexHull([e[0],t.maxPoint],t.newPoints)),i=i.concat(this.buildConvexHull([t.maxPoint,e[1]],t.newPoints))):[e[0]]},getConvexHull:function(e){var n=!1,s=!1,r=null,o=null,i;for(i=e.length-1;i>=0;i--){var t=e[i];(n===!1||t.lat>n)&&(r=t,n=t.lat),(s===!1||t.lat<s)&&(o=t,s=t.lat)}var a=[].concat(this.buildConvexHull([o,r],e),this.buildConvexHull([r,o],e));return a}}}(),t.MarkerCluster.include({getConvexHull:function(){var i=this.getAllChildMarkers(),n=[],s,e;for(e=i.length-1;e>=0;e--)s=i[e].getLatLng(),n.push(s);return t.QuickHull.getConvexHull(n)}}),t.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:Math.PI/6,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied===this||this._group._inZoomAnimation)return;var t=this.getAllChildMarkers(),n=this._group,s=n._map,e=s.latLngToLayerPoint(this._latlng),i;this._group._unspiderfy(),this._group._spiderfied=this,t.length>=this._circleSpiralSwitchover?i=this._generatePointsSpiral(t.length,e):(e.y+=10,i=this._generatePointsCircle(t.length,e)),this._animationSpiderfy(t,i)},unspiderfy:function(t){if(this._group._inZoomAnimation)return;this._animationUnspiderfy(t),this._group._spiderfied=null},_generatePointsCircle:function(i,r){var a=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+i),o=a/this._2PI,h=this._2PI/i,n=[],e,s;for(n.length=i,e=i-1;e>=0;e--)s=this._circleStartAngle+e*h,n[e]=new t.Point(r.x+o*Math.cos(s),r.y+o*Math.sin(s))._round();return n},_generatePointsSpiral:function(r,o){var i=this._group.options.spiderfyDistanceMultiplier*this._spiralLengthStart,a=this._group.options.spiderfyDistanceMultiplier*this._spiralFootSeparation,h=this._group.options.spiderfyDistanceMultiplier*this._spiralLengthFactor,n=0,s=[],e;for(s.length=r,e=r-1;e>=0;e--)n+=a/i+5e-4*e,s[e]=new t.Point(o.x+i*Math.cos(n),o.y+i*Math.sin(n))._round(),i+=this._2PI*h/n;return s},_noanimationUnspiderfy:function(){var i=this._group,s=i._map,r=i._featureGroup,n=this.getAllChildMarkers(),t,e;for(this.setOpacity(1),e=n.length-1;e>=0;e--)t=n[e],r.removeLayer(t),t._preSpiderfyLatlng&&(t.setLatLng(t._preSpiderfyLatlng),delete t._preSpiderfyLatlng),t.setZIndexOffset&&t.setZIndexOffset(0),t._spiderLeg&&(s.removeLayer(t._spiderLeg),delete t._spiderLeg);i._spiderfied=null}}),t.MarkerCluster.include(t.DomUtil.TRANSITION?{SVG_ANIMATION:function(){return e.createElementNS("http://www.w3.org/2000/svg","animate").toString().indexOf("SVGAnimate")>-1}(),_animationSpiderfy:function(a,m){var p=this,o=this._group,h=o._map,d=o._featureGroup,f=h.latLngToLayerPoint(this._latlng),s,i,r,u;for(s=a.length-1;s>=0;s--)i=a[s],i.setOpacity?(i.setZIndexOffset(1e6),i.setOpacity(0),d.addLayer(i),i._setPos(f)):d.addLayer(i);o._forceLayout(),o._animationStart();var g=t.Path.SVG?0:.3,c=t.Path.SVG_NS;for(s=a.length-1;s>=0;s--){if(u=h.layerPointToLatLng(m[s]),i=a[s],i._preSpiderfyLatlng=i._latlng,i.setLatLng(u),i.setOpacity&&i.setOpacity(1),r=new t.Polyline([p._latlng,u],{weight:1.5,color:"#222",opacity:g}),h.addLayer(r),i._spiderLeg=r,!t.Path.SVG||!this.SVG_ANIMATION)continue;var l=r._path.getTotalLength();r._path.setAttribute("stroke-dasharray",l+","+l);var n=e.createElementNS(c,"animate");n.setAttribute("attributeName","stroke-dashoffset"),n.setAttribute("begin","indefinite"),n.setAttribute("from",l),n.setAttribute("to",0),n.setAttribute("dur",.25),r._path.appendChild(n),n.beginElement(),n=e.createElementNS(c,"animate"),n.setAttribute("attributeName","stroke-opacity"),n.setAttribute("attributeName","stroke-opacity"),n.setAttribute("begin","indefinite"),n.setAttribute("from",0),n.setAttribute("to",.5),n.setAttribute("dur",.25),r._path.appendChild(n),n.beginElement()}if(p.setOpacity(.3),t.Path.SVG)for(this._group._forceLayout(),s=a.length-1;s>=0;s--)i=a[s]._spiderLeg,i.options.opacity=.5,i._path.setAttribute("stroke-opacity",.5);setTimeout(function(){o._animationEnd(),o.fire("spiderfied")},200)},_animationUnspiderfy:function(o){var r=this._group,a=r._map,h=r._featureGroup,u=o?a._latLngToNewLayerPoint(this._latlng,o.zoom,o.center):a.latLngToLayerPoint(this._latlng),s=this.getAllChildMarkers(),l=t.Path.SVG&&this.SVG_ANIMATION,e,i,n;for(r._animationStart(),this.setOpacity(1),i=s.length-1;i>=0;i--){if(e=s[i],!e._preSpiderfyLatlng)continue;e.setLatLng(e._preSpiderfyLatlng),delete e._preSpiderfyLatlng,e.setOpacity?(e._setPos(u),e.setOpacity(0)):h.removeLayer(e),l&&(n=e._spiderLeg._path.childNodes[0],n.setAttribute("to",n.getAttribute("from")),n.setAttribute("from",0),n.beginElement(),n=e._spiderLeg._path.childNodes[1],n.setAttribute("from",.5),n.setAttribute("to",0),n.setAttribute("stroke-opacity",0),n.beginElement(),e._spiderLeg._path.setAttribute("stroke-opacity",0))}setTimeout(function(){var t=0;for(i=s.length-1;i>=0;i--)e=s[i],e._spiderLeg&&t++;for(i=s.length-1;i>=0;i--){if(e=s[i],!e._spiderLeg)continue;e.setOpacity&&(e.setOpacity(1),e.setZIndexOffset(0)),t>1&&h.removeLayer(e),a.removeLayer(e._spiderLeg),delete e._spiderLeg}r._animationEnd()},200)}}:{_animationSpiderfy:function(o,h){var n=this._group,a=n._map,u=n._featureGroup,i,e,s,r;for(i=o.length-1;i>=0;i--)r=a.layerPointToLatLng(h[i]),e=o[i],e._preSpiderfyLatlng=e._latlng,e.setLatLng(r),e.setZIndexOffset&&e.setZIndexOffset(1e6),u.addLayer(e),s=new t.Polyline([this._latlng,r],{weight:1.5,color:"#222"}),a.addLayer(s),e._spiderLeg=s;this.setOpacity(.3),n.fire("spiderfied")},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),t.MarkerClusterGroup.include({_spiderfied:null,_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),t.Path.SVG&&!t.Browser.touch&&this._map._initPathRoot()},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy()},_unspiderfyZoomStart:function(){if(!this._map)return;this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(e){if(t.DomUtil.hasClass(this._map._mapPane,"leaflet-touching"))return;this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(e)},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(t){this._spiderfied&&this._spiderfied.unspiderfy(t)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(t){t._spiderLeg&&(this._featureGroup.removeLayer(t),t.setOpacity(1),t.setZIndexOffset(0),this._map.removeLayer(t._spiderLeg),delete t._spiderLeg)}})}(window,document)});

define('css!vendor/cnpm/Leaflet.markercluster.v0-4/MarkerCluster.Default',[],function(){})

define('css!vendor/cnpm/Leaflet.markercluster.v0-4/MarkerCluster',[],function(){})
define("js/vendor/countrycode-latlong",["require","exports","module"],function(require,exports,module){module.exports={ad:{lat:"42.5000","long":"1.5000"},ae:{lat:"24.0000","long":"54.0000"},af:{lat:"33.0000","long":"65.0000"},ag:{lat:"17.0500","long":"-61.8000"},ai:{lat:"18.2500","long":"-63.1667"},al:{lat:"41.0000","long":"20.0000"},am:{lat:"40.0000","long":"45.0000"},an:{lat:"12.2500","long":"-68.7500"},ao:{lat:"-12.5000","long":"18.5000"},ap:{lat:"35.0000","long":"105.0000"},aq:{lat:"-90.0000","long":"0.0000"},ar:{lat:"-34.0000","long":"-64.0000"},as:{lat:"-14.3333","long":"-170.0000"},at:{lat:"47.3333","long":"13.3333"},au:{lat:"-27.0000","long":"133.0000"},aw:{lat:"12.5000","long":"-69.9667"},az:{lat:"40.5000","long":"47.5000"},ba:{lat:"44.0000","long":"18.0000"},bb:{lat:"13.1667","long":"-59.5333"},bd:{lat:"24.0000","long":"90.0000"},be:{lat:"50.8333","long":"4.0000"},bf:{lat:"13.0000","long":"-2.0000"},bg:{lat:"43.0000","long":"25.0000"},bh:{lat:"26.0000","long":"50.5500"},bi:{lat:"-3.5000","long":"30.0000"},bj:{lat:"9.5000","long":"2.2500"},bm:{lat:"32.3333","long":"-64.7500"},bn:{lat:"4.5000","long":"114.6667"},bo:{lat:"-17.0000","long":"-65.0000"},br:{lat:"-10.0000","long":"-55.0000"},bs:{lat:"24.2500","long":"-76.0000"},bt:{lat:"27.5000","long":"90.5000"},bv:{lat:"-54.4333","long":"3.4000"},bw:{lat:"-22.0000","long":"24.0000"},by:{lat:"53.0000","long":"28.0000"},bz:{lat:"17.2500","long":"-88.7500"},ca:{lat:"60.0000","long":"-95.0000"},cc:{lat:"-12.5000","long":"96.8333"},cd:{lat:"0.0000","long":"25.0000"},cf:{lat:"7.0000","long":"21.0000"},cg:{lat:"-1.0000","long":"15.0000"},ch:{lat:"47.0000","long":"8.0000"},ci:{lat:"8.0000","long":"-5.0000"},ck:{lat:"-21.2333","long":"-159.7667"},cl:{lat:"-30.0000","long":"-71.0000"},cm:{lat:"6.0000","long":"12.0000"},cn:{lat:"35.0000","long":"105.0000"},co:{lat:"4.0000","long":"-72.0000"},cr:{lat:"10.0000","long":"-84.0000"},cu:{lat:"21.5000","long":"-80.0000"},cv:{lat:"16.0000","long":"-24.0000"},cx:{lat:"-10.5000","long":"105.6667"},cy:{lat:"35.0000","long":"33.0000"},cz:{lat:"49.7500","long":"15.5000"},de:{lat:"51.0000","long":"9.0000"},dj:{lat:"11.5000","long":"43.0000"},dk:{lat:"56.0000","long":"10.0000"},dm:{lat:"15.4167","long":"-61.3333"},"do":{lat:"19.0000","long":"-70.6667"},dz:{lat:"28.0000","long":"3.0000"},ec:{lat:"-2.0000","long":"-77.5000"},ee:{lat:"59.0000","long":"26.0000"},eg:{lat:"27.0000","long":"30.0000"},eh:{lat:"24.5000","long":"-13.0000"},er:{lat:"15.0000","long":"39.0000"},es:{lat:"40.0000","long":"-4.0000"},et:{lat:"8.0000","long":"38.0000"},eu:{lat:"47.0000","long":"8.0000"},fi:{lat:"64.0000","long":"26.0000"},fj:{lat:"-18.0000","long":"175.0000"},fk:{lat:"-51.7500","long":"-59.0000"},fm:{lat:"6.9167","long":"158.2500"},fo:{lat:"62.0000","long":"-7.0000"},fr:{lat:"46.0000","long":"2.0000"},ga:{lat:"-1.0000","long":"11.7500"},gb:{lat:"54.0000","long":"-2.0000"},gd:{lat:"12.1167","long":"-61.6667"},ge:{lat:"42.0000","long":"43.5000"},gf:{lat:"4.0000","long":"-53.0000"},gh:{lat:"8.0000","long":"-2.0000"},gi:{lat:"36.1833","long":"-5.3667"},gl:{lat:"72.0000","long":"-40.0000"},gm:{lat:"13.4667","long":"-16.5667"},gn:{lat:"11.0000","long":"-10.0000"},gp:{lat:"16.2500","long":"-61.5833"},gq:{lat:"2.0000","long":"10.0000"},gr:{lat:"39.0000","long":"22.0000"},gs:{lat:"-54.5000","long":"-37.0000"},gt:{lat:"15.5000","long":"-90.2500"},gu:{lat:"13.4667","long":"144.7833"},gw:{lat:"12.0000","long":"-15.0000"},gy:{lat:"5.0000","long":"-59.0000"},hk:{lat:"22.2500","long":"114.1667"},hm:{lat:"-53.1000","long":"72.5167"},hn:{lat:"15.0000","long":"-86.5000"},hr:{lat:"45.1667","long":"15.5000"},ht:{lat:"19.0000","long":"-72.4167"},hu:{lat:"47.0000","long":"20.0000"},id:{lat:"-5.0000","long":"120.0000"},ie:{lat:"53.0000","long":"-8.0000"},il:{lat:"31.5000","long":"34.7500"},"in":{lat:"20.0000","long":"77.0000"},io:{lat:"-6.0000","long":"71.5000"},iq:{lat:"33.0000","long":"44.0000"},ir:{lat:"32.0000","long":"53.0000"},is:{lat:"65.0000","long":"-18.0000"},it:{lat:"42.8333","long":"12.8333"},jm:{lat:"18.2500","long":"-77.5000"},jo:{lat:"31.0000","long":"36.0000"},jp:{lat:"36.0000","long":"138.0000"},ke:{lat:"1.0000","long":"38.0000"},kg:{lat:"41.0000","long":"75.0000"},kh:{lat:"13.0000","long":"105.0000"},ki:{lat:"1.4167","long":"173.0000"},km:{lat:"-12.1667","long":"44.2500"},kn:{lat:"17.3333","long":"-62.7500"},kp:{lat:"40.0000","long":"127.0000"},kr:{lat:"37.0000","long":"127.5000"},kw:{lat:"29.3375","long":"47.6581"},ky:{lat:"19.5000","long":"-80.5000"},kz:{lat:"48.0000","long":"68.0000"},la:{lat:"18.0000","long":"105.0000"},lb:{lat:"33.8333","long":"35.8333"},lc:{lat:"13.8833","long":"-61.1333"},li:{lat:"47.1667","long":"9.5333"},lk:{lat:"7.0000","long":"81.0000"},lr:{lat:"6.5000","long":"-9.5000"},ls:{lat:"-29.5000","long":"28.5000"},lt:{lat:"56.0000","long":"24.0000"},lu:{lat:"49.7500","long":"6.1667"},lv:{lat:"57.0000","long":"25.0000"},ly:{lat:"25.0000","long":"17.0000"},ma:{lat:"32.0000","long":"-5.0000"},mc:{lat:"43.7333","long":"7.4000"},md:{lat:"47.0000","long":"29.0000"},me:{lat:"42.0000","long":"19.0000"},mg:{lat:"-20.0000","long":"47.0000"},mh:{lat:"9.0000","long":"168.0000"},mk:{lat:"41.8333","long":"22.0000"},ml:{lat:"17.0000","long":"-4.0000"},mm:{lat:"22.0000","long":"98.0000"},mn:{lat:"46.0000","long":"105.0000"},mo:{lat:"22.1667","long":"113.5500"},mp:{lat:"15.2000","long":"145.7500"},mq:{lat:"14.6667","long":"-61.0000"},mr:{lat:"20.0000","long":"-12.0000"},ms:{lat:"16.7500","long":"-62.2000"},mt:{lat:"35.8333","long":"14.5833"},mu:{lat:"-20.2833","long":"57.5500"},mv:{lat:"3.2500","long":"73.0000"},mw:{lat:"-13.5000","long":"34.0000"},mx:{lat:"23.0000","long":"-102.0000"},my:{lat:"2.5000","long":"112.5000"},mz:{lat:"-18.2500","long":"35.0000"},na:{lat:"-22.0000","long":"17.0000"},nc:{lat:"-21.5000","long":"165.5000"},ne:{lat:"16.0000","long":"8.0000"},nf:{lat:"-29.0333","long":"167.9500"},ng:{lat:"10.0000","long":"8.0000"},ni:{lat:"13.0000","long":"-85.0000"},nl:{lat:"52.5000","long":"5.7500"},no:{lat:"62.0000","long":"10.0000"},np:{lat:"28.0000","long":"84.0000"},nr:{lat:"-0.5333","long":"166.9167"},nu:{lat:"-19.0333","long":"-169.8667"},nz:{lat:"-41.0000","long":"174.0000"},om:{lat:"21.0000","long":"57.0000"},pa:{lat:"9.0000","long":"-80.0000"},pe:{lat:"-10.0000","long":"-76.0000"},pf:{lat:"-15.0000","long":"-140.0000"},pg:{lat:"-6.0000","long":"147.0000"},ph:{lat:"13.0000","long":"122.0000"},pk:{lat:"30.0000","long":"70.0000"},pl:{lat:"52.0000","long":"20.0000"},pm:{lat:"46.8333","long":"-56.3333"},pr:{lat:"18.2500","long":"-66.5000"},ps:{lat:"32.0000","long":"35.2500"},pt:{lat:"39.5000","long":"-8.0000"},pw:{lat:"7.5000","long":"134.5000"},py:{lat:"-23.0000","long":"-58.0000"},qa:{lat:"25.5000","long":"51.2500"},re:{lat:"-21.1000","long":"55.6000"},ro:{lat:"46.0000","long":"25.0000"},rs:{lat:"44.0000","long":"21.0000"},ru:{lat:"60.0000","long":"100.0000"},rw:{lat:"-2.0000","long":"30.0000"},sa:{lat:"25.0000","long":"45.0000"},sb:{lat:"-8.0000","long":"159.0000"},sc:{lat:"-4.5833","long":"55.6667"},sd:{lat:"15.0000","long":"30.0000"},se:{lat:"62.0000","long":"15.0000"},sg:{lat:"1.3667","long":"103.8000"},sh:{lat:"-15.9333","long":"-5.7000"},si:{lat:"46.0000","long":"15.0000"},sj:{lat:"78.0000","long":"20.0000"},sk:{lat:"48.6667","long":"19.5000"},sl:{lat:"8.5000","long":"-11.5000"},sm:{lat:"43.7667","long":"12.4167"},sn:{lat:"14.0000","long":"-14.0000"},so:{lat:"10.0000","long":"49.0000"},sr:{lat:"4.0000","long":"-56.0000"},st:{lat:"1.0000","long":"7.0000"},sv:{lat:"13.8333","long":"-88.9167"},sy:{lat:"35.0000","long":"38.0000"},sz:{lat:"-26.5000","long":"31.5000"},tc:{lat:"21.7500","long":"-71.5833"},td:{lat:"15.0000","long":"19.0000"},tf:{lat:"-43.0000","long":"67.0000"},tg:{lat:"8.0000","long":"1.1667"},th:{lat:"15.0000","long":"100.0000"},tj:{lat:"39.0000","long":"71.0000"},tk:{lat:"-9.0000","long":"-172.0000"},tm:{lat:"40.0000","long":"60.0000"},tn:{lat:"34.0000","long":"9.0000"},to:{lat:"-20.0000","long":"-175.0000"},tr:{lat:"39.0000","long":"35.0000"},tt:{lat:"11.0000","long":"-61.0000"},tv:{lat:"-8.0000","long":"178.0000"},tw:{lat:"23.5000","long":"121.0000"},tz:{lat:"-6.0000","long":"35.0000"},ua:{lat:"49.0000","long":"32.0000"},ug:{lat:"1.0000","long":"32.0000"},um:{lat:"19.2833","long":"166.6000"},us:{lat:"38.0000","long":"-97.0000"},uy:{lat:"-33.0000","long":"-56.0000"},uz:{lat:"41.0000","long":"64.0000"},va:{lat:"41.9000","long":"12.4500"},vc:{lat:"13.2500","long":"-61.2000"},ve:{lat:"8.0000","long":"-66.0000"},vg:{lat:"18.5000","long":"-64.5000"},vi:{lat:"18.3333","long":"-64.8333"},vn:{lat:"16.0000","long":"106.0000"},vu:{lat:"-16.0000","long":"167.0000"},wf:{lat:"-13.3000","long":"-176.2000"},ws:{lat:"-13.5833","long":"-172.3333"},ye:{lat:"15.0000","long":"48.0000"},yt:{lat:"-12.8333","long":"45.1667"},za:{lat:"-29.0000","long":"24.0000"},zm:{lat:"-15.0000","long":"30.0000"},zw:{lat:"-20.0000","long":"30.0000"}}});
define("js/vendor/statecode-latlong",["require","exports","module"],function(require,exports,module){module.exports={AL:{lat:"32.361538","long":"-86.279118"},AK:{lat:"58.301935","long":"-134.419740"},AZ:{lat:"33.448457","long":"-112.073844"},AR:{lat:"34.736009","long":"-92.331122"},CA:{lat:"38.555605","long":"-121.468926"},CO:{lat:"39.7391667","long":"-104.984167"},CT:{lat:"41.767","long":"-72.677"},DE:{lat:"39.161921","long":"-75.526755"},FL:{lat:"30.4518","long":"-84.27277"},GA:{lat:"33.76","long":"-84.39"},HI:{lat:"21.30895","long":"-157.826182"},ID:{lat:"43.613739","long":"-116.237651"},IL:{lat:"39.783250","long":"-89.650373"},IN:{lat:"39.790942","long":"-86.147685"},IA:{lat:"41.590939","long":"-93.620866"},KS:{lat:"39.04","long":"-95.69"},KY:{lat:"38.197274","long":"-84.86311"},LA:{lat:"30.45809","long":"-91.140229"},ME:{lat:"44.323535","long":"-69.765261"},MD:{lat:"38.972945","long":"-76.501157"},MA:{lat:"42.2352","long":"-71.0275"},MI:{lat:"42.7335","long":"-84.5467"},MN:{lat:"44.95","long":"-93.094"},MS:{lat:"32.320","long":"-90.207"},MO:{lat:"38.572954","long":"-92.189283"},MT:{lat:"46.595805","long":"-112.027031"},NE:{lat:"40.809868","long":"-96.675345"},NV:{lat:"39.160949","long":"-119.753877"},NH:{lat:"43.220093","long":"-71.549127"},NJ:{lat:"40.221741","long":"-74.756138"},NM:{lat:"35.667231","long":"-105.964575"},NY:{lat:"42.659829","long":"-73.781339"},NC:{lat:"35.771","long":"-78.638"},ND:{lat:"48.813343","long":"-100.779004"},OH:{lat:"39.962245","long":"-83.000647"},OK:{lat:"35.482309","long":"-97.534994"},OR:{lat:"44.931109","long":"-123.029159"},PA:{lat:"40.269789","long":"-76.875613"},RI:{lat:"41.82355","long":"-71.422132"},SC:{lat:"34.000","long":"-81.035"},SD:{lat:"44.367966","long":"-100.336378"},TN:{lat:"36.165","long":"-86.784"},TX:{lat:"30.266667","long":"-97.75"},UT:{lat:"40.7547","long":"-111.892622"},VT:{lat:"44.26639","long":"-72.57194"},VA:{lat:"37.54","long":"-77.46"},WA:{lat:"47.042418","long":"-122.893077"},WV:{lat:"38.349497","long":"-81.633294"},WI:{lat:"43.074722","long":"-89.384444"},WY:{lat:"41.145548","long":"-104.802042"}}});
define("bundles/classmates/components/ClassmatesMap",["require","exports","module","react-with-addons","underscore","i18n!nls/ondemand","q","js/lib/coursera.react-intl","bundles/ondemand/stores/SessionStore","leaflet","css!vendor/cnpm/leaflet.v0-7/leaflet.css","vendor/cnpm/Leaflet.markercluster.v0-4/leaflet.markercluster-src","css!vendor/cnpm/Leaflet.markercluster.v0-4/MarkerCluster.Default.css","css!vendor/cnpm/Leaflet.markercluster.v0-4/MarkerCluster.css","js/vendor/countrycode-latlong","js/vendor/statecode-latlong","bundles/phoenix/lib/apiWrapper"],function(require,exports,module){var e=require("react-with-addons"),_=require("underscore"),a=require("i18n!nls/ondemand"),l=require("q"),r=require("js/lib/coursera.react-intl"),n=r.FormattedNumber,s=r.FormattedMessage,o=require("bundles/ondemand/stores/SessionStore"),t=require("leaflet");require("css!vendor/cnpm/leaflet.v0-7/leaflet.css"),require("vendor/cnpm/Leaflet.markercluster.v0-4/leaflet.markercluster-src"),require("css!vendor/cnpm/Leaflet.markercluster.v0-4/MarkerCluster.Default.css"),require("css!vendor/cnpm/Leaflet.markercluster.v0-4/MarkerCluster.css");var m=require("js/vendor/countrycode-latlong"),i=require("js/vendor/statecode-latlong"),c=require("bundles/phoenix/lib/apiWrapper"),u=e.createClass({displayName:"ClassmatesMap",propTypes:{learnerCount:e.PropTypes.number},getInitialState:function getInitialState(){return{countryCount:0}},componentDidMount:function componentDidMount(){this.map=t.map(this.refs.map.getDOMNode(),{center:[20.58,-9.4],zoom:2}),t.tileLayer("https://{s}-s.mqcdn.com/tiles/1.0.0/map/{z}/{x}/{y}.png",{attribution:'Tiles Courtesy of <a href="http://www.mapquest.com/" target="_blank">MapQuest</a> <img src="http://developer.mapquest.com/content/osm/mq_logo.png"> Data by <a href="http://openstreetmap.org/">OpenStreetMap</a>, under <a href="http://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>.',minZoom:1,maxZoom:8,type:"png",subdomains:"otile1 otile2 otile3 otile4".split(" ")}).addTo(this.map);var e=c("/api/onDemandClassmateCountByCountry.v1/"+o.getSessionId(),{type:"rest"}),a=c("/api/onDemandClassmateCountByRegion.v1/"+o.getSessionId()+"~US",{type:"rest"});l(e.get("")).then(this.addCountries).done(),l(a.get("")).then(this.addStates).done()},addCountries:function addCountries(r){var e=new t.MarkerClusterGroup({spiderfyOnMaxZoom:!1}),a=0;try{var n=r.elements[0].classmateCountByCountry;_(n).each(function(n,r){a+=1,"US"!==r&&_.range(n).forEach(function(){var a=m[r.toLowerCase()];if(a){var n=t.marker(new t.LatLng(a.lat,a["long"]));e.addLayer(n)}})}),this.map.addLayer(e),this.setState({countryCount:this.state.countryCount+a})}catch(s){return}},addStates:function addStates(a){var e=new t.MarkerClusterGroup({spiderfyOnMaxZoom:!1});try{var r=a.elements[0].classmateCountByRegion;_(r).each(function(a,r){_.range(a).forEach(function(){var a=i[r];if(a){var n=t.marker(new t.LatLng(a.lat,a["long"]));e.addLayer(n)}})}),this.map.addLayer(e)}catch(n){return}},render:function render(){return e.createElement("div",{className:"rc-ClassmatesMap"},e.createElement("div",{style:{height:"500px"},ref:"map"}),e.createElement("p",{className:"disclaimer color-hint-text"},a("This map was created using aggregated, anonymized data.\n            Individual learners cannot be personally identified on it.")),e.createElement("div",{className:"map-info horizontal-box align-items-spacearound"},e.createElement("div",{className:"horizontal-box align-items-spacearound align-items-vertical-center"},this.props.learnerCount>0&&e.createElement("h1",null,e.createElement("span",{className:"display-4-text"},e.createElement(n,{value:this.props.learnerCount})),e.createElement("span",{className:"headline-2-text"},e.createElement(s,{message:a("{learnerCount, plural, =1 {Classmate} other {Classmates}}"),learnerCount:this.props.learnerCount})))),e.createElement("div",{className:"horizontal-box align-items-spacearound align-items-vertical-center"},this.state.countryCount>0&&e.createElement("h1",null,e.createElement("span",{className:"display-4-text"},e.createElement(n,{value:this.state.countryCount})),e.createElement("span",{className:"headline-2-text"},e.createElement(s,{message:a("{countryCount, plural, =1 {Country} other {Countries}}"),countryCount:this.state.countryCount}))))))}});module.exports=u});
define("bundles/ondemand/components/NearbyLearnersTabs",["require","exports","module","underscore","i18n!nls/course-profile","react-with-addons","vendor/cnpm/fluxible.v0-4/addons/connectToStores","classnames","bundles/ondemand/utils/socialExperimentUtils","bundles/ondemand/components/NearbyLearnersModal"],function(require,exports,module){var _=require("underscore"),n=require("i18n!nls/course-profile"),e=require("react-with-addons"),o=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),r=require("classnames"),t=require("bundles/ondemand/utils/socialExperimentUtils"),s=t.isNearbyLearnersEnabled,l=require("bundles/ondemand/components/NearbyLearnersModal"),a=e.createClass({displayName:"NearbyLearnersTabs",propTypes:{location:e.PropTypes.object,onCountryClick:e.PropTypes.func.isRequired,onWorldwideClick:e.PropTypes.func.isRequired},contextTypes:{track:e.PropTypes.func.isRequired},getInitialState:function getInitialState(){return{showNearbyLearners:!0,isNearbyLearnersEnabled:s(),locationPrompt:!1}},onCountryClick:function onCountryClick(){this.setState({showNearbyLearners:!0}),this.context.track("open_course_home.near_by_learners.click.country",{location:this.props.location}),this.props.onCountryClick()},onWorldwideClick:function onWorldwideClick(){this.setState({showNearbyLearners:!1}),this.context.track("open_course_home.near_by_learners.click.worldwide",{location:this.props.location}),this.props.onWorldwideClick()},onNearbyClick:function onNearbyClick(){this.setState({locationPrompt:!0,showNearbyLearners:!0})},renderTabsWithLocation:function renderTabsWithLocation(){var o=r("colored-tab",{selected:this.state.showNearbyLearners}),t=r("colored-tab",{selected:!this.state.showNearbyLearners});return e.createElement("ul",{className:"tabs tabs-divider"},e.createElement("li",{className:o,onClick:this.onCountryClick},e.createElement("span",null,this.props.location.countryName||_(this.props.location.freeform.split(",")).last().trim())),e.createElement("li",{className:t,onClick:this.onWorldwideClick},e.createElement("span",null,n("Worldwide"))))},renderTabsWithoutLocation:function renderTabsWithoutLocation(){return e.createElement("ul",{className:"tabs tabs-divider"},e.createElement("li",{className:"colored-tab selected",onClick:this.onWorldwideClick},e.createElement("span",null,n("Worldwide"))),e.createElement("li",{className:"colored-tab",onClick:this.onNearbyClick},e.createElement("span",null,n("Nearby"))))},render:function render(){return null}});module.exports=o(a,["ProfileStore"],function(e){var n=e.ProfileStore;return{location:n.profile.location}})});

define('css!bundles/classmates/components/__styles__/ClassmatesPage',[],function(){})
define("bundles/classmates/components/ClassmatesPage",["require","exports","module","react-with-addons","pages/open-course/common/constants","vendor/cnpm/fluxible.v0-4/addons/connectToStores","bundles/ondemand/stores/SessionStore","bundles/classmates/components/ClassmatesProfilesArea","bundles/classmates/components/ClassmatesMap","bundles/ondemand/components/NearbyLearnersTabs","css!./__styles__/ClassmatesPage.css"],function(require,exports,module){var e=require("react-with-addons"),t=require("pages/open-course/common/constants"),o=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),n=require("bundles/ondemand/stores/SessionStore"),a=require("bundles/classmates/components/ClassmatesProfilesArea"),r=require("bundles/classmates/components/ClassmatesMap"),l=require("bundles/ondemand/components/NearbyLearnersTabs");require("css!./__styles__/ClassmatesPage.css");var s=e.createClass({displayName:"ClassmatesPage",propTypes:{location:e.PropTypes.object,learnerCount:e.PropTypes.number},contextTypes:{track:e.PropTypes.func.isRequired},statics:{getUrl:function getUrl(){return t.courseRootPath+"/classmates"},isEnabled:function isEnabled(){return n.isEnrolled()}},getInitialState:function getInitialState(){return{countryCode:this.props.location.country}},componentWillMount:function componentWillMount(){this.context.track("classmates.render")},componentWillReceiveProps:function componentWillReceiveProps(e){e.location.country!==this.props.location.country&&this.setState({countryCode:e.location.country})},onCountryClick:function onCountryClick(){this.setState({countryCode:this.props.location.country})},onWorldwideClick:function onWorldwideClick(){this.setState({countryCode:void 0})},render:function render(){return e.createElement("div",{className:"rc-ClassmatesPage",style:{margin:"0",padding:"0",maxWidth:"inherit"}},e.createElement(r,{learnerCount:this.props.learnerCount}),e.createElement("div",{className:"horizontal-box align-items-absolute-center"},e.createElement(l,{onCountryClick:this.onCountryClick,onWorldwideClick:this.onWorldwideClick})),e.createElement("div",{className:"profiles-area horizontal-box wrap align-items-absolute-center"},e.createElement(a,{countryCode:this.state.countryCode})))}});module.exports=o(s,["ProfileStore","ClassmatesProfileStore"],function(e){var s=e.ProfileStore,t=e.ClassmatesProfileStore;return{location:s.profile.location,learnerCount:t.learnerCount}}),module.exports.getUrl=s.getUrl,module.exports.isEnabled=s.isEnabled});

define('css!bundles/ondemand/components/menu/__styles__/AdminButton',[],function(){})
define("bundles/ondemand/components/menu/AdminButton",["require","exports","module","react-with-addons","i18n!nls/ondemand","pages/open-course/common/constants","pages/open-course/common/promises/courseAuthorization","bundles/iconfont/Icon","css!./__styles__/AdminButton.css"],function(require,exports,module){var n=require("react-with-addons"),e=require("i18n!nls/ondemand"),t=require("pages/open-course/common/constants"),o=t.courseAdminPath,s=require("pages/open-course/common/promises/courseAuthorization"),c=require("bundles/iconfont/Icon");require("css!./__styles__/AdminButton.css");var a=n.createClass({displayName:"AdminButton",contextTypes:{track:n.PropTypes.func.isRequired},getInitialState:function getInitialState(){return{canTeach:!1}},componentDidMount:function componentDidMount(){var n=this;s.then(function(e){n.setState({canTeach:e.canTeach})}).done()},render:function render(){if(!this.state.canTeach)return!1;return n.createElement("div",{className:"rc-AdminButton menu-item horizontal-box align-items-absolute-center"},n.createElement("a",{href:o,className:"link-button primary fullbleed horizontal-box align-items-absolute-center",onClick:this.context.track.handle("menu.click.course_admin_button")},n.createElement(c,{name:"settings"}),"",e("Admin")))}});module.exports=a});

define('css!bundles/ondemand/components/lessonList/__styles__/CompletedItemIcon',[],function(){})
define("bundles/ondemand/components/lessonList/CompletedItemIcon",["require","exports","module","classnames","react-with-addons","css!./__styles__/CompletedItemIcon"],function(require,exports,module){var s=require("classnames"),e=require("react-with-addons");require("css!./__styles__/CompletedItemIcon");var t={"item-video-complete":"play","item-doc-complete":"doc"},c=e.createClass({displayName:"CompletedItemIcon",propTypes:{name:e.PropTypes.string.isRequired},render:function render(){var c=t[this.props.name];return e.createElement("span",{className:s("rc-CompletedItemIcon","cif-stack",c)},e.createElement("i",{className:"cif-circle cif-stack-2x"}),e.createElement("i",{className:s("cif-stack-1x","cif-"+c)}))}});module.exports=c});
define("bundles/ondemand/components/lessonList/ItemIcon",["require","exports","module","classnames","react-with-addons","bundles/iconfont/Icon","bundles/ondemand/components/lessonList/CompletedItemIcon"],function(require,exports,module){var r=require("classnames"),e=require("react-with-addons"),c=require("bundles/iconfont/Icon"),m=require("bundles/ondemand/components/lessonList/CompletedItemIcon"),t={gradedLti:"prog-assignment","gradedLti-c":"checkmark",ungradedLti:"prog-assignment","ungradedLti-c":"checkmark",lecture:"item-video","lecture-c":"item-video-complete",lock:"lock","lock-c":"lock",supplement:"item-doc","supplement-c":"item-doc-complete",quiz:"item-formative","quiz-c":"summative-complete",exam:"summative-incomplete","exam-c":"summative-complete",peer:"item-peer","peer-c":"checkmark",closedPeer:"item-peer","closedPeer-c":"checkmark",gradedPeer:"item-peer","gradedPeer-c":"checkmark",phasedPeer:"summative-incomplete","phasedPeer-c":"checkmark",splitPeerReviewItem:"item-peer","splitPeerReviewItem-c":"checkmark",gradedProgramming:"prog-assignment","gradedProgramming-c":"checkmark",programming:"prog-assignment","programming-c":"checkmark",ungradedProgramming:"prog-assignment","ungradedProgramming-c":"checkmark","nearby-intros":"comment","nearby-intros-c":"checkmark",discussionPrompt:"comment","discussionPrompt-c":"checkmark"},o=["item-video-complete","item-doc-complete"],n=e.createClass({displayName:"ItemIcon",propTypes:{type:e.PropTypes.string.isRequired,completed:e.PropTypes.bool,className:e.PropTypes.string},render:function render(){var s=this.props.completed?this.props.type+"-c":this.props.type,n=t[s];if(n){if(-1!==o.indexOf(n))return e.createElement(m,{name:n});return e.createElement(c,{name:n,className:r("color-secondary-text","od-icon",this.props.className)})}return e.createElement("span",null)}});module.exports=n});

define('css!bundles/ondemand/components/menu/__styles__/MainNavItem',[],function(){})
define("bundles/ondemand/components/menu/MainNavItem",["require","exports","module","classnames","react-router","react-with-addons","bundles/iconfont/Icon","bundles/ondemand/components/lessonList/ItemIcon","bundles/ondemand/constants/Constants","pages/open-course/common/utils/ensureEnrolled","css!./__styles__/MainNavItem"],function(require,exports,module){var s=require("classnames"),n=require("react-router"),a=n.Link,e=require("react-with-addons"),t=require("bundles/iconfont/Icon"),o=require("bundles/ondemand/components/lessonList/ItemIcon"),r=require("bundles/ondemand/constants/Constants"),i=r.mainNavItems,c=require("pages/open-course/common/utils/ensureEnrolled");require("css!./__styles__/MainNavItem");var m=e.createClass({displayName:"MainNavItem",propTypes:{name:e.PropTypes.string.isRequired,title:e.PropTypes.string.isRequired,link:e.PropTypes.string,selected:e.PropTypes.bool,isNewNavItem:e.PropTypes.bool,locked:e.PropTypes.bool,isItemNav:e.PropTypes.bool},contextTypes:{track:e.PropTypes.func.isRequired},getDefaultProps:function getDefaultProps(){return{selected:!1,locked:!1,isItemNav:!1}},onLinkClick:function onLinkClick(e){this.context.track("menu.click.nav_item",{entry:this.props.name,isItemNav:this.props.isItemNav}),this.props.locked&&(e.preventDefault(),e.stopPropagation(),c())},getIconName:function getIconName(){switch(this.props.name){case"home":return"home";case"assignments":return"assignment";case"course":return"course-list";case"discussions":return"discussions";case"info":return"info";case"classmates":return"group"}},renderLinkItem:function renderLinkItem(s){return this.props.isItemNav?e.createElement("a",{href:this.props.link,onClick:this.onLinkClick,className:"nostyle","data-js":"open-course-link"},e.createElement("div",{className:s},this.props.isItemNav&&this.props.name===i.COURSE&&e.createElement("div",{className:"item-nav-caret"}),e.createElement(t,{name:this.getIconName(),className:"c-nav-icon color-primary-text"}))):e.createElement(a,{to:this.props.link,onClick:this.onLinkClick,className:"nostyle"},e.createElement("div",{className:s},e.createElement(t,{name:this.getIconName(),className:"c-nav-icon color-primary-text"}),this.props.isNewNavItem&&e.createElement(t,{name:"circle",className:"red-dot-icon"}),e.createElement("h3",{className:"nav-item headline-1-text color-primary-text"},this.props.title),this.props.locked&&e.createElement(o,{type:"lock",className:"text-light"})))},renderNoLinkItem:function renderNoLinkItem(s){return e.createElement("div",{className:s},e.createElement(t,{name:this.getIconName(),className:"c-nav-icon color-primary-text"}),!this.props.isItemNav&&e.createElement("h3",{className:"nav-item headline-1-text color-primary-text"},this.props.title))},render:function render(){var t=s("menu-item","horizontal-box","theme-dark",{selected:this.props.selected,"align-items-vertical-center":!this.props.isItemNav,"align-items-absolute-center":this.props.isItemNav});return e.createElement("div",{className:"rc-MainNavItem"},this.props.link?this.renderLinkItem(t):this.renderNoLinkItem(t))}});module.exports=m});
define("bundles/ondemand/components/menu/ThankYouItem",["require","exports","module","react-with-addons","react-router","i18n!nls/ondemand","react-router","classnames","bundles/ondemand/utils/url"],function(require,exports,module){var e=require("react-with-addons"),t=require("react-router"),n=t.Link,a=require("i18n!nls/ondemand"),s=require("react-router"),r=s.State,o=require("classnames"),l=require("bundles/ondemand/utils/url"),c=l.getThankYouUrl,u=e.createClass({displayName:"ThankYouItem",contextTypes:{track:e.PropTypes.func.isRequired},mixins:[r],render:function render(){var t=this.getRoutes(),s=t[t.length-1].name,r=o("rc-ThankYouItem","c-module-list-item",{"c-selected":"ty"===s}),l=a("Thank You!"),u=c(0);return e.createElement("li",{className:r},e.createElement(n,{to:u,onClick:this.context.track.handle("menu.click.nav_thankyou"),className:"nostyle od-nofocus"},e.createElement("h5",{className:"horizontal-box align-items-spacebetween text-light nav-item"},e.createElement("div",null,l))))}});module.exports=u});
define("bundles/ondemand/components/sessions/LockedTooltip",["require","exports","module","react-bootstrap","react-with-addons","bundles/ondemand/stores/SessionStore","js/lib/coursera.react-intl","i18n!nls/ondemand","pages/open-course/common/models/itemMetadata","vendor/cnpm/fluxible.v0-4/addons/connectToStores"],function(require,exports,module){var n=require("react-bootstrap"),r=n.Tooltip,e=require("react-with-addons"),s=require("bundles/ondemand/stores/SessionStore"),i=require("js/lib/coursera.react-intl"),a=i.FormattedMessage,t=require("i18n!nls/ondemand"),c=require("pages/open-course/common/models/itemMetadata"),m=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),o=e.createClass({displayName:"LockedTooltip",propTypes:{type:e.PropTypes.oneOf(["week","item"]),itemMetadata:e.PropTypes.instanceOf(c),week:e.PropTypes.number,placement:e.PropTypes.oneOf(["right","top","left","bottom"]),isItemPremiumGrading:e.PropTypes.bool},getDefaultProps:function getDefaultProps(){return{placement:"right"}},lockedItemMessage:function lockedItemMessage(){if(s.hasEnded())return e.createElement("span",null,t("The course has ended. Assignments may be reviewed, but not resubmitted."));var o=this.props.itemMetadata,n;return n=t(this.props.isItemPremiumGrading?"Purchase course to unlock this item":o.get("isLocked")===!0&&o.get("lockableByItem")?"Complete the previous item to unlock this.":1===this.props.week?"This assignment will be unlocked when you enroll in a session":"This assignment will be unlocked when the session begins")},lockedWeekMessage:function lockedWeekMessage(){return e.createElement(a,{message:t("Locked until {prerequisiteText}"),prerequisiteText:t(s.isUpcoming()?"the session starts":"you enroll in a session")})},render:function render(){return e.createElement(r,{placement:this.props.placement,className:"locked-tooltip"},"item"===this.props.type?this.lockedItemMessage():this.lockedWeekMessage())}});module.exports=m(o,["ContentAccessStore"],function(t,s){var o=t.ContentAccessStore,e=s.itemMetadata;return{isItemPremiumGrading:e?o.lockedTooltipShowsPremiumGrading(e):!1}}),module.exports.BaseComp=o});

define('css!bundles/ondemand/components/menu/__styles__/WeekItem',[],function(){})
define("bundles/ondemand/components/menu/WeekItem",["require","exports","module","classnames","moment","react-router","react-with-addons","bundles/certificate-enroll/actions/EnrollActions","bundles/iconfont/Icon","bundles/ondemand/components/lessonList/ItemIcon","bundles/ondemand/components/sessions/LockedTooltip","bundles/ondemand/stores/SessionStore","bundles/ondemand/utils/url","js/lib/coursera.react-intl","js/lib/moment.validator","i18n!nls/ondemand","vendor/cnpm/fluxible.v0-4/addons/connectToStores","css!./__styles__/WeekItem.css"],function(require,exports,module){var n=require("classnames"),d=require("moment"),b=require("react-router"),u=b.Link,e=require("react-with-addons"),a=require("bundles/certificate-enroll/actions/EnrollActions"),m=require("bundles/iconfont/Icon"),i=require("bundles/ondemand/components/lessonList/ItemIcon"),l=require("bundles/ondemand/components/sessions/LockedTooltip"),W=require("bundles/ondemand/stores/SessionStore"),c=require("bundles/ondemand/utils/url"),r=c.getWeekUrl,p=require("js/lib/coursera.react-intl"),o=p.FormattedMessage,k=require("js/lib/moment.validator"),t=require("i18n!nls/ondemand"),h=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores");require("css!./__styles__/WeekItem.css");var s=e.createClass({displayName:"WeekItem",propTypes:{deadline:k,weekNumber:e.PropTypes.number.isRequired,isCurrentWeek:e.PropTypes.bool,isWeekComplete:e.PropTypes.bool,isWeekGradable:e.PropTypes.bool,locked:e.PropTypes.bool},contextTypes:{track:e.PropTypes.func.isRequired},statics:{OVERDUE:t("Overdue")},onWeekClick:function onWeekClick(){return this.context.track("menu.click.nav_week",{week:this.props.weekNumber}),this.props.locked&&a.updateShowModal(!0),!this.props.locked},getStatus:function getStatus(){if(this.props.deadline){var n=this.props.isCurrentWeek?this.props.deadline.fromNow():this.props.deadline.format("MMM D");if(this.props.isWeekGradable)return this.props.isWeekComplete?"":d().isAfter(this.props.deadline)?s.OVERDUE:e.createElement(o,{message:t("Due {dueDate}"),dueDate:n});if(this.props.isCurrentWeek)return e.createElement(o,{message:t("Ends {dueDate}"),dueDate:n})}return""},render:function render(){var d=this.getStatus(),a;switch(d){case s.OVERDUE:a="c-overdue";break;default:a="c-due-date"}var c=r(this.props.weekNumber),p=n("rc-WeekItem","nostyle","menu-item",{locked:this.props.locked}),k=n("week-nav-item","horizontal-box","nav-item","headline-1-text","color-primary-text",{locked:this.props.locked});return e.createElement(u,{to:c,onClick:this.onWeekClick,className:p},e.createElement("h4",{className:k},e.createElement("div",{className:"horizontal-box align-items-vertical-center"},this.props.locked&&e.createElement(i,{type:"lock",className:"text-light"}),e.createElement(o,{message:t("Week {weekNumber}"),weekNumber:this.props.weekNumber}),this.props.locked&&e.createElement(l,{type:"week",week:this.props.weekNumber})),e.createElement("div",{className:a,ref:"status"},this.props.deadline&&this.props.isCurrentWeek&&e.createElement(m,{name:"calendar"}))))}});module.exports=h(s,["CourseScheduleStore","ProgressStore","ContentAccessStore"],function(t,o){var s=t.CourseScheduleStore,n=t.ContentAccessStore,e=o.weekNumber;return{deadline:s.getDeadlineForWeek(e),isCurrentWeek:s.getCurrentWeek()===e,isWeekComplete:s.isWeekComplete(e),isWeekGradable:s.isWeekGradable(e),locked:W.isWeekLocked(e,n)}}),module.exports.BaseComp=s});
define("bundles/ondemand/components/menu/ModuleList",["require","exports","module","classnames","react-router","react-with-addons","bundles/ondemand/components/menu/ThankYouItem","bundles/ondemand/components/menu/WeekItem","bundles/phoenix/utils/matchMedia","bundles/phoenix/lib/waitForStores"],function(require,exports,module){var t=require("classnames"),r=require("react-router"),s=r.State,e=require("react-with-addons"),n=require("bundles/ondemand/components/menu/ThankYouItem"),m=require("bundles/ondemand/components/menu/WeekItem"),u=require("bundles/phoenix/utils/matchMedia"),i=u.isHeightOrSmaller,l=require("bundles/phoenix/lib/waitForStores"),a=650,o=e.createClass({displayName:"ModuleList",propTypes:{hideMobileMenu:e.PropTypes.func.isRequired,items:e.PropTypes.arrayOf(e.PropTypes.object),isCourseComplete:e.PropTypes.bool.isRequired},mixins:[s],getDefaultProps:function getDefaultProps(){return{items:[]}},createListItem:function createListItem(o){var i=o.type,s=o.id,n=this.getParams(),r=n.week,u=t("c-module-list-item",{"c-selected":s===parseInt(r,10)});return e.createElement("li",{className:u,key:s,onClick:this.props.hideMobileMenu},e.createElement(m,{ref:"week"+s,weekNumber:s}))},render:function render(){var s=t("od-sub-menu-container",{"scroll-layout":i(a)});return e.createElement("li",{className:s,onTouchMove:this.allowTouchMove},e.createElement("ul",{className:"rc-ModuleList c-modules-list od-sub-menu"},this.props.items.map(this.createListItem),this.props.isCourseComplete&&e.createElement(n,null)))}});module.exports=l(o,["CourseScheduleStore"],function(t,s){var e=t.CourseScheduleStore;return{items:e.getSchedule().getMenuItems(),isCourseComplete:e.isCourseComplete()}})});
define("bundles/ondemand/components/menu/FullMenuItems",["require","exports","module","react-with-addons","underscore","bundles/classmates/components/ClassmatesPage","bundles/epic/client","bundles/ondemand/components/CourseInfoPage","bundles/ondemand/components/menu/AdminButton","bundles/ondemand/components/menu/MainNavItem","bundles/ondemand/components/menu/ModuleList","bundles/ondemand/constants/Constants","bundles/ondemand/utils/socialExperimentUtils","bundles/phoenix/lib/waitForStores","i18n!nls/ondemand","pages/open-course/common/constants","bundles/ondemand/utils/url"],function(require,exports,module){var e=require("react-with-addons"),_=require("underscore"),l=require("bundles/classmates/components/ClassmatesPage"),c=require("bundles/epic/client"),p=require("bundles/ondemand/components/CourseInfoPage").getUrl,m=require("bundles/ondemand/components/menu/AdminButton"),t=require("bundles/ondemand/components/menu/MainNavItem"),r=require("bundles/ondemand/components/menu/ModuleList"),u=require("bundles/ondemand/constants/Constants"),s=u.mainNavItems,M=require("bundles/ondemand/utils/socialExperimentUtils"),d=require("bundles/phoenix/lib/waitForStores"),n=require("i18n!nls/ondemand"),a=require("pages/open-course/common/constants"),o=require("bundles/ondemand/utils/url"),h=o.getDiscussionsUrl,I=o.getHomeUrl,b=o.getAssignmentsUrl,i=e.createClass({displayName:"FullMenuItems",propTypes:{showingMobileMenu:e.PropTypes.bool.isRequired,hideMobileMenu:e.PropTypes.func.isRequired,selectedItem:e.PropTypes.string.isRequired,scheduleUrl:e.PropTypes.string.isRequired,hasGradableItems:e.PropTypes.bool.isRequired,isItemNav:e.PropTypes.bool},getDefaultProps:function getDefaultProps(){return{isItemNav:!1}},render:function render(){var o=e.createElement(t,{name:s.HOME,title:n("Home"),link:I(),selected:this.props.selectedItem===s.HOME,isItemNav:this.props.isItemNav}),i=e.createElement(t,{name:s.ASSIGNMENTS,title:n("Assignments"),link:b(),selected:this.props.selectedItem===s.ASSIGNMENTS,isItemNav:this.props.isItemNav}),d=!_(c.get("featureBlacklist","discussions")).contains(a.courseId)&&M.isForumsEnabled(),u=e.createElement(t,{name:s.DISCUSSIONS,title:n("Discussions"),link:h(),selected:this.props.selectedItem===s.DISCUSSIONS,isItemNav:this.props.isItemNav}),N=e.createElement(t,{name:s.COURSE,title:n("Course Content"),link:this.props.scheduleUrl,selected:this.props.selectedItem===s.COURSE,isItemNav:this.props.isItemNav}),E=e.createElement(t,{name:s.CLASSMATES,title:n("Classmates"),link:l.getUrl(),selected:this.props.selectedItem===s.CLASSMATES,isItemNav:this.props.isItemNav}),C=e.createElement(t,{name:s.INFO,title:n("Course Info"),link:p(),selected:this.props.selectedItem===s.INFO,isItemNav:this.props.isItemNav});return e.createElement("ul",{className:"rc-FullMenuItems c-main-menu flex-1 vertical-box nostyle"},!this.props.isItemNav&&e.createElement(m,null),e.createElement("li",{onClick:this.props.hideMobileMenu},o),e.createElement("li",{onClick:this.props.hideMobileMenu},N),!this.props.isItemNav&&(this.props.showingMobileMenu||this.props.selectedItem===s.COURSE)&&e.createElement(r,{hideMobileMenu:this.props.hideMobileMenu}),this.props.hasGradableItems&&e.createElement("li",{onClick:this.props.hideMobileMenu},i),d&&e.createElement("li",{onClick:this.props.hideMobileMenu},u),l.isEnabled()&&e.createElement("li",{onClick:this.props.hideMobileMenu},E),e.createElement("li",{onClick:this.props.hideMobileMenu},C))}});module.exports=i,module.exports=d(i,["CourseStore"],function(e,n){var s=e.CourseStore;return{hasGradableItems:s.hasGradableItems()}}),module.exports.BaseComp=i});
define("bundles/ondemand/components/menu/PreviewMenuItems",["require","exports","module","react-with-addons","bundles/ondemand/components/CourseInfoPage","bundles/ondemand/components/menu/AdminButton","bundles/ondemand/components/menu/MainNavItem","bundles/ondemand/components/menu/ModuleList","bundles/ondemand/constants/Constants","bundles/ondemand/utils/url","bundles/phoenix/template/models/userIdentity","i18n!nls/ondemand","bundles/phoenix/lib/waitForStores"],function(require,exports,module){var e=require("react-with-addons"),l=require("bundles/ondemand/components/CourseInfoPage").getUrl,p=require("bundles/ondemand/components/menu/AdminButton"),o=require("bundles/ondemand/components/menu/MainNavItem"),d=require("bundles/ondemand/components/menu/ModuleList"),r=require("bundles/ondemand/constants/Constants"),n=r.mainNavItems,i=require("bundles/ondemand/utils/url"),a=i.getDiscussionsUrl,u=i.getWeekUrl,m=require("bundles/phoenix/template/models/userIdentity"),s=require("i18n!nls/ondemand"),c=require("bundles/phoenix/lib/waitForStores"),t=e.createClass({displayName:"PreviewMenuItems",propTypes:{showingMobileMenu:e.PropTypes.bool.isRequired,hideMobileMenu:e.PropTypes.func.isRequired,selectedItem:e.PropTypes.string.isRequired,isPreEnrollEnabled:e.PropTypes.bool.isRequired,isRestrictedCapstone:e.PropTypes.bool,canReadForumOnPreview:e.PropTypes.bool,isAuditModeOnPreviewSidebar:e.PropTypes.bool,isForumLockedOnPreview:e.PropTypes.bool,isItemNav:e.PropTypes.bool},getDefaultProps:function getDefaultProps(){return{isItemNav:!1}},render:function render(){var t=this,r=function renderDiscussionsLink(){return e.createElement(o,{name:n.DISCUSSIONS,title:s("Discussions"),link:a(),locked:t.props.isForumLockedOnPreview,selected:t.props.selectedItem===n.DISCUSSIONS,isItemNav:t.props.isItemNav})},c=function renderCourseInfoLink(){return e.createElement(o,{name:n.INFO,title:s("Course Info"),link:l(),selected:t.props.selectedItem===n.INFO,isItemNav:t.props.isItemNav})},b=s(this.props.isAuditModeOnPreviewSidebar?"Audit Course":"Preview Course"),v=e.createElement(o,{name:n.COURSE,title:b,link:u(1),selected:this.props.selectedItem===n.COURSE,isItemNav:this.props.isItemNav}),i=m.get("authenticated")&&!this.props.isRestrictedCapstone&&!this.props.isPreEnrollEnabled;return e.createElement("ul",{className:"rc-PreviewMenuItems c-main-menu flex-1 vertical-box nostyle"},!this.props.isItemNav&&e.createElement(p,null),e.createElement("li",{onClick:this.props.hideMobileMenu},c()),i&&e.createElement("li",{onClick:this.props.hideMobileMenu},v),!this.props.isItemNav&&i&&(this.props.showingMobileMenu||this.props.selectedItem===n.COURSE)&&e.createElement(d,{hideMobileMenu:this.props.hideMobileMenu}),(this.props.canReadForumOnPreview||this.props.isForumLockedOnPreview)&&e.createElement("li",{onClick:this.props.hideMobileMenu},r()))}});module.exports=c(t,{requiredStores:["S12nStore","CourseStore"],lazyStores:["ContentAccessStore"]},function(e,t){var s=e.S12nStore,o=e.CourseStore,n=e.ContentAccessStore;return{isPreEnrollEnabled:o.isPreEnrollEnabledForUser(),isRestrictedCapstone:s.isRestrictedCapstone(),canReadForumOnPreview:n.canReadForumOnPreview(),isForumLockedOnPreview:n.isForumLockedOnPreview(),isAuditModeOnPreviewSidebar:n.isAuditModeOnPreviewSidebar()}}),module.exports.BaseComp=t});
define("bundles/s12n-common/service/promises/s12nMembershipPromiseFactory",["require","exports","module","bundles/catalogP/models/s12nMembership","bundles/common/constants/S12nRoles","bundles/phoenix/template/models/userIdentity","bundles/s12n/service/s12nMembershipApi"],function(require,exports,module){var e=require("bundles/catalogP/models/s12nMembership"),s=require("bundles/common/constants/S12nRoles"),n=require("bundles/phoenix/template/models/userIdentity"),t=require("bundles/s12n/service/s12nMembershipApi");module.exports=function(o){var r=n.get("id")+"~"+o;return t.get(r).then(function(n){return new e(n.elements[0])}).fail(function(t){return new e({id:r,userId:n.get("id"),s12nId:o,role:s.NOT_ENROLLED})})}});
define("pages/open-course/s12n/models/banner",["require","exports","module","backbone","underscore","js/lib/fsm"],function(require,exports,module){var Backbone=require("backbone"),_=require("underscore"),e=require("js/lib/fsm"),s=Backbone.Model.extend(_.extend({},e.FiniteStateMachine,{defaults:{state:"hidden"},fsm:{states:["hidden","viewS12n","takeS12n","payCourse","hybridCourse"]}}));module.exports=new s});
define("pages/open-course/s12n/views/nls/banner",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

!function(e){var n=function(e,n,t){var a=function template(i){var s=[],d={},a,t=i||{};return function(n,t,i,d){s.push('<div data-state-not="hidden" class="bt3-container-fluid c-s12n-banner-container bgcolor-primary-dark"><div class="c-s12n-banner"><div class="c-s12n-banner-wrapper"><div class="c-s12n-banner-content"><div data-state="payCourse"><p>'+e.escape(null==(a=n("Like what you've learned so far? Purchase this course to advance in the Specialization."))?"":a)+'</p></div><div data-state="takeS12n"><p>'+(null==(a=n("Like this course? Become an expert by joining the&nbsp;"))?"":a)+"<a"+e.attr("href",t,!0,!1)+' class="c-s12n-banner-details">'+e.escape(null==(a=n("#{s12nName} Specialization",{s12nName:n(i)}))?"":a)+'</a>.</p></div><div data-state="hybridCourse"><p>'+(null==(a=n("Good news! You've completed an equivalent course, so you don't need to complete this course to receive credit in the&nbsp;"))?"":a)+"<a"+e.attr("href",t,!0,!1)+' class="c-s12n-banner-details">'+e.escape(null==(a=n("#{s12nName} Specialization",{s12nName:n(i)}))?"":a)+'</a>.</p></div></div><div class="c-s12n-banner-button-area">');var r="hybridCourse"===d?"view-s12n-button":"enroll-button";s.push("<button"+e.attr("data-js",r,!0,!1)+' class="primary"><span data-state="payCourse">'+e.escape(null==(a=n("Purchase"))?"":a)+'</span><span data-state="takeS12n">'+e.escape(null==(a=n("Upgrade"))?"":a)+'</span><span data-state="hybridCourse">'+e.escape(null==(a=n("View"))?"":a)+'</span></button></div></div></div></div><div data-rc="S12nEnrollModal"></div>')}.call(this,"_t"in t?t._t:"undefined"!=typeof n?n:void 0,"s12nLink"in t?t.s12nLink:"undefined"!=typeof s12nLink?s12nLink:void 0,"s12nName"in t?t.s12nName:"undefined"!=typeof s12nName?s12nName:void 0,"state"in t?t.state:"undefined"!=typeof state?state:void 0),s.join("")};return function(e){return e&&"_t"in e&&(n=e._t.merge(n)),a(e)}};"function"==typeof define&&define.amd?define('pages/open-course/s12n/views/banner.html',["js/vendor/jade","i18n!pages/open-course/s12n/views/nls/banner"],function(e,a){var t;return n(e,a,t)}):e.jade.templates["pages.open-course.s12n.views.banner"]=n(e.jade.helpers)}(window);

define('css!pages/open-course/s12n/styl/banner',[],function(){})
define("pages/open-course/s12n/views/banner",["require","exports","module","q","underscore","bundles/phoenix/lib/view","bundles/phoenix/template/models/userAuthorization","bundles/s12n-common/service/promises/s12nMembershipPromiseFactory","bundles/s12n-common/service/promises/s12nOwnershipPromiseFactory","bundles/s12n-enroll/components/S12nEnrollModal","js/lib/coursera.redirect","pages/open-course/common/constants","pages/open-course/common/singletons/courseMembership","pages/open-course/common/singletons/s12n","pages/open-course/s12n/models/banner","pages/open-course/s12n/views/banner.html","js/lib/affix","css!pages/open-course/s12n/styl/banner.css"],function(require,exports,module){var o=require("q"),_=require("underscore"),n=require("bundles/phoenix/lib/view"),a=require("bundles/phoenix/template/models/userAuthorization"),l=require("bundles/s12n-common/service/promises/s12nMembershipPromiseFactory"),s=require("bundles/s12n-common/service/promises/s12nOwnershipPromiseFactory"),i=require("bundles/s12n-enroll/components/S12nEnrollModal"),r=require("js/lib/coursera.redirect"),p=require("pages/open-course/common/constants"),t=p.courseId,c=require("pages/open-course/common/singletons/courseMembership"),u=require("pages/open-course/common/singletons/s12n"),h=require("pages/open-course/s12n/models/banner"),d=require("pages/open-course/s12n/views/banner.html");require("js/lib/affix"),require("css!pages/open-course/s12n/styl/banner.css");var e=n.extend({template:d,stateModelProperty:"model",multitracker:{namespace:"specialization.course_outline_banner",baseValues:["specialization_id","open_course_id","banner_state"],definitions:{specialization_id:function specialization_id(){return this.s12n.get("id")},open_course_id:function open_course_id(){return t},banner_state:function banner_state(){return this.model.get("state")}}},render:function render(){},defaults:{state:"hidden"},events:{'click [data-js~="enroll-button"]':"openS12nModal",'click [data-js~="view-s12n-button"]':"redirectToS12n"},initialize:function initialize(n){_.bindAll(this,"setBannerState"),this.model=h,a.get("authenticated")&&e.getS12n().then(function(e){return this.s12n=e,this.course=this.s12n.get("courses").get(t),o.allSettled([s(e.get("id")),l(e.get("id")),c]).spread(function(s,e,n){this.courseMembership=n.value,this.s12nOwnership=s.value,"fulfilled"===e.state&&(this.s12nMembership=e.value)}.bind(this)).then(this.setBannerState).done()}.bind(this))},setBannerState:function setBannerState(){if(this.courseMembership.hasEnrolledRole()&&!this.s12nMembership)this.setState("takeS12n");else{var e=this.s12nOwnership.ownsCourse(this.courseMembership.get("courseId"));!e&&this.s12n.getHybridCourse(this.course)?this.setState("hybridCourse"):!e&&this.s12nMembership&&this.s12nMembership.isEnrolled()&&this.courseMembership.hasEnrolledRole()?this.setState("payCourse"):!e&&this.courseMembership.hasEnrolledRole()?this.setState("takeS12n"):this.setState("hidden")}},setState:function setState(e){_(["takeS12n","hybridCourse"]).contains(e)&&(this.templateOptions={s12nName:this.s12n.get("name"),s12nLink:this.s12n.getLink(),state:e}),this.model.transitionIfNot(e),this.track("render"),n.prototype.render.call(this)},openS12nModal:function openS12nModal(){this.enrollModalComponent=this.renderReactInto(i,"S12nEnrollModal",{s12nId:this.s12n.get("id"),courseIdOverride:this.course.get("id"),showFreeOption:!this.courseMembership.hasEnrolledRole(),onClose:this.closeS12nModal.bind(this)})},closeS12nModal:function closeS12nModal(){this.removeReactComponent(this.enrollModalComponent)},redirectToS12n:function redirectToS12n(){r.setLocation(this.s12n.getLink())}},{getS12n:function getS12n(){return u.invoke("at",0)},shouldAppend:function shouldAppend(e){var n=e.course;return this.getS12n().then(function(e){return e?s(e.get("id")).then(function(e){var s=e.ownsCourse(n.get("id"));return!s}):!1})}});module.exports=e});
define("bundles/ondemand/utils/formatter",["require","exports","module","moment","i18n!nls/ondemand"],function(require,exports,module){var e=require("moment"),n=require("i18n!nls/ondemand");exports.fixNewlineChars=function(n){return n.replace(/\n/g,"<br/>")},exports.humanizeLearningTime=function(u){var r=e.duration(u),i=r.seconds(),s=r.minutes()+Math.round(i/60),t=r.hours();if(t){var d=("0"+s.toString()).slice(-2);return n("#{hours}h #{paddedMinutes}m",{hours:t,paddedMinutes:d})}return s?n("#{minutes} min",{minutes:s}):0!==i?n("#{seconds} sec",{seconds:i}):""}});
define("bundles/ondemand/components/ProgressPill",["require","exports","module","moment","react-with-addons","classnames","js/lib/coursera.react-intl","js/lib/moment.validator","bundles/ondemand/stores/CourseScheduleStore","i18n!nls/ondemand"],function(require,exports,module){var o=require("moment"),e=require("react-with-addons"),t=require("classnames"),n=require("js/lib/coursera.react-intl"),d=n.FormattedMessage,a=require("js/lib/moment.validator"),r=require("bundles/ondemand/stores/CourseScheduleStore"),s=r.deadlineProgress,i=require("i18n!nls/ondemand"),l=e.createClass({displayName:"ProgressPill",propTypes:{deadlineProgress:e.PropTypes.oneOf(s.keys).isRequired,isGradable:e.PropTypes.bool.isRequired,isCurrentWeek:e.PropTypes.bool.isRequired,deadline:a.isRequired,onClick:e.PropTypes.func},getFormattedDeadline:function getFormattedDeadline(e){if(this.props.isCurrentWeek&&this.props.deadlineProgress===s.UPCOMING)return o(e).fromNow();if(this.props.deadlineProgress===s.OVERDUE)return"";return r.getFormattedDeadline(e)},render:function render(){if((this.props.isGradable||this.props.isCurrentWeek)&&this.props.deadlineProgress!==s.COMPLETE){var o=t({"pill-dark":this.props.isCurrentWeek,"pill-white":this.props.deadlineProgress===s.OVERDUE,"pill-light":!this.props.isCurrentWeek&&this.props.deadlineProgress===s.UPCOMING}),r;return r=i(this.props.isGradable?this.props.deadlineProgress===s.OVERDUE?"Overdue":"Due":"Ends"),e.createElement("div",{className:"rc-ProgressPill",onClick:this.props.onClick},e.createElement("div",{className:o},e.createElement(d,{message:i("{due} {date}"),due:r,date:this.getFormattedDeadline(this.props.deadline)})))}return null}});module.exports=l});
define("bundles/ondemand/components/VerificationStatusPill",["require","exports","module","react-with-addons","react-bootstrap","pages/open-course/common/models/itemGrade","i18n!nls/ondemand","bundles/phoenix/lib/waitForStores","pages/open-course/common/constants"],function(require,exports,module){var e=require("react-with-addons"),a=require("react-bootstrap"),d=a.OverlayTrigger,n=a.Tooltip,c=require("pages/open-course/common/models/itemGrade"),i=c.relativePassingStates,t=require("i18n!nls/ondemand"),u=require("bundles/phoenix/lib/waitForStores"),l=require("pages/open-course/common/constants"),m=l.courseId,r=i.passedUnverified,s=i.passedVerificationPending,o={};o[r]={tooltipText:t("This assignment was not verified.\nRetake with verification to be eligible for a Course Certificate."),pillText:t("Not Verified")},o[s]={tooltipText:t("Coursera is verifying your identity and will get back to you as soon as possible."),pillText:t("Verification Pending")};var p=e.createClass({displayName:"VerificationStatusPill",propTypes:{item:e.PropTypes.object.isRequired,relativePassingState:e.PropTypes.oneOf(Object.keys(i)).isRequired},render:function render(){var t=this.props.relativePassingState,a=t===r,l=t===s;if(a||l){var i=o[this.props.relativePassingState],c=i.tooltipText,p=i.pillText,u=e.createElement(n,null,c);return e.createElement(d,{placement:"bottom",overlay:u},e.createElement("div",{className:"rc-VerificationStatusPill pill-light"},p))}return null}});module.exports=u(p,["CourseGradeStore","VerificationStore"],function(e,t){var i=e.CourseGradeStore,o=e.VerificationStore,a=t.item,r=o.getVerificationDisplay();return{relativePassingState:i.getRelativePassingState(r,a.getId())}})});

define('css!bundles/ondemand/components/lessonList/__styles__/EffortText',[],function(){})
define("bundles/ondemand/components/lessonList/EffortText",["require","exports","module","classnames","react-with-addons","pages/open-course/common/models/itemMetadata","js/lib/coursera.react-intl","bundles/ondemand/utils/formatter","vendor/cnpm/fluxible.v0-4/addons/connectToStores","i18n!nls/ondemand","css!bundles/ondemand/components/lessonList/__styles__/EffortText"],function(require,exports,module){var s=require("classnames"),e=require("react-with-addons"),o=require("pages/open-course/common/models/itemMetadata"),n=require("js/lib/coursera.react-intl"),r=n.FormattedMessage,i=require("bundles/ondemand/utils/formatter"),a=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),t=require("i18n!nls/ondemand");require("css!bundles/ondemand/components/lessonList/__styles__/EffortText");var m=e.createClass({displayName:"EffortText",propTypes:{item:e.PropTypes.instanceOf(o).isRequired,completed:e.PropTypes.bool,combinedItemCompleted:e.PropTypes.bool,failedPeer:e.PropTypes.bool,submitted:e.PropTypes.bool,className:e.PropTypes.string},render:function render(){var o=this.props.item,n=s(this.props.className,"rc-EffortText","caption-text","color-secondary-text",{"text-hint":!this.props.failedPeer,failed:this.props.failedPeer});if("quiz"===o.getTypeName()||"exam"===o.getTypeName())return e.createElement("span",{className:n},e.createElement(r,{message:t("{questionCount, plural, =1 {# question} other {# questions}}"),questionCount:o.getDefinition("questionCount")}));if(o.isAssignmentPartForSplitPeer()){if(this.props.failedPeer)return e.createElement("span",{className:n},t("Try Again"));if(this.props.submitted&&!this.props.completed)return e.createElement("span",{className:n},t("Grading in progress"));if(this.props.completed&&!this.props.combinedItemCompleted)return e.createElement("span",{className:n},t("You must review more classmates"))}if(o.get("timeCommitment"))return e.createElement("span",{className:n},i.humanizeLearningTime(o.get("timeCommitment")));return null}});module.exports=a(m,["ProgressStore"],function(s,o){var e=s.ProgressStore,t=o.item;return{completed:e.isItemComplete(t),combinedItemCompleted:e.isCombinedItemComplete(t),submitted:e.isItemSubmitted(t),failedPeer:e.isPeerAssignmentFailed(t)}})});

define('css!bundles/ondemand/components/lessonList/__styles__/Item',[],function(){})
define("bundles/ondemand/components/lessonList/Item",["require","exports","module","classnames","react-with-addons","bundles/iconfont/Icon","bundles/ondemand/components/lessonList/ItemIcon","bundles/ondemand/components/sessions/LockedTooltip","bundles/ondemand/stores/SessionStore","pages/open-course/common/models/itemMetadata","bundles/ondemand/components/lessonList/EffortText","vendor/cnpm/fluxible.v0-4/addons/connectToStores","css!bundles/ondemand/components/lessonList/__styles__/Item"],function(require,exports,module){var t=require("classnames"),e=require("react-with-addons"),i=require("bundles/iconfont/Icon"),r=require("bundles/ondemand/components/lessonList/ItemIcon"),l=require("bundles/ondemand/components/sessions/LockedTooltip"),o=require("bundles/ondemand/stores/SessionStore"),c=require("pages/open-course/common/models/itemMetadata"),n=require("bundles/ondemand/components/lessonList/EffortText"),m=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores");require("css!bundles/ondemand/components/lessonList/__styles__/Item");var s=e.createClass({displayName:"Item",propTypes:{item:e.PropTypes.instanceOf(c).isRequired,isMinimal:e.PropTypes.bool,completed:e.PropTypes.bool,pillElements:e.PropTypes.arrayOf(e.PropTypes.node),showTopIconConnector:e.PropTypes.bool,showBottomIconConnector:e.PropTypes.bool,showLockedTooltip:e.PropTypes.bool},contextTypes:{week:e.PropTypes.number},getDefaultProps:function getDefaultProps(){return{isMinimal:!1,showTopIconConnector:!1,showBottomIconConnector:!1}},renderItemName:function renderItemName(){var o=this.props.item,n=t("item-name","inline-child",{"headline-1-text":!this.props.isMinimal,"caption-text":this.props.isMinimal});return e.createElement("h5",{className:n},o.getTypePrefix()&&e.createElement("strong",null,o.getTypePrefix()+": "),!this.props.isMinimal&&e.createElement("span",null,o.get("name")),this.props.isMinimal&&e.createElement("div",null,o.get("name")))},renderIcon:function renderIcon(){var n=this.props,s=n.completed,l=n.item,c=t("circle-lock","color-secondary-text","od-icon",{completed:s});return this.props.showLockedTooltip&&o.hasEnded()?e.createElement(i,{name:"circle-outer",innerIcon:"lock",className:c}):e.createElement(r,{type:this.props.showLockedTooltip?"lock":l.getTypeName(),completed:s})},renderMinimalItem:function renderMinimalItem(){return e.createElement("div",{className:"horizontal-box align-items-vertical-center minimal-item"},e.createElement("div",null,this.renderIcon()),e.createElement("div",{className:"flex-1"},this.renderItemName()),e.createElement(n,{className:"caption-text time-estimate",item:this.props.item}))},renderItem:function renderItem(){var o=this.props,s=o.item,t=o.pillElements;return e.createElement("div",{className:"horizontal-box headline-1-text od-item align-items-vertical-center"},this.renderIcon(),e.createElement("div",{className:"item-text-container"},this.renderItemName(),e.createElement(n,{className:"inline-child",item:s}),!!t&&t.length>0&&e.createElement("span",{className:"pill-container inline-child"},t)))},render:function render(){var o=this.props.item,n=t("rc-Item","horizontal-box",{locked:this.props.showLockedTooltip,minimal:this.props.isMinimal});return e.createElement("div",{className:n},this.props.showTopIconConnector&&e.createElement("div",{className:"vertical-line vertical-line-top"}),this.props.showBottomIconConnector&&e.createElement("div",{className:"vertical-line vertical-line-bottom"}),this.props.showLockedTooltip&&e.createElement(l,{type:"item",placement:"top",itemMetadata:o,week:this.context.week}),this.props.isMinimal?this.renderMinimalItem():this.renderItem())}});module.exports=m(s,["ProgressStore","ContentAccessStore"],function(t,n){var s=t.ProgressStore,i=t.ContentAccessStore,e=n.item;return{completed:s.isItemComplete(e),showLockedTooltip:o.isItemLocked(e)||i.isLockedTooltip(e)}}),module.exports.BaseComp=s});

define('css!bundles/ondemand/components/lessonList/__styles__/ItemLink',[],function(){})
define("bundles/ondemand/components/lessonList/ItemLink",["require","exports","module","classnames","moment","react-router","react-with-addons","bundles/catalogP/models/s12n","bundles/ondemand/components/ProgressPill","bundles/ondemand/components/VerificationStatusPill","bundles/ondemand/components/lessonList/Item","bundles/ondemand/stores/CourseScheduleStore","bundles/ondemand/stores/SessionStore","bundles/s12n-enroll/components/S12nEnrollModal","js/lib/moment.validator","i18n!nls/ondemand","pages/open-course/common/models/itemMetadata","vendor/cnpm/fluxible.v0-4/addons/connectToStores","css!bundles/ondemand/components/lessonList/__styles__/ItemLink"],function(require,exports,module){var o=require("classnames"),a=require("moment"),m=require("react-router"),c=m.Link,e=require("react-with-addons"),i=require("bundles/catalogP/models/s12n"),r=require("bundles/ondemand/components/ProgressPill"),l=require("bundles/ondemand/components/VerificationStatusPill"),d=require("bundles/ondemand/components/lessonList/Item"),k=require("bundles/ondemand/stores/CourseScheduleStore"),s=k.deadlineProgress,t=require("bundles/ondemand/stores/SessionStore"),p=require("bundles/s12n-enroll/components/S12nEnrollModal"),u=require("js/lib/moment.validator"),h=require("i18n!nls/ondemand"),P=require("pages/open-course/common/models/itemMetadata"),b=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores");require("css!bundles/ondemand/components/lessonList/__styles__/ItemLink");var n=e.createClass({displayName:"ItemLink",propTypes:{item:e.PropTypes.instanceOf(P).isRequired,isNext:e.PropTypes.bool.isRequired,isMinimal:e.PropTypes.bool,isCurrentItem:e.PropTypes.bool,className:e.PropTypes.string,submitted:e.PropTypes.bool,deadline:u,currentWeek:e.PropTypes.number,hideUpcomingPill:e.PropTypes.bool,children:e.PropTypes.node,namespace:e.PropTypes.string,showTopIconConnector:e.PropTypes.bool,showBottomIconConnector:e.PropTypes.bool,s12n:e.PropTypes.instanceOf(i),isLockedAssessment:e.PropTypes.bool,isHiddenAssessment:e.PropTypes.bool},contextTypes:{track:e.PropTypes.func.isRequired,week:e.PropTypes.number},getDefaultProps:function getDefaultProps(){return{isMinimal:!1,isCurrentItem:!1,namespace:"week"}},getInitialState:function getInitialState(){return{showEnrollModal:!1}},onItemClick:function onItemClick(e){this.context.track(this.props.namespace+".click.item_link",{item_id:this.props.item.get("id"),is_next:this.props.isNext}),this.props.isMinimal&&this.context.track("item_side_nav.click.item",{item_id:this.props.item.get("id")})},onPremiumGradeClick:function onPremiumGradeClick(){this.setState({showEnrollModal:!0})},onCloseModal:function onCloseModal(){this.setState({showEnrollModal:!1})},renderPills:function renderPills(){var n=this.props,o=n.item,P=n.currentWeek,h=n.submitted,d=n.deadline,u=n.hideUpcomingPill,p=this.context.week===P,m=!0,i;h?(i=s.COMPLETE,m=!1):a().isAfter(d)?i=s.OVERDUE:(i=s.UPCOMING,m=p||!u);var c=[];return!t.isPreviewMode()&&o.isGradable()&&d&&m&&c.push(e.createElement(r,{deadlineProgress:i,isGradable:o.isGradable(),isCurrentWeek:p,deadline:d,key:"ProgressPill"})),!t.isPreviewMode()&&o.isAssessment()&&c.push(e.createElement(l,{item:o,key:"VerificationPill"})),c},renderInternalLink:function renderInternalLink(){var s=this.props,t=s.item,n=s.isNext,i=o("horizontal-box","hover-color",{"item-next":n,minimal:this.props.isMinimal,"current-item":this.props.isCurrentItem});return e.createElement("div",{className:i},e.createElement("div",{className:"flex-1"},e.createElement(d,{item:t,isMinimal:this.props.isMinimal,pillElements:this.renderPills(),showTopIconConnector:this.props.showTopIconConnector,showBottomIconConnector:this.props.showBottomIconConnector})),this.props.children,n&&e.createElement("div",{className:"align-self-center bt3-hidden-xs"},e.createElement("button",{className:"primary cozy",ref:"resumeButton"},h("Resume"))))},renderWithoutLink:function renderWithoutLink(){var s=this.props.s12n,n=s?s.s12n.id:null;return e.createElement("div",null,e.createElement("div",{className:"rc-ItemLink nostyle",onClick:this.onPremiumGradeClick},this.renderInternalLink()),this.state.showEnrollModal&&n&&e.createElement(p,{s12nId:n,onClose:this.onCloseModal,showFreeOption:!1}))},renderWithLink:function renderWithLink(){return e.createElement(c,{to:this.props.item.getLink(),onClick:this.onItemClick,className:"rc-ItemLink nostyle"},this.renderInternalLink())},render:function render(){return this.props.isLockedAssessment?this.renderWithoutLink():this.props.isHiddenAssessment?null:this.renderWithLink()}});module.exports=b(n,["ProgressStore","CourseScheduleStore","S12nStore","ContentAccessStore"],function(e,o){var i=e.ProgressStore,n=e.CourseScheduleStore,r=e.S12nStore,t=e.ContentAccessStore,s=o.item;return{submitted:i.isItemSubmitted(s),deadline:n.getDeadlineForItem(s),currentWeek:n.getCurrentWeek(),s12n:r.getS12n(),isLockedAssessment:t.renderUpsellOnLessonList(s),isHiddenAssessment:t.isHiddenAssessmentOnPreview(s)}}),module.exports.BaseComp=n});
define("bundles/course-preview/constants/enrollment",["require","exports","module","js/lib/keysToConstants"],function(require,exports,module){var s=require("js/lib/keysToConstants"),e=["EXPLICIT","UPSELL","PRE_ENROLLED","ENROLLED"],o=s(e);module.exports={modeKeys:e,modes:o}});
define("bundles/course-preview/service/promises/enrollmentMode",["require","exports","module","q","bundles/course-preview/constants/enrollment","pages/open-course/common/singletons/courseMembership","pages/open-course/common/singletons/s12n"],function(require,exports,module){var n=require("q"),e=require("bundles/course-preview/constants/enrollment"),o=require("pages/open-course/common/singletons/courseMembership"),s=require("pages/open-course/common/singletons/s12n"),r=function enrollmentModePromise(){return o.then(function(o){return o.hasEnrolledRole()?n(e.modes.ENROLLED):o.hasPreEnrolled()?n(e.modes.PRE_ENROLLED):s.then(function(n){return n.isEmpty()?e.modes.EXPLICIT:e.modes.UPSELL})})};module.exports=r});
define("js/lib/stringKeyTuple",["require","underscore"],function(require){function escapeSeparator(e){return e.replace("~","!~")}function unescapeSeparator(e){return e.replace("!~","~")}var _=require("underscore");return{stringKeyToTuple:function stringKeyToTuple(e){return _(e.split(/[^!]~/)).map(unescapeSeparator)},tupleToStringKey:function tupleToStringKey(e){return _(e).map(escapeSeparator).join("~")}}});
define("pages/open-course/item/views/nls/verifiedCertificateBanner",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

!function(e){var n=function(e,n,a){var t=function template(r){var i=[],s={},t,a=r||{};return function(a,n,r){i.push('<div class="banner-vc"><img'+e.attr("src",a,!0,!1)+' class="cert-icon"/><div class="vc-banner-text bt3-hidden-xs"><span class="vc-banner-title">'+(null==(t=n("Link your coursework to your identity&nbsp;"))?"":t)+'</span><span class="vc-banner-secondary-text bt3-hidden-sm">'+e.escape(null==(t=n("- Get your Course Certificate!"))?"":t)+"</span></div><a"+e.attr("href",r,!0,!1)+' target="_blank"><button data-js="get-certified" class="get-cert-button bt3-btn">'+e.escape(null==(t=n("GET CERTIFIED"))?"":t)+'</button></a><div data-js="vc-banner-close" class="banner-close-icon"><em class="cif-remove"></em></div></div>')}.call(this,"vcBannerImg"in a?a.vcBannerImg:"undefined"!=typeof vcBannerImg?vcBannerImg:void 0,"_t"in a?a._t:"undefined"!=typeof n?n:void 0,"landingPagePath"in a?a.landingPagePath:"undefined"!=typeof landingPagePath?landingPagePath:void 0),i.join("")};return function(e){return e&&"_t"in e&&(n=e._t.merge(n)),t(e)}};"function"==typeof define&&define.amd?define('pages/open-course/item/views/verifiedCertificateBanner.html',["js/vendor/jade","i18n!pages/open-course/item/views/nls/verifiedCertificateBanner"],function(e,t){var a;return n(e,t,a)}):e.jade.templates["pages.open-course.item.views.verifiedCertificateBanner"]=n(e.jade.helpers)}(window);
define("pages/open-course/item/views/verifiedCertificateBanner",["require","exports","module","bundles/phoenix/lib/view","underscore","pages/open-course/common/constants","pages/open-course/item/views/verifiedCertificateBanner.html","pages/open-course/common/singletons/verificationDisplay"],function(require,exports,module){var t=require("bundles/phoenix/lib/view"),_=require("underscore"),e=require("pages/open-course/common/constants"),i=require("pages/open-course/item/views/verifiedCertificateBanner.html"),n=require("pages/open-course/common/singletons/verificationDisplay"),s=t.extend({template:i,events:{'click [data-js~="vc-banner-close"]':"close"},multitracker:{namespace:"open_course.item_verification",baseValues:["open_course_id","module_id","lesson_id","item_id"],definitions:{open_course_id:function open_course_id(){return this.itemMetadata.get("course.id")},module_id:function module_id(){return this.itemMetadata.get("lesson.module.id")},lesson_id:function lesson_id(){return this.itemMetadata.get("lesson.id")},item_id:function item_id(){return this.itemMetadata.get("id")}},events:{"click.get_certified":'click [data-js~="get-certified"]'},eventingVersion:2},initialize:function initialize(e){_.bindAll(this,["close"]),this.isItemPassable=e.isItemPassable||!1,this.itemMetadata=e.itemMetadata},render:function render(){return this.isItemPassable||(this.$el.html(i({vcBannerImg:e.signatureTrack.vcBannerImg,landingPagePath:e.vcLandingPagePath})),this.track("render")),this},close:function close(){this.track("click.close"),this.$el.remove()}},{shouldAppend:function shouldAppend(i){var e=i.itemMetadata;return e?n.then(function(i){return i.showCCAdvertising()&&0===e.getLectureIndexInModule()&&e.isLecture()}):!1}});module.exports=s});
define("js/lib/readme",["require","exports","module","jquery","moment","underscore","js/lib/cookie","js/lib/data.attributes","js/vendor/lucid.v2-7-0"],function(require,exports,module){var $=require("jquery"),e=require("moment"),_=require("underscore"),o=require("js/lib/cookie"),s=require("js/lib/data.attributes"),n=require("js/vendor/lucid.v2-7-0"),t={defaults:{"bind.close":"click","attribute.data":"data-readme","attribute.close":"data-readme-close","class":"readme",expires:null,"show.count":0,"show.until.closed":!1,"show.delay":1e3,"animate.open":null,"animate.close":null,"animate.duration":250,type:"banner"},open:!1,stack:[],getReadMe:function getReadMe(o,e){var t=$(o).data("readme.me");return t&&t.constructor==i.prototype.constructor?e?t.customize(e):t:null},makeReadMe:function makeReadMe(s,n){var o=$(s),e=t.getReadMe(o);return e||(e=new i(o,n),o.data("readme.me",e)),e},getCount:function getCount(){var t,i=this.options["attribute.data"]+"-"+this.$el.attr(this.options["attribute.data"]);if(this.options["show.count"])return t=o.get(i),t?parseInt(t,10):0;return 0},increaseCount:function increaseCount(){var e=this.options["attribute.data"]+"-"+this.$el.attr(this.options["attribute.data"]);if(this.options["show.count"]){var i=t.getCount.call(this)+1;return o.set(e,i,{expires:36500}),i}return 0},canShow:function canShow(){var s=t.getCount.call(this),i=this.options["show.count"]?parseInt(this.options["show.count"],10):0,o=this.options.expires;if(o&&e(new Date(o)).diff(e())<0)return this.emitter.trigger("expired"),!1;if(i&&s>=i)return this.emitter.trigger("aged"),!1;if(t.stack.indexOf(this)<0&&t.stack.push(this),t.open)return!1;return t.open=!0,!0}},i=function ReadMe(t,i){var e=this;this.$el=$(t),this.emitter=n.emitter(this),this.customize(i),window.setTimeout(function(){e.open()},this.options["show.delay"]||0)};i.prototype.customize=function(o){var e=this,i;return this.options=_.extend({},s.parse(this.$el,t.defaults,"data-readme-"),o),this.$el.addClass(this.options["class"]),"banner"==this.options.type?(this.$el.css({visibility:"hidden"}).show(),i=this.$el.outerHeight(),this.$el.css({visibility:"visible"}).hide(),this.options["animate.open"]={"margin-top":0},this.options["animate.close"]={"margin-top":-i},this.options["animate.duration"]=250,this.on("opening",function(){e.$el.css({visibility:"visible","margin-top":-i}).show().prependTo($("body"))})):"footer-sticky"==this.options.type&&(this.$el.css({visibility:"hidden"}).show(),i=this.$el.outerHeight(),this.$el.css({visibility:"visible"}).hide(),this.options["animate.open"]={bottom:0},this.options["animate.close"]={bottom:-i},this.options["animate.duration"]=250,this.on("opening",function(){var t={visibility:"visible",position:"absolute",left:0,right:0,bottom:-i};e.$el.css(t).show().appendTo($("body"))})),this},i.prototype.open=function(){var i=this;t.canShow.call(this)&&(!this.options["show.until.closed"]&&this.options["show.count"]&&t.increaseCount.call(this),this.emitter.trigger("opening"),this.$el.on(this.options["bind.close"]+".readme","["+this.options["attribute.close"]+"]",function(){i.options["show.until.closed"]&&i.options["show.count"]&&t.increaseCount.call(i),i.close()}),this.$el.is("["+this.options["attribute.close"]+"]")&&this.$el.on(this.options["bind.close"]+".readme",function(){i.options["show.until.closed"]&&i.options["show.count"]&&t.increaseCount.call(i),i.close()}),this.options["animate.open"]?(this.$el.css({"margin-top":-100}).prependTo($("body")).show(),this.$el.animate(this.options["animate.open"],{duration:this.options["animate.duration"],complete:function complete(){i.emitter.trigger("open")}})):(this.$el.show(),this.emitter.trigger("open")))},i.prototype.close=function(){var i=this;this.trigger("closing"),t.stack.shift(),this.options["animate.close"]?this.$el.animate(this.options["animate.close"],{duration:this.options["animate.duration"],complete:function complete(){i.$el.off(".readme"),i.$el.hide().remove(),i.emitter.trigger("close"),t.open=!1,t.stack.length&&t.stack[0].open()}}):(this.$el.off(".readme"),this.$el.hide().remove(),this.emitter.trigger("close"),t.open=!1,t.stack.length&&t.stack[0].open())},module.exports=function(i,e){return t.getReadMe(i,e)||t.makeReadMe(i,e)}});
define("pages/open-course/outline/views/nls/banner.verifiedCertificate",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

!function(e){var n=function(e,n,t){var a=function template(i){var r=[],c={},a,t=i||{};return function(t,n,i){r.push('<div data-readme="vc-banner-grandfather" data-readme-show-count="1" data-readme-show-until-closed="data-readme-show-until-closed" class="c-banner-grandfather-vc"><table><tr><td><img'+e.attr("src",t,!0,!1)+' class="c-cert-icon bt3-hidden-xs"/></td><td><div class="c-vc-banner-text"><span class="c-vc-banner-title"></span> '+e.escape(null==(a=n("This course is now offering Course Certificates."))?"":a)+"\n "+e.escape(null==(a=n("To be eligible for a Course Certificate,you need to verify all submitted assignments."))?"":a)+'</div></td><td class="c-vc-banner-buttons"><a'+e.attr("href",i,!0,!1)+' data-js="vc-banner-learn-more" target="_blank" data-readme-close="data-readme-close" class="c-vc-banner-buttons"><button class="c-get-cert-button bt3-btn">'+e.escape(null==(a=n("Learn more"))?"":a)+'</button></a></td><td class="c-vc-banner-buttons"><div data-readme-close="data-readme-close" data-js="readme-close-icon" class="c-banner-close-icon c-vc-banner-buttons readme-close-icon"><span><i class="cif-remove"></i></span></div></td></tr></table></div>')}.call(this,"vcBannerImg"in t?t.vcBannerImg:"undefined"!=typeof vcBannerImg?vcBannerImg:void 0,"_t"in t?t._t:"undefined"!=typeof n?n:void 0,"landingPagePath"in t?t.landingPagePath:"undefined"!=typeof landingPagePath?landingPagePath:void 0),r.join("")};return function(e){return e&&"_t"in e&&(n=e._t.merge(n)),a(e)}};"function"==typeof define&&define.amd?define('pages/open-course/outline/views/banner.verifiedCertificate.html',["js/vendor/jade","i18n!pages/open-course/outline/views/nls/banner.verifiedCertificate"],function(e,a){var t;return n(e,a,t)}):e.jade.templates["pages.open-course.outline.views.banner.verifiedCertificate"]=n(e.jade.helpers)}(window);
define("pages/open-course/outline/views/banner.verifiedCertificate",["require","exports","module","jquery","underscore","bundles/phoenix/lib/view","js/lib/readme","pages/open-course/common/constants","pages/open-course/common/singletons/courseMembership","pages/open-course/outline/views/banner.verifiedCertificate.html"],function(require,exports,module){var $=require("jquery"),_=require("underscore"),n=require("bundles/phoenix/lib/view"),r=require("js/lib/readme"),e=require("pages/open-course/common/constants"),i=require("pages/open-course/common/singletons/courseMembership"),t=require("pages/open-course/outline/views/banner.verifiedCertificate.html"),o=n.extend({template:t,templateOptions:function templateOptions(){return{vcBannerImg:e.signatureTrack.vcBannerImg,landingPagePath:e.vcLandingPagePath}},events:{'click [data-js~="vc-banner-learn-more"]':"learnMore",'click [data-js~="readme-close-icon"]':"close"},multitracker:{namespace:"open_course.banner_grandfather_vc",baseValues:["course_id"],definitions:{course_id:function course_id(){return this.course.get("id")}},eventingVersion:2},initialize:function initialize(e){this.course=e.course,_.bindAll(this,"onViewAppended","close","learnMore"),this.bind("view:appended",this.onViewAppended)},onViewAppended:function onViewAppended(){r('[data-readme="vc-banner-grandfather"]'),this.$el.replaceWith($('[data-readme="vc-banner-grandfather"]')),this.setElement($('[data-readme="vc-banner-grandfather"]'))},postRender:function postRender(){this.track("render")},close:function close(){this.track("click.close"),this.region.close()},learnMore:function learnMore(){this.track("click.learn_more"),this.region.close()}},{shouldAppend:function shouldAppend(n){var e=n.course,r=e.isVerificationEnabled();return r?i.then(function(n){var r=e.get("verificationEnabledAt")>n.get("timestamp");return r}):!1}});module.exports=o});
define("pages/open-course/common/views/banner",["require","exports","module","q","underscore","bundles/phoenix/lib/view","bundles/phoenix/template/models/userIdentity","pages/open-course/common/singletons/course","pages/open-course/item/views/verifiedCertificateBanner","pages/open-course/outline/views/banner.verifiedCertificate","pages/open-course/s12n/views/banner"],function(require,exports,module){var e=require("q"),_=require("underscore"),n=require("bundles/phoenix/lib/view"),i=require("bundles/phoenix/template/models/userIdentity"),s=require("pages/open-course/common/singletons/course"),r=require("pages/open-course/item/views/verifiedCertificateBanner"),t=require("pages/open-course/outline/views/banner.verifiedCertificate"),o=require("pages/open-course/s12n/views/banner"),a=n.extend({name:"banner",banners:[o,r,t],initialize:function initialize(n){_.bindAll(this,"appendBanner","findBanner");var i=e.defer();this.listenToOnce(this,"view:appended",i.resolve),e.all([s,i.promise]).spread(function(e){_(n).extend({course:e,courseId:e.get("id")}),this.findBanner(n),this.listenTo(this,"view:merged",this.onMerge.bind(this,n))}.bind(this)).done()},onMerge:function onMerge(e){this.findBanner(e)},findBanner:function findBanner(n){if(!i.get("authenticated"))return;e.all(_(this.banners).map(function(i){return e.when(i.shouldAppend(n))})).then(function(i){var s=_(i).indexOf(!0),e=this.banners[s];e?this.appendBanner(e,n):this.removeBanner()}.bind(this)).done()},appendBanner:function appendBanner(e,n){this.currentBannerView!==e&&(this.region.append(e,{initialize:n,module:e}),this.currentBannerView=e)},removeBanner:function removeBanner(){_(this.region.regions).each(function(e){e.close()})}});module.exports=a});

(function(c){var d=document,a='appendChild',i='styleSheet',s=d.createElement('style');s.type='text/css';d.getElementsByTagName('head')[0][a](s);s[i]?s[i].cssText=c:s[a](d.createTextNode(c));})
('.wechat-image{cursor:pointer}.wechat-qrcode-container{background:#fff;border:1px solid #ccc;position:absolute;z-index:100;width:260px;height:130px;font-size:13px;right:10px;top:-120px;margin-top:20px;-webkit-box-shadow:0 3px 7px rgba(0,0,0,0.3);box-shadow:0 3px 7px rgba(0,0,0,0.3)}#wechat-qrcode{display:inline-block;margin:20px 10px;float:left}.wechat-qrcode-message{display:inline-block;width:120px;height:90px;margin:20px 10px;line-height:20px;text-align:left}.wechat-qrcode-close{position:absolute;top:0;right:8px;cursor:pointer}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.c-phoenix-template-small-logo{display:inline-block;background:url(\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNi4yLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMTA4cHgiIGhlaWdodD0iMTdweCIgdmlld0JveD0iMCAwIDEwOCAxNyIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTA4IDE3IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwYXRoIGZpbGw9IiM3MTcxNzIiIGQ9Ik01NC4yODEsNS43NzNjMC4wNjYtMS4yNjksMC41MjEtMi4zMDYsMS4yMzItMy4xMTVWMS41OGgtMC45NDVjLTEuOTEsMC0zLjUyNywwLjczMi00LjQ2NywyLjM4NmgtMC4wNTUNCglWMS43NjJoLTQuODk5djEzLjQ0MWg0LjlWOS43NzdjMC0yLjMwMywwLjY3NC00LjA1OSwzLjM5My00LjA1OUM1My43MzYsNS43Miw1NC4wMTMsNS43MzcsNTQuMjgxLDUuNzczeiIvPg0KPHBhdGggZmlsbD0iIzcxNzE3MiIgZD0iTTkxLjM4LDUuNzI0YzAuNDA3LTEuMTg4LDEuMDY3LTIuMjQ2LDEuOTI1LTMuMDk1di0xLjA1aC0wLjk0M2MtMS45MTEsMC0zLjUyNiwwLjczMi00LjQ3MSwyLjM4NWgtMC4wNTMNCglWMS43NjJoLTQuOTAydjEzLjQ0MWg0LjkwMlY5Ljc3N2MwLTIuMzAzLDAuNjc2LTQuMDU5LDMuMzk1LTQuMDU5TDkxLjM4LDUuNzI0eiIvPg0KPHBhdGggZmlsbD0iIzcxNzE3MiIgZD0iTTY0LjIzMiw1LjIyYy0wLjc1Ni0wLjM5My0xLjgwOC0wLjY1NS0yLjY0NS0wLjY1NWMtMC41NjIsMC0xLjUzMywwLjIzNC0xLjUzMywwLjkxNw0KCWMwLDAuOTE4LDEuNTMzLDEuMDQ4LDIuMjExLDEuMTgyYzIuMjg0LDAuNDQ0LDQuMDEyLDEuNDkzLDQuMDEyLDMuOTc5YzAsMy41MzYtMy4zMTMsNS4wMDgtNi41Miw1LjAwOA0KCWMtMS45NjcsMC0zLjkwMi0wLjU1MS01LjU3NC0xLjU0N2wxLjc3Ny0zLjMzYzAuOTk1LDAuNjg0LDIuNjY1LDEuMzYzLDMuODc3LDEuMzYzYzAuNjIsMCwxLjUzNS0wLjI4NywxLjUzNS0xLjAyMQ0KCWMwLTEuMDQ4LTEuNTM1LTEuMTAzLTMuMDcyLTEuNDk1Yy0xLjUzMy0wLjM5My0zLjA2Ni0xLjEyNS0zLjA2Ni0zLjUzNmMwLTMuMzAyLDMuMDY2LTQuNzY3LDYuMDg4LTQuNzY3DQoJYzEuNTYyLDAsMy4xMjUsMC4yMzUsNC41NDksMC44NjRMNjQuMjMyLDUuMjJ6Ii8+DQo8cGF0aCBmaWxsPSIjNzE3MTcyIiBkPSJNMTA4LDE1LjIwM2gtNC45di0xLjQ5NWgtMC4wNTRjLTAuODYyLDEuMzM2LTIuNTYyLDEuOTM4LTQuMTc1LDEuOTM4Yy00LjA5NiwwLTYuOTc1LTMuMzI4LTYuOTc1LTcuMTgNCgljMC0zLjg0OCwyLjgyOC03LjE1MSw2LjkyLTcuMTUxYzEuNTg4LDAsMy4yNiwwLjU3Niw0LjI4MywxLjc1NFYxLjc2Mmg0Ljg5OUwxMDgsMTUuMjAzTDEwOCwxNS4yMDN6IE05Ni45NTksOC40OTUNCgljMCwxLjcwMiwxLjE2LDMuMDEyLDMuMTUsMy4wMTJjMS45OTIsMCwzLjE0Ny0xLjMwOCwzLjE0Ny0zLjAxMmMwLTEuNjUxLTEuMTU1LTMuMDM5LTMuMTQ3LTMuMDM5DQoJQzk4LjExOSw1LjQ1Nyw5Ni45NTksNi44NDQsOTYuOTU5LDguNDk1eiIvPg0KPHBhdGggZmlsbD0iIzcxNzE3MiIgZD0iTTgyLjE2Myw5LjI4M0g3MS44NDZjMCwxLjkzNywxLjA1MywyLjk4NCwzLjA3MiwyLjk4NGMxLjA1LDAsMS44MDMtMC4zMzksMi4zNDMtMS4yMzFoNC43MTQNCgljLTAuNzgxLDMuMTcxLTMuODc5LDQuNjEyLTcuMDI5LDQuNjEyYy00LjU3NSwwLTcuOTk1LTIuNTE3LTcuOTk1LTcuMTUyYzAtNC40OCwzLjE0Ny03LjE3OCw3LjY0NC03LjE3OA0KCWM0Ljc5MywwLDcuNTcsMi44ODMsNy41Nyw3LjQ2Nkw4Mi4xNjMsOS4yODNMODIuMTYzLDkuMjgzeiBNNzcuNjExLDYuNTNjLTAuMjQzLTEuMjg0LTEuNDU1LTIuMTIyLTIuNzczLTIuMTIyDQoJYy0xLjQyOSwwLTIuNjA5LDAuNzMxLTIuOTEsMi4xMjJINzcuNjExeiIvPg0KPGc+DQoJPGc+DQoJCTxwYXRoIGZpbGw9IiM3MTcxNzIiIGQ9Ik0yOS41NjEsOC4yNjFjLTAuMDA1LTAuMTE2LTAuMDEzLTAuMjI5LTAuMDIyLTAuMzQ0YzAsMCwwLTAuMDAxLDAtMC4wMDJjMCwwLDAtMC4wMDEsMC0wLjAwMg0KCQkJYy0wLjExLTEuMjQ3LTAuNTIyLTIuNDE0LTEuMjIxLTMuNDY4Yy0wLjMxMi0wLjQ3LTAuNjY5LTAuODk3LTEuMDY4LTEuMjhjLTAuNTgzLTAuNTYxLTEuMjU4LTEuMDI1LTIuMDE5LTEuMzkyDQoJCQljLTEuMTQ1LTAuNTQ3LTIuNDEtMC44MjMtMy43Ni0wLjgyM2MtMC4xMzIsMC0wLjI3LDAuMDAyLTAuNDA5LDAuMDA3QzIwLjExNCwxLDE5LjE5NywxLjE4LDE4LjMzNSwxLjQ5Nw0KCQkJYy0wLjg2OSwwLjMxNC0xLjYyNiwwLjcyOS0yLjI0NSwxLjIyN2MtMC4xMjYsMC4xLTAuMjYzLDAuMjIzLTAuNDEsMC4zNThsLTAuMTA2LDAuMTA0TDE1LjQyOSwzLjM0aDAuMDAxaDAuMDAxbC0wLjA2OCwwLjA2Nw0KCQkJTDE1LjMzLDMuNDQzbC0wLjE3MywwLjE4MmMtMC4xMjgsMC4xNDQtMC4yNSwwLjI4OC0wLjM2NCwwLjQyOWwtMC4wMDEtMC4wMDJsLTAuMDA0LTAuMDA0Yy0wLjIzNywwLjI4OC0wLjQ1NiwwLjU4Ni0wLjYxNywwLjg1NA0KCQkJYy0wLjEwOSwwLjE3Mi0wLjIxNiwwLjM0OS0wLjMxOCwwLjUyNkwxMi40NCw4LjI4NWwwLjAwMiwwLjAwMmwtMC4wNzQsMC4xNDVsLTAuMTU2LDAuMzE2Yy0wLjMxLDAuNjI3LTAuNjQyLDEuMjUyLTEuMDEzLDEuNzY4DQoJCQljLTAuODI3LDAuOTA3LTEuNzYyLDEuMzUxLTIuOTY0LDEuMzUxYy0wLjA4NCwwLTAuMTctMC4wMDQtMC4yNTgtMC4wMDljLTAuNzI0LTAuMDI5LTEuMzQ1LTAuMi0xLjg5Ni0wLjUyNg0KCQkJYy0wLjA1OS0wLjAzNS0wLjExNi0wLjA3MS0wLjE3MS0wLjEwOGMtMC40NS0wLjI5OS0wLjc5NS0wLjY4My0xLjA1My0xLjE2MmMtMC4yOTEtMC41NDMtMC40Mi0xLjA5OC0wLjQwMi0xLjY4Ng0KCQkJQzQuNDU2LDguMzYsNC40NTcsOC4zNDYsNC40NTcsOC4zMzNDNC40OTYsNy4zOTcsNC44NTMsNi42NjksNS41NzIsNi4wNEM1Ljc0Nyw1Ljg4OSw1LjkzLDUuNzYxLDYuMTIxLDUuNjQ3DQoJCQljMC4wMjctMC4wMTYsMC4wNTQtMC4wMzEsMC4wODEtMC4wNDVjMC41MzQtMC4yOTEsMS4xNDItMC40MzYsMS44MzktMC40MzZsMC4yMTcsMC4wMDZDOS4zNjUsNS4yMTQsMTAuMjE5LDUuNTYsMTAuOSw2LjIzNQ0KCQkJTDEzLjAzNiwyLjRjLTAuNTExLTAuMzQyLTEuMDg4LTAuNjM2LTEuNzI0LTAuODc1Yy0wLjAyNC0wLjAwOS0wLjA0OS0wLjAxOS0wLjA3NC0wLjAyN2MtMC4wNzYtMC4wMjctMC4xNTEtMC4wNTUtMC4yMjktMC4wOA0KCQkJQzEwLjMzMywxLjE5Miw5LjYyNCwxLjA1Myw4Ljg5NCwwLjk5bDAsMEM4Ljg3NiwwLjk4Nyw4Ljg1NiwwLjk4NSw4LjgzOCwwLjk4M0M4LjcyNiwwLjk3Niw4LjYxMiwwLjk2Miw4LjUsMC45NTcNCgkJCUM4LjM3OCwwLjk1Miw4LjI1NSwwLjk1LDguMTM1LDAuOTQ5SDguMDY2Yy0xLjM0MywwLjAwNS0yLjU5MSwwLjI4LTMuNzMyLDAuODI1QzMuMDU2LDIuMzksMi4wMiwzLjI4NywxLjI1Miw0LjQ0Mw0KCQkJQzAuNDg2LDUuNTk5LDAuMDY4LDYuODgyLDAuMDA4LDguMjU5QzAuMDAzLDguMzc3LDAsOC40OTQsMCw4LjYwOWMtMC4wMDEsMS45MjYsMC43MDEsMy42MiwyLjA5Nyw1LjA0Mg0KCQkJYzEuNDU3LDEuNDkyLDMuMzUyLDIuMjk2LDUuNjI3LDIuMzkxYzAuMTQ2LDAuMDA2LDAuMjksMC4wMSwwLjQzNCwwLjAxYzEuMjg3LDAsMi40NzgtMC4yMjksMy41NDYtMC42ODcNCgkJCWMwLjI2Ny0wLjExNCwwLjUyNi0wLjI0OCwwLjc5MS0wLjM5N2MwLjE0NC0wLjA4MywwLjI4LTAuMTcxLDAuNDE1LTAuMjY1bDAuMS0wLjA2N2wwLjE2OC0wLjExNQ0KCQkJYzAuMjAyLTAuMTQ1LDAuMzkxLTAuMzAyLDAuNTc1LTAuNDY5bDAuMDY0LTAuMDYxYzAuMTA4LTAuMTAzLDAuMjE2LTAuMjA3LDAuMzE4LTAuMzE0bDAuMzgzLTAuNDMzbDAuMTQ2LTAuMTgzbDAuMDY4LTAuMQ0KCQkJbDAuMDY4LTAuMDk4YzAuNTY5LTAuOTU2LDIuNDIxLTQuNDM1LDIuNDIxLTQuNDM1VjguNDIxbDAuMTEtMC4yMTJsMC4wOTItMC4xNjZjMC4yNzMtMC40OTcsMC40Ny0wLjg1LDAuNzMxLTEuMjIxbDAuMDA3LTAuMDExDQoJCQljMC42MDktMC44ODMsMS42NTYtMS41MTIsMi44OS0xLjYxOGMyLjA3LTAuMTc4LDMuODg0LDEuMTgyLDQuMDUxLDMuMDM4YzAuMTY2LDEuODU2LTEuMzc4LDMuNTA1LTMuNDQ4LDMuNjg0DQoJCQljLTAuNDMxLDAuMDM3LTAuODUsMC4wMDgtMS4yNDUtMC4wNzlsLTAuMDEsMC4wMDRjLTEuNTE5LTAuMzE2LTIuNDg2LTEuNDI0LTIuOTYzLTEuOTE5bC0xLjk5MiwzLjY2Mw0KCQkJYzAsMCwwLjYxOSwwLjYyNCwxLjA0MywwLjkzNmMwLjQyNSwwLjMxMSwwLjk3NCwwLjYxNywxLjQxMiwwLjgwN2MxLjA2MywwLjQ1NCwyLjIxOSwwLjcyNiwzLjQ5NiwwLjcyNg0KCQkJYzAuMTQ4LDAsMC4xMTgsMCwwLjI3Mi0wLjAwNmMyLjI3My0wLjA5NSw0LjI5OS0wLjk2Niw1Ljc2LTIuNDU4YzEuMzg0LTEuNDE3LDIuMTM1LTMuMDM1LDIuMTQyLTQuOTVWOC41ODINCgkJCUMyOS41NjgsOC40NzYsMjkuNTY1LDguMzY5LDI5LjU2MSw4LjI2MXoiLz4NCgk8L2c+DQo8L2c+DQo8Zz4NCgk8cGF0aCBmaWxsPSIjNzE3MTcyIiBkPSJNMzcuMTgxLDE1LjY1N2MtMS4wMzMsMC0xLjk3LTAuMTItMi44MTEtMC4zNmMtMC44NDEtMC4yNC0xLjU1OS0wLjYxOS0yLjE1NC0xLjEzOQ0KCQljLTAuNTk3LTAuNTItMS4wNTctMS4xODItMS4zODEtMS45ODVzLTAuNDg2LTEuNzcxLTAuNDg2LTIuODk5VjEuNzU5aDQuNzI3djcuNDU1YzAsMC44NDUsMC4yMDIsMS40NTcsMC42MDUsMS44MzkNCgkJYzAuNDA0LDAuMzgzLDAuOTE3LDAuNTc0LDEuNTM5LDAuNTc0YzAuNjM2LDAsMS4xNTItMC4xNzgsMS41NS0wLjUzNWMwLjM5Ni0wLjM1NywwLjU5Ni0wLjk0OSwwLjU5Ni0xLjc4MVYxLjc1OWg0LjcyN3Y3LjQxNg0KCQljMCwxLjE2OC0wLjE2NiwyLjE2MS0wLjQ5NywyLjk3OGMtMC4zMzEsMC44MTgtMC43OTgsMS40ODYtMS4zOTksMi4wMDZjLTAuNjA0LDAuNTItMS4zMzEsMC44OTgtMi4xODYsMS4xMzkNCgkJQzM5LjE1NiwxNS41MzcsMzguMjEzLDE1LjY1NywzNy4xODEsMTUuNjU3eiIvPg0KPC9nPg0KPC9zdmc+DQo=\");background-repeat:no-repeat;background-position:center center;width:109px;height:17px}.c-phoenix-template-truncate{overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap}.c-phoenix-template-button{outline:none;margin:15px 0;color:#fff;background-color:#428bca;cursor:pointer;border-top-right-radius:3px;border-top-left-radius:3px;border-bottom-right-radius:3px;border-bottom-left-radius:3px;}.c-phoenix-template-button:hover{background-color:#3d7cb3;color:#fff}.c-phoenix-template-button[disabled]{background-color:#cccccb}.c-phoenix-template-button:focus{color:#fff}.c-phoenix-hide{display:none}.c-hidden-accessibility{position:absolute !important;height:1px;width:1px;overflow:hidden;clip:rect(1px 1px 1px 1px)}.c-col-no-left-padding{padding-left:0}.c-col-no-right-padding{padding-right:0}.c-no-margin{margin:0}.c-user-modal .c-user-modal-content button{-webkit-box-shadow:0 1px 1px 0 rgba(0,0,0,0.12),0 0 1px 0 rgba(0,0,0,0.24);box-shadow:0 1px 1px 0 rgba(0,0,0,0.12),0 0 1px 0 rgba(0,0,0,0.24)}.c-user-modal{-webkit-box-shadow:0 19px 19px 0 rgba(0,0,0,0.3),0 0 6px 0 rgba(0,0,0,0.22);box-shadow:0 19px 19px 0 rgba(0,0,0,0.3),0 0 6px 0 rgba(0,0,0,0.22)}.c-user-modal-overlay{background-color:rgba(0,0,0,0.83)}.c-user-modal{background-color:#f9faf7}.c-user-modal .c-user-modal-content h2,.c-user-modal .c-user-modal-content input,.c-user-modal .c-user-modal-footer a{color:rgba(0,0,0,0.87)}.c-user-modal .c-user-modal-content,.c-user-modal .c-user-modal-footer{color:rgba(0,0,0,0.54)}.c-user-modal header,.c-user-modal header a.active,.c-user-modal header a:hover,.c-user-modal header a:focus,.c-user-modal header a:active,.c-user-modal .c-user-modal-content .c-user-modal-error-inline{color:#fff}.c-user-modal header a,.c-user-modal .c-user-modal-close{color:rgba(255,255,255,0.7)}.c-user-modal .c-user-modal-content button.c-user-modal-facebook-button:disabled{color:rgba(255,255,255,0.3)}.c-user-modal,.c-user-modal .c-user-modal-content .c-user-modal-error-inline,.tooltip.left .tooltip-inner{-webkit-border-radius:4px;border-radius:4px}.c-user-modal .c-user-modal-content .c-user-modal-help-text,.c-user-modal .c-user-modal-content .c-user-modal-controls,.c-user-modal .c-user-modal-content button{-webkit-border-radius:2px;border-radius:2px}.sr-only{position:absolute;width:1px;height:1px;margin:-1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);border:0}.c-user-modal header,.c-user-modal header a,.c-user-modal .c-user-modal-content,.c-user-modal .c-user-modal-content button,.c-user-modal .c-user-modal-footer a{font-weight:500}.c-user-modal .c-user-modal-content h2{font-size:24px;line-height:32px}.c-user-modal .c-user-modal-close{font-size:20px;line-height:24px}.c-user-modal header,.c-user-modal header a,.c-user-modal .c-user-modal-content,.c-user-modal .c-user-modal-content .c-user-modal-error-icon,.c-user-modal .c-user-modal-content input{font-size:14px;line-height:20px}.c-user-modal .c-user-modal-content .c-user-modal-help-text,.c-user-modal .c-user-modal-content .c-user-modal-error-inline,.c-user-modal .c-user-modal-footer{font-size:12px;line-height:14px}.c-user-modal .c-user-modal-content button{font-size:14px;line-height:16px;}.c-user-modal .c-user-modal-content button{-webkit-transition-property:background-color,box-shadow(),color,opacity(n, args);-moz-transition-property:background-color,box-shadow(),color,opacity(n, args);-o-transition-property:background-color,box-shadow(),color,opacity(n, args);-ms-transition-property:background-color,box-shadow(),color,opacity(n, args);transition-property:background-color,box-shadow(),color,opacity(n, args);-webkit-transition-duration:100ms;-moz-transition-duration:100ms;-o-transition-duration:100ms;-ms-transition-duration:100ms;transition-duration:100ms;-webkit-transition-timing-function:ease;-moz-transition-timing-function:ease;-o-transition-timing-function:ease;-ms-transition-timing-function:ease;transition-timing-function:ease;-webkit-transition-delay:0ms;-moz-transition-delay:0ms;-o-transition-delay:0ms;-ms-transition-delay:0ms;transition-delay:0ms;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;display:inline-block;text-align:center;vertical-align:middle;white-space:nowrap;background-image:none;border:none;opacity:1;-ms-filter:none;filter:none;}.c-user-modal .c-user-modal-content button[disabled]{opacity:.65;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=65)\";filter:alpha(opacity=65);cursor:not-allowed;pointer-events:none}.c-user-modal .c-user-modal-content button:active{-webkit-box-shadow:0 10px 10px 0 rgba(0,0,0,0.19),0 0 3px 0 rgba(0,0,0,0.23);box-shadow:0 10px 10px 0 rgba(0,0,0,0.19),0 0 3px 0 rgba(0,0,0,0.23)}.c-user-modal .c-user-modal-content button[disabled]{-webkit-box-shadow:none;box-shadow:none}.c-user-modal .c-user-modal-content button{color:#fff;background:#4285f4;}.c-user-modal .c-user-modal-content button:hover{background-color:#3d7ae0}.c-user-modal .c-user-modal-content button:focus{background-color:#356cc6}.c-user-modal .c-user-modal-content button:active{background-color:rgba(55,110,203,1)}.c-user-modal .c-user-modal-content button[disabled]{background-color:rgba(0,0,0,0.12);color:rgba(0,0,0,0.26)}.c-user-modal .c-user-modal-divider{margin-top:8px;margin-bottom:8px}.c-user-modal .c-user-modal-footer{margin-top:16px;margin-bottom:0}.c-user-modal .c-user-modal-content h2,.c-user-modal .c-user-modal-content p,.c-user-modal .c-user-modal-content .c-user-modal-help-text,.c-user-modal .c-user-modal-content .c-user-modal-controls{margin-top:0;margin-bottom:16px}.c-user-modal .c-user-modal-content .c-user-modal-error-icon,.c-user-modal .c-user-modal-content button,.c-user-modal .c-user-modal-content input,.c-user-modal .c-user-modal-content form{margin:0}.tooltip{position:absolute;z-index:1030;display:block;visibility:visible;padding:5px;font-size:11px;opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0);}.tooltip.in{opacity:80;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=8000)\";filter:alpha(opacity=8000)}.tooltip.top{margin-top:-3px}.tooltip.right{margin-left:3px}.tooltip.bottom{margin-top:3px}.tooltip.left{margin-left:-3px}.tooltip-inner{max-width:200px;padding:3px 8px;color:#fff;text-align:center;text-decoration:none;background-color:#000;-webkit-border-radius:4px;border-radius:4px}.tooltip-arrow{position:absolute;width:0;height:0;border-color:transparent;border-style:solid}.tooltip.top .tooltip-arrow{bottom:0;left:50%;margin-left:-5px;border-width:5px 5px 0;border-top-color:#000}.tooltip.right .tooltip-arrow{top:50%;left:0;margin-top:-5px;border-width:5px 5px 5px 0;border-right-color:#000}.tooltip.left .tooltip-arrow{top:50%;right:0;margin-top:-5px;border-width:5px 0 5px 5px;border-left-color:#000}.tooltip.bottom .tooltip-arrow{top:0;left:50%;margin-left:-5px;border-width:0 5px 5px;border-bottom-color:#000}.c-user-modal{max-width:380px;position:relative;}.c-user-modal a{cursor:pointer;text-decoration:none}.c-user-modal header{text-align:center;position:absolute;top:-174px;width:100%;}.c-user-modal header .c-logo{display:block;margin:auto;background-image:url(\"https://d3njjcbhbojbot.cloudfront.net/web/bundles/userModal/images/coursera-logo.svg\");-webkit-background-size:contain;-moz-background-size:contain;background-size:contain;height:36px;width:208px}.c-user-modal header .c-user-modal-mission{padding:8px}.c-user-modal header nav{margin-top:56px}.c-user-modal header a{text-transform:uppercase;display:inline-block;padding:8px 12px;position:relative;}.c-user-modal header a:first-child{margin-right:16px}.c-user-modal header a:focus{outline:0}.c-user-modal header a.active:after{border-color:transparent transparent #f9faf7 transparent;border-style:solid;border-width:0 10px 10px 10px;content:\'\';display:block;position:absolute;height:0;width:0;left:40%;bottom:-11px}.c-user-modal .c-user-modal-close{cursor:pointer;position:fixed;right:16px;top:16px}.c-user-modal .c-user-modal-divider{text-align:center;}.c-user-modal .c-user-modal-content{padding:24px;}.c-user-modal .c-user-modal-content h2{font-family:\'Helvetica Neue\',Arial,sans-serif}.c-user-modal .c-user-modal-content .c-user-modal-help-text{padding:8px;background-color:rgba(0,0,0,0.12)}.c-user-modal .c-user-modal-content .c-user-modal-controls{border:1px solid #dadbd8;}.c-user-modal .c-user-modal-content .c-user-modal-controls .c-user-modal-control-group{position:relative;border-top:1px solid #dadbd8;}.c-user-modal .c-user-modal-content .c-user-modal-controls .c-user-modal-control-group:first-of-type{border-top:none}.c-user-modal .c-user-modal-content input,.c-user-modal .c-user-modal-content button,.c-user-modal .c-user-modal-content .c-user-modal-error-icon{padding:14px 16px}.c-user-modal .c-user-modal-content .c-user-modal-error-icon{cursor:pointer;position:absolute;right:0;color:#ff5c6e}.c-user-modal .c-user-modal-content .c-user-modal-error-inline{background-color:#d9534f}.c-user-modal .c-user-modal-content button{width:100%;}.c-user-modal .c-user-modal-content button.c-user-modal-facebook-button{background:#3b5998;}.c-user-modal .c-user-modal-content button.c-user-modal-facebook-button:hover{background-color:#36528c}.c-user-modal .c-user-modal-content button.c-user-modal-facebook-button:focus{background-color:#30487b}.c-user-modal .c-user-modal-content button.c-user-modal-facebook-button:active{background-color:rgba(49,74,126,1)}.c-user-modal .c-user-modal-content button.c-user-modal-facebook-button i,.c-user-modal .c-user-modal-content button.c-user-modal-facebook-button em,.c-user-modal .c-user-modal-content button.c-user-modal-facebook-button span{display:inline-block;vertical-align:middle}.c-user-modal .c-user-modal-content button.c-user-modal-facebook-button i,.c-user-modal .c-user-modal-content button.c-user-modal-facebook-button em{font-size:20px}.c-user-modal .c-user-modal-content button.c-user-modal-facebook-button span,.c-user-modal .c-user-modal-content button.c-user-modal-facebook-button i:last-child,.c-user-modal .c-user-modal-content button.c-user-modal-facebook-button em:last-child{margin-left:8px}.c-user-modal .c-user-modal-content input{width:100%;border:none}.c-user-modal .c-user-modal-footer{text-align:center;}@media (max-height:568px){.c-user-modal header{top:-102px !important}.c-user-modal .c-logo,.c-user-modal .c-user-modal-mission{display:none !important}}.c-user-modal .c-user-modal-content input{height:48px;-webkit-border-radius:0;border-radius:0;-webkit-box-shadow:none;box-shadow:none}.tooltip.left .tooltip-inner{background-color:#d9534f}.tooltip.left .tooltip-arrow{border-left-color:#d9534f}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}a.dim{color:rgba(0,0,0,0.54);text-decoration:none;}a.dim:hover{color:#2775d1;text-decoration:underline}.rc-BarNotification{padding:16px 0;border-bottom:1px solid rgba(0,0,0,0.1);}.rc-BarNotification:first-of-type{border-top:2px solid rgba(0,0,0,0.1)}.rc-BarNotification:last-of-type{border-bottom:2px solid rgba(0,0,0,0.1);margin-bottom:24px}.rc-BarNotification .cif-close.dismiss{font-size:12px;color:rgba(0,0,0,0.25);}.rc-BarNotification .cif-close.dismiss:hover{color:rgba(0,0,0,0.87);cursor:pointer}.rc-BarNotification p{margin-bottom:0}.rc-BarNotification .cif-warning{color:#f0ad4e}.rc-BarNotification .cif-info,.rc-BarNotification .cif-warning{font-size:24px;padding-left:15px;padding-right:15px}.BarNotification-leave{opacity:1;-ms-filter:none;filter:none}.BarNotification-leave.BarNotification-leave-active{opacity:.01;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)\";filter:alpha(opacity=1);-webkit-transition:opacity 0.35s ease-in;-moz-transition:opacity 0.35s ease-in;-o-transition:opacity 0.35s ease-in;-ms-transition:opacity 0.35s ease-in;transition:opacity 0.35s ease-in}.rc-Modal.layer .c-modal-overlay{background-color:rgba(0,0,0,0.83)}.sr-only{position:absolute;width:1px;height:1px;margin:-1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);border:0}.rc-Modal .c-modal-overlay{position:fixed;top:0;bottom:0;left:0;right:0;height:100%;width:100%;z-index:3000}.rc-Modal .c-modal-content{position:fixed;top:50%;right:0;left:50%;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);-webkit-transform:translate(-50%,-50%);width:720px;max-width:98%;min-height:200px;z-index:10000}.rc-Modal .c-modal-x-out{position:absolute;top:28px;right:28px;text-align:right;padding-top:4px;font-size:24px;color:#999;cursor:pointer;z-index:10000;}.rc-Modal .c-modal-x-out a{color:#999;cursor:pointer;text-decoration:none}.rc-Modal .c-modal-x-out:hover{color:#666;text-decoration:none}.rc-Modal.layer .c-modal-overlay{opacity:inherit;-ms-filter:inherit;filter:inherit}.rc-Modal.layer .c-modal-content{top:33%;color:#fff;text-align:center}.rc-Modal.box .c-modal-overlay{background-color:#888;opacity:.5;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)\";filter:alpha(opacity=50)}.rc-Modal.box .c-modal-content{background-color:#fff;padding:28px;-webkit-border-radius:3px;border-radius:3px;max-height:98%;overflow-y:auto}.rc-Modal.box .c-modal-title{margin:0 0 18px;text-align:left}.rc-Modal.box .c-modal-subtitle{margin-bottom:16px}.rc-Modal.box .c-modal-cancel{cursor:pointer;margin:6px 36px 0 0;color:$cancel-link-color}.rc-Modal.box .c-modal-submit{width:80px}.rc-Modal.box .c-modal-action-bar{text-align:right;}.rc-Modal.box .c-modal-action-bar .c-modal-action-button{margin-left:16px}.rc-Modal.box .c-modal-error-message{margin-left:64px;display:inline-block;margin-top:8px}@media (max-width:767px){.rc-Modal .c-modal-content{width:98%;top:4px;left:0;padding:16px;-webkit-transform:none;-moz-transform:none;-o-transform:none;-ms-transform:none;transform:none;-webkit-transform:none;max-height:98%;overflow-y:scroll}.rc-Modal .c-modal-x-out{top:16px;right:16px}}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}a.dim{color:rgba(0,0,0,0.54);text-decoration:none;}a.dim:hover{color:#2775d1;text-decoration:underline}button.primary,button.secondary,button.passive,button.facebook,button.linkedin{font-size:12px;line-height:14px;}button.primary,button.secondary,button.passive,button.facebook,button.linkedin{display:inline-block;text-align:center;vertical-align:middle;white-space:nowrap;background-image:none;border:none;opacity:1;-ms-filter:none;filter:none;text-decoration:none;color:#fff;min-width:72px;padding:10px 20px;-webkit-transition-property:background-color,box-shadow(),color,opacity(n, args);-moz-transition-property:background-color,box-shadow(),color,opacity(n, args);-o-transition-property:background-color,box-shadow(),color,opacity(n, args);-ms-transition-property:background-color,box-shadow(),color,opacity(n, args);transition-property:background-color,box-shadow(),color,opacity(n, args);-webkit-transition-duration:100ms;-moz-transition-duration:100ms;-o-transition-duration:100ms;-ms-transition-duration:100ms;transition-duration:100ms;-webkit-transition-timing-function:ease;-moz-transition-timing-function:ease;-o-transition-timing-function:ease;-ms-transition-timing-function:ease;transition-timing-function:ease;-webkit-transition-delay:0ms;-moz-transition-delay:0ms;-o-transition-delay:0ms;-ms-transition-delay:0ms;transition-delay:0ms;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;-webkit-border-radius:0;border-radius:0;}button.primary[disabled],button.secondary[disabled],button.passive[disabled],button.facebook[disabled],button.linkedin[disabled]{background-color:#e5e5e5;border:1px solid #e5e5e5;color:rgba(0,0,0,0.26);cursor:not-allowed;pointer-events:none;}button.primary[disabled]:hover,button.secondary[disabled]:hover,button.passive[disabled]:hover,button.facebook[disabled]:hover,button.linkedin[disabled]:hover,button.primary[disabled]:active,button.secondary[disabled]:active,button.passive[disabled]:active,button.facebook[disabled]:active,button.linkedin[disabled]:active,button.primary[disabled]:focus,button.secondary[disabled]:focus,button.passive[disabled]:focus,button.facebook[disabled]:focus,button.linkedin[disabled]:focus{background:#e0e0e0 none repeat 0 0 scroll}button.primary.cozy,button.secondary.cozy,button.passive.cozy,button.facebook.cozy,button.linkedin.cozy{padding:16px 30px;font-size:14px;line-height:18px;font-family:\'OpenSans-Semibold\',Arial,sans-serif}button.primary.comfy,button.secondary.comfy,button.passive.comfy,button.facebook.comfy,button.linkedin.comfy{padding:20px 40px;font-size:18px;line-height:24px;font-family:\'OpenSans-Semibold\',Arial,sans-serif}button.primary.fullbleed,button.secondary.fullbleed,button.passive.fullbleed,button.facebook.fullbleed,button.linkedin.fullbleed{padding:10px 20px;width:100%}button.primary{border:1px solid #2073d4;background-color:#2073d4;}button.primary:hover,button.primary:focus,button.primary:active{background-color:#005bbe}button.primary.comfy,button.primary.cozy{background-image:-webkit-linear-gradient(#4285f4, #2775d1);background-image:-moz-linear-gradient(#4285f4, #2775d1);background-image:-o-linear-gradient(#4285f4, #2775d1);background-image:-ms-linear-gradient(#4285f4, #2775d1);background-image:linear-gradient(#4285f4, #2775d1);}button.primary.comfy:hover,button.primary.cozy:hover,button.primary.comfy:active,button.primary.cozy:active,button.primary.comfy:focus,button.primary.cozy:focus{background-image:none}button.secondary{color:#2a73cc;border:1px solid #2a73cc;background-color:transparent;}button.secondary:hover,button.secondary:focus,button.secondary:active,.rc-CopyLink .c-box .c-copy.zeroclipboard-is-hover{background-color:#2a73cc;color:#fff}button.passive{border:1px solid #7e778b;color:#7e778b;background-color:transparent;}button.passive:hover,button.passive:focus,button.passive:active{border-color:#8c8c8c;background-color:#8c8c8c;color:#fff}button.nostyle{background:transparent none repeat 0 0 scroll;color:rgba(0,0,0,0.87);border:0;font-size:1em;margin:0;outline:0;padding:0;text-align:left;text-decoration:none;text-indent:0;min-width:0}button.nostyle:disabled{background:transparent none repeat 0 0 scroll;color:rgba(0,0,0,0.26)}button.facebook{padding-left:20px;padding-right:20px;color:#fff;background-color:#3b5998}button.facebook span,button.facebook i{display:inline-block;vertical-align:middle}button.facebook i{font-size:20px}button.facebook span,button.facebook i:last-child{margin-left:8px}button.linkedin{padding-left:20px;padding-right:20px;color:#fff;background-color:#2775d1}button.linkedin span,button.linkedin i{display:inline-block;vertical-align:middle}button.linkedin i{font-size:20px}button.linkedin span,button.linkedin i:last-child{margin-left:8px}.theme-dark button.primary[disabled],.theme-dark button.secondary[disabled],.theme-dark button.passive[disabled]{background-color:rgba(255,255,255,0.8)}.rc-CopyLink{margin-left:32px;}.rc-CopyLink .c-link-input{height:38px;width:250px;padding:0 8px}.rc-CopyLink .c-box{width:250px;}.rc-CopyLink .c-box.c-copied{border:1px solid #5c99e1}.rc-CopyLink .c-box .c-copy,.rc-CopyLink .c-box .c-check{-webkit-border-radius:0;border-radius:0;height:38px}.rc-CopyLink .c-box .c-link{overflow:hidden;-webkit-border-radius:0;border-radius:0;padding:8px 12px;height:38px;}.rc-CopyLink .c-box .c-link div{overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap}.rc-CopyLink .c-clipboard-message{text-align:right;margin-top:8px;opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0);}.rc-CopyLink .c-clipboard-message.transition-in{opacity:1;-ms-filter:none;filter:none;-webkit-transition:opacity 0.3s ease-in;-moz-transition:opacity 0.3s ease-in;-o-transition:opacity 0.3s ease-in;-ms-transition:opacity 0.3s ease-in;transition:opacity 0.3s ease-in}.rc-CopyLink .c-copy-message{text-align:right;margin-top:2px}.rc-InviteFriendsModal.rc-Modal .c-modal-content{width:452px;padding-bottom:48px;}.rc-InviteFriendsModal.rc-Modal .c-modal-content .c-send-invites{margin-top:12px;margin-bottom:0}.rc-InviteFriendsModal.rc-Modal .c-modal-content .rc-InviteFriendsFacebookButton{margin:24px;width:250px}.rc-InviteFriendsModal.rc-Modal .c-modal-content .c-copy-heading{margin-bottom:8px}.rc-InviteFriendsModal.rc-Modal .c-modal-content .rc-CopyLink{margin-left:0}.rc-InviteFriendsModal.rc-Modal .c-modal-content .c-enroll{margin-top:28px;margin-bottom:16px}.rc-InviteFriendsButton{margin:-8px 16px -8px 0}.rc-MobilePromoBanner{position:fixed;top:0;width:100vw;height:70px;z-index:1050;background:#282828;cursor:pointer;}.rc-MobilePromoBanner .left{float:left;height:100%}.rc-MobilePromoBanner .center{float:left}.rc-MobilePromoBanner .right{float:right;padding:24px}.rc-MobilePromoBanner img{height:100%;padding:10px;float:right}.rc-MobilePromoBanner .call-to-action{margin-top:16px;font-family:SofiaProMedium,SofiaPro,sans-serif;font-size:16px;color:#fff;text-transform:uppercase}.rc-MobilePromoBanner .reason-for-action,.rc-MobilePromoBanner .dismiss-button{cursor:pointer;opacity:.6;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=60)\";filter:alpha(opacity=60);font-family:HelveticaNeue,sans-serif;font-size:12px;line-height:.2;color:#fff}.rc-MobilePromoBanner .dismiss-button{font-size:16px}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}a.dim{color:rgba(0,0,0,0.54);text-decoration:none;}a.dim:hover{color:#2775d1;text-decoration:underline}.rc-MobilePromoWall{position:fixed;top:0;width:100vw;height:200vh;z-index:1050;background:#232323;cursor:pointer;}.rc-MobilePromoWall .promo-dismiss-button{cursor:pointer;float:right;font-size:18px;padding:5px;color:#fff;margin:.5em}.rc-MobilePromoWall:hover{text-decoration:none}.rc-MobilePromoWall .promo-text,.rc-MobilePromoWall .promo-device{position:relative}.rc-MobilePromoWall .promo-text .call-to-action{margin-top:20%;font-family:SofiaProMedium,SofiaPro,sans-serif;font-size:20px;color:#fff;text-transform:uppercase}.rc-MobilePromoWall .promo-text .reason-for-action{margin:.5em;opacity:.69;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=69)\";filter:alpha(opacity=69);font-family:HelveticaNeue,sans-serif;font-size:15px;color:#fff}.rc-MobilePromoWall .promo-text p{text-align:center}.rc-MobilePromoWall .promo-text .stars{color:#fb9703;padding:8px}.rc-MobilePromoWall .promo-text .open-in-app{display:block;margin:2em auto;max-width:50%;min-width:20em;padding:1em 3em;-webkit-border-radius:2px;border-radius:2px;border:none;background:#4285f4;color:#fff;font-family:HelveticaNeue-Medium,sans-serif;font-size:14px;line-height:16px;text-transform:uppercase}.rc-MobilePromoWall .promo-device{width:60%;margin:0 auto;display:block;text-align:center;}.rc-MobilePromoWall .promo-device .promo-device-photo{max-width:190px}@media screen and (max-device-width:480px){.rc-MobilePromoWall .promo-device-photo{max-width:190px}}@media screen and (max-device-width:767px) and (orientation:landscape){.rc-MobilePromoWall .promo-text{width:45%;float:right}.rc-MobilePromoWall .promo-device{width:45%;float:left;text-align:right;padding-right:20px;padding-top:10px}}@media screen and (min-device-width:768px) and (max-device-width:1024px){.rc-MobilePromoWall .promo-device{width:700px;}.rc-MobilePromoWall .promo-device .promo-device-photo{max-width:100%}}@media screen and (min-device-width:768px) and (max-device-width:1024px) and (orientation:landscape){.rc-MobilePromoWall .promo-text .call-to-action{margin-top:15%}}.collapse{display:none;}.collapse.open{display:block}.collapsing{position:relative;height:0;overflow:hidden}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.c-phoenix-template-small-logo{display:inline-block;background:url(\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNi4yLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMTA4cHgiIGhlaWdodD0iMTdweCIgdmlld0JveD0iMCAwIDEwOCAxNyIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTA4IDE3IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwYXRoIGZpbGw9IiM3MTcxNzIiIGQ9Ik01NC4yODEsNS43NzNjMC4wNjYtMS4yNjksMC41MjEtMi4zMDYsMS4yMzItMy4xMTVWMS41OGgtMC45NDVjLTEuOTEsMC0zLjUyNywwLjczMi00LjQ2NywyLjM4NmgtMC4wNTUNCglWMS43NjJoLTQuODk5djEzLjQ0MWg0LjlWOS43NzdjMC0yLjMwMywwLjY3NC00LjA1OSwzLjM5My00LjA1OUM1My43MzYsNS43Miw1NC4wMTMsNS43MzcsNTQuMjgxLDUuNzczeiIvPg0KPHBhdGggZmlsbD0iIzcxNzE3MiIgZD0iTTkxLjM4LDUuNzI0YzAuNDA3LTEuMTg4LDEuMDY3LTIuMjQ2LDEuOTI1LTMuMDk1di0xLjA1aC0wLjk0M2MtMS45MTEsMC0zLjUyNiwwLjczMi00LjQ3MSwyLjM4NWgtMC4wNTMNCglWMS43NjJoLTQuOTAydjEzLjQ0MWg0LjkwMlY5Ljc3N2MwLTIuMzAzLDAuNjc2LTQuMDU5LDMuMzk1LTQuMDU5TDkxLjM4LDUuNzI0eiIvPg0KPHBhdGggZmlsbD0iIzcxNzE3MiIgZD0iTTY0LjIzMiw1LjIyYy0wLjc1Ni0wLjM5My0xLjgwOC0wLjY1NS0yLjY0NS0wLjY1NWMtMC41NjIsMC0xLjUzMywwLjIzNC0xLjUzMywwLjkxNw0KCWMwLDAuOTE4LDEuNTMzLDEuMDQ4LDIuMjExLDEuMTgyYzIuMjg0LDAuNDQ0LDQuMDEyLDEuNDkzLDQuMDEyLDMuOTc5YzAsMy41MzYtMy4zMTMsNS4wMDgtNi41Miw1LjAwOA0KCWMtMS45NjcsMC0zLjkwMi0wLjU1MS01LjU3NC0xLjU0N2wxLjc3Ny0zLjMzYzAuOTk1LDAuNjg0LDIuNjY1LDEuMzYzLDMuODc3LDEuMzYzYzAuNjIsMCwxLjUzNS0wLjI4NywxLjUzNS0xLjAyMQ0KCWMwLTEuMDQ4LTEuNTM1LTEuMTAzLTMuMDcyLTEuNDk1Yy0xLjUzMy0wLjM5My0zLjA2Ni0xLjEyNS0zLjA2Ni0zLjUzNmMwLTMuMzAyLDMuMDY2LTQuNzY3LDYuMDg4LTQuNzY3DQoJYzEuNTYyLDAsMy4xMjUsMC4yMzUsNC41NDksMC44NjRMNjQuMjMyLDUuMjJ6Ii8+DQo8cGF0aCBmaWxsPSIjNzE3MTcyIiBkPSJNMTA4LDE1LjIwM2gtNC45di0xLjQ5NWgtMC4wNTRjLTAuODYyLDEuMzM2LTIuNTYyLDEuOTM4LTQuMTc1LDEuOTM4Yy00LjA5NiwwLTYuOTc1LTMuMzI4LTYuOTc1LTcuMTgNCgljMC0zLjg0OCwyLjgyOC03LjE1MSw2LjkyLTcuMTUxYzEuNTg4LDAsMy4yNiwwLjU3Niw0LjI4MywxLjc1NFYxLjc2Mmg0Ljg5OUwxMDgsMTUuMjAzTDEwOCwxNS4yMDN6IE05Ni45NTksOC40OTUNCgljMCwxLjcwMiwxLjE2LDMuMDEyLDMuMTUsMy4wMTJjMS45OTIsMCwzLjE0Ny0xLjMwOCwzLjE0Ny0zLjAxMmMwLTEuNjUxLTEuMTU1LTMuMDM5LTMuMTQ3LTMuMDM5DQoJQzk4LjExOSw1LjQ1Nyw5Ni45NTksNi44NDQsOTYuOTU5LDguNDk1eiIvPg0KPHBhdGggZmlsbD0iIzcxNzE3MiIgZD0iTTgyLjE2Myw5LjI4M0g3MS44NDZjMCwxLjkzNywxLjA1MywyLjk4NCwzLjA3MiwyLjk4NGMxLjA1LDAsMS44MDMtMC4zMzksMi4zNDMtMS4yMzFoNC43MTQNCgljLTAuNzgxLDMuMTcxLTMuODc5LDQuNjEyLTcuMDI5LDQuNjEyYy00LjU3NSwwLTcuOTk1LTIuNTE3LTcuOTk1LTcuMTUyYzAtNC40OCwzLjE0Ny03LjE3OCw3LjY0NC03LjE3OA0KCWM0Ljc5MywwLDcuNTcsMi44ODMsNy41Nyw3LjQ2Nkw4Mi4xNjMsOS4yODNMODIuMTYzLDkuMjgzeiBNNzcuNjExLDYuNTNjLTAuMjQzLTEuMjg0LTEuNDU1LTIuMTIyLTIuNzczLTIuMTIyDQoJYy0xLjQyOSwwLTIuNjA5LDAuNzMxLTIuOTEsMi4xMjJINzcuNjExeiIvPg0KPGc+DQoJPGc+DQoJCTxwYXRoIGZpbGw9IiM3MTcxNzIiIGQ9Ik0yOS41NjEsOC4yNjFjLTAuMDA1LTAuMTE2LTAuMDEzLTAuMjI5LTAuMDIyLTAuMzQ0YzAsMCwwLTAuMDAxLDAtMC4wMDJjMCwwLDAtMC4wMDEsMC0wLjAwMg0KCQkJYy0wLjExLTEuMjQ3LTAuNTIyLTIuNDE0LTEuMjIxLTMuNDY4Yy0wLjMxMi0wLjQ3LTAuNjY5LTAuODk3LTEuMDY4LTEuMjhjLTAuNTgzLTAuNTYxLTEuMjU4LTEuMDI1LTIuMDE5LTEuMzkyDQoJCQljLTEuMTQ1LTAuNTQ3LTIuNDEtMC44MjMtMy43Ni0wLjgyM2MtMC4xMzIsMC0wLjI3LDAuMDAyLTAuNDA5LDAuMDA3QzIwLjExNCwxLDE5LjE5NywxLjE4LDE4LjMzNSwxLjQ5Nw0KCQkJYy0wLjg2OSwwLjMxNC0xLjYyNiwwLjcyOS0yLjI0NSwxLjIyN2MtMC4xMjYsMC4xLTAuMjYzLDAuMjIzLTAuNDEsMC4zNThsLTAuMTA2LDAuMTA0TDE1LjQyOSwzLjM0aDAuMDAxaDAuMDAxbC0wLjA2OCwwLjA2Nw0KCQkJTDE1LjMzLDMuNDQzbC0wLjE3MywwLjE4MmMtMC4xMjgsMC4xNDQtMC4yNSwwLjI4OC0wLjM2NCwwLjQyOWwtMC4wMDEtMC4wMDJsLTAuMDA0LTAuMDA0Yy0wLjIzNywwLjI4OC0wLjQ1NiwwLjU4Ni0wLjYxNywwLjg1NA0KCQkJYy0wLjEwOSwwLjE3Mi0wLjIxNiwwLjM0OS0wLjMxOCwwLjUyNkwxMi40NCw4LjI4NWwwLjAwMiwwLjAwMmwtMC4wNzQsMC4xNDVsLTAuMTU2LDAuMzE2Yy0wLjMxLDAuNjI3LTAuNjQyLDEuMjUyLTEuMDEzLDEuNzY4DQoJCQljLTAuODI3LDAuOTA3LTEuNzYyLDEuMzUxLTIuOTY0LDEuMzUxYy0wLjA4NCwwLTAuMTctMC4wMDQtMC4yNTgtMC4wMDljLTAuNzI0LTAuMDI5LTEuMzQ1LTAuMi0xLjg5Ni0wLjUyNg0KCQkJYy0wLjA1OS0wLjAzNS0wLjExNi0wLjA3MS0wLjE3MS0wLjEwOGMtMC40NS0wLjI5OS0wLjc5NS0wLjY4My0xLjA1My0xLjE2MmMtMC4yOTEtMC41NDMtMC40Mi0xLjA5OC0wLjQwMi0xLjY4Ng0KCQkJQzQuNDU2LDguMzYsNC40NTcsOC4zNDYsNC40NTcsOC4zMzNDNC40OTYsNy4zOTcsNC44NTMsNi42NjksNS41NzIsNi4wNEM1Ljc0Nyw1Ljg4OSw1LjkzLDUuNzYxLDYuMTIxLDUuNjQ3DQoJCQljMC4wMjctMC4wMTYsMC4wNTQtMC4wMzEsMC4wODEtMC4wNDVjMC41MzQtMC4yOTEsMS4xNDItMC40MzYsMS44MzktMC40MzZsMC4yMTcsMC4wMDZDOS4zNjUsNS4yMTQsMTAuMjE5LDUuNTYsMTAuOSw2LjIzNQ0KCQkJTDEzLjAzNiwyLjRjLTAuNTExLTAuMzQyLTEuMDg4LTAuNjM2LTEuNzI0LTAuODc1Yy0wLjAyNC0wLjAwOS0wLjA0OS0wLjAxOS0wLjA3NC0wLjAyN2MtMC4wNzYtMC4wMjctMC4xNTEtMC4wNTUtMC4yMjktMC4wOA0KCQkJQzEwLjMzMywxLjE5Miw5LjYyNCwxLjA1Myw4Ljg5NCwwLjk5bDAsMEM4Ljg3NiwwLjk4Nyw4Ljg1NiwwLjk4NSw4LjgzOCwwLjk4M0M4LjcyNiwwLjk3Niw4LjYxMiwwLjk2Miw4LjUsMC45NTcNCgkJCUM4LjM3OCwwLjk1Miw4LjI1NSwwLjk1LDguMTM1LDAuOTQ5SDguMDY2Yy0xLjM0MywwLjAwNS0yLjU5MSwwLjI4LTMuNzMyLDAuODI1QzMuMDU2LDIuMzksMi4wMiwzLjI4NywxLjI1Miw0LjQ0Mw0KCQkJQzAuNDg2LDUuNTk5LDAuMDY4LDYuODgyLDAuMDA4LDguMjU5QzAuMDAzLDguMzc3LDAsOC40OTQsMCw4LjYwOWMtMC4wMDEsMS45MjYsMC43MDEsMy42MiwyLjA5Nyw1LjA0Mg0KCQkJYzEuNDU3LDEuNDkyLDMuMzUyLDIuMjk2LDUuNjI3LDIuMzkxYzAuMTQ2LDAuMDA2LDAuMjksMC4wMSwwLjQzNCwwLjAxYzEuMjg3LDAsMi40NzgtMC4yMjksMy41NDYtMC42ODcNCgkJCWMwLjI2Ny0wLjExNCwwLjUyNi0wLjI0OCwwLjc5MS0wLjM5N2MwLjE0NC0wLjA4MywwLjI4LTAuMTcxLDAuNDE1LTAuMjY1bDAuMS0wLjA2N2wwLjE2OC0wLjExNQ0KCQkJYzAuMjAyLTAuMTQ1LDAuMzkxLTAuMzAyLDAuNTc1LTAuNDY5bDAuMDY0LTAuMDYxYzAuMTA4LTAuMTAzLDAuMjE2LTAuMjA3LDAuMzE4LTAuMzE0bDAuMzgzLTAuNDMzbDAuMTQ2LTAuMTgzbDAuMDY4LTAuMQ0KCQkJbDAuMDY4LTAuMDk4YzAuNTY5LTAuOTU2LDIuNDIxLTQuNDM1LDIuNDIxLTQuNDM1VjguNDIxbDAuMTEtMC4yMTJsMC4wOTItMC4xNjZjMC4yNzMtMC40OTcsMC40Ny0wLjg1LDAuNzMxLTEuMjIxbDAuMDA3LTAuMDExDQoJCQljMC42MDktMC44ODMsMS42NTYtMS41MTIsMi44OS0xLjYxOGMyLjA3LTAuMTc4LDMuODg0LDEuMTgyLDQuMDUxLDMuMDM4YzAuMTY2LDEuODU2LTEuMzc4LDMuNTA1LTMuNDQ4LDMuNjg0DQoJCQljLTAuNDMxLDAuMDM3LTAuODUsMC4wMDgtMS4yNDUtMC4wNzlsLTAuMDEsMC4wMDRjLTEuNTE5LTAuMzE2LTIuNDg2LTEuNDI0LTIuOTYzLTEuOTE5bC0xLjk5MiwzLjY2Mw0KCQkJYzAsMCwwLjYxOSwwLjYyNCwxLjA0MywwLjkzNmMwLjQyNSwwLjMxMSwwLjk3NCwwLjYxNywxLjQxMiwwLjgwN2MxLjA2MywwLjQ1NCwyLjIxOSwwLjcyNiwzLjQ5NiwwLjcyNg0KCQkJYzAuMTQ4LDAsMC4xMTgsMCwwLjI3Mi0wLjAwNmMyLjI3My0wLjA5NSw0LjI5OS0wLjk2Niw1Ljc2LTIuNDU4YzEuMzg0LTEuNDE3LDIuMTM1LTMuMDM1LDIuMTQyLTQuOTVWOC41ODINCgkJCUMyOS41NjgsOC40NzYsMjkuNTY1LDguMzY5LDI5LjU2MSw4LjI2MXoiLz4NCgk8L2c+DQo8L2c+DQo8Zz4NCgk8cGF0aCBmaWxsPSIjNzE3MTcyIiBkPSJNMzcuMTgxLDE1LjY1N2MtMS4wMzMsMC0xLjk3LTAuMTItMi44MTEtMC4zNmMtMC44NDEtMC4yNC0xLjU1OS0wLjYxOS0yLjE1NC0xLjEzOQ0KCQljLTAuNTk3LTAuNTItMS4wNTctMS4xODItMS4zODEtMS45ODVzLTAuNDg2LTEuNzcxLTAuNDg2LTIuODk5VjEuNzU5aDQuNzI3djcuNDU1YzAsMC44NDUsMC4yMDIsMS40NTcsMC42MDUsMS44MzkNCgkJYzAuNDA0LDAuMzgzLDAuOTE3LDAuNTc0LDEuNTM5LDAuNTc0YzAuNjM2LDAsMS4xNTItMC4xNzgsMS41NS0wLjUzNWMwLjM5Ni0wLjM1NywwLjU5Ni0wLjk0OSwwLjU5Ni0xLjc4MVYxLjc1OWg0LjcyN3Y3LjQxNg0KCQljMCwxLjE2OC0wLjE2NiwyLjE2MS0wLjQ5NywyLjk3OGMtMC4zMzEsMC44MTgtMC43OTgsMS40ODYtMS4zOTksMi4wMDZjLTAuNjA0LDAuNTItMS4zMzEsMC44OTgtMi4xODYsMS4xMzkNCgkJQzM5LjE1NiwxNS41MzcsMzguMjEzLDE1LjY1NywzNy4xODEsMTUuNjU3eiIvPg0KPC9nPg0KPC9zdmc+DQo=\");background-repeat:no-repeat;background-position:center center;width:109px;height:17px}.c-phoenix-template-truncate{overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap}.c-phoenix-template-button{outline:none;margin:15px 0;color:#fff;background-color:#428bca;cursor:pointer;border-top-right-radius:3px;border-top-left-radius:3px;border-bottom-right-radius:3px;border-bottom-left-radius:3px;}.c-phoenix-template-button:hover{background-color:#3d7cb3;color:#fff}.c-phoenix-template-button[disabled]{background-color:#cccccb}.c-phoenix-template-button:focus{color:#fff}.c-phoenix-hide{display:none}.c-hidden-accessibility{position:absolute !important;height:1px;width:1px;overflow:hidden;clip:rect(1px 1px 1px 1px)}.c-col-no-left-padding{padding-left:0}.c-col-no-right-padding{padding-right:0}.c-no-margin{margin:0}.c-phoenix-template-header{margin-bottom:0 !important;max-width:960px;}.c-phoenix-template-header.c-focus-on-signup .c-phoenix-template-header-nav li:not(.c-focus-on-signup-show){display:none}.c-phoenix-template-header.c-focus-on-search .c-phoenix-template-header-nav li:not(.c-focus-on-search-show){display:none}.c-phoenix-template-header:not(.c-focus-on-search) .c-phoenix-template-header-nav li.c-focus-on-search-default-hide{display:none}.c-phoenix-template-header .c-phoenix-template-small-logo{height:50px}.c-phoenix-template-header .c-phoenix-template-header-nav > li > a{cursor:pointer;color:#717171;text-decoration:none;}.c-phoenix-template-header .c-phoenix-template-header-nav > li > a:hover,.c-phoenix-template-header .c-phoenix-template-header-nav > li > a:focus{color:#4d8ce9;background-color:transparent}.c-phoenix-template-header .c-banner-search{padding-top:9px;}@media (max-width:991px){.c-phoenix-template-header .c-banner-search{display:none}}.c-phoenix-template-header .c-banner-search .c-banner-search-input-container .c-banner-search-input{-webkit-box-shadow:none;box-shadow:none;border:1px solid #ccc;font-size:14px;height:35px;max-width:340px}.c-phoenix-template-header .c-banner-search .c-banner-search-input-container .c-banner-search-button{top:1px;height:33px;border-left:1px solid #ccc;}.c-phoenix-template-header .c-banner-search .c-banner-search-input-container .c-banner-search-button:hover{background-color:rgba(100,100,100,0.1)}@media (max-width:767px){.c-phoenix-template-header .c-phoenix-template-header-menu.popup-open{outline:0 !important;position:static !important;float:none !important;width:auto !important;background-color:transparent !important;border:0 !important;-webkit-box-shadow:none !important;-webkit-box-shadow:none !important;box-shadow:none !important}}@media (min-width:768px){.c-phoenix-template-header .c-phoenix-template-header-collapse-container{display:block}}.c-phoenix-template-header .c-phoenix-template-header-navbar{margin-left:0;margin-right:0;}.c-phoenix-template-header .c-phoenix-template-header-navbar .c-phoenix-template-header-navbar-toggle{border-color:#ddd;margin-right:0;}.c-phoenix-template-header .c-phoenix-template-header-navbar .c-phoenix-template-header-navbar-toggle:hover,.c-phoenix-template-header .c-phoenix-template-header-navbar .c-phoenix-template-header-navbar-toggle:focus{background-color:#ddd}.c-phoenix-template-header .c-phoenix-template-header-navbar .c-phoenix-template-header-navbar-toggle .c-phoenix-template-header-navbar-icon-bar{background-color:#888}.c-logout-button-link{display:block;padding:3px 20px;clear:both;font-weight:normal;line-height:1.428571429;color:#333;white-space:nowrap;width:100%;margin:0;left:0;text-align:left;cursor:pointer;border:0;text-decoration:none;letter-spacing:1px;background-color:transparent}.c-logout-button-link:hover,.c-logout-button-link:focus{color:#303030;text-decoration:none;outline:0;background-color:#f5f5f5}.bt3-dropdown-menu form{margin:0}a.dim{color:rgba(0,0,0,0.54);text-decoration:none;}a.dim:hover{color:#2775d1;text-decoration:underline}body,.c-phoenix-template-page{background-color:#f5f5f5}div[data-readme]{display:none}.readme{background:#daebf8;color:#428bca;padding:10px 40px 9px 20px;position:relative;display:none;min-height:50px;}.readme a,.readme a:visited:not(.btn){color:#428ccd;font-weight:bold;text-decoration:none}.readme a:hover,.readme a:focus{text-decoration:underline}.readme .c-container{max-width:960px;margin:0 auto}.readme .c-message{float:left;margin:4px 25px 0 25px}.readme .c-action-items{margin-left:12px}.readme button{background-color:#51bc53}.readme .c-action-item{font-size:12px}.readme-close-icon{position:absolute;top:50%;right:20px;cursor:pointer;color:#428bca;-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-o-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%)}@media (max-width:991px){.c-message{float:none}}.helpwidget-popup{margin-bottom:40px;border:1px solid #ccc;background-color:#fff;text-align:left;display:none;position:relative;color:#3e3e3e;-webkit-box-shadow:$shadowLoose;box-shadow:$shadowLoose;width:280px;font-family:$specialSans;}.helpwidget-popup .helpwidget-arrow:before{content:\"\";position:absolute;bottom:-15px;right:12px;border-width:15px 15px 0;border-style:solid;border-color:#ccc rgba(0,0,0,0);display:block;width:0}.helpwidget-popup .helpwidget-arrow:after{content:\"\";position:absolute;bottom:-13px;right:14px;border-width:13px 13px 0;border-style:solid;border-color:#fff rgba(0,0,0,0);display:block;width:0}.helpwidget-tab{cursor:pointer;position:fixed;bottom:0;right:40px;color:#fff;padding:5px 10px;background-color:#339a63;font-family:\'sofiapro\',Arial,sans-serif;border-top:1px solid #cce6d8;border-left:1px solid #cce6d8;border-right:1px solid #cce6d8;font-size:14px;}.helpwidget-tab:hover{background-color:#00b351;border-top:1px solid #def4e6;border-left:1px solid #def4e6;border-right:1px solid #def4e6}.helpwidget-top{color:$gray;}.helpwidget-top .helpwidget-header{padding:8px 16px;height:36px;border-bottom:1px solid $grayLight;font-family:$specialSansBold;margin-bottom:0}.helpwidget-top .helpwidget-links a{display:block;padding:13px 16px 11px;height:44px;font-family:$specialSansLight;border-bottom:1px solid $grayLight;}.helpwidget-top .helpwidget-links a:last-child{border-bottom:none}.helpwidget-top .helpwidget-links a i{float:right;padding-top:4px}.helpwidget-top .helpwidget-links a:hover{background-color:$grayLighter;text-decoration:none}.helpwidget-button{padding:14px;border-top:1px solid $grayLight;color:$grayDark;display:inline-block;width:50%;height:48px;text-align:center;}.helpwidget-button:first-child{border-right:1px solid $grayLight}.helpwidget-button:hover{color:$gray;background-color:$grayLighter;text-decoration:none}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}a.dim{color:rgba(0,0,0,0.54);text-decoration:none;}a.dim:hover{color:#2775d1;text-decoration:underline}.success-back{background-color:#f4fbec}.error-back{background-color:#f9f0f0}.interactive-block:hover{background-color:#f1f7fd}.interactive-block.selected{background-color:#eef7ff}.c-helpwidget-tab{background-color:#428bca;border-top-left-radius:3px;border-top-right-radius:3px;border:1px solid #357ebc;height:30px;right:20px;z-index:1;}.c-helpwidget-tab a{color:#fff}.c-helpwidget-tab:hover{background-color:#3277b2;border:1px solid #2d6ba0}.c-helpwidget-tab:active{background-color:#5597cf;border:1px solid #428bca}@media (min-width:768px){.c-helpwidget-tab{right:20px;bottom:0}}@media (max-width:991px){.c-helpwidget-tab{-webkit-transform:rotate(90deg);-moz-transform:rotate(90deg);-o-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg);-webkit-transform-origin:right top;-moz-transform-origin:right top;-o-transform-origin:right top;-ms-transform-origin:right top;transform-origin:right top;right:0;bottom:60px;border-bottom-left-radius:3px;border-bottom-right-radius:3px;border-top-right-radius:0;border-top-left-radius:0}}.c-helpwidget-link:focus .c-helpwidget-tab{background-color:#3277b2;border:1px solid #2d6ba0}.rc-ProfileImage .c-profile-image{-webkit-border-radius:100%;border-radius:100%;}.rc-ProfileImage .c-profile-image img{-webkit-border-radius:100%;border-radius:100%}.rc-ProfileImage .c-profile-initials{background-color:#3277b2;color:#fff;text-transform:uppercase;}.rc-ProfileImage .c-profile-initials div{width:100%;height:100%;}.rc-ProfileImage .c-profile-initials div p{margin-bottom:0}.c-ph-search-bar{text-align:center;top:0;}.c-ph-search-bar.c-has-catalog-button .c-search-form{margin-left:100px !important;width:250px !important}.c-ph-search-bar.c-center-search-input{position:absolute;width:100%}.c-ph-search-bar .c-ph-search-wrapper{border:1px solid #d9d9d9;display:inline-block;margin:10px 0;position:absolute;left:224px;text-align:left;}.c-ph-search-bar .c-ph-search-wrapper .c-search-form{margin-bottom:0;display:inline-block}.c-ph-search-bar .c-ph-search-wrapper .c-catalog-button{background-color:#fafafa;border-right:1px solid #d9d9d9;cursor:pointer;display:inline-block;left:0;line-height:42px;overflow:hidden;position:absolute;text-align:center;text-decoration:none;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap;width:100px;}.c-ph-search-bar .c-ph-search-wrapper .c-catalog-button .c-catalog-icon{margin-right:6px;margin-top:-2px;vertical-align:middle;font-size:16px}.c-ph-search-bar .c-ph-search-wrapper .c-catalog-button:hover{background-color:#ededed;color:#757575}.c-ph-search-bar .c-ph-search-wrapper .c-search-input-container .c-search-catalog-input{background-color:#fff;border:0 solid transparent;-webkit-border-radius:0;border-radius:0;color:#757575;font-size:16px;height:42px;outline-width:0;padding:0 32px 0 8px;width:100%;margin:0;}.c-ph-search-bar .c-ph-search-wrapper .c-search-input-container .c-search-catalog-input::-webkit-input-placeholder{color:#d9d9d9;}.c-ph-search-bar .c-ph-search-wrapper .c-search-input-container .c-search-catalog-input:-moz-placeholder{color:#d9d9d9;}.c-ph-search-bar .c-ph-search-wrapper .c-search-input-container .c-search-catalog-input::-moz-placeholder{color:#d9d9d9;}.c-ph-search-bar .c-ph-search-wrapper .c-search-input-container .c-search-catalog-input:-ms-input-placeholder{color:#d9d9d9;}.c-ph-search-bar .c-ph-search-wrapper .c-search-input-container .c-search-catalog-input:focus{background-color:#fff;}.c-ph-search-bar .c-ph-search-wrapper .c-search-input-container .c-search-catalog-input:focus::-webkit-input-placeholder{color:transparent;}.c-ph-search-bar .c-ph-search-wrapper .c-search-input-container .c-search-catalog-input:focus:-moz-placeholder{color:transparent;}.c-ph-search-bar .c-ph-search-wrapper .c-search-input-container .c-search-catalog-input:focus::-moz-placeholder{color:transparent;}.c-ph-search-bar .c-ph-search-wrapper .c-search-input-container .c-search-catalog-input:focus:-ms-input-placeholder{color:transparent;}.c-ph-search-bar .c-ph-search-wrapper .c-search-input-container .c-search-menu{width:100%;margin-top:3px;z-index:3000 !important;}.c-ph-search-bar .c-ph-search-wrapper .c-search-input-container .c-search-menu .c-search-suggestion{border-bottom:1px solid #f0f0f0}.c-ph-search-bar .c-ph-search-wrapper .c-search-input-container .c-search-icon{position:absolute;right:10px;top:13px;font-size:16px;cursor:pointer;}.c-ph-search-bar .c-ph-search-wrapper .c-search-input-container .c-search-icon .c-search-submit{position:absolute;width:100%;left:-1px;opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0)}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.c-phoenix-template-small-logo{display:inline-block;background:url(\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNi4yLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMTA4cHgiIGhlaWdodD0iMTdweCIgdmlld0JveD0iMCAwIDEwOCAxNyIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTA4IDE3IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwYXRoIGZpbGw9IiM3MTcxNzIiIGQ9Ik01NC4yODEsNS43NzNjMC4wNjYtMS4yNjksMC41MjEtMi4zMDYsMS4yMzItMy4xMTVWMS41OGgtMC45NDVjLTEuOTEsMC0zLjUyNywwLjczMi00LjQ2NywyLjM4NmgtMC4wNTUNCglWMS43NjJoLTQuODk5djEzLjQ0MWg0LjlWOS43NzdjMC0yLjMwMywwLjY3NC00LjA1OSwzLjM5My00LjA1OUM1My43MzYsNS43Miw1NC4wMTMsNS43MzcsNTQuMjgxLDUuNzczeiIvPg0KPHBhdGggZmlsbD0iIzcxNzE3MiIgZD0iTTkxLjM4LDUuNzI0YzAuNDA3LTEuMTg4LDEuMDY3LTIuMjQ2LDEuOTI1LTMuMDk1di0xLjA1aC0wLjk0M2MtMS45MTEsMC0zLjUyNiwwLjczMi00LjQ3MSwyLjM4NWgtMC4wNTMNCglWMS43NjJoLTQuOTAydjEzLjQ0MWg0LjkwMlY5Ljc3N2MwLTIuMzAzLDAuNjc2LTQuMDU5LDMuMzk1LTQuMDU5TDkxLjM4LDUuNzI0eiIvPg0KPHBhdGggZmlsbD0iIzcxNzE3MiIgZD0iTTY0LjIzMiw1LjIyYy0wLjc1Ni0wLjM5My0xLjgwOC0wLjY1NS0yLjY0NS0wLjY1NWMtMC41NjIsMC0xLjUzMywwLjIzNC0xLjUzMywwLjkxNw0KCWMwLDAuOTE4LDEuNTMzLDEuMDQ4LDIuMjExLDEuMTgyYzIuMjg0LDAuNDQ0LDQuMDEyLDEuNDkzLDQuMDEyLDMuOTc5YzAsMy41MzYtMy4zMTMsNS4wMDgtNi41Miw1LjAwOA0KCWMtMS45NjcsMC0zLjkwMi0wLjU1MS01LjU3NC0xLjU0N2wxLjc3Ny0zLjMzYzAuOTk1LDAuNjg0LDIuNjY1LDEuMzYzLDMuODc3LDEuMzYzYzAuNjIsMCwxLjUzNS0wLjI4NywxLjUzNS0xLjAyMQ0KCWMwLTEuMDQ4LTEuNTM1LTEuMTAzLTMuMDcyLTEuNDk1Yy0xLjUzMy0wLjM5My0zLjA2Ni0xLjEyNS0zLjA2Ni0zLjUzNmMwLTMuMzAyLDMuMDY2LTQuNzY3LDYuMDg4LTQuNzY3DQoJYzEuNTYyLDAsMy4xMjUsMC4yMzUsNC41NDksMC44NjRMNjQuMjMyLDUuMjJ6Ii8+DQo8cGF0aCBmaWxsPSIjNzE3MTcyIiBkPSJNMTA4LDE1LjIwM2gtNC45di0xLjQ5NWgtMC4wNTRjLTAuODYyLDEuMzM2LTIuNTYyLDEuOTM4LTQuMTc1LDEuOTM4Yy00LjA5NiwwLTYuOTc1LTMuMzI4LTYuOTc1LTcuMTgNCgljMC0zLjg0OCwyLjgyOC03LjE1MSw2LjkyLTcuMTUxYzEuNTg4LDAsMy4yNiwwLjU3Niw0LjI4MywxLjc1NFYxLjc2Mmg0Ljg5OUwxMDgsMTUuMjAzTDEwOCwxNS4yMDN6IE05Ni45NTksOC40OTUNCgljMCwxLjcwMiwxLjE2LDMuMDEyLDMuMTUsMy4wMTJjMS45OTIsMCwzLjE0Ny0xLjMwOCwzLjE0Ny0zLjAxMmMwLTEuNjUxLTEuMTU1LTMuMDM5LTMuMTQ3LTMuMDM5DQoJQzk4LjExOSw1LjQ1Nyw5Ni45NTksNi44NDQsOTYuOTU5LDguNDk1eiIvPg0KPHBhdGggZmlsbD0iIzcxNzE3MiIgZD0iTTgyLjE2Myw5LjI4M0g3MS44NDZjMCwxLjkzNywxLjA1MywyLjk4NCwzLjA3MiwyLjk4NGMxLjA1LDAsMS44MDMtMC4zMzksMi4zNDMtMS4yMzFoNC43MTQNCgljLTAuNzgxLDMuMTcxLTMuODc5LDQuNjEyLTcuMDI5LDQuNjEyYy00LjU3NSwwLTcuOTk1LTIuNTE3LTcuOTk1LTcuMTUyYzAtNC40OCwzLjE0Ny03LjE3OCw3LjY0NC03LjE3OA0KCWM0Ljc5MywwLDcuNTcsMi44ODMsNy41Nyw3LjQ2Nkw4Mi4xNjMsOS4yODNMODIuMTYzLDkuMjgzeiBNNzcuNjExLDYuNTNjLTAuMjQzLTEuMjg0LTEuNDU1LTIuMTIyLTIuNzczLTIuMTIyDQoJYy0xLjQyOSwwLTIuNjA5LDAuNzMxLTIuOTEsMi4xMjJINzcuNjExeiIvPg0KPGc+DQoJPGc+DQoJCTxwYXRoIGZpbGw9IiM3MTcxNzIiIGQ9Ik0yOS41NjEsOC4yNjFjLTAuMDA1LTAuMTE2LTAuMDEzLTAuMjI5LTAuMDIyLTAuMzQ0YzAsMCwwLTAuMDAxLDAtMC4wMDJjMCwwLDAtMC4wMDEsMC0wLjAwMg0KCQkJYy0wLjExLTEuMjQ3LTAuNTIyLTIuNDE0LTEuMjIxLTMuNDY4Yy0wLjMxMi0wLjQ3LTAuNjY5LTAuODk3LTEuMDY4LTEuMjhjLTAuNTgzLTAuNTYxLTEuMjU4LTEuMDI1LTIuMDE5LTEuMzkyDQoJCQljLTEuMTQ1LTAuNTQ3LTIuNDEtMC44MjMtMy43Ni0wLjgyM2MtMC4xMzIsMC0wLjI3LDAuMDAyLTAuNDA5LDAuMDA3QzIwLjExNCwxLDE5LjE5NywxLjE4LDE4LjMzNSwxLjQ5Nw0KCQkJYy0wLjg2OSwwLjMxNC0xLjYyNiwwLjcyOS0yLjI0NSwxLjIyN2MtMC4xMjYsMC4xLTAuMjYzLDAuMjIzLTAuNDEsMC4zNThsLTAuMTA2LDAuMTA0TDE1LjQyOSwzLjM0aDAuMDAxaDAuMDAxbC0wLjA2OCwwLjA2Nw0KCQkJTDE1LjMzLDMuNDQzbC0wLjE3MywwLjE4MmMtMC4xMjgsMC4xNDQtMC4yNSwwLjI4OC0wLjM2NCwwLjQyOWwtMC4wMDEtMC4wMDJsLTAuMDA0LTAuMDA0Yy0wLjIzNywwLjI4OC0wLjQ1NiwwLjU4Ni0wLjYxNywwLjg1NA0KCQkJYy0wLjEwOSwwLjE3Mi0wLjIxNiwwLjM0OS0wLjMxOCwwLjUyNkwxMi40NCw4LjI4NWwwLjAwMiwwLjAwMmwtMC4wNzQsMC4xNDVsLTAuMTU2LDAuMzE2Yy0wLjMxLDAuNjI3LTAuNjQyLDEuMjUyLTEuMDEzLDEuNzY4DQoJCQljLTAuODI3LDAuOTA3LTEuNzYyLDEuMzUxLTIuOTY0LDEuMzUxYy0wLjA4NCwwLTAuMTctMC4wMDQtMC4yNTgtMC4wMDljLTAuNzI0LTAuMDI5LTEuMzQ1LTAuMi0xLjg5Ni0wLjUyNg0KCQkJYy0wLjA1OS0wLjAzNS0wLjExNi0wLjA3MS0wLjE3MS0wLjEwOGMtMC40NS0wLjI5OS0wLjc5NS0wLjY4My0xLjA1My0xLjE2MmMtMC4yOTEtMC41NDMtMC40Mi0xLjA5OC0wLjQwMi0xLjY4Ng0KCQkJQzQuNDU2LDguMzYsNC40NTcsOC4zNDYsNC40NTcsOC4zMzNDNC40OTYsNy4zOTcsNC44NTMsNi42NjksNS41NzIsNi4wNEM1Ljc0Nyw1Ljg4OSw1LjkzLDUuNzYxLDYuMTIxLDUuNjQ3DQoJCQljMC4wMjctMC4wMTYsMC4wNTQtMC4wMzEsMC4wODEtMC4wNDVjMC41MzQtMC4yOTEsMS4xNDItMC40MzYsMS44MzktMC40MzZsMC4yMTcsMC4wMDZDOS4zNjUsNS4yMTQsMTAuMjE5LDUuNTYsMTAuOSw2LjIzNQ0KCQkJTDEzLjAzNiwyLjRjLTAuNTExLTAuMzQyLTEuMDg4LTAuNjM2LTEuNzI0LTAuODc1Yy0wLjAyNC0wLjAwOS0wLjA0OS0wLjAxOS0wLjA3NC0wLjAyN2MtMC4wNzYtMC4wMjctMC4xNTEtMC4wNTUtMC4yMjktMC4wOA0KCQkJQzEwLjMzMywxLjE5Miw5LjYyNCwxLjA1Myw4Ljg5NCwwLjk5bDAsMEM4Ljg3NiwwLjk4Nyw4Ljg1NiwwLjk4NSw4LjgzOCwwLjk4M0M4LjcyNiwwLjk3Niw4LjYxMiwwLjk2Miw4LjUsMC45NTcNCgkJCUM4LjM3OCwwLjk1Miw4LjI1NSwwLjk1LDguMTM1LDAuOTQ5SDguMDY2Yy0xLjM0MywwLjAwNS0yLjU5MSwwLjI4LTMuNzMyLDAuODI1QzMuMDU2LDIuMzksMi4wMiwzLjI4NywxLjI1Miw0LjQ0Mw0KCQkJQzAuNDg2LDUuNTk5LDAuMDY4LDYuODgyLDAuMDA4LDguMjU5QzAuMDAzLDguMzc3LDAsOC40OTQsMCw4LjYwOWMtMC4wMDEsMS45MjYsMC43MDEsMy42MiwyLjA5Nyw1LjA0Mg0KCQkJYzEuNDU3LDEuNDkyLDMuMzUyLDIuMjk2LDUuNjI3LDIuMzkxYzAuMTQ2LDAuMDA2LDAuMjksMC4wMSwwLjQzNCwwLjAxYzEuMjg3LDAsMi40NzgtMC4yMjksMy41NDYtMC42ODcNCgkJCWMwLjI2Ny0wLjExNCwwLjUyNi0wLjI0OCwwLjc5MS0wLjM5N2MwLjE0NC0wLjA4MywwLjI4LTAuMTcxLDAuNDE1LTAuMjY1bDAuMS0wLjA2N2wwLjE2OC0wLjExNQ0KCQkJYzAuMjAyLTAuMTQ1LDAuMzkxLTAuMzAyLDAuNTc1LTAuNDY5bDAuMDY0LTAuMDYxYzAuMTA4LTAuMTAzLDAuMjE2LTAuMjA3LDAuMzE4LTAuMzE0bDAuMzgzLTAuNDMzbDAuMTQ2LTAuMTgzbDAuMDY4LTAuMQ0KCQkJbDAuMDY4LTAuMDk4YzAuNTY5LTAuOTU2LDIuNDIxLTQuNDM1LDIuNDIxLTQuNDM1VjguNDIxbDAuMTEtMC4yMTJsMC4wOTItMC4xNjZjMC4yNzMtMC40OTcsMC40Ny0wLjg1LDAuNzMxLTEuMjIxbDAuMDA3LTAuMDExDQoJCQljMC42MDktMC44ODMsMS42NTYtMS41MTIsMi44OS0xLjYxOGMyLjA3LTAuMTc4LDMuODg0LDEuMTgyLDQuMDUxLDMuMDM4YzAuMTY2LDEuODU2LTEuMzc4LDMuNTA1LTMuNDQ4LDMuNjg0DQoJCQljLTAuNDMxLDAuMDM3LTAuODUsMC4wMDgtMS4yNDUtMC4wNzlsLTAuMDEsMC4wMDRjLTEuNTE5LTAuMzE2LTIuNDg2LTEuNDI0LTIuOTYzLTEuOTE5bC0xLjk5MiwzLjY2Mw0KCQkJYzAsMCwwLjYxOSwwLjYyNCwxLjA0MywwLjkzNmMwLjQyNSwwLjMxMSwwLjk3NCwwLjYxNywxLjQxMiwwLjgwN2MxLjA2MywwLjQ1NCwyLjIxOSwwLjcyNiwzLjQ5NiwwLjcyNg0KCQkJYzAuMTQ4LDAsMC4xMTgsMCwwLjI3Mi0wLjAwNmMyLjI3My0wLjA5NSw0LjI5OS0wLjk2Niw1Ljc2LTIuNDU4YzEuMzg0LTEuNDE3LDIuMTM1LTMuMDM1LDIuMTQyLTQuOTVWOC41ODINCgkJCUMyOS41NjgsOC40NzYsMjkuNTY1LDguMzY5LDI5LjU2MSw4LjI2MXoiLz4NCgk8L2c+DQo8L2c+DQo8Zz4NCgk8cGF0aCBmaWxsPSIjNzE3MTcyIiBkPSJNMzcuMTgxLDE1LjY1N2MtMS4wMzMsMC0xLjk3LTAuMTItMi44MTEtMC4zNmMtMC44NDEtMC4yNC0xLjU1OS0wLjYxOS0yLjE1NC0xLjEzOQ0KCQljLTAuNTk3LTAuNTItMS4wNTctMS4xODItMS4zODEtMS45ODVzLTAuNDg2LTEuNzcxLTAuNDg2LTIuODk5VjEuNzU5aDQuNzI3djcuNDU1YzAsMC44NDUsMC4yMDIsMS40NTcsMC42MDUsMS44MzkNCgkJYzAuNDA0LDAuMzgzLDAuOTE3LDAuNTc0LDEuNTM5LDAuNTc0YzAuNjM2LDAsMS4xNTItMC4xNzgsMS41NS0wLjUzNWMwLjM5Ni0wLjM1NywwLjU5Ni0wLjk0OSwwLjU5Ni0xLjc4MVYxLjc1OWg0LjcyN3Y3LjQxNg0KCQljMCwxLjE2OC0wLjE2NiwyLjE2MS0wLjQ5NywyLjk3OGMtMC4zMzEsMC44MTgtMC43OTgsMS40ODYtMS4zOTksMi4wMDZjLTAuNjA0LDAuNTItMS4zMzEsMC44OTgtMi4xODYsMS4xMzkNCgkJQzM5LjE1NiwxNS41MzcsMzguMjEzLDE1LjY1NywzNy4xODEsMTUuNjU3eiIvPg0KPC9nPg0KPC9zdmc+DQo=\");background-repeat:no-repeat;background-position:center center;width:109px;height:17px}.c-phoenix-template-truncate{overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap}.c-phoenix-template-button{outline:none;margin:15px 0;color:#fff;background-color:#428bca;cursor:pointer;border-top-right-radius:3px;border-top-left-radius:3px;border-bottom-right-radius:3px;border-bottom-left-radius:3px;}.c-phoenix-template-button:hover{background-color:#3d7cb3;color:#fff}.c-phoenix-template-button[disabled]{background-color:#cccccb}.c-phoenix-template-button:focus{color:#fff}.c-phoenix-hide{display:none}.c-hidden-accessibility{position:absolute !important;height:1px;width:1px;overflow:hidden;clip:rect(1px 1px 1px 1px)}.c-col-no-left-padding{padding-left:0}.c-col-no-right-padding{padding-right:0}.c-no-margin{margin:0}.c-user-modal .c-user-modal-content button,.rc-AuthenticationModal .c-user-modal-content button{-webkit-box-shadow:0 1px 1px 0 rgba(0,0,0,0.12),0 0 1px 0 rgba(0,0,0,0.24);box-shadow:0 1px 1px 0 rgba(0,0,0,0.12),0 0 1px 0 rgba(0,0,0,0.24)}.c-user-modal,.rc-AuthenticationModal .c-user-modal-content{-webkit-box-shadow:0 19px 19px 0 rgba(0,0,0,0.3),0 0 6px 0 rgba(0,0,0,0.22);box-shadow:0 19px 19px 0 rgba(0,0,0,0.3),0 0 6px 0 rgba(0,0,0,0.22)}.c-user-modal-overlay{background-color:rgba(0,0,0,0.83)}.c-user-modal,.rc-AuthenticationModal .c-user-modal-content{background-color:#f9faf7}.c-user-modal .c-user-modal-content h2,.c-user-modal .c-user-modal-content input,.c-user-modal .c-user-modal-footer a,.rc-AuthenticationModal .c-user-modal-content h2,.rc-AuthenticationModal .c-user-modal-content input,.rc-AuthenticationModal .c-user-modal-footer a{color:rgba(0,0,0,0.87)}.c-user-modal .c-user-modal-content,.c-user-modal .c-user-modal-footer,.rc-AuthenticationModal .c-user-modal-content,.rc-AuthenticationModal .c-user-modal-footer{color:rgba(0,0,0,0.54)}.c-user-modal header,.c-user-modal header a.active,.c-user-modal header a:hover,.c-user-modal header a:focus,.c-user-modal header a:active,.c-user-modal .c-user-modal-content .c-user-modal-error-inline,.rc-AuthenticationModal header,.rc-AuthenticationModal header a.active,.rc-AuthenticationModal header a:hover,.rc-AuthenticationModal header a:focus,.rc-AuthenticationModal header a:active,.rc-AuthenticationModal .c-user-modal-content .c-user-modal-error-inline{color:#fff}.c-user-modal header a,.c-user-modal .c-user-modal-close,.rc-AuthenticationModal header a,.rc-AuthenticationModal .c-user-modal-close{color:rgba(255,255,255,0.7)}.c-user-modal .c-user-modal-content button.c-user-modal-facebook-button:disabled,.rc-AuthenticationModal .c-user-modal-content button.c-user-modal-facebook-button:disabled{color:rgba(255,255,255,0.3)}.c-user-modal,.c-user-modal .c-user-modal-content .c-user-modal-error-inline,.tooltip.left .tooltip-inner,.rc-AuthenticationModal .c-user-modal-content,.rc-AuthenticationModal .c-user-modal-content .c-user-modal-error-inline{-webkit-border-radius:4px;border-radius:4px}.c-user-modal .c-user-modal-content .c-user-modal-help-text,.c-user-modal .c-user-modal-content .c-user-modal-controls,.c-user-modal .c-user-modal-content button,.rc-AuthenticationModal .c-user-modal-content .c-user-modal-help-text,.rc-AuthenticationModal .c-user-modal-content .c-user-modal-controls,.rc-AuthenticationModal .c-user-modal-content button{-webkit-border-radius:2px;border-radius:2px}.sr-only{position:absolute;width:1px;height:1px;margin:-1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);border:0}.c-user-modal header,.c-user-modal header a,.c-user-modal .c-user-modal-content,.c-user-modal .c-user-modal-content button,.c-user-modal .c-user-modal-footer a,.rc-AuthenticationModal header,.rc-AuthenticationModal header a,.rc-AuthenticationModal .c-user-modal-content,.rc-AuthenticationModal .c-user-modal-content button,.rc-AuthenticationModal .c-user-modal-footer a{font-weight:500}.c-user-modal .c-user-modal-content h2,.rc-AuthenticationModal .c-user-modal-content h2{font-size:24px;line-height:32px}.c-user-modal .c-user-modal-close,.rc-AuthenticationModal .c-user-modal-close{font-size:20px;line-height:24px}.c-user-modal header,.c-user-modal header a,.c-user-modal .c-user-modal-content,.c-user-modal .c-user-modal-content .c-user-modal-error-icon,.c-user-modal .c-user-modal-content input,.rc-AuthenticationModal header,.rc-AuthenticationModal header a,.rc-AuthenticationModal .c-user-modal-content,.rc-AuthenticationModal .c-user-modal-content .c-user-modal-error-icon,.rc-AuthenticationModal .c-user-modal-content input{font-size:14px;line-height:20px}.c-user-modal .c-user-modal-content .c-user-modal-help-text,.c-user-modal .c-user-modal-content .c-user-modal-error-inline,.c-user-modal .c-user-modal-footer,.rc-AuthenticationModal .c-user-modal-content .c-user-modal-help-text,.rc-AuthenticationModal .c-user-modal-content .c-user-modal-error-inline,.rc-AuthenticationModal .c-user-modal-footer{font-size:12px;line-height:14px}.c-user-modal .c-user-modal-content button,.rc-AuthenticationModal .c-user-modal-content button{font-size:14px;line-height:16px;}.c-user-modal .c-user-modal-content button,.rc-AuthenticationModal .c-user-modal-content button{-webkit-transition-property:background-color,box-shadow(),color,opacity(n, args);-moz-transition-property:background-color,box-shadow(),color,opacity(n, args);-o-transition-property:background-color,box-shadow(),color,opacity(n, args);-ms-transition-property:background-color,box-shadow(),color,opacity(n, args);transition-property:background-color,box-shadow(),color,opacity(n, args);-webkit-transition-duration:100ms;-moz-transition-duration:100ms;-o-transition-duration:100ms;-ms-transition-duration:100ms;transition-duration:100ms;-webkit-transition-timing-function:ease;-moz-transition-timing-function:ease;-o-transition-timing-function:ease;-ms-transition-timing-function:ease;transition-timing-function:ease;-webkit-transition-delay:0ms;-moz-transition-delay:0ms;-o-transition-delay:0ms;-ms-transition-delay:0ms;transition-delay:0ms;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;display:inline-block;text-align:center;vertical-align:middle;white-space:nowrap;background-image:none;border:none;opacity:1;-ms-filter:none;filter:none;}.c-user-modal .c-user-modal-content button[disabled],.rc-AuthenticationModal .c-user-modal-content button[disabled]{opacity:.65;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=65)\";filter:alpha(opacity=65);cursor:not-allowed;pointer-events:none}.c-user-modal .c-user-modal-content button:active,.rc-AuthenticationModal .c-user-modal-content button:active{-webkit-box-shadow:0 10px 10px 0 rgba(0,0,0,0.19),0 0 3px 0 rgba(0,0,0,0.23);box-shadow:0 10px 10px 0 rgba(0,0,0,0.19),0 0 3px 0 rgba(0,0,0,0.23)}.c-user-modal .c-user-modal-content button[disabled],.rc-AuthenticationModal .c-user-modal-content button[disabled]{-webkit-box-shadow:none;box-shadow:none}.c-user-modal .c-user-modal-content button,.rc-AuthenticationModal .c-user-modal-content button{color:#fff;background:#4285f4;}.c-user-modal .c-user-modal-content button:hover,.rc-AuthenticationModal .c-user-modal-content button:hover{background-color:#3d7ae0}.c-user-modal .c-user-modal-content button:focus,.rc-AuthenticationModal .c-user-modal-content button:focus{background-color:#356cc6}.c-user-modal .c-user-modal-content button:active,.rc-AuthenticationModal .c-user-modal-content button:active{background-color:rgba(55,110,203,1)}.c-user-modal .c-user-modal-content button[disabled],.rc-AuthenticationModal .c-user-modal-content button[disabled]{background-color:rgba(0,0,0,0.12);color:rgba(0,0,0,0.26)}.c-user-modal .c-user-modal-divider,.rc-AuthenticationModal .c-user-modal-divider{margin-top:8px;margin-bottom:8px}.c-user-modal .c-user-modal-footer,.rc-AuthenticationModal .c-user-modal-footer{margin-top:16px;margin-bottom:0}.c-user-modal .c-user-modal-content h2,.c-user-modal .c-user-modal-content p,.c-user-modal .c-user-modal-content .c-user-modal-help-text,.c-user-modal .c-user-modal-content .c-user-modal-controls,.rc-AuthenticationModal .c-user-modal-content h2,.rc-AuthenticationModal .c-user-modal-content p,.rc-AuthenticationModal .c-user-modal-content .c-user-modal-help-text,.rc-AuthenticationModal .c-user-modal-content .c-user-modal-controls{margin-top:0;margin-bottom:16px}.c-user-modal .c-user-modal-content .c-user-modal-error-icon,.c-user-modal .c-user-modal-content button,.c-user-modal .c-user-modal-content input,.c-user-modal .c-user-modal-content form,.rc-AuthenticationModal .c-user-modal-content .c-user-modal-error-icon,.rc-AuthenticationModal .c-user-modal-content button,.rc-AuthenticationModal .c-user-modal-content input,.rc-AuthenticationModal .c-user-modal-content form{margin:0}.tooltip{position:absolute;z-index:1030;display:block;visibility:visible;padding:5px;font-size:11px;opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0);}.tooltip.in{opacity:80;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=8000)\";filter:alpha(opacity=8000)}.tooltip.top{margin-top:-3px}.tooltip.right{margin-left:3px}.tooltip.bottom{margin-top:3px}.tooltip.left{margin-left:-3px}.tooltip-inner{max-width:200px;padding:3px 8px;color:#fff;text-align:center;text-decoration:none;background-color:#000;-webkit-border-radius:4px;border-radius:4px}.tooltip-arrow{position:absolute;width:0;height:0;border-color:transparent;border-style:solid}.tooltip.top .tooltip-arrow{bottom:0;left:50%;margin-left:-5px;border-width:5px 5px 0;border-top-color:#000}.tooltip.right .tooltip-arrow{top:50%;left:0;margin-top:-5px;border-width:5px 5px 5px 0;border-right-color:#000}.tooltip.left .tooltip-arrow{top:50%;right:0;margin-top:-5px;border-width:5px 0 5px 5px;border-left-color:#000}.tooltip.bottom .tooltip-arrow{top:0;left:50%;margin-left:-5px;border-width:0 5px 5px;border-bottom-color:#000}.c-user-modal{max-width:380px;position:relative;}.c-user-modal a{cursor:pointer;text-decoration:none}.c-user-modal header{text-align:center;position:absolute;top:-174px;width:100%;}.c-user-modal header .c-logo{display:block;margin:auto;background-image:url(\"https://d3njjcbhbojbot.cloudfront.net/web/bundles/userModal/images/coursera-logo.svg\");-webkit-background-size:contain;-moz-background-size:contain;background-size:contain;height:36px;width:208px}.c-user-modal header .c-user-modal-mission{padding:8px}.c-user-modal header nav{margin-top:56px}.c-user-modal header a{text-transform:uppercase;display:inline-block;padding:8px 12px;position:relative;}.c-user-modal header a:first-child{margin-right:16px}.c-user-modal header a:focus{outline:0}.c-user-modal header a.active:after{border-color:transparent transparent #f9faf7 transparent;border-style:solid;border-width:0 10px 10px 10px;content:\'\';display:block;position:absolute;height:0;width:0;left:40%;bottom:-11px}.c-user-modal .c-user-modal-close{cursor:pointer;position:fixed;right:16px;top:16px}.c-user-modal .c-user-modal-divider{text-align:center;}.c-user-modal .c-user-modal-content{padding:24px;}.c-user-modal .c-user-modal-content h2{font-family:\'Helvetica Neue\',Arial,sans-serif}.c-user-modal .c-user-modal-content .c-user-modal-help-text{padding:8px;background-color:rgba(0,0,0,0.12)}.c-user-modal .c-user-modal-content .c-user-modal-controls{border:1px solid #dadbd8;}.c-user-modal .c-user-modal-content .c-user-modal-controls .c-user-modal-control-group{position:relative;border-top:1px solid #dadbd8;}.c-user-modal .c-user-modal-content .c-user-modal-controls .c-user-modal-control-group:first-of-type{border-top:none}.c-user-modal .c-user-modal-content input,.c-user-modal .c-user-modal-content button,.c-user-modal .c-user-modal-content .c-user-modal-error-icon{padding:14px 16px}.c-user-modal .c-user-modal-content .c-user-modal-error-icon{cursor:pointer;position:absolute;right:0;color:#ff5c6e}.c-user-modal .c-user-modal-content .c-user-modal-error-inline{background-color:#d9534f}.c-user-modal .c-user-modal-content button{width:100%;}.c-user-modal .c-user-modal-content button.c-user-modal-facebook-button{background:#3b5998;}.c-user-modal .c-user-modal-content button.c-user-modal-facebook-button:hover{background-color:#36528c}.c-user-modal .c-user-modal-content button.c-user-modal-facebook-button:focus{background-color:#30487b}.c-user-modal .c-user-modal-content button.c-user-modal-facebook-button:active{background-color:rgba(49,74,126,1)}.c-user-modal .c-user-modal-content button.c-user-modal-facebook-button i,.c-user-modal .c-user-modal-content button.c-user-modal-facebook-button em,.c-user-modal .c-user-modal-content button.c-user-modal-facebook-button span{display:inline-block;vertical-align:middle}.c-user-modal .c-user-modal-content button.c-user-modal-facebook-button i,.c-user-modal .c-user-modal-content button.c-user-modal-facebook-button em{font-size:20px}.c-user-modal .c-user-modal-content button.c-user-modal-facebook-button span,.c-user-modal .c-user-modal-content button.c-user-modal-facebook-button i:last-child,.c-user-modal .c-user-modal-content button.c-user-modal-facebook-button em:last-child{margin-left:8px}.c-user-modal .c-user-modal-content input{width:100%;border:none}.c-user-modal .c-user-modal-footer{text-align:center;}@media (max-height:568px){.c-user-modal header{top:-102px !important}.c-user-modal .c-logo,.c-user-modal .c-user-modal-mission{display:none !important}}.c-user-modal .c-user-modal-content input{height:48px;-webkit-border-radius:0;border-radius:0;-webkit-box-shadow:none;box-shadow:none}.tooltip.left .tooltip-inner{background-color:#d9534f}.tooltip.left .tooltip-arrow{border-left-color:#d9534f}.rc-AuthenticationModal{position:fixed;z-index:1000;top:0;left:0;right:0;}.rc-AuthenticationModal .rc-Modal.layer > .c-modal-x-out{position:fixed;z-index:10001}.rc-AuthenticationModal .rc-Modal.layer > .c-modal-content{top:50%;overflow-y:visible;padding-top:0;}@media (max-width:767px){.rc-AuthenticationModal .rc-Modal.layer > .c-modal-content{margin-top:-160px}}.rc-AuthenticationModal a{cursor:pointer;text-decoration:none;}.rc-AuthenticationModal a:hover,.rc-AuthenticationModal a:focus{text-decoration:none}.rc-AuthenticationModal header{text-align:center;position:absolute;top:-174px;width:100%;}.rc-AuthenticationModal header .c-logo{display:block;margin:auto;background-image:url(\"https://d3njjcbhbojbot.cloudfront.net/web/bundles/userModal/images/coursera-logo.svg\");-webkit-background-size:contain;-moz-background-size:contain;background-size:contain;height:36px;width:208px}.rc-AuthenticationModal header .c-user-modal-mission{padding:8px}.rc-AuthenticationModal header nav{margin-top:56px}.rc-AuthenticationModal header a{text-transform:uppercase;display:inline-block;padding:8px 12px;position:relative;}.rc-AuthenticationModal header a:first-child{margin-right:16px}.rc-AuthenticationModal header a.active,.rc-AuthenticationModal header a:hover,.rc-AuthenticationModal header a:focus,.rc-AuthenticationModal header a:active{text-decoration:underline;color:#fff}.rc-AuthenticationModal header a:focus{outline:0}.rc-AuthenticationModal header a.active:after{border-color:transparent transparent #f9faf7 transparent;border-style:solid;border-width:0 10px 10px 10px;content:\'\';display:block;position:absolute;height:0;width:0;left:40%;bottom:-11px}.rc-AuthenticationModal .c-user-modal-close{cursor:pointer;position:fixed;right:16px;top:16px}.rc-AuthenticationModal .c-user-modal-divider{text-align:center;}.rc-AuthenticationModal .c-user-modal-content{max-width:380px;position:relative;margin:auto;padding:24px;}.rc-AuthenticationModal .c-user-modal-content h2{font-family:\'Helvetica Neue\',Arial,sans-serif}.rc-AuthenticationModal .c-user-modal-content .c-user-modal-help-text{padding:8px;background-color:rgba(0,0,0,0.12)}.rc-AuthenticationModal .c-user-modal-content .c-user-modal-controls{border:1px solid #dadbd8;}.rc-AuthenticationModal .c-user-modal-content .c-user-modal-controls .c-user-modal-control-group{position:relative;border-top:1px solid #dadbd8;}.rc-AuthenticationModal .c-user-modal-content .c-user-modal-controls .c-user-modal-control-group:first-of-type{border-top:none}.rc-AuthenticationModal .c-user-modal-content input,.rc-AuthenticationModal .c-user-modal-content button,.rc-AuthenticationModal .c-user-modal-content .c-user-modal-error-icon{padding:14px 16px}.rc-AuthenticationModal .c-user-modal-content .c-user-modal-error-icon{cursor:pointer;position:absolute;right:0;color:#ff5c6e}.rc-AuthenticationModal .c-user-modal-content .c-user-modal-error-inline{background-color:#d9534f}.rc-AuthenticationModal .c-user-modal-content button{width:100%;}.rc-AuthenticationModal .c-user-modal-content button:hover{border:none}.rc-AuthenticationModal .c-user-modal-content button.c-user-modal-facebook-button{background:#3b5998;}.rc-AuthenticationModal .c-user-modal-content button.c-user-modal-facebook-button:hover{background-color:#36528c}.rc-AuthenticationModal .c-user-modal-content button.c-user-modal-facebook-button:focus{background-color:#30487b}.rc-AuthenticationModal .c-user-modal-content button.c-user-modal-facebook-button:active{background-color:rgba(49,74,126,1)}.rc-AuthenticationModal .c-user-modal-content button.c-user-modal-facebook-button i,.rc-AuthenticationModal .c-user-modal-content button.c-user-modal-facebook-button em,.rc-AuthenticationModal .c-user-modal-content button.c-user-modal-facebook-button span{display:inline-block;vertical-align:middle}.rc-AuthenticationModal .c-user-modal-content button.c-user-modal-facebook-button i,.rc-AuthenticationModal .c-user-modal-content button.c-user-modal-facebook-button em{font-size:20px}.rc-AuthenticationModal .c-user-modal-content button.c-user-modal-facebook-button span,.rc-AuthenticationModal .c-user-modal-content button.c-user-modal-facebook-button i:last-child,.rc-AuthenticationModal .c-user-modal-content button.c-user-modal-facebook-button em:last-child{margin-left:8px}.rc-AuthenticationModal .c-user-modal-content input{width:100%;border:none}.rc-AuthenticationModal .c-user-modal-footer{text-align:center;}@media (max-height:568px){.rc-AuthenticationModal header{top:-102px !important}.rc-AuthenticationModal .c-logo,.rc-AuthenticationModal .c-user-modal-mission{display:none !important}}.rc-AuthenticationModal .c-user-modal-content input{height:48px;-webkit-border-radius:0;border-radius:0;-webkit-box-shadow:none;box-shadow:none}.tooltip.left .tooltip-inner{background-color:#d9534f}.tooltip.left .tooltip-arrow{border-left-color:#d9534f}[class^=\"cif-\"],[class*=\" cif-\"]{font-family:\'coursera-iconfont\';speak:none;font-style:normal;font-weight:normal;font-variant:normal;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block}@-webkit-keyframes cif-spin{0%{-webkit-transform:rotate(0);-webkit-transform:rotate(0);-moz-transform:rotate(0);-o-transform:rotate(0);-ms-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(359deg);-webkit-transform:rotate(359deg);-moz-transform:rotate(359deg);-o-transform:rotate(359deg);-ms-transform:rotate(359deg);transform:rotate(359deg)}}.cif-lg{font-size:1.333333333333333em;line-height:.75em;vertical-align:-15%}.cif-2x{font-size:2em}.cif-3x{font-size:3em}.cif-4x{font-size:4em}.cif-5x{font-size:5em}.cif-fw{width:1.285714285714286em;text-align:center}.cif-spin{-webkit-animation:cif-spin 2s infinite linear;-webkit-animation:cif-spin 2s infinite linear;-moz-animation:cif-spin 2s infinite linear;-o-animation:cif-spin 2s infinite linear;-ms-animation:cif-spin 2s infinite linear;animation:cif-spin 2s infinite linear}.cif-pulse{-webkit-animation:cif-spin 1s infinite steps(8);-webkit-animation:cif-spin 1s infinite steps(8);-moz-animation:cif-spin 1s infinite steps(8);-o-animation:cif-spin 1s infinite steps(8);-ms-animation:cif-spin 1s infinite steps(8);animation:cif-spin 1s infinite steps(8)}.cif-rotate-90{filter:progid:DXImageTransform.Microsoft.BasicImage(1);-webkit-transform:rotate(90deg);-ms-transform:rotate(90deg);-webkit-transform:rotate(90deg);-moz-transform:rotate(90deg);-o-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg)}.cif-rotate-180{filter:progid:DXImageTransform.Microsoft.BasicImage(2);-webkit-transform:rotate(180deg);-ms-transform:rotate(180deg);-webkit-transform:rotate(180deg);-moz-transform:rotate(180deg);-o-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg)}.cif-rotate-270{filter:progid:DXImageTransform.Microsoft.BasicImage(3);-webkit-transform:rotate(270deg);-ms-transform:rotate(270deg);-webkit-transform:rotate(270deg);-moz-transform:rotate(270deg);-o-transform:rotate(270deg);-ms-transform:rotate(270deg);transform:rotate(270deg)}.cif-flip-horizontal{filter:progid:DXImageTransform.Microsoft.BasicImage(0, 1);-webkit-transform:scale(-1,1);-ms-transform:scale(-1,1);-webkit-transform:scale(-1,1);-moz-transform:scale(-1,1);-o-transform:scale(-1,1);-ms-transform:scale(-1,1);transform:scale(-1,1)}.cif-flip-vertical{filter:progid:DXImageTransform.Microsoft.BasicImage(2, 1);-webkit-transform:scale(1,-1);-ms-transform:scale(1,-1);-webkit-transform:scale(1,-1);-moz-transform:scale(1,-1);-o-transform:scale(1,-1);-ms-transform:scale(1,-1);transform:scale(1,-1)}.cif-stack{position:relative;display:inline-block;width:2em;height:2em;line-height:2em;vertical-align:middle}.cif-stack-1x,.cif-stack-2x{position:absolute;left:0;width:100%;text-align:center}.cif-stack-1x{line-height:inherit}.cif-stack-2x{font-size:2em}.cif-inverse{color:#fff}.cif-fw{width:1.285714285714286em;text-align:center}@-moz-keyframes cif-spin{0%{-webkit-transform:rotate(0);-webkit-transform:rotate(0);-moz-transform:rotate(0);-o-transform:rotate(0);-ms-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(359deg);-webkit-transform:rotate(359deg);-moz-transform:rotate(359deg);-o-transform:rotate(359deg);-ms-transform:rotate(359deg);transform:rotate(359deg)}}@-webkit-keyframes cif-spin{0%{-webkit-transform:rotate(0);-webkit-transform:rotate(0);-moz-transform:rotate(0);-o-transform:rotate(0);-ms-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(359deg);-webkit-transform:rotate(359deg);-moz-transform:rotate(359deg);-o-transform:rotate(359deg);-ms-transform:rotate(359deg);transform:rotate(359deg)}}@-o-keyframes cif-spin{0%{-webkit-transform:rotate(0);-webkit-transform:rotate(0);-moz-transform:rotate(0);-o-transform:rotate(0);-ms-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(359deg);-webkit-transform:rotate(359deg);-moz-transform:rotate(359deg);-o-transform:rotate(359deg);-ms-transform:rotate(359deg);transform:rotate(359deg)}}@keyframes cif-spin{0%{-webkit-transform:rotate(0);-webkit-transform:rotate(0);-moz-transform:rotate(0);-o-transform:rotate(0);-ms-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(359deg);-webkit-transform:rotate(359deg);-moz-transform:rotate(359deg);-o-transform:rotate(359deg);-ms-transform:rotate(359deg);transform:rotate(359deg)}}.cif-ellipsis-h:before{content:\"\\e901\"}.cif-doc:before{content:\"\\e900\"}.cif-unlock:before{content:\"\\e61d\"}.cif-assignment:before{content:\"\\e643\"}.cif-list-ol:before{content:\"\\e600\"}.cif-list-ul:before{content:\"\\e601\"}.cif-caret-up:before{content:\"\\e62f\"}.cif-caret-down:before{content:\"\\e630\"}.cif-linkedin-square:before{content:\"\\e631\"}.cif-times-circle-o:before{content:\"\\e632\"}.cif-chain-broken:before{content:\"\\e633\"}.cif-envelope-o:before{content:\"\\e634\"}.cif-google-plus:before{content:\"\\e635\"}.cif-twitter:before{content:\"\\e636\"}.cif-facebook:before{content:\"\\e637\"}.cif-thumbs-o-down:before{content:\"\\e638\"}.cif-thumbs-o-up:before{content:\"\\e639\"}.cif-thumbs-down:before{content:\"\\e63a\"}.cif-thumbs-up:before{content:\"\\e63b\"}.cif-flag-o:before{content:\"\\e63c\"}.cif-flag:before{content:\"\\e63d\"}.cif-check-circle-o:before{content:\"\\e63e\"}.cif-check:before{content:\"\\e63f\"}.cif-camera:before{content:\"\\e62e\"}.cif-film:before{content:\"\\e62d\"}.cif-minus:before{content:\"\\e62a\"}.cif-compress:before{content:\"\\e62b\"}.cif-captions:before{content:\"\\e602\"}.cif-expand:before{content:\"\\e625\"}.cif-refresh:before{content:\"\\e626\"}.cif-download:before{content:\"\\e627\"}.cif-file-o:before{content:\"\\e628\"}.cif-upload:before{content:\"\\e61e\"}.cif-minus-square:before{content:\"\\e629\"}.cif-plus-square:before{content:\"\\e620\"}.cif-plus:before{content:\"\\e621\"}.cif-square:before{content:\"\\e622\"}.cif-cog:before{content:\"\\e623\"}.cif-settings:before{content:\"\\e623\"}.cif-circle:before{content:\"\\e61f\"}.cif-search:before{content:\"\\e61c\"}.cif-item-doc:before{content:\"\\e615\"}.cif-warning:before{content:\"\\f071\"}.cif-circle-o:before{content:\"\\f10c\"}.cif-heart:before{content:\"\\f004\"}.cif-star:before{content:\"\\f005\"}.cif-star-o:before{content:\"\\f006\"}.cif-user:before{content:\"\\f007\"}.cif-close2:before{content:\"\\f00d\"}.cif-remove:before{content:\"\\f00d\"}.cif-times:before{content:\"\\f00d\"}.cif-clock-o:before{content:\"\\f017\"}.cif-volume-off:before{content:\"\\f026\"}.cif-volume-down:before{content:\"\\f027\"}.cif-volume-up:before{content:\"\\f028\"}.cif-bookmark:before{content:\"\\f02e\"}.cif-edit:before{content:\"\\f044\"}.cif-pencil-square-o:before{content:\"\\f044\"}.cif-play:before{content:\"\\f04b\"}.cif-pause:before{content:\"\\f04c\"}.cif-chevron-left:before{content:\"\\f053\"}.cif-chevron-right:before{content:\"\\f054\"}.cif-check-circle:before{content:\"\\f058\"}.cif-question-circle:before{content:\"\\f059\"}.cif-ban:before{content:\"\\f05e\"}.cif-arrow-left:before{content:\"\\f060\"}.cif-arrow-right:before{content:\"\\f061\"}.cif-arrow-up:before{content:\"\\f062\"}.cif-arrow-down:before{content:\"\\f063\"}.cif-calendar:before{content:\"\\f073\"}.cif-comment:before{content:\"\\f075\"}.cif-chevron-up:before{content:\"\\f077\"}.cif-chevron-down:before{content:\"\\f078\"}.cif-heart-o:before{content:\"\\f08a\"}.cif-external-link:before{content:\"\\f08e\"}.cif-certificate:before{content:\"\\f0a3\"}.cif-globe:before{content:\"\\f0ac\"}.cif-group:before{content:\"\\f0c0\"}.cif-users:before{content:\"\\f0c0\"}.cif-chain:before{content:\"\\f0c1\"}.cif-link:before{content:\"\\f0c1\"}.cif-file-text-o:before{content:\"\\f0f6\"}.cif-quote-left:before{content:\"\\f10d\"}.cif-quote-right:before{content:\"\\f10e\"}.cif-spinner:before{content:\"\\f110\"}.cif-star-half-empty:before{content:\"\\f123\"}.cif-star-half-full:before{content:\"\\f123\"}.cif-star-half-o:before{content:\"\\f123\"}.cif-chevron-circle-left:before{content:\"\\f137\"}.cif-chevron-circle-right:before{content:\"\\f138\"}.cif-chevron-circle-up:before{content:\"\\f139\"}.cif-chevron-circle-down:before{content:\"\\f13a\"}.cif-play-circle:before{content:\"\\f144\"}.cif-file-image-o:before{content:\"\\f1c5\"}.cif-file-photo-o:before{content:\"\\f1c5\"}.cif-file-picture-o:before{content:\"\\f1c5\"}.cif-circle-o-notch:before{content:\"\\f1ce\"}.cif-paper-plane:before{content:\"\\f1d8\"}.cif-send:before{content:\"\\f1d8\"}.cif-circle-thin:before{content:\"\\f1db\"}.cif-genderless:before{content:\"\\f1db\"}.cif-facebook-official:before{content:\"\\f230\"}.cif-lock:before{content:\"\\e61a\"}.cif-info:before{content:\"\\e61b\"}.cif-discussions:before{content:\"\\e617\"}.cif-checkmark:before{content:\"\\e60a\"}.cif-get-vc .path1:before{content:\"\\e603\";color:#fff}.cif-get-vc .path2:before{content:\"\\e604\";margin-left:-1.0166015625em;color:#fff}.cif-get-vc .path3:before{content:\"\\e605\";margin-left:-1.0166015625em;color:#4187bb}.cif-get-vc .path4:before{content:\"\\e606\";margin-left:-1.0166015625em;color:#4187bb}.cif-get-vc .path5:before{content:\"\\e607\";margin-left:-1.0166015625em;color:#fff}.cif-get-vc .path6:before{content:\"\\e608\";margin-left:-1.0166015625em;color:#fff}.cif-get-vc .path7:before{content:\"\\e609\";margin-left:-1.0166015625em;color:#cad9e7}.cif-get-vc .path8:before{content:\"\\e640\";margin-left:-1.0166015625em;color:#cad9e7}.cif-get-vc .path9:before{content:\"\\e641\";margin-left:-1.0166015625em;color:#4187bb}.cif-home:before{content:\"\\e60b\"}.cif-course-list:before{content:\"\\e60c\"}.cif-item-video:before{content:\"\\e60d\"}.cif-summative-incomplete .path1:before{content:\"\\e60e\";color:rgba(0,0,0,0.54)}.cif-summative-incomplete .path2:before{content:\"\\e642\";margin-left:-1.0419921875em;color:#fff}.cif-summative-complete .path1:before{content:\"\\e60f\";color:#2ab573}.cif-summative-complete .path2:before{content:\"\\e610\";margin-left:-1em;color:#2ab573}.cif-summative-complete .path3:before{content:\"\\e611\";margin-left:-1em;color:#fff}.cif-prog-assignment:before{content:\"\\e612\"}.cif-item-peer:before{content:\"\\e613\"}.cif-item-formative:before{content:\"\\e614\"}.cif-close:before{content:\"\\e616\"}.cif-cancel-hint:before{content:\"\\e618\"}.cif-back:before{content:\"\\e619\"}.cif-pin:before{content:\"\\e624\"}.cif-eye:before{content:\"\\e62c\"}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.align-items-absolute-center{-webkit-box-pack:center;-moz-box-pack:center;-o-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-moz-box-align:center;-o-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center}.align-items-vertical-center{-webkit-box-align:center;-moz-box-align:center;-o-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center}.align-items-top{-webkit-box-align:start;-moz-box-align:start;-o-box-align:start;-ms-flex-align:start;-webkit-align-items:flex-start;align-items:flex-start}.align-items-bottom,.align-items-bottom-right{-webkit-box-align:end;-moz-box-align:end;-o-box-align:end;-ms-flex-align:end;-webkit-align-items:flex-end;align-items:flex-end}.align-items-right,.align-items-bottom-right{-webkit-box-pack:end;-moz-box-pack:end;-o-box-pack:end;-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end}.align-self-start{-webkit-align-self:flex-start;align-self:flex-start;-ms-flex-item-align:start;}.align-self-end{-webkit-align-self:flex-end;align-self:flex-end;-ms-flex-item-align:end;}.align-self-stretch{-webkit-align-self:stretch;align-self:stretch;-ms-flex-item-align:stretch;}.align-self-center{-webkit-align-self:center;align-self:center;-ms-flex-item-align:center;}.horizontal-box{display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-orient:horizontal;-moz-box-orient:horizontal;-o-box-orient:horizontal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row}.vertical-box{display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-orient:vertical;-moz-box-orient:vertical;-o-box-orient:vertical;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.align-left{text-align:left}.align-horizontal-center{text-align:center}.align-right{text-align:right}.align-inherit{text-align:inherit}a.dim{color:rgba(0,0,0,0.54);text-decoration:none;}a.dim:hover{color:#2775d1;text-decoration:underline}button.primary,button.secondary,button.passive,button.facebook,button.linkedin{font-size:12px;line-height:14px;}button.primary,button.secondary,button.passive,button.facebook,button.linkedin{display:inline-block;text-align:center;vertical-align:middle;white-space:nowrap;background-image:none;border:none;opacity:1;-ms-filter:none;filter:none;text-decoration:none;color:#fff;min-width:72px;padding:10px 20px;-webkit-transition-property:background-color,box-shadow(),color,opacity(n, args);-moz-transition-property:background-color,box-shadow(),color,opacity(n, args);-o-transition-property:background-color,box-shadow(),color,opacity(n, args);-ms-transition-property:background-color,box-shadow(),color,opacity(n, args);transition-property:background-color,box-shadow(),color,opacity(n, args);-webkit-transition-duration:100ms;-moz-transition-duration:100ms;-o-transition-duration:100ms;-ms-transition-duration:100ms;transition-duration:100ms;-webkit-transition-timing-function:ease;-moz-transition-timing-function:ease;-o-transition-timing-function:ease;-ms-transition-timing-function:ease;transition-timing-function:ease;-webkit-transition-delay:0ms;-moz-transition-delay:0ms;-o-transition-delay:0ms;-ms-transition-delay:0ms;transition-delay:0ms;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;-webkit-border-radius:0;border-radius:0;}button.primary[disabled],button.secondary[disabled],button.passive[disabled],button.facebook[disabled],button.linkedin[disabled]{background-color:#e5e5e5;border:1px solid #e5e5e5;color:rgba(0,0,0,0.26);cursor:not-allowed;pointer-events:none;}button.primary[disabled]:hover,button.secondary[disabled]:hover,button.passive[disabled]:hover,button.facebook[disabled]:hover,button.linkedin[disabled]:hover,button.primary[disabled]:active,button.secondary[disabled]:active,button.passive[disabled]:active,button.facebook[disabled]:active,button.linkedin[disabled]:active,button.primary[disabled]:focus,button.secondary[disabled]:focus,button.passive[disabled]:focus,button.facebook[disabled]:focus,button.linkedin[disabled]:focus{background:#e0e0e0 none repeat 0 0 scroll}button.primary.cozy,button.secondary.cozy,button.passive.cozy,button.facebook.cozy,button.linkedin.cozy{padding:16px 30px;font-size:14px;line-height:18px;font-family:\'OpenSans-Semibold\',Arial,sans-serif}button.primary.comfy,button.secondary.comfy,button.passive.comfy,button.facebook.comfy,button.linkedin.comfy{padding:20px 40px;font-size:18px;line-height:24px;font-family:\'OpenSans-Semibold\',Arial,sans-serif}button.primary.fullbleed,button.secondary.fullbleed,button.passive.fullbleed,button.facebook.fullbleed,button.linkedin.fullbleed{padding:10px 20px;width:100%}button.primary{border:1px solid #2073d4;background-color:#2073d4;}button.primary:hover,button.primary:focus,button.primary:active{background-color:#005bbe}button.primary.comfy,button.primary.cozy{background-image:-webkit-linear-gradient(#4285f4, #2775d1);background-image:-moz-linear-gradient(#4285f4, #2775d1);background-image:-o-linear-gradient(#4285f4, #2775d1);background-image:-ms-linear-gradient(#4285f4, #2775d1);background-image:linear-gradient(#4285f4, #2775d1);}button.primary.comfy:hover,button.primary.cozy:hover,button.primary.comfy:active,button.primary.cozy:active,button.primary.comfy:focus,button.primary.cozy:focus{background-image:none}button.secondary{color:#2a73cc;border:1px solid #2a73cc;background-color:transparent;}button.secondary:hover,button.secondary:focus,button.secondary:active{background-color:#2a73cc;color:#fff}button.passive{border:1px solid #7e778b;color:#7e778b;background-color:transparent;}button.passive:hover,button.passive:focus,button.passive:active{border-color:#8c8c8c;background-color:#8c8c8c;color:#fff}button.nostyle{background:transparent none repeat 0 0 scroll;color:rgba(0,0,0,0.87);border:0;font-size:1em;margin:0;outline:0;padding:0;text-align:left;text-decoration:none;text-indent:0;min-width:0}button.nostyle:disabled{background:transparent none repeat 0 0 scroll;color:rgba(0,0,0,0.26)}button.facebook{padding-left:20px;padding-right:20px;color:#fff;background-color:#3b5998}button.facebook span,button.facebook i{display:inline-block;vertical-align:middle}button.facebook i{font-size:20px}button.facebook span,button.facebook i:last-child{margin-left:8px}button.linkedin{padding-left:20px;padding-right:20px;color:#fff;background-color:#2775d1}button.linkedin span,button.linkedin i{display:inline-block;vertical-align:middle}button.linkedin i{font-size:20px}button.linkedin span,button.linkedin i:last-child{margin-left:8px}.theme-dark button.primary[disabled],.theme-dark button.secondary[disabled],.theme-dark button.passive[disabled]{background-color:rgba(255,255,255,0.8)}.flex-1{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.flex-2{-webkit-box-flex:2;-moz-box-flex:2;-o-box-flex:2;box-flex:2;-webkit-flex:2;-ms-flex:2;flex:2}.flex-3{-webkit-box-flex:3;-moz-box-flex:3;-o-box-flex:3;box-flex:3;-webkit-flex:3;-ms-flex:3;flex:3}.flex-4{-webkit-box-flex:4;-moz-box-flex:4;-o-box-flex:4;box-flex:4;-webkit-flex:4;-ms-flex:4;flex:4}.flex-5{-webkit-box-flex:5;-moz-box-flex:5;-o-box-flex:5;box-flex:5;-webkit-flex:5;-ms-flex:5;flex:5}.flex-6{-webkit-box-flex:6;-moz-box-flex:6;-o-box-flex:6;box-flex:6;-webkit-flex:6;-ms-flex:6;flex:6}.flex-7{-webkit-box-flex:7;-moz-box-flex:7;-o-box-flex:7;box-flex:7;-webkit-flex:7;-ms-flex:7;flex:7}.flex-8{-webkit-box-flex:8;-moz-box-flex:8;-o-box-flex:8;box-flex:8;-webkit-flex:8;-ms-flex:8;flex:8}.flex-9{-webkit-box-flex:9;-moz-box-flex:9;-o-box-flex:9;box-flex:9;-webkit-flex:9;-ms-flex:9;flex:9}.flex-10{-webkit-box-flex:10;-moz-box-flex:10;-o-box-flex:10;box-flex:10;-webkit-flex:10;-ms-flex:10;flex:10}.flex-11{-webkit-box-flex:11;-moz-box-flex:11;-o-box-flex:11;box-flex:11;-webkit-flex:11;-ms-flex:11;flex:11}.flex-12{-webkit-box-flex:12;-moz-box-flex:12;-o-box-flex:12;box-flex:12;-webkit-flex:12;-ms-flex:12;flex:12}.horizontal-box.align-items-spacebetween{-webkit-box-pack:justify;-moz-box-pack:justify;-o-box-pack:justify;-ms-flex-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-moz-box-align:center;-o-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center}.horizontal-box.align-items-spacearound{-webkit-box-pack:distribute;-moz-box-pack:distribute;-o-box-pack:distribute;-ms-flex-pack:distribute;-webkit-justify-content:space-around;justify-content:space-around;-webkit-box-align:center;-moz-box-align:center;-o-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center}.horizontal-box.wrap{-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.twitter-typeahead{width:100%}.c-search-menu{background-color:#fff;border:1px solid rgba(0,0,0,0.12);margin-top:-11px;width:50%;}@media (max-width:767px){.c-search-menu{width:100%}}.c-search-cursor,.c-search-suggestion:hover{cursor:pointer;background-color:rgba(0,0,0,0.05)}.c-search-suggestion{padding:10px}.modal-backdrop{position:fixed;top:0;right:0;bottom:0;left:0;z-index:1040;background-color:#000;}.modal-backdrop.fade{opacity:0;filter:alpha(opacity=0)}.modal-backdrop,.modal-backdrop.fade.in{opacity:80;filter:alpha(opacity=80)}.modal{position:fixed;top:50%;left:50%;z-index:1050;width:560px;margin:-250px 0 0 -280px;background-color:#fff;border:1px solid #999;border:1px solid rgba(0,0,0,0.3);*border:1px solid #999;-webkit-border-radius:6px;-moz-border-radius:6px;-ms-border-radius:6px;-o-border-radius:6px;border-radius:6px;-webkit-box-shadow:0 3px 7px rgba(0,0,0,0.3);-moz-box-shadow:0 3px 7px rgba(0,0,0,0.3);-ms-box-shadow:0 3px 7px rgba(0,0,0,0.3);-o-box-shadow:0 3px 7px rgba(0,0,0,0.3);box-shadow:0 3px 7px rgba(0,0,0,0.3);-webkit-background-clip:padding-box;-moz-background-clip:padding-box;-ms-background-clip:padding-box;-o-background-clip:padding-box;background-clip:padding-box;outline:none;}.modal.fade{-webkit-transition:opacity .3s linear, top .3s ease-out;-moz-transition:opacity .3s linear, top .3s ease-out;-ms-transition:opacity .3s linear, top .3s ease-out;-o-transition:opacity .3s linear, top .3s ease-out;transition:opacity .3s linear, top .3s ease-out;top:-25%}.modal.fade.in{top:50%}.modal-header{padding:9px 15px;border-bottom:1px solid #eee;}.modal-header .close{margin-top:2px}.modal-header h3{margin:0;line-height:30px}.modal-body{overflow-y:auto;max-height:400px;padding:15px}.modal-form{margin-bottom:0}.modal-footer{padding:14px 15px 15px;margin-bottom:0;text-align:right;background-color:#f5f5f5;border-top:1px solid #ddd;-webkit-border-radius:0 0 6px 6px;-moz-border-radius:0 0 6px 6px;-ms-border-radius:0 0 6px 6px;-o-border-radius:0 0 6px 6px;border-radius:0 0 6px 6px;-webkit-box-shadow:inset 0 1px 0 #fff;-moz-box-shadow:inset 0 1px 0 #fff;-ms-box-shadow:inset 0 1px 0 #fff;-o-box-shadow:inset 0 1px 0 #fff;box-shadow:inset 0 1px 0 #fff;*zoom:1;}.modal-footer:before,.modal-footer:after{display:table;content:\"\";line-height:0}.modal-footer:after{clear:both}.modal-footer .btn + .btn{margin-left:5px;margin-bottom:0}.modal-footer .btn-group .btn + .btn{margin-left:-1px}.modal-footer .btn-block + .btn-block{margin-left:0}@media (max-width:767px){.modal{max-width:560px;width:94%}}.rc-PageHeader{color:#757575;background-color:#fff;-webkit-box-shadow:0 1px #d9d9d9;-moz-box-shadow:0 1px #d9d9d9;-ms-box-shadow:0 1px #d9d9d9;-o-box-shadow:0 1px #d9d9d9;box-shadow:0 1px #d9d9d9;position:relative;margin-bottom:1px;}.rc-PageHeader .c-ph-nav{max-width:960px;margin:0 auto;}.rc-PageHeader .c-ph-nav.full-width{max-width:100%}.rc-PageHeader .c-ph-nav a:not(.bt3-btn),.rc-PageHeader .c-ph-nav button.bt3-navbar-toggle{color:#757575;text-decoration:none;}.rc-PageHeader .c-ph-nav a:not(.bt3-btn):hover,.rc-PageHeader .c-ph-nav button.bt3-navbar-toggle:hover{color:#4a90e2}.rc-PageHeader .c-ph-nav .c-container{position:relative;}.rc-PageHeader .c-ph-nav .c-container .c-ph-logo{position:relative;z-index:2;}.rc-PageHeader .c-ph-nav .c-container .c-ph-logo .c-logo{padding:20px 0;line-height:20px;display:inline-block;}.rc-PageHeader .c-ph-nav .c-container .c-ph-logo .c-logo img{height:20px}.rc-PageHeader .c-ph-nav .c-container .c-ph-logo .c-ph-mobile-toggle-button .c-collapsed-toggle-button{margin-top:14px;border-color:#b4b4b4;}.rc-PageHeader .c-ph-nav .c-container .c-ph-logo .c-ph-mobile-toggle-button .c-collapsed-toggle-button .bt3-icon-bar{background-color:#757575}.rc-PageHeader .c-ph-nav .c-container .c-ph-right-nav{position:relative;z-index:2;}.rc-PageHeader .c-ph-nav .c-container .c-ph-right-nav ul.c-navbar-list > .c-ph-right-nav-button a:not(.bt3-btn),.rc-PageHeader .c-ph-nav .c-container .c-ph-right-nav ul.c-navbar-list > .c-ph-right-nav-button .c-ph-right-nav-button-label{background-color:transparent;padding:20px 0;line-height:20px;display:inline-block;display:inline-block;margin:0 12px}.rc-PageHeader .c-ph-nav .c-container .c-ph-right-nav ul.c-navbar-list > .c-ph-right-nav-button a.bt3-btn{line-height:16px;padding:16px 20px;margin-left:14px;margin-right:14px;margin-top:6px;display:inline-block;-webkit-border-radius:0;-moz-border-radius:0;-ms-border-radius:0;-o-border-radius:0;border-radius:0;border:0;}.rc-PageHeader .c-ph-nav .c-container .c-ph-right-nav ul.c-navbar-list > .c-ph-right-nav-button a.bt3-btn:hover{background-color:#4a90e2}.rc-PageHeader .c-ph-nav .c-container .c-ph-right-nav ul.c-navbar-list > .c-ph-right-nav-button a.c-ph-avatar-dashboard-button-link{padding:10px 0;line-height:40px;display:inline-block;}.rc-PageHeader .c-ph-nav .c-container .c-ph-right-nav ul.c-navbar-list > .c-ph-right-nav-button a.c-ph-avatar-dashboard-button-link .rc-ProfileImage p{text-align:center}.rc-PageHeader .c-ph-nav .c-container .c-ph-right-nav ul.c-navbar-list > .c-ph-right-nav-button a.c-ph-avatar-dashboard-button-link:hover .rc-ProfileImage{opacity:.9;filter:alpha(opacity=0.9)}.rc-PageHeader .c-ph-nav .c-container .c-ph-right-nav ul.c-navbar-list > .c-ph-right-nav-button .c-ph-right-nav-button-label{padding-right:15px}.rc-PageHeader .c-ph-nav .c-container .c-ph-right-nav ul.c-navbar-list .c-authenticated-dropdown-menu-container{background-color:transparent;}.rc-PageHeader .c-ph-nav .c-container .c-ph-right-nav ul.c-navbar-list .c-authenticated-dropdown-menu-container .c-ph-authenticated-dropdown-left-border{display:inline-block;line-height:35px;border-left:1px solid rgba(0,0,0,0.12)}.rc-PageHeader .c-ph-nav .c-container .c-ph-right-nav ul.c-navbar-list .c-authenticated-dropdown-menu-container .c-authenticated-dropdown-button{background-color:transparent;cursor:pointer;display:inline-block;padding:20px 10px;line-height:20px;}.rc-PageHeader .c-ph-nav .c-container .c-ph-right-nav ul.c-navbar-list .c-authenticated-dropdown-menu-container .c-authenticated-dropdown-button.c-ph-slim{padding-left:10px;padding-right:10px}.rc-PageHeader .c-ph-nav .c-container .c-ph-right-nav ul.c-navbar-list .c-authenticated-dropdown-menu-container .c-authenticated-dropdown-button .bt3-caret{margin-top:0;margin-left:5px}.rc-PageHeader .c-ph-nav .c-container .c-ph-right-nav ul.c-navbar-list .c-authenticated-dropdown-menu-container .c-authenticated-dropdown-menu > .c-ph-right-nav-button a,.rc-PageHeader .c-ph-nav .c-container .c-ph-right-nav ul.c-navbar-list .c-authenticated-dropdown-menu-container .c-authenticated-dropdown-menu > .c-ph-right-nav-button button{color:#3c3c3c}.rc-PageHeader .c-ph-nav .c-container .c-ph-right-nav ul.c-navbar-list .c-authenticated-dropdown-menu-container .c-authenticated-dropdown-menu > .c-ph-right-nav-button button{border:0;clear:both;left:0;margin:0 !important;outline:none;text-align:left;white-space:nowrap;width:100%;padding:0 !important;background-color:transparent;padding:20px 0;line-height:20px;display:inline-block;display:inline-block;margin:0 12px}.rc-PageHeader .c-ph-nav .c-container .c-ph-right-nav ul.c-navbar-list .c-authenticated-dropdown-menu-container .c-authenticated-dropdown-menu > .c-ph-right-nav-button button:hover{text-decoration:none;color:#303030;background-color:#f5f5f5}.rc-PageHeader .c-ph-nav .c-container .c-ph-right-nav ul.c-navbar-list .c-authenticated-dropdown-menu-container .c-authenticated-dropdown-menu > .c-ph-right-nav-button form{margin:0}@media (max-width:767px){.rc-PageHeader .c-ph-logo .c-logo{margin-left:15px !important}.rc-PageHeader .c-ph-search-bar{z-index:2;width:auto;left:48%;position:absolute;margin-left:0;}.rc-PageHeader .c-ph-search-bar .c-ph-search-wrapper{display:none !important}.rc-PageHeader .c-ph-right-nav .c-ph-right-nav-desktop-only{display:none}.rc-PageHeader .c-ph-right-nav ul.c-navbar-list > li > a{line-height:20px !important}.rc-PageHeader .c-ph-right-nav ul.c-navbar-list .c-authenticated-dropdown-menu-container .c-authenticated-dropdown-button{padding:8px 0 !important;margin:0 12px}.rc-PageHeader .c-ph-right-nav ul.c-navbar-list .c-authenticated-dropdown-menu-container .c-authenticated-dropdown-menu.popup-open{background-color:transparent !important;border:0 !important;-webkit-box-shadow:none;-moz-box-shadow:none;-ms-box-shadow:none;-o-box-shadow:none;box-shadow:none;float:none !important;outline:0 !important;position:static !important;width:auto !important;}.rc-PageHeader .c-ph-right-nav ul.c-navbar-list .c-authenticated-dropdown-menu-container .c-authenticated-dropdown-menu.popup-open > .c-ph-right-nav-button a{color:#757575 !important;}.rc-PageHeader .c-ph-right-nav ul.c-navbar-list .c-authenticated-dropdown-menu-container .c-authenticated-dropdown-menu.popup-open > .c-ph-right-nav-button a:hover{background-color:transparent !important}.rc-PageHeader .c-ph-right-nav ul.c-navbar-list > .c-ph-right-nav-button a{padding:8px 0 !important;color:#757575 !important;background-color:transparent !important}}@media (min-width:768px){.rc-PageHeader .c-ph-right-nav{display:block;}.rc-PageHeader .c-ph-right-nav .c-ph-right-nav-mobile-only{display:none}}.rc-MobileAppBadges{margin-top:20px;}.rc-MobileAppBadges a:first-child{margin-right:20px}.bt3-clearfix:before,.bt3-container:before,.bt3-container-fluid:before,.bt3-row:before,.bt3-clearfix:after,.bt3-container:after,.bt3-container-fluid:after,.bt3-row:after{content:\" \";display:table}.bt3-clearfix:after,.bt3-container:after,.bt3-container-fluid:after,.bt3-row:after{clear:both}a.dim{color:rgba(0,0,0,0.54);text-decoration:none;}a.dim:hover{color:#2775d1;text-decoration:underline}.display-6-text,.display-5-text,.display-4-text,.display-3-text,.headline-5-text{margin-top:10px;margin-bottom:10px}.display-6-text,.display-5-text,.display-3-text,.display-2-text{font-family:\'Merriweather-Light\',Georgia,serif}.display-4-text,.display-1-text{font-family:\'Merriweather\',Georgia,serif}.headline-5-text,.headline-2-text{font-family:\'OpenSans-Light\',Arial,sans-serif}.headline-4-text,.headline-3-text,.headline-1-text{font-family:\'OpenSans\',Arial,sans-serif}.headline-4-text,.headline-3-text,.headline-2-text{margin-bottom:10px}.display-6-text{font-size:54px;line-height:60px}.display-5-text{font-size:42px;line-height:54px}.display-4-text{font-size:32px;line-height:36px}.display-3-text{font-size:32px;line-height:36px}.display-2-text{font-size:24px;line-height:30px}.display-1-text{font-size:20px;line-height:24px}.headline-5-text{font-size:54px;line-height:60px}.headline-4-text{font-size:24px;line-height:30px}.headline-3-text{font-size:22px;line-height:30px}.headline-2-text{font-size:20px;line-height:24px}.headline-1-text{font-size:16px;line-height:24px}h1,h2,h3,h4,h5,h6{margin:0;padding:0}body,.body-1-text,.body-2-text,p{font-size:14px;line-height:21px;font-family:\'OpenSans\',Arial,sans-serif}.body-2-text{font-family:\'OpenSans-bold\',Arial,sans-serif}.caption-text{font-size:12px;line-height:18px;font-family:\'OpenSans\',Arial,sans-serif}.label-text{font-size:12px;line-height:18px;font-family:\'OpenSans-bold\',Arial,sans-serif;text-transform:uppercase}p{margin-bottom:10px}.bt3-container{margin-right:auto;margin-left:auto;padding-left:15px;padding-right:15px;}@media (min-width:768px){.bt3-container{width:750px}}@media (min-width:992px){.bt3-container{width:970px}}@media (min-width:1200px){.bt3-container{width:1170px}}.bt3-container-fluid{margin-right:auto;margin-left:auto;padding-left:15px;padding-right:15px;}.bt3-row{margin-left:-15px;margin-right:-15px;}.bt3-col-xs-1,.bt3-col-sm-1,.bt3-col-md-1,.bt3-col-lg-1,.bt3-col-xs-2,.bt3-col-sm-2,.bt3-col-md-2,.bt3-col-lg-2,.bt3-col-xs-3,.bt3-col-sm-3,.bt3-col-md-3,.bt3-col-lg-3,.bt3-col-xs-4,.bt3-col-sm-4,.bt3-col-md-4,.bt3-col-lg-4,.bt3-col-xs-5,.bt3-col-sm-5,.bt3-col-md-5,.bt3-col-lg-5,.bt3-col-xs-6,.bt3-col-sm-6,.bt3-col-md-6,.bt3-col-lg-6,.bt3-col-xs-7,.bt3-col-sm-7,.bt3-col-md-7,.bt3-col-lg-7,.bt3-col-xs-8,.bt3-col-sm-8,.bt3-col-md-8,.bt3-col-lg-8,.bt3-col-xs-9,.bt3-col-sm-9,.bt3-col-md-9,.bt3-col-lg-9,.bt3-col-xs-10,.bt3-col-sm-10,.bt3-col-md-10,.bt3-col-lg-10,.bt3-col-xs-11,.bt3-col-sm-11,.bt3-col-md-11,.bt3-col-lg-11,.bt3-col-xs-12,.bt3-col-sm-12,.bt3-col-md-12,.bt3-col-lg-12{position:relative;min-height:1px;padding-left:15px;padding-right:15px}.bt3-col-xs-1,.bt3-col-xs-2,.bt3-col-xs-3,.bt3-col-xs-4,.bt3-col-xs-5,.bt3-col-xs-6,.bt3-col-xs-7,.bt3-col-xs-8,.bt3-col-xs-9,.bt3-col-xs-10,.bt3-col-xs-11,.bt3-col-xs-12{float:left}.bt3-col-xs-12{width:100%}.bt3-col-xs-11{width:91.6666666666667%}.bt3-col-xs-10{width:83.3333333333333%}.bt3-col-xs-9{width:75%}.bt3-col-xs-8{width:66.6666666666667%}.bt3-col-xs-7{width:58.3333333333333%}.bt3-col-xs-6{width:50%}.bt3-col-xs-5{width:41.6666666666667%}.bt3-col-xs-4{width:33.3333333333333%}.bt3-col-xs-3{width:25%}.bt3-col-xs-2{width:16.6666666666667%}.bt3-col-xs-1{width:8.3333333333333%}.bt3-col-xs-pull-12{right:100%}.bt3-col-xs-pull-11{right:91.6666666666667%}.bt3-col-xs-pull-10{right:83.3333333333333%}.bt3-col-xs-pull-9{right:75%}.bt3-col-xs-pull-8{right:66.6666666666667%}.bt3-col-xs-pull-7{right:58.3333333333333%}.bt3-col-xs-pull-6{right:50%}.bt3-col-xs-pull-5{right:41.6666666666667%}.bt3-col-xs-pull-4{right:33.3333333333333%}.bt3-col-xs-pull-3{right:25%}.bt3-col-xs-pull-2{right:16.6666666666667%}.bt3-col-xs-pull-1{right:8.3333333333333%}.bt3-col-xs-pull-0{right:0%}.bt3-col-xs-push-12{left:100%}.bt3-col-xs-push-11{left:91.6666666666667%}.bt3-col-xs-push-10{left:83.3333333333333%}.bt3-col-xs-push-9{left:75%}.bt3-col-xs-push-8{left:66.6666666666667%}.bt3-col-xs-push-7{left:58.3333333333333%}.bt3-col-xs-push-6{left:50%}.bt3-col-xs-push-5{left:41.6666666666667%}.bt3-col-xs-push-4{left:33.3333333333333%}.bt3-col-xs-push-3{left:25%}.bt3-col-xs-push-2{left:16.6666666666667%}.bt3-col-xs-push-1{left:8.3333333333333%}.bt3-col-xs-push-0{left:0%}.bt3-col-xs-offset-12{margin-left:100%}.bt3-col-xs-offset-11{margin-left:91.6666666666667%}.bt3-col-xs-offset-10{margin-left:83.3333333333333%}.bt3-col-xs-offset-9{margin-left:75%}.bt3-col-xs-offset-8{margin-left:66.6666666666667%}.bt3-col-xs-offset-7{margin-left:58.3333333333333%}.bt3-col-xs-offset-6{margin-left:50%}.bt3-col-xs-offset-5{margin-left:41.6666666666667%}.bt3-col-xs-offset-4{margin-left:33.3333333333333%}.bt3-col-xs-offset-3{margin-left:25%}.bt3-col-xs-offset-2{margin-left:16.6666666666667%}.bt3-col-xs-offset-1{margin-left:8.3333333333333%}.bt3-col-xs-offset-0{margin-left:0%}@media (min-width:768px){.bt3-col-sm-1,.bt3-col-sm-2,.bt3-col-sm-3,.bt3-col-sm-4,.bt3-col-sm-5,.bt3-col-sm-6,.bt3-col-sm-7,.bt3-col-sm-8,.bt3-col-sm-9,.bt3-col-sm-10,.bt3-col-sm-11,.bt3-col-sm-12{float:left}.bt3-col-sm-12{width:100%}.bt3-col-sm-11{width:91.6666666666667%}.bt3-col-sm-10{width:83.3333333333333%}.bt3-col-sm-9{width:75%}.bt3-col-sm-8{width:66.6666666666667%}.bt3-col-sm-7{width:58.3333333333333%}.bt3-col-sm-6{width:50%}.bt3-col-sm-5{width:41.6666666666667%}.bt3-col-sm-4{width:33.3333333333333%}.bt3-col-sm-3{width:25%}.bt3-col-sm-2{width:16.6666666666667%}.bt3-col-sm-1{width:8.3333333333333%}.bt3-col-sm-pull-12{right:100%}.bt3-col-sm-pull-11{right:91.6666666666667%}.bt3-col-sm-pull-10{right:83.3333333333333%}.bt3-col-sm-pull-9{right:75%}.bt3-col-sm-pull-8{right:66.6666666666667%}.bt3-col-sm-pull-7{right:58.3333333333333%}.bt3-col-sm-pull-6{right:50%}.bt3-col-sm-pull-5{right:41.6666666666667%}.bt3-col-sm-pull-4{right:33.3333333333333%}.bt3-col-sm-pull-3{right:25%}.bt3-col-sm-pull-2{right:16.6666666666667%}.bt3-col-sm-pull-1{right:8.3333333333333%}.bt3-col-sm-pull-0{right:0%}.bt3-col-sm-push-12{left:100%}.bt3-col-sm-push-11{left:91.6666666666667%}.bt3-col-sm-push-10{left:83.3333333333333%}.bt3-col-sm-push-9{left:75%}.bt3-col-sm-push-8{left:66.6666666666667%}.bt3-col-sm-push-7{left:58.3333333333333%}.bt3-col-sm-push-6{left:50%}.bt3-col-sm-push-5{left:41.6666666666667%}.bt3-col-sm-push-4{left:33.3333333333333%}.bt3-col-sm-push-3{left:25%}.bt3-col-sm-push-2{left:16.6666666666667%}.bt3-col-sm-push-1{left:8.3333333333333%}.bt3-col-sm-push-0{left:0%}.bt3-col-sm-offset-12{margin-left:100%}.bt3-col-sm-offset-11{margin-left:91.6666666666667%}.bt3-col-sm-offset-10{margin-left:83.3333333333333%}.bt3-col-sm-offset-9{margin-left:75%}.bt3-col-sm-offset-8{margin-left:66.6666666666667%}.bt3-col-sm-offset-7{margin-left:58.3333333333333%}.bt3-col-sm-offset-6{margin-left:50%}.bt3-col-sm-offset-5{margin-left:41.6666666666667%}.bt3-col-sm-offset-4{margin-left:33.3333333333333%}.bt3-col-sm-offset-3{margin-left:25%}.bt3-col-sm-offset-2{margin-left:16.6666666666667%}.bt3-col-sm-offset-1{margin-left:8.3333333333333%}.bt3-col-sm-offset-0{margin-left:0%}}@media (min-width:992px){.bt3-col-md-1,.bt3-col-md-2,.bt3-col-md-3,.bt3-col-md-4,.bt3-col-md-5,.bt3-col-md-6,.bt3-col-md-7,.bt3-col-md-8,.bt3-col-md-9,.bt3-col-md-10,.bt3-col-md-11,.bt3-col-md-12{float:left}.bt3-col-md-12{width:100%}.bt3-col-md-11{width:91.6666666666667%}.bt3-col-md-10{width:83.3333333333333%}.bt3-col-md-9{width:75%}.bt3-col-md-8{width:66.6666666666667%}.bt3-col-md-7{width:58.3333333333333%}.bt3-col-md-6{width:50%}.bt3-col-md-5{width:41.6666666666667%}.bt3-col-md-4{width:33.3333333333333%}.bt3-col-md-3{width:25%}.bt3-col-md-2{width:16.6666666666667%}.bt3-col-md-1{width:8.3333333333333%}.bt3-col-md-pull-12{right:100%}.bt3-col-md-pull-11{right:91.6666666666667%}.bt3-col-md-pull-10{right:83.3333333333333%}.bt3-col-md-pull-9{right:75%}.bt3-col-md-pull-8{right:66.6666666666667%}.bt3-col-md-pull-7{right:58.3333333333333%}.bt3-col-md-pull-6{right:50%}.bt3-col-md-pull-5{right:41.6666666666667%}.bt3-col-md-pull-4{right:33.3333333333333%}.bt3-col-md-pull-3{right:25%}.bt3-col-md-pull-2{right:16.6666666666667%}.bt3-col-md-pull-1{right:8.3333333333333%}.bt3-col-md-pull-0{right:0%}.bt3-col-md-push-12{left:100%}.bt3-col-md-push-11{left:91.6666666666667%}.bt3-col-md-push-10{left:83.3333333333333%}.bt3-col-md-push-9{left:75%}.bt3-col-md-push-8{left:66.6666666666667%}.bt3-col-md-push-7{left:58.3333333333333%}.bt3-col-md-push-6{left:50%}.bt3-col-md-push-5{left:41.6666666666667%}.bt3-col-md-push-4{left:33.3333333333333%}.bt3-col-md-push-3{left:25%}.bt3-col-md-push-2{left:16.6666666666667%}.bt3-col-md-push-1{left:8.3333333333333%}.bt3-col-md-push-0{left:0%}.bt3-col-md-offset-12{margin-left:100%}.bt3-col-md-offset-11{margin-left:91.6666666666667%}.bt3-col-md-offset-10{margin-left:83.3333333333333%}.bt3-col-md-offset-9{margin-left:75%}.bt3-col-md-offset-8{margin-left:66.6666666666667%}.bt3-col-md-offset-7{margin-left:58.3333333333333%}.bt3-col-md-offset-6{margin-left:50%}.bt3-col-md-offset-5{margin-left:41.6666666666667%}.bt3-col-md-offset-4{margin-left:33.3333333333333%}.bt3-col-md-offset-3{margin-left:25%}.bt3-col-md-offset-2{margin-left:16.6666666666667%}.bt3-col-md-offset-1{margin-left:8.3333333333333%}.bt3-col-md-offset-0{margin-left:0%}}@media (min-width:1200px){.bt3-col-lg-1,.bt3-col-lg-2,.bt3-col-lg-3,.bt3-col-lg-4,.bt3-col-lg-5,.bt3-col-lg-6,.bt3-col-lg-7,.bt3-col-lg-8,.bt3-col-lg-9,.bt3-col-lg-10,.bt3-col-lg-11,.bt3-col-lg-12{float:left}.bt3-col-lg-12{width:100%}.bt3-col-lg-11{width:91.6666666666667%}.bt3-col-lg-10{width:83.3333333333333%}.bt3-col-lg-9{width:75%}.bt3-col-lg-8{width:66.6666666666667%}.bt3-col-lg-7{width:58.3333333333333%}.bt3-col-lg-6{width:50%}.bt3-col-lg-5{width:41.6666666666667%}.bt3-col-lg-4{width:33.3333333333333%}.bt3-col-lg-3{width:25%}.bt3-col-lg-2{width:16.6666666666667%}.bt3-col-lg-1{width:8.3333333333333%}.bt3-col-lg-pull-12{right:100%}.bt3-col-lg-pull-11{right:91.6666666666667%}.bt3-col-lg-pull-10{right:83.3333333333333%}.bt3-col-lg-pull-9{right:75%}.bt3-col-lg-pull-8{right:66.6666666666667%}.bt3-col-lg-pull-7{right:58.3333333333333%}.bt3-col-lg-pull-6{right:50%}.bt3-col-lg-pull-5{right:41.6666666666667%}.bt3-col-lg-pull-4{right:33.3333333333333%}.bt3-col-lg-pull-3{right:25%}.bt3-col-lg-pull-2{right:16.6666666666667%}.bt3-col-lg-pull-1{right:8.3333333333333%}.bt3-col-lg-pull-0{right:0%}.bt3-col-lg-push-12{left:100%}.bt3-col-lg-push-11{left:91.6666666666667%}.bt3-col-lg-push-10{left:83.3333333333333%}.bt3-col-lg-push-9{left:75%}.bt3-col-lg-push-8{left:66.6666666666667%}.bt3-col-lg-push-7{left:58.3333333333333%}.bt3-col-lg-push-6{left:50%}.bt3-col-lg-push-5{left:41.6666666666667%}.bt3-col-lg-push-4{left:33.3333333333333%}.bt3-col-lg-push-3{left:25%}.bt3-col-lg-push-2{left:16.6666666666667%}.bt3-col-lg-push-1{left:8.3333333333333%}.bt3-col-lg-push-0{left:0%}.bt3-col-lg-offset-12{margin-left:100%}.bt3-col-lg-offset-11{margin-left:91.6666666666667%}.bt3-col-lg-offset-10{margin-left:83.3333333333333%}.bt3-col-lg-offset-9{margin-left:75%}.bt3-col-lg-offset-8{margin-left:66.6666666666667%}.bt3-col-lg-offset-7{margin-left:58.3333333333333%}.bt3-col-lg-offset-6{margin-left:50%}.bt3-col-lg-offset-5{margin-left:41.6666666666667%}.bt3-col-lg-offset-4{margin-left:33.3333333333333%}.bt3-col-lg-offset-3{margin-left:25%}.bt3-col-lg-offset-2{margin-left:16.6666666666667%}.bt3-col-lg-offset-1{margin-left:8.3333333333333%}.bt3-col-lg-offset-0{margin-left:0%}}.rc-PageFooter{padding-top:10px;padding-bottom:10px;max-width:960px;border-top:1px solid #e5e5e5;}.rc-PageFooter ul{list-style-type:none;margin-left:0}.rc-PageFooter li{margin-bottom:10px}.rc-PageFooter .c-phoenix-template-small-logo{margin-top:6px;margin-bottom:6px}.rc-PageFooter .uppercase{text-transform:uppercase}.rc-PageFooter .c-page-footer-inner-wrapper{margin:0 auto;max-width:960px}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}a.dim{color:rgba(0,0,0,0.54);text-decoration:none;}a.dim:hover{color:#2775d1;text-decoration:underline}.vjs-coursera-skin.vjs-coursera-phoenix-skin .c-menu-divider{margin:0 auto;width:80%;border-bottom:1px solid rgba(255,255,255,0.55)}.vjs-coursera-skin.vjs-coursera-phoenix-skin .c-settings-control .vjs-menu .vjs-menu-content,.vjs-coursera-skin.vjs-coursera-phoenix-skin .c-subtitles-control .vjs-menu .vjs-menu-content{bottom:.9em;width:18em;left:-9em;padding-bottom:1em;max-height:480px;overflow:auto;}@media (max-width:479px){.vjs-coursera-skin.vjs-coursera-phoenix-skin .c-settings-control .vjs-menu .vjs-menu-content,.vjs-coursera-skin.vjs-coursera-phoenix-skin .c-subtitles-control .vjs-menu .vjs-menu-content{max-height:180px}}@media (min-width:480px) and (max-width:767px){.vjs-coursera-skin.vjs-coursera-phoenix-skin .c-settings-control .vjs-menu .vjs-menu-content,.vjs-coursera-skin.vjs-coursera-phoenix-skin .c-subtitles-control .vjs-menu .vjs-menu-content{max-height:230px}}@media (min-width:768px) and (max-width:991px){.vjs-coursera-skin.vjs-coursera-phoenix-skin .c-settings-control .vjs-menu .vjs-menu-content,.vjs-coursera-skin.vjs-coursera-phoenix-skin .c-subtitles-control .vjs-menu .vjs-menu-content{max-height:280px}}.vjs-coursera-skin.vjs-coursera-phoenix-skin .c-subtitles-control .vjs-menu .vjs-menu-content li.vjs-menu-item{text-transform:none;text-align:left;}.vjs-coursera-skin.vjs-coursera-phoenix-skin .c-subtitles-control .vjs-menu .vjs-menu-content li.vjs-menu-item.vjs-selected .c-subtitles-menu-item-selected-icon:before{content:\"\"}.vjs-coursera-skin.vjs-coursera-phoenix-skin .c-subtitles-control .vjs-menu .vjs-menu-content li.vjs-menu-item .c-subtitles-menu-item-selected-icon{position:relative;left:5%}.vjs-coursera-skin.vjs-coursera-phoenix-skin .c-subtitles-control .vjs-menu .vjs-menu-content li.vjs-menu-item .c-subtitles-menu-item-label{position:relative;left:10%}.vjs-coursera-skin.vjs-coursera-phoenix-skin .menu-section-title{margin:20px 0 10px 0}.vjs-coursera-skin.vjs-coursera-phoenix-skin .c-playback-rate-menu-section .c-playback-rate-button-container{font-size:1.4em}.vjs-coursera-skin.vjs-coursera-phoenix-skin .c-playback-rate-menu-section .c-playback-rate-text{margin-left:5px;margin-right:5px}.vjs-coursera-skin.vjs-coursera-phoenix-skin .c-playback-rate-menu-section .c-playback-rate-button{background:transparent;border:1px solid transparent;color:#fff;padding:6px 12px;opacity:.5;filter:alpha(opacity=50);}.vjs-coursera-skin.vjs-coursera-phoenix-skin .c-playback-rate-menu-section .c-playback-rate-button:hover{opacity:1;filter:alpha(opacity=100)}.vjs-coursera-skin.vjs-coursera-phoenix-skin .c-resolution-menu-section .c-resolution-button-container{font-size:1.4em}.vjs-coursera-skin.vjs-coursera-phoenix-skin .c-resolution-menu-section .c-resolution-text{margin-left:5px;margin-right:5px}.vjs-coursera-skin.vjs-coursera-phoenix-skin .c-resolution-menu-section .c-resolution-button{background:transparent;border:1px solid transparent;color:#fff;padding:6px 12px;opacity:.5;filter:alpha(opacity=50);}.vjs-coursera-skin.vjs-coursera-phoenix-skin .c-resolution-menu-section .c-resolution-button:hover{opacity:1;filter:alpha(opacity=100)}.vjs-coursera-skin.vjs-coursera-phoenix-skin .c-autoplay-menu-section .c-autoplay-button{border:0;font-size:14px;margin:8px 24px 0 24px;background-color:#000;-webkit-border-radius:4px;border-radius:4px;}.vjs-coursera-skin.vjs-coursera-phoenix-skin .c-autoplay-menu-section .c-autoplay-button.selected{background-color:rgba(255,255,255,0.25)}.vjs-coursera-phoenix-audio-skin{width:100%;display:inline-block;position:relative;margin-bottom:5px;}.vjs-coursera-phoenix-audio-skin:focus{outline-color:#999;outline-width:3px}.vjs-coursera-phoenix-audio-skin.vjs-fullscreen{max-width:none;max-height:none}.vjs-coursera-phoenix-audio-skin .vjs-play-progress{background-color:#9d9d9d;background-color:#9d9d9d}.vjs-coursera-phoenix-audio-skin .vjs-load-progress{background-color:#9d9d9d;background-color:rgba(157,157,157,0.25)}.vjs-coursera-phoenix-audio-skin .vjs-progress-holder{background-color:#fff;background-color:rgba(255,255,255,0.55)}.vjs-coursera-phoenix-audio-skin .vjs-text-track{font-size:1.8em;padding:8px;line-height:1.4em}.vjs-coursera-phoenix-audio-skin .vjs-control-bar{background-color:#000;background-color:rgba(0,0,0,0.6);color:#fff;}.vjs-coursera-phoenix-audio-skin .vjs-control-bar .vjs-menu{border-top-color:transparent;}.vjs-coursera-phoenix-audio-skin .vjs-control-bar .vjs-menu .vjs-menu-content{background-color:#000;background-color:rgba(0,0,0,0.6)}.vjs-coursera-phoenix-audio-skin .vjs-control-bar .vjs-time-controls{width:48px}.vjs-coursera-phoenix-audio-skin .vjs-control-bar .vjs-current-time-display,.vjs-coursera-phoenix-audio-skin .vjs-control-bar .vjs-duration-display{font-size:16px;text-align:center}.vjs-coursera-phoenix-audio-skin .vjs-control-bar .vjs-current-time-display .vjs-duration-display{opacity:.5;filter:alpha(opacity=50)}.vjs-coursera-phoenix-audio-skin .vjs-control-bar .vjs-time-divider{font-size:16px;position:relative;top:7px;line-height:1em;padding:0 2px}.vjs-coursera-phoenix-audio-skin .vjs-control-bar .c-video-control{margin-left:1em;margin-right:1em;color:#fff;cursor:pointer;opacity:.5;filter:alpha(opacity=50);}.vjs-coursera-phoenix-audio-skin .vjs-control-bar .c-video-control:hover{opacity:1;filter:alpha(opacity=100)}.vjs-coursera-phoenix-audio-skin .vjs-control-bar .c-video-control .c-video-control-btn{display:inline-block;width:100%;padding-left:0;padding-right:0;line-height:2em;font-size:14px;}.vjs-coursera-phoenix-audio-skin .vjs-control-bar .c-video-control .c-video-control-btn .vjs-menu{font-size:10px}.vjs-coursera-phoenix-audio-skin .vjs-control-bar .c-video-control .vjs-control-content{line-height:2em;padding-top:0;padding-bottom:0}.vjs-coursera-phoenix-audio-skin .vjs-control-bar .c-slider-handle{position:absolute;}.vjs-coursera-phoenix-audio-skin .vjs-control-bar .c-slider-handle .c-slider-handle-circle{position:absolute}.vjs-coursera-phoenix-audio-skin .vjs-control-bar .c-slider-handle.vjs-seek-handle{top:-8px}.vjs-coursera-phoenix-audio-skin .vjs-slider{outline:0;position:relative;cursor:pointer;padding:0;background-color:#9d9d9d;background-color:#9d9d9d}.vjs-coursera-phoenix-audio-skin .vjs-slider:focus{-webkit-box-shadow:0 0 2em #fff;box-shadow:0 0 2em #fff}.vjs-coursera-phoenix-audio-skin .vjs-slider-handle{position:absolute;left:0;top:0}.vjs-coursera-phoenix-audio-skin .vjs-slider-handle:before{content:square-icon;font-family:VideoJS;font-size:1em;line-height:1;text-align:center;text-shadow:0 0 1em #fff;position:absolute;top:0;left:0;-webkit-transform:rotate(-45deg);-moz-transform:rotate(-45deg);-o-transform:rotate(-45deg);-ms-transform:rotate(-45deg);transform:rotate(-45deg)}.vjs-coursera-phoenix-audio-skin .vjs-control-bar{position:absolute;bottom:0;left:0;right:0;height:28px}.vjs-coursera-phoenix-audio-skin .vjs-has-started .vjs-control-bar{display:block;visibility:visible;opacity:1;-ms-filter:none;filter:none;-webkit-transition:visibility 0.1s, opacity 0.1s;-moz-transition:visibility 0.1s, opacity 0.1s;-o-transition:visibility 0.1s, opacity 0.1s;-ms-transition:visibility 0.1s, opacity 0.1s;transition:visibility 0.1s, opacity 0.1s}.vjs-coursera-phoenix-audio-skin .vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar{display:block;visibility:hidden;opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0);-webkit-transition:visibility 1s, opacity 1s;-moz-transition:visibility 1s, opacity 1s;-o-transition:visibility 1s, opacity 1s;-ms-transition:visibility 1s, opacity 1s;transition:visibility 1s, opacity 1s}.vjs-coursera-phoenix-audio-skin .vjs-controls-disabled .vjs-control-bar{display:none}.vjs-coursera-phoenix-audio-skin .vjs-using-native-controls .vjs-control-bar{display:none}.vjs-coursera-phoenix-audio-skin .vjs-error .vjs-control-bar{display:none}.vjs-coursera-phoenix-audio-skin .vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar{opacity:1;-ms-filter:none;filter:none;visibility:visible}@media 0 screen{.vjs-coursera-phoenix-audio-skin .vjs-user-inactive.vjs-playing .vjs-control-bar :before{content:\"\"}}.vjs-coursera-phoenix-audio-skin .vjs-control{outline:none;position:relative;float:left;text-align:center;margin:0;padding:0}.vjs-coursera-phoenix-audio-skin .vjs-control:before{font-family:VideoJS;font-size:1.5em;line-height:2;position:absolute;top:0;left:0;width:100%;height:100%;text-align:center;text-shadow:1px 1px 1px rgba(0,0,0,0.5)}.vjs-coursera-phoenix-audio-skin .vjs-control:focus:before,.vjs-coursera-phoenix-audio-skin .vjs-control:hover:before{text-shadow:0 0 1em #fff}.vjs-coursera-phoenix-audio-skin .vjs-control-text{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.vjs-coursera-phoenix-audio-skin .vjs-play-control{width:5em;cursor:pointer}.vjs-coursera-phoenix-audio-skin .vjs-play-control:before{content:play-icon}.vjs-coursera-phoenix-audio-skin .vjs-playing .vjs-play-control:before{content:pause-icon}.vjs-coursera-phoenix-audio-skin .vjs-playback-rate .vjs-playback-rate-value{font-size:1.5em;line-height:2;position:absolute;top:0;left:0;width:100%;height:100%;text-align:center;text-shadow:1px 1px 1px rgba(0,0,0,0.5)}.vjs-coursera-phoenix-audio-skin .vjs-playback-rate.vjs-menu-button .vjs-menu .vjs-menu-content{width:4em;left:-2em;list-style:none}.vjs-coursera-phoenix-audio-skin .vjs-progress-control{position:absolute;left:28px;right:48px;font-size:.3em;height:1em;top:38%;-webkit-transition:all 0.4s;-moz-transition:all 0.4s;-o-transition:all 0.4s;-ms-transition:all 0.4s;transition:all 0.4s}.vjs-coursera-phoenix-audio-skin .vjs-progress-holder{height:100%}.vjs-coursera-phoenix-audio-skin .vjs-progress-holder .vjs-play-progress,.vjs-coursera-phoenix-audio-skin .vjs-progress-holder .vjs-load-progress,.vjs-coursera-phoenix-audio-skin .vjs-progress-holder .vjs-load-progress div{position:absolute;display:block;height:100%;margin:0;padding:0;width:0;left:0;top:0}.vjs-coursera-phoenix-audio-skin .vjs-play-progress{background-color:#84c340}.vjs-coursera-phoenix-audio-skin .vjs-load-progress{background:#646464;background:rgba(255,255,255,0.2)}.vjs-coursera-phoenix-audio-skin .vjs-load-progress div{background:#787878;background:rgba(255,255,255,0.1)}.vjs-coursera-phoenix-audio-skin .vjs-seek-handle{width:1.5em;height:100%}.vjs-coursera-phoenix-audio-skin .vjs-seek-handle:before{padding-top:.1em}.vjs-coursera-phoenix-audio-skin .vjs-time-controls{font-size:15px;line-height:27px}.vjs-coursera-phoenix-audio-skin .vjs-countdown-time{float:right}.vjs-coursera-phoenix-audio-skin .vjs-controls-disabled .vjs-big-play-button{display:none}.vjs-coursera-phoenix-audio-skin .vjs-has-started .vjs-big-play-button{display:none}.vjs-coursera-phoenix-audio-skin .vjs-using-native-controls .vjs-big-play-button{display:none}.vjs-coursera-phoenix-audio-skin :hover .vjs-big-play-button,.vjs-coursera-phoenix-audio-skin .vjs-big-play-button:focus{outline:0;border-color:#fff;background-color:#505050;background-color:rgba(50,50,50,0.75);-webkit-box-shadow:0 0 3em #fff;box-shadow:0 0 3em #fff;-webkit-transition:all;-moz-transition:all;-o-transition:all;-ms-transition:all;transition:all}.vjs-coursera-phoenix-audio-skin .vjs-big-play-button:before{content:play-icon;font-family:VideoJS;line-height:big-play-height;text-shadow:.05em .05em .1em #000;text-align:center;position:absolute;left:0;width:100%;height:100%}.vjs-coursera-phoenix-audio-skin .vjs-error .vjs-big-play-button{display:none}.vjs-coursera-phoenix-audio-skin .vjs-error-display{display:none}.vjs-coursera-phoenix-audio-skin .vjs-error .vjs-error-display{display:block;position:absolute;left:0;top:0;width:100%;height:100%}.vjs-coursera-phoenix-audio-skin .vjs-error .vjs-error-display:before{content:\'X\';font-family:Arial;font-size:4em;color:#666;line-height:1;text-shadow:.05em .05em .1em #000;text-align:center;vertical-align:middle;position:absolute;left:0;top:50%;margin-top:-.5em;width:100%}.vjs-coursera-phoenix-audio-skin .vjs-error-display div{position:absolute;bottom:1em;right:0;left:0;font-size:1.4em;text-align:center;padding:3px;background:#000;background:rgba(0,0,0,0.5)}.vjs-coursera-phoenix-audio-skin .vjs-error-display a,.vjs-coursera-phoenix-audio-skin .vjs-error-display a:visited{color:#f4a460}.vjs-coursera-phoenix-audio-skin .vjs-loading-spinner{display:none;position:absolute;top:50%;left:50%;font-size:4em;line-height:1;width:1em;height:1em;margin-left:-.5em;margin-top:-.5em;opacity:.75;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=75)\";filter:alpha(opacity=75)}.vjs-coursera-phoenix-audio-skin .vjs-waiting .vjs-loading-spinner,.vjs-coursera-phoenix-audio-skin .vjs-seeking .vjs-loading-spinner{display:block;-webkit-animation:spin 1.5s infinite linear;-moz-animation:spin 1.5s infinite linear;-o-animation:spin 1.5s infinite linear;-ms-animation:spin 1.5s infinite linear;animation:spin 1.5s infinite linear}.vjs-coursera-phoenix-audio-skin .vjs-error .vjs-loading-spinner{display:none;-webkit-animation:none;-moz-animation:none;-o-animation:none;-ms-animation:none;animation:none}.vjs-coursera-phoenix-audio-skin .vjs-loading-spinner:before{content:spinner3-icon;font-family:VideoJS;position:absolute;top:0;left:0;width:1em;height:1em;text-align:center;text-shadow:0 0 .1em #000}@-moz-keyframes spin{0%{-moz-transform:rotate(0)}100%{-moz-transform:rotate(359deg)}}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0)}100%{-webkit-transform:rotate(359deg)}}@-o-keyframes spin{0%{-o-transform:rotate(0)}100%{-o-transform:rotate(359deg)}}.vjs-coursera-phoenix-audio-skin .vjs-menu-button{float:right;cursor:pointer}.vjs-coursera-phoenix-audio-skin .vjs-menu{display:none;position:absolute;bottom:0;left:0;width:0;height:0;margin-bottom:3em;border-left:2em solid transparent;border-right:2em solid transparent;border-top:1.55em solid #000;border-top-color:rgba(7,40,50,0.5);}.vjs-coursera-phoenix-audio-skin .vjs-menu-button .vjs-menu .vjs-menu-content{display:block;padding:0;margin:0;position:absolute;width:10em;bottom:1.5em;max-height:15em;overflow:auto;left:-5em;background-color:#9d9d9d;background-color:#9d9d9d;-webkit-box-shadow:-.2em -.2em .3em rgba(255,255,255,0.2);box-shadow:-.2em -.2em .3em rgba(255,255,255,0.2)}.vjs-coursera-phoenix-audio-skin .vjs-menu-button:hover .vjs-control-content .vjs-menu,.vjs-coursera-phoenix-audio-skin .vjs-control-content .vjs-menu.vjs-lock-showing{display:block}.vjs-coursera-phoenix-audio-skin .vjs-scrubbing .vjs-menu-button:hover .vjs-control-content .vjs-menu{display:none}.vjs-coursera-phoenix-audio-skin .vjs-menu-button ul li{list-style:none;margin:0;padding:.3em 0 .3em 0;line-height:1.4em;font-size:1.2em;text-align:center;text-transform:lowercase}.vjs-coursera-phoenix-audio-skin .vjs-menu-button ul li.vjs-selected{background-color:#000}.vjs-coursera-phoenix-audio-skin .vjs-menu-button ul li:focus,.vjs-coursera-phoenix-audio-skin .vjs-menu-button ul li:hover,.vjs-coursera-phoenix-audio-skin .vjs-menu-button ul li.vjs-selected:focus,.vjs-coursera-phoenix-audio-skin .vjs-menu-button ul li.vjs-selected:hover{outline:0;color:#111;background-color:#fff;background-color:rgba(255,255,255,0.75);-webkit-box-shadow:0 0 1em #fff;box-shadow:0 0 1em #fff}.vjs-coursera-phoenix-audio-skin .vjs-menu-button ul li.vjs-menu-title{text-align:center;text-transform:uppercase;font-size:1em;line-height:2em;padding:0;margin:0 0 .3em 0;font-weight:bold;cursor:default}.vjs-coursera-phoenix-audio-skin .vjs-subtitles-button:before{content:subtitles-icon}.vjs-coursera-phoenix-audio-skin .vjs-captions-button:before{content:captions-icon}.vjs-coursera-phoenix-audio-skin .vjs-chapters-button:before{content:chapters-icon}.vjs-coursera-phoenix-audio-skin .vjs-chapters-button.vjs-menu-button .vjs-menu .vjs-menu-content{width:24em;left:-12em}.vjs-coursera-phoenix-audio-skin .vjs-captions-button:focus .vjs-control-content:before,.vjs-coursera-phoenix-audio-skin .vjs-captions-button:hover .vjs-control-content:before{-webkit-box-shadow:0 0 1em #fff;box-shadow:0 0 1em #fff}.vjs-coursera-phoenix-audio-skin .video-js{background-color:#000;position:relative;padding:0;font-size:base-font-size;vertical-align:middle;font-weight:normal;font-style:normal;font-family:Arial,sans-serif;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.vjs-coursera-phoenix-audio-skin .video-js .vjs-tech{position:absolute;top:0;left:0;width:100%;height:100%}.vjs-coursera-phoenix-audio-skin .video-js:-moz-full-screen{position:absolute}.vjs-coursera-phoenix-audio-skin body.vjs-full-window{padding:0;margin:0;height:100%;overflow-y:auto}.vjs-coursera-phoenix-audio-skin .video-js.vjs-fullscreen{position:fixed;overflow:hidden;z-index:1000;left:0;top:0;bottom:0;right:0;width:100% !important;height:100% !important;_position:absolute}.vjs-coursera-phoenix-audio-skin .video-js:-webkit-full-screen{width:100% !important;height:100% !important}.vjs-coursera-phoenix-audio-skin .video-js.vjs-fullscreen.vjs-user-inactive{cursor:none}.vjs-coursera-phoenix-audio-skin .vjs-poster{background-repeat:no-repeat;background-position:50% 50%;-webkit-background-size:contain;-moz-background-size:contain;background-size:contain;cursor:pointer;margin:0;padding:0;position:absolute;top:0;right:0;bottom:0;left:0}.vjs-coursera-phoenix-audio-skin .vjs-poster img{display:block;margin:0 auto;max-height:100%;padding:0;width:100%}.vjs-coursera-phoenix-audio-skin .video-js.vjs-has-started .vjs-poster{display:none}.vjs-coursera-phoenix-audio-skin .video-js.vjs-audio.vjs-has-started .vjs-poster{display:block}.vjs-coursera-phoenix-audio-skin .video-js.vjs-controls-disabled .vjs-poster{display:none}.vjs-coursera-phoenix-audio-skin .video-js.vjs-using-native-controls .vjs-poster{display:none}.vjs-coursera-phoenix-audio-skin .video-js .vjs-text-track-display{position:absolute;top:0;left:0;bottom:3em;right:0;pointer-events:none}.vjs-coursera-phoenix-audio-skin .vjs-caption-settings{position:relative;top:1em;background-color:#000;opacity:.75;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=75)\";filter:alpha(opacity=75);color:#fff;margin:0 auto;padding:.5em;height:15em;font-family:Arial,Helvetica,sans-serif;font-size:12px;width:40em}.vjs-coursera-phoenix-audio-skin .vjs-caption-settings .vjs-tracksettings{top:0;bottom:2em;left:0;right:0;position:absolute;overflow:auto}.vjs-coursera-phoenix-audio-skin .vjs-caption-settings .vjs-tracksettings-colors,.vjs-coursera-phoenix-audio-skin .vjs-caption-settings .vjs-tracksettings-font{float:left}.vjs-coursera-phoenix-audio-skin .vjs-caption-settings .vjs-tracksettings-colors:after,.vjs-coursera-phoenix-audio-skin .vjs-caption-settings .vjs-tracksettings-font:after,.vjs-coursera-phoenix-audio-skin .vjs-caption-settings .vjs-tracksettings-controls:after{clear:both}.vjs-coursera-phoenix-audio-skin .vjs-caption-settings .vjs-tracksettings-controls{position:absolute;bottom:1em;right:1em}.vjs-coursera-phoenix-audio-skin .vjs-caption-settings .vjs-tracksetting{margin:5px;padding:3px;min-height:40px}.vjs-coursera-phoenix-audio-skin .vjs-caption-settings .vjs-tracksetting label{display:block;width:100px;margin-bottom:5px}.vjs-coursera-phoenix-audio-skin .vjs-caption-settings .vjs-tracksetting span{display:inline;margin-left:5px}.vjs-coursera-phoenix-audio-skin .vjs-caption-settings .vjs-tracksetting > div{margin-bottom:5px;min-height:20px}.vjs-coursera-phoenix-audio-skin .vjs-caption-settings .vjs-tracksetting > div:last-child{margin-bottom:0;padding-bottom:0;min-height:0}.vjs-coursera-phoenix-audio-skin .vjs-caption-settings label > input{margin-right:10px}.vjs-coursera-phoenix-audio-skin .vjs-caption-settings input[type=\"button\"]{width:40px;height:40px}.vjs-coursera-phoenix-audio-skin .vjs-hidden{display:none !important}.vjs-coursera-phoenix-audio-skin .vjs-lock-showing{display:block !important;opacity:1;-ms-filter:none;filter:none;visibility:visible}.vjs-coursera-phoenix-audio-skin .vjs-no-js{padding:2em;color:#ccc;background-color:#333;font-size:1.8em;font-family:Arial,sans-serif;text-align:center;width:30em;height:15em;margin:0 auto}.vjs-coursera-phoenix-audio-skin .vjs-no-js a,.vjs-coursera-phoenix-audio-skin .vjs-no-js a:visited{color:#f4a460}@-moz-keyframes spin{0%{-webkit-transform:rotate(0);-moz-transform:rotate(0);-o-transform:rotate(0);-ms-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(359deg);-moz-transform:rotate(359deg);-o-transform:rotate(359deg);-ms-transform:rotate(359deg);transform:rotate(359deg)}}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0);-moz-transform:rotate(0);-o-transform:rotate(0);-ms-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(359deg);-moz-transform:rotate(359deg);-o-transform:rotate(359deg);-ms-transform:rotate(359deg);transform:rotate(359deg)}}@-o-keyframes spin{0%{-webkit-transform:rotate(0);-moz-transform:rotate(0);-o-transform:rotate(0);-ms-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(359deg);-moz-transform:rotate(359deg);-o-transform:rotate(359deg);-ms-transform:rotate(359deg);transform:rotate(359deg)}}@keyframes spin{0%{-webkit-transform:rotate(0);-moz-transform:rotate(0);-o-transform:rotate(0);-ms-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(359deg);-moz-transform:rotate(359deg);-o-transform:rotate(359deg);-ms-transform:rotate(359deg);transform:rotate(359deg)}}.rc-CMLPreview.with-styles{word-wrap:break-word;}.rc-CMLPreview.with-styles h1{font-family:\"HelveticaNeue-Regular\",\"Helvetica Neue\",Helvetica,Arial,\"Lucida Grande\",sans-serif;font-size:34px;font-weight:normal;line-height:40px;margin:0 0 14px 0}.rc-CMLPreview.with-styles h2{font-family:\"HelveticaNeue-Regular\",\"Helvetica Neue\",Helvetica,Arial,\"Lucida Grande\",sans-serif;font-size:24px;font-weight:normal;line-height:28px;margin:0 0 14px 0}.rc-CMLPreview.with-styles h3{font-family:\"HelveticaNeue-Medium\",\"Helvetica Neue\",Helvetica,Arial,\"Lucida Grande\",sans-serif;font-size:20px;font-weight:medium;line-height:24px;margin:0 0 14px 0}.rc-CMLPreview.with-styles p{margin-bottom:14px;min-height:20px}.rc-CMLPreview.with-styles figure{margin:0 0 24px 0;}.rc-CMLPreview.with-styles figure.selected{outline:3px solid #27c06f}.rc-CMLPreview.with-styles figure ::selection{background:none}.rc-CMLPreview.with-styles figure img{max-width:100%}.rc-CMLPreview.with-styles table{margin:0 0 24px 0;border:1px solid #e0e0e0;width:100%;}.rc-CMLPreview.with-styles table th,.rc-CMLPreview.with-styles table td{padding:5px 20px;border:1px solid #e0e0e0;text-align:left}.rc-CMLPreview.with-styles ul{list-style-type:disc}.rc-CMLPreview.with-styles ul,.rc-CMLPreview.with-styles ol{padding-left:10px;margin-left:8px;}.rc-CMLPreview.with-styles ul li,.rc-CMLPreview.with-styles ol li{margin-bottom:14px}.rc-CMLPreview.with-styles pre{-webkit-border-radius:1px;border-radius:1px;background:#424242;color:#fff;font-size:13px}.rc-CMLPreview.with-styles div[data-block-type=asset]{margin-bottom:10px;width:65%;border:1px solid #eee;background-color:#fafafa;}.rc-CMLPreview.with-styles div[data-block-type=asset]:hover{-webkit-box-shadow:0 2px 2px #e0e0e0;box-shadow:0 2px 2px #e0e0e0;border-color:#e0e0e0}.rc-CMLPreview.with-styles div[data-block-type=asset] a{display:block;padding:10px;color:#757575;white-space:nowrap;-o-text-overflow:ellipsis;text-overflow:ellipsis;overflow:hidden;text-decoration:none}.rc-CMLPreview.with-styles *:last-child{margin-bottom:0 !important}.rc-RedirectToCheckout .rc-Modal.box .c-modal-content{padding:40px;min-height:100px}.rc-RedirectToCheckout .rc-Modal .container{padding-top:50px}.rc-RedirectToCheckout .rc-Modal .c-modal-content{width:600px}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-EnrollModal p{color:$color-secondary-text}.rc-EnrollModal button{float:none;margin:0 auto;width:182px;height:44px;-webkit-border-radius:0;border-radius:0}.rc-EnrollModal hr{margin-top:64px;margin-bottom:32px}.rc-EnrollModal .caption{padding:14px 0}.rc-EnrollModal .certificate{margin-top:22px}.rc-EnrollModal .bt3-modal-title{color:#fff;font-family:\'sofiapro-extralight\',Arial,sans-serif}.rc-EnrollModal .container{padding:84px 32px 32px 32px;}.rc-EnrollModal .container.title{border-top-left-radius:3px;border-top-right-radius:3px;background-color:#354b72}.rc-EnrollModal .container.content{padding-top:14px;padding-bottom:32px}.rc-EnrollModal .content{padding:30px 88px}.rc-EnrollModal .error-box{margin:20px;background-color:$color-danger-g2;-webkit-border-radius:3px;border-radius:3px;border-width:2px}.rc-EnrollModal .rc-Modal .c-modal-content{padding:0;}.rc-EnrollModal .rc-Modal .c-modal-content .share-buttons-container{margin-top:30px;border-top:1px solid #e4e4e4;padding-top:20px}.rc-EnrollModal .rc-Modal .c-modal-content .start-learning-container{margin-top:32px;margin-bottom:32px;}.rc-EnrollModal .rc-Modal .c-modal-content .start-learning-container .start-learning-button-link{display:inline-block;margin:0 auto}.rc-EnrollModal .rc-Modal.fade-leave{opacity:1;-ms-filter:none;filter:none;-webkit-transition:opacity 0.2s ease-in;-moz-transition:opacity 0.2s ease-in;-o-transition:opacity 0.2s ease-in;-ms-transition:opacity 0.2s ease-in;transition:opacity 0.2s ease-in;}.rc-EnrollModal .rc-Modal.fade-leave.fade-leave-active{opacity:.01;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)\";filter:alpha(opacity=1)}.rc-EnrollModal .rc-Modal.box .c-modal-content{padding:0;width:640px;min-height:inherit}.rc-EnrollModal .rc-Modal .c-modal-x-out{top:10px;right:18px;font-size:20px;}.rc-EnrollModal .rc-Modal .c-modal-x-out a{color:rgba(255,255,255,0.54);}.rc-EnrollModal .rc-Modal .c-modal-x-out a:hover{color:rgba(255,255,255,0.87);text-decoration:none}.c-cs-share-buttons .c-cs-share-button{padding-bottom:5px}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}a.dim{color:rgba(0,0,0,0.54);text-decoration:none;}a.dim:hover{color:#2775d1;text-decoration:underline}.rc-RadioButton{padding-bottom:2px;}.rc-RadioButton input[type=\"radio\"]{opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0);}.rc-RadioButton input[type=\"radio\"]:checked ~ span.cif-stack .cif-circle{color:#2775d1}.rc-RadioButton span.cif-stack{position:absolute;left:64px;margin-top:-4px;}.rc-RadioButton span.cif-stack .cif-circle{color:#fff}.rc-RadioButton span.cif-stack .cif-circle-thin{color:rgba(0,0,0,0.12)}.rc-RadioButton .subtext span,.rc-RadioButton p{font-size:14px}.rc-PaymentChoiceCapstone .rc-PaymentChoice{padding-left:0;margin-left:-20px}.rc-PaymentChoiceCapstone .cif-stack{display:none}.rc-PaymentChoiceCapstone .ineligible-message{color:#800000;margin-top:20px;font-size:14px}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-PaymentChoices .full-options-container{margin-top:20px;}.rc-PaymentChoices .full-options-container .section-title{margin-bottom:24px}.rc-PaymentChoices .full-options-container .free-choice-container{margin-top:30px}.rc-PaymentChoices .enroll-button{margin-top:24px}.rc-PaymentChoices .bt3-modal-title{font-family:\'HelveticaNeue-thin\',Arial,sans-serif;padding-left:20px;padding-right:20px;color:#fff;text-align:center;font-size:26px;line-height:32px}.rc-PaymentChoices .sub-title{font-family:\'HelveticaNeue-thin\',Arial,sans-serif;padding-left:20px;padding-right:20px;font-size:15px;color:rgba(255,255,255,0.8)}.rc-PaymentChoices .horizontal-line{border-top:1px solid #e3e0da;margin-top:40px;margin-bottom:20px}.rc-PaymentChoices .bt3-btn{padding-left:50px;padding-right:50px;padding-top:12px;padding-bottom:12px;background-color:#4285f4;-webkit-box-shadow:0 1px 1px 0 rgba(0,0,0,0.1);box-shadow:0 1px 1px 0 rgba(0,0,0,0.1);color:#fff;}.rc-PaymentChoices .bt3-btn:hover{color:#fff}.rc-PaymentChoices .container{padding:32px;}.rc-PaymentChoices .container.title{border-top-left-radius:3px;border-top-right-radius:3px;background-color:#354b72;font-size:26px}.rc-Modal .rc-PaymentChoices + .c-modal-x-out{color:rgba(255,255,255,0.54);top:34px;}.rc-Modal .rc-PaymentChoices + .c-modal-x-out:hover{color:rgba(255,255,255,0.87)}.rc-PaymentChoice{padding-bottom:16px;}.rc-PaymentChoice .choice-title{margin-bottom:6px;margin-left:24px}.rc-PaymentChoice .choice-description{margin-left:24px;line-height:22px;display:block}.rc-PaymentChoice input[type=\"radio\"]{opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0);}.rc-PaymentChoice input[type=\"radio\"]:checked ~ span.cif-stack .cif-circle{color:#2571ed}.rc-PaymentChoice span.cif-stack{position:absolute;left:58px;}.rc-PaymentChoice span.cif-stack .cif-circle{color:#fff}.rc-PaymentChoice span.cif-stack .cif-circle-thin{color:rgba(0,0,0,0.12)}.rc-PaymentChoice .cif-times{font-size:2em;width:1em;height:1em;text-align:center;position:absolute;left:58px;color:rgba(0,0,0,0.12);cursor:default}.rc-PaymentChoice.full p.horizontal-box{margin-top:8px}.rc-PaymentChoice.full .subtext em.fa{color:rgba(0,0,0,0.54);font-size:1.5em}.rc-PaymentChoice.full span.perks{margin-left:8px}@media (max-width:479px){.rc-PaymentChoice.full span.perks.users{position:relative;left:8px}}.rc-PaymentChoice.full .price-line-through-wrapper{text-decoration:line-through;color:#e91616}.rc-PaymentChoice.full .price{color:#000}.rc-PaymentChoice.full .discounted-price,.rc-PaymentChoice.full .discount-percent-or-amount{color:#e91616}.rc-PaymentChoice.full .discount-percent-or-amount{font-size:12px}.rc-PaymentChoice.full .disabled{cursor:default}.rc-FinaidLink{margin-top:12px;}.rc-FinaidLink .caption-text{font-size:12px}.success-back{background-color:#f4fbec}.error-back{background-color:#f9f0f0}.interactive-block:hover{background-color:#f1f7fd}.interactive-block.selected{background-color:#eef7ff}.rc-S12nEnrollModal .rc-PaymentChoices .title.container{padding:84px 32px 32px 32px}.rc-S12nEnrollModal .rc-PaymentChoices .content{padding:30px 60px}.rc-S12nEnrollModal .confirmation-message{margin-top:12px;}.rc-S12nEnrollModal .confirmation-message p{margin-bottom:2px}.rc-S12nEnrollModal .button-row{margin-top:24px;text-align:right;}.rc-S12nEnrollModal .button-row .bt3-btn{min-width:80px}.rc-S12nEnrollModal .secondary-action{color:#757575;font-weight:bold;margin-right:20px}.rc-S12nEnrollModal .rc-ContentGate,.rc-S12nEnrollModal .rc-EnrollConfirmation{padding:24px}.rc-S12nEnrollModal .rc-Modal .c-modal-content{padding:0;}@media (max-width:767px){.rc-S12nEnrollModal .rc-Modal .c-modal-content{top:0;left:0;right:0;width:100%;max-width:100%}}.rc-S12nEnrollModal .rc-Modal.fade-leave{opacity:1;-ms-filter:none;filter:none;-webkit-transition:opacity 0.2s ease-in;-moz-transition:opacity 0.2s ease-in;-o-transition:opacity 0.2s ease-in;-ms-transition:opacity 0.2s ease-in;transition:opacity 0.2s ease-in;}.rc-S12nEnrollModal .rc-Modal.fade-leave.fade-leave-active{opacity:.01;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)\";filter:alpha(opacity=1)}.rc-S12nEnrollModal .rc-Modal.box .c-modal-content{padding:0;width:640px;min-height:inherit}.rc-EnrollButton button{width:182px;height:44px;-webkit-border-radius:0;border-radius:0}.rc-startingDate{padding:10px}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}a.dim{color:rgba(0,0,0,0.54);text-decoration:none;}a.dim:hover{color:#2775d1;text-decoration:underline}.card-no-action,.card-rich-interaction,.card-one-clicker,.card-one-clicker:hover,.modal.card-rich-interaction,.modal.card-one-clicker,.modal.card-one-clicker:hover,[class*=\'card-\'].selected{border:1px solid rgba(0,0,0,0.1)}.card-rich-interaction:hover,.card-one-clicker:hover,.card-one-clicker:hover:hover,.modal.card-rich-interaction:hover,.modal.card-one-clicker:hover,.modal.card-one-clicker:hover:hover,[class*=\'card-\'].selected:hover{border:1px solid rgba(0,0,0,0.25)}.card-rich-interaction,.card-one-clicker,.card-one-clicker:hover,.modal.card-rich-interaction,.modal.card-one-clicker,.modal.card-one-clicker:hover,[class*=\'card-\'].selected{background-color:#fff}.card-one-clicker:hover{-webkit-box-shadow:0 2px 10px 0 rgba(0,0,0,0.1);box-shadow:0 2px 10px 0 rgba(0,0,0,0.1)}.modal.card-rich-interaction,.modal.card-one-clicker{-webkit-box-shadow:0 4px 16px 0 rgba(0,0,0,0.1);box-shadow:0 4px 16px 0 rgba(0,0,0,0.1)}.modal.card-one-clicker:hover{-webkit-box-shadow:0 6px 20px 0 rgba(0,0,0,0.25);box-shadow:0 6px 20px 0 rgba(0,0,0,0.25)}.card-no-action.primary{background-color:#fff}.card-one-clicker{cursor:pointer;}[class*=\'card-\'].selected{border:1px solid rgba(160,126,70,0.7);}[class*=\'card-\'].selected:hover{border:1px solid #a07e46;-webkit-box-shadow:0 2px 10px 0 rgba(0,0,0,0.1);box-shadow:0 2px 10px 0 rgba(0,0,0,0.1)}[class*=\'card-\'].luxury{padding:48px 48px}[class*=\'card-\'].comfy{padding:30px 30px}[class*=\'card-\'].compact{padding:18px 18px}[class*=\'card-\'].cozy{padding:18px 12px}[class*=\'card-\']{-webkit-transition:all 0.25s ease-in-out;-moz-transition:all 0.25s ease-in-out;-o-transition:all 0.25s ease-in-out;-ms-transition:all 0.25s ease-in-out;transition:all 0.25s ease-in-out;}[class*=\'card-\']:hover{-webkit-transition:all 0.25s ease-in-out;-moz-transition:all 0.25s ease-in-out;-o-transition:all 0.25s ease-in-out;-ms-transition:all 0.25s ease-in-out;transition:all 0.25s ease-in-out}.rc-OfferingCard{position:relative;display:block;}.rc-OfferingCard .offering-content{background-color:#fff;border:1px solid #dcdcdc;margin-bottom:10px;min-height:120px;padding:10px;position:relative;cursor:pointer;overflow:hidden;}.rc-OfferingCard .offering-content:hover{background-color:#f7f7f7}.rc-OfferingCard .offering-info{margin:20px 20px 15px 0;}.rc-OfferingCard .offering-info h2{color:#000;margin-bottom:8px;line-height:24px;font-size:20px}.rc-OfferingCard .dot-delimiter{margin:0 7px;color:#b3b3b3}.rc-OfferingCard .text-light{color:#b3b3b3}.rc-OfferingCard .specialization-course-count{background-color:#969696;color:#fff;display:inline-block;padding:2px 8px}.rc-OfferingCard .offering-debug-info{position:absolute;top:0;right:0;font-size:12px;line-height:18px;width:100%}.rc-OfferingCard .offering-badge{float:right;color:#fff;padding:2px 15px;background-color:rgba(39,117,209,0.75);}.rc-OfferingCard .offering-badge:hover{background-color:rgba(39,117,209,0.5)}.rc-OfferingCard .offering-debug-details{color:#000;position:absolute;top:22px;right:0;background:#fff;width:100%;padding:10px;z-index:10}.rc-OfferingCard .expandable-handle{cursor:help;}.rc-OfferingCard .expandable-handle code{word-break:break-all;white-space:normal}@media (max-width:991px){.rc-OfferingCard .offering-image{width:85px;height:85px}}@media (max-width:767px){.rc-OfferingCard .offering-info-container{margin-left:10px;}.rc-OfferingCard .offering-info-container .offering-info{margin:0;}.rc-OfferingCard .offering-info-container .offering-info .specialization-course-count{display:block;margin-bottom:5px}.rc-OfferingCard .offering-info-container .offering-info .dot-delimiter{display:none}.rc-OfferingCard .offering-info-container .offering-info .offering-partner-names{display:block}}.rc-RelatedCourses .rc-OfferingCard .offering-content{border:none;}.rc-RelatedCourses .rc-OfferingCard .offering-content .offering-info-container .offering-info{margin-left:25px}.rc-CertificatePromoBox{text-align:center;}.rc-CertificatePromoBox img{display:block;float:none;margin:5px auto}.rc-CertificatePromoBox span.fa{font-size:12px;margin-left:6px}.rc-CertificatePromoBox .c-cpb-main-link i{margin-top:2px}.rc-CourseInfoHeader{height:250px;position:relative;-webkit-box-shadow:0 1px 1.5px 0 rgba(0,0,0,0.12),0 0 1px 0 rgba(0,0,0,0.24);box-shadow:0 1px 1.5px 0 rgba(0,0,0,0.12),0 0 1px 0 rgba(0,0,0,0.24);}.rc-CourseInfoHeader .course-image{background-position:10% 40%;-webkit-background-size:cover;-moz-background-size:cover;-webkit-background-size:cover;-moz-background-size:cover;background-size:cover;background-repeat:no-repeat;opacity:.3;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=30)\";filter:alpha(opacity=30);width:100%;height:100%;position:absolute;top:0;z-index:-1}.rc-CourseInfoHeader .course-text{height:100%;position:relative;max-width:1000px;margin:0 auto;text-align:center;}.rc-CourseInfoHeader .course-text > *{max-width:100%}.rc-CourseInfoHeader .course-text .course-name{margin:8px 0}.rc-CourseInfoHeader .s12n-name{margin-top:6px}.rc-CourseInfoHeader a.s12n-link{font-family:inherit;font-size:inherit}.rc-CourseInfoHeader .rc-CourseInfoHeaderS12nLink{margin-top:16px}.rc-HowToPass{margin-top:24px;}.rc-HowToPass p{white-space:pre-wrap}.rc-InstructorBox .instructor{margin:16px 0;}.rc-InstructorBox .instructor .instructor-photo{margin-right:16px;min-width:64px;-webkit-border-radius:50%;border-radius:50%}.rc-InstructorBox .instructor .instructor-name{margin-bottom:4px}.rc-ReferrerInformation{padding:18px 24px;margin:24px 0 -26px 0;}.rc-ReferrerInformation .information{padding-left:12px}.rc-ReferrerInformation .rc-ProfileImage{min-width:44px;min-height:44px}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}a.dim{color:rgba(0,0,0,0.54);text-decoration:none;}a.dim:hover{color:#2775d1;text-decoration:underline}.rc-Syllabus{margin-top:24px;}.rc-Syllabus .week-entry{margin-bottom:24px}.rc-Syllabus .week-header{border-bottom:1px solid rgba(0,0,0,0.06);padding:8px 0}.rc-Syllabus .module-name{margin-left:16px}.rc-Syllabus .week-number{line-height:24px;width:48px}.rc-Syllabus .week-topics,.rc-Syllabus .week-assignments{padding:12px 0;}.rc-Syllabus .week-topics li,.rc-Syllabus .week-assignments li{margin-left:64px;list-style-type:none}.rc-Syllabus .week-assignments{padding-left:24px;margin:0 -24px;}@media (max-width:767px){.rc-Syllabus .week-assignments{padding-left:18px;margin:0 -18px}}.rc-Syllabus .deadline{text-align:right;margin:0 24px;white-space:pre-wrap;}.rc-Syllabus .deadline span{display:block}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}a.dim{color:rgba(0,0,0,0.54);text-decoration:none;}a.dim:hover{color:#2775d1;text-decoration:underline}.rc-CoursePassedBox{background-color:#3277b2;padding:20px;}.rc-CoursePassedBox .badge{width:28px;margin-bottom:6px}.rc-CoursePassedBox h5{color:#fff}.rc-CoursePassedBox .passed-session-dates{margin-top:4px;margin-bottom:0;color:#fff}.rc-SessionEnrollConfirmation{max-width:550px;}.rc-SessionEnrollConfirmation .title{margin-bottom:24px;margin-right:30px}.rc-SessionEnrollConfirmation .c-nav-icon{margin-right:16px;font-size:32px}.rc-SessionEnrollConfirmation p{margin-bottom:0;}.rc-SessionEnrollConfirmation p.body-2-text{margin-bottom:2px}.rc-SessionEnrollConfirmation .text-block{margin-bottom:16px}.rc-SessionEnrollConfirmation .cta-button{margin-top:20px}.rc-SessionEnrollConfirmationModal .rc-Modal .c-modal-content{max-width:550px}.rc-SessionStartedInfo{max-width:550px;}.rc-SessionStartedInfo .title{margin-bottom:24px;margin-right:30px}.rc-SessionStartedInfo .c-nav-icon{margin-right:16px;font-size:32px}.rc-SessionStartedInfo p{margin-bottom:0;}.rc-SessionStartedInfo p.body-2-text{margin-bottom:2px}.rc-SessionStartedInfo .text-block{margin-bottom:16px}.rc-SessionStartedInfo .cta-button{margin-top:20px}.rc-SessionStartedModal .rc-Modal .c-modal-content{max-width:550px}.rc-PreEnrollBox .price{margin-top:12px}.rc-SessionEnrollBox{margin-top:24px;}.rc-SessionEnrollBox .capstone-eligible-message{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:12px 16px}.rc-SessionEnrollBox .primary-enroll-box.od-container{margin-top:0}.rc-SessionSwitchModal .contents{margin:16px 24px 16px 0}.rc-SessionSwitchModal .cancel-button{margin-right:24px}.rc-SessionSwitchBox .upcoming-session.od-container.cozy{margin-top:0;padding:24px;}.rc-SessionSwitchBox .upcoming-session.od-container.cozy .button-container{margin-top:16px}.rc-SessionSwitchBox .caption-text{display:block}.rc-SessionSwitchBox .current-session-dates{margin-top:8px}.rc-SessionSwitchBox .session-date{white-space:nowrap}.rc-EnrollBox{width:100%;margin-bottom:24px;}.rc-EnrollBox .rc-SessionBox.od-container.cozy{-webkit-border-radius:0;border-radius:0}.rc-EnrollBox.rc-OnDemandBox,.rc-EnrollBox.rc-LoggedOutBox{padding:24px;}.rc-EnrollBox.rc-OnDemandBox .vertical-box h3,.rc-EnrollBox.rc-LoggedOutBox .vertical-box h3{margin-bottom:16px}.rc-EnrollBox.rc-OnDemandBox button{margin-top:8px}.rc-EnrollBox .session-dates{margin:12px 0;}.rc-EnrollBox .session-dates .session-date{white-space:nowrap}.rc-EnrollBox .button-container{margin-top:24px}.rc-EnrollBox .rc-NoSessionBox .no-sessions-available{margin-bottom:12px}.rc-EnrollBox .following-session{-webkit-border-radius:0;border-radius:0;padding:16px 24px;}.rc-EnrollBox .following-session p{margin-bottom:0}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}a.dim{color:rgba(0,0,0,0.54);text-decoration:none;}a.dim:hover{color:#2775d1;text-decoration:underline}.rc-CapstoneBanner{padding:12px 20px;}.rc-CapstoneBanner .body-1-text{color:#fff}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}a.dim{color:rgba(0,0,0,0.54);text-decoration:none;}a.dim:hover{color:#2775d1;text-decoration:underline}.rc-S12nInfoBox .s12n-description{margin:8px 0}.rc-S12nInfoBox .metadata-box{width:100%;max-height:120px;margin-top:16px;border:1px solid rgba(0,0,0,0.06);}.rc-S12nInfoBox .metadata-box .logo{width:120px}.rc-S12nInfoBox .metadata-box .link-box{padding:16px 24px;}.rc-S12nInfoBox .metadata-box .link-box .view-specialization{margin-top:16px;display:block}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}a.dim{color:rgba(0,0,0,0.54);text-decoration:none;}a.dim:hover{color:#2775d1;text-decoration:underline}.rc-ModeSwitcher .explanation{margin-top:12px}.rc-ModeSwitcher .dropdown-section{margin-bottom:12px;}.rc-ModeSwitcher .dropdown-section .bt3-dropdown-toggle{width:160px;border:1px solid rgba(0,0,0,0.1);text-align:left}.rc-ModeSwitcher .dropdown-section .bt3-caret{position:absolute;top:15px;right:10px}.rc-AboutBox .c-about-box-icon{margin-right:5px}.rc-CourseInfoPage{max-width:100% !important;padding:0 !important;}.rc-CourseInfoPage .od-container{margin-top:24px;}.rc-CourseInfoPage .od-container h4{margin-bottom:12px}.rc-CourseInfoPage .flex-reverse{-webkit-box-direction:reverse;-moz-box-direction:reverse;-o-box-direction:reverse;-webkit-box-orient:vertical;-moz-box-orient:vertical;-o-box-orient:vertical;-webkit-flex-direction:column-reverse;-ms-flex-direction:column-reverse;flex-direction:column-reverse}.rc-CourseInfoPage .content{max-width:1000px;padding:20px 20px 32px 20px;margin:0 auto}.rc-CourseInfoPage .about-container{margin-top:24px;}.rc-CourseInfoPage .about-container .rc-AboutBox{white-space:pre-wrap}.rc-CourseInfoPage .about-container .fa{margin-right:1em}.rc-CourseInfoPage .rc-CertificatePromoBox img{width:64px}.rc-CourseInfoPage .rc-CertificatePromoBox h2,.rc-CourseInfoPage .rc-AboutBox h2{font-size:20px}.rc-CourseInfoPage .card-headline{margin:0 0 12px 0}.rc-FinaidLink{line-height:18px}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}a.dim{color:rgba(0,0,0,0.54);text-decoration:none;}a.dim:hover{color:#2775d1;text-decoration:underline}.rc-FormItemSave{margin-left:8px;background-color:#fff;}.rc-FormItemSave .color-success{color:#32cf85}.rc-FormItemSave .color-error{color:#ff707f}.rc-FormItemSave i{font-size:20px}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}a.dim{color:rgba(0,0,0,0.54);text-decoration:none;}a.dim:hover{color:#2775d1;text-decoration:underline}.rc-LocationInput .input-area{position:relative}.rc-LocationInput .rc-FormItemSave{position:absolute;right:8px;top:18px;padding-left:8px}.rc-LocationInput input[type=\"text\"]{width:100%;padding:6px 12px;-webkit-border-radius:2px;border-radius:2px;-webkit-box-shadow:none;box-shadow:none;border-color:rgba(0,0,0,0.06);border:1px solid rgba(0,0,0,0.06)}.rc-LocationInput .clear{margin:8px 0 0 6px}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}a.dim{color:rgba(0,0,0,0.54);text-decoration:none;}a.dim:hover{color:#2775d1;text-decoration:underline}.rc-NearbyLearnersModal .header{color:#fff;padding:18px 60px;background-image:url(\"https://d3njjcbhbojbot.cloudfront.net/web/bundles/ondemand/assets/images/world_map.png\");-webkit-background-size:100%;-moz-background-size:100%;background-size:100%;background-repeat:no-repeat;background-color:#234b6e;}.rc-NearbyLearnersModal .header p{margin-top:8px}.rc-NearbyLearnersModal .rc-Modal.box .c-modal-content{padding:0;width:365px;height:283px}.rc-NearbyLearnersModal .rc-Modal .c-modal-x-out{top:8px;right:12px;color:#fff;font-size:14px}.rc-NearbyLearnersModal form{padding:20px 32px}.rc-NearbyLearnersModal .actions{margin-bottom:32px;}.rc-NearbyLearnersModal .actions label *{margin-right:4px}.rc-NearbyLearnersModal .actions .caption{line-height:1.3;padding:8px 0}.rc-NearbyLearnersModal input[type=\"text\"]{margin-top:8px}.rc-NearbyLearnersModal .generating-state p{margin:0;padding-left:8px}.rc-PartnerLogo{width:80px;height:80px}.rc-ImageEditorButton button.camera{-webkit-border-radius:100%;border-radius:100%;width:52px;height:52px;min-width:0;padding:0}.rc-ImageEditorButton button.secondary i{margin:0}.rc-ImageEditorButton input[type=\"file\"]{display:none}.rc-ImageEditorButton .button-box button:first-child{margin-right:8px}.rc-ImageEditorButton.mini button.camera{width:36px;height:36px;margin:2px 0 0 2px}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}a.dim{color:rgba(0,0,0,0.54);text-decoration:none;}a.dim:hover{color:#2775d1;text-decoration:underline}.rc-ImageEditor{padding:24px;width:100%;height:100%;}.rc-ImageEditor p{margin-bottom:20px}.rc-ImageEditor .button-box{margin-top:20px;}.rc-ImageEditor .button-box button:first-child{margin-right:8px}.rc-ImageEditor .contents{max-width:250px}.rc-ImageEditor .hide{display:none}.rc-ImageEditor .work-area{width:250px;min-height:72px;}.rc-ImageEditor .work-area .bt3-progress{height:8px;margin:8px 0;}.rc-ImageEditor .work-area .bt3-progress .bt3-progress-bar{background-color:#5c99e1}.rc-ImageEditor .saved{color:#32cf85}.rc-ImageEditor .error{color:#ff707f}.rc-ImageEditorModal .rc-Modal.box .c-modal-content{width:320px;height:424px;padding:0;}.rc-ImageEditorModal .rc-Modal.box .c-modal-content .c-modal-x-out{top:12px;right:16px;font-size:16px}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}a.dim{color:rgba(0,0,0,0.54);text-decoration:none;}a.dim:hover{color:#2775d1;text-decoration:underline}.rc-ClassmatesProfile{width:250px;position:relative;}.rc-ClassmatesProfile .classmate-image{width:40px;margin:16px auto 0}.rc-ClassmatesProfile .classmate-name{margin:8px 0;text-align:center}.rc-ClassmatesProfile .classmate-progress{background-color:rgba(0,0,0,0.05);padding:8px;text-align:center}.rc-ClassmatesProfile .c-loading-state{text-align:center;margin:32px 0}.rc-ClassmatesProfile .rc-ProfileImageUploader{position:absolute;top:14px;left:103px;}.rc-ClassmatesProfile .rc-ProfileImageUploader img{margin-top:2px;margin-left:2px}.rc-ClassmatesProfile.self .classmate-progress{background-color:#2f7dd8;color:#fff}/* required styles */\r\n\r\n.leaflet-map-pane,\r\n.leaflet-tile,\r\n.leaflet-marker-icon,\r\n.leaflet-marker-shadow,\r\n.leaflet-tile-pane,\r\n.leaflet-tile-container,\r\n.leaflet-overlay-pane,\r\n.leaflet-shadow-pane,\r\n.leaflet-marker-pane,\r\n.leaflet-popup-pane,\r\n.leaflet-overlay-pane svg,\r\n.leaflet-zoom-box,\r\n.leaflet-image-layer,\r\n.leaflet-layer {\r\n\tposition: absolute;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\t}\r\n.leaflet-container {\r\n\toverflow: hidden;\r\n\t-ms-touch-action: none;\r\n\t}\r\n.leaflet-tile,\r\n.leaflet-marker-icon,\r\n.leaflet-marker-shadow {\r\n\t-webkit-user-select: none;\r\n\t   -moz-user-select: none;\r\n\t        user-select: none;\r\n\t-webkit-user-drag: none;\r\n\t}\r\n.leaflet-marker-icon,\r\n.leaflet-marker-shadow {\r\n\tdisplay: block;\r\n\t}\r\n/* map is broken in FF if you have max-width: 100% on tiles */\r\n.leaflet-container img {\r\n\tmax-width: none !important;\r\n\t}\r\n/* stupid Android 2 doesn\'t understand \"max-width: none\" properly */\r\n.leaflet-container img.leaflet-image-layer {\r\n\tmax-width: 15000px !important;\r\n\t}\r\n.leaflet-tile {\r\n\tfilter: inherit;\r\n\tvisibility: hidden;\r\n\t}\r\n.leaflet-tile-loaded {\r\n\tvisibility: inherit;\r\n\t}\r\n.leaflet-zoom-box {\r\n\twidth: 0;\r\n\theight: 0;\r\n\t}\r\n/* workaround for https://bugzilla.mozilla.org/show_bug.cgi?id=888319 */\r\n.leaflet-overlay-pane svg {\r\n\t-moz-user-select: none;\r\n\t}\r\n\r\n.leaflet-tile-pane    { z-index: 2; }\r\n.leaflet-objects-pane { z-index: 3; }\r\n.leaflet-overlay-pane { z-index: 4; }\r\n.leaflet-shadow-pane  { z-index: 5; }\r\n.leaflet-marker-pane  { z-index: 6; }\r\n.leaflet-popup-pane   { z-index: 7; }\r\n\r\n.leaflet-vml-shape {\r\n\twidth: 1px;\r\n\theight: 1px;\r\n\t}\r\n.lvml {\r\n\tbehavior: url(#default#VML);\r\n\tdisplay: inline-block;\r\n\tposition: absolute;\r\n\t}\r\n\r\n\r\n/* control positioning */\r\n\r\n.leaflet-control {\r\n\tposition: relative;\r\n\tz-index: 7;\r\n\tpointer-events: auto;\r\n\t}\r\n.leaflet-top,\r\n.leaflet-bottom {\r\n\tposition: absolute;\r\n\tz-index: 1000;\r\n\tpointer-events: none;\r\n\t}\r\n.leaflet-top {\r\n\ttop: 0;\r\n\t}\r\n.leaflet-right {\r\n\tright: 0;\r\n\t}\r\n.leaflet-bottom {\r\n\tbottom: 0;\r\n\t}\r\n.leaflet-left {\r\n\tleft: 0;\r\n\t}\r\n.leaflet-control {\r\n\tfloat: left;\r\n\tclear: both;\r\n\t}\r\n.leaflet-right .leaflet-control {\r\n\tfloat: right;\r\n\t}\r\n.leaflet-top .leaflet-control {\r\n\tmargin-top: 10px;\r\n\t}\r\n.leaflet-bottom .leaflet-control {\r\n\tmargin-bottom: 10px;\r\n\t}\r\n.leaflet-left .leaflet-control {\r\n\tmargin-left: 10px;\r\n\t}\r\n.leaflet-right .leaflet-control {\r\n\tmargin-right: 10px;\r\n\t}\r\n\r\n\r\n/* zoom and fade animations */\r\n\r\n.leaflet-fade-anim .leaflet-tile,\r\n.leaflet-fade-anim .leaflet-popup {\r\n\topacity: 0;\r\n\t-webkit-transition: opacity 0.2s linear;\r\n\t   -moz-transition: opacity 0.2s linear;\r\n\t     -o-transition: opacity 0.2s linear;\r\n\t        transition: opacity 0.2s linear;\r\n\t}\r\n.leaflet-fade-anim .leaflet-tile-loaded,\r\n.leaflet-fade-anim .leaflet-map-pane .leaflet-popup {\r\n\topacity: 1;\r\n\t}\r\n\r\n.leaflet-zoom-anim .leaflet-zoom-animated {\r\n\t-webkit-transition: -webkit-transform 0.25s cubic-bezier(0,0,0.25,1);\r\n\t   -moz-transition:    -moz-transform 0.25s cubic-bezier(0,0,0.25,1);\r\n\t     -o-transition:      -o-transform 0.25s cubic-bezier(0,0,0.25,1);\r\n\t        transition:         transform 0.25s cubic-bezier(0,0,0.25,1);\r\n\t}\r\n.leaflet-zoom-anim .leaflet-tile,\r\n.leaflet-pan-anim .leaflet-tile,\r\n.leaflet-touching .leaflet-zoom-animated {\r\n\t-webkit-transition: none;\r\n\t   -moz-transition: none;\r\n\t     -o-transition: none;\r\n\t        transition: none;\r\n\t}\r\n\r\n.leaflet-zoom-anim .leaflet-zoom-hide {\r\n\tvisibility: hidden;\r\n\t}\r\n\r\n\r\n/* cursors */\r\n\r\n.leaflet-clickable {\r\n\tcursor: pointer;\r\n\t}\r\n.leaflet-container {\r\n\tcursor: -webkit-grab;\r\n\tcursor:    -moz-grab;\r\n\t}\r\n.leaflet-popup-pane,\r\n.leaflet-control {\r\n\tcursor: auto;\r\n\t}\r\n.leaflet-dragging .leaflet-container,\r\n.leaflet-dragging .leaflet-clickable {\r\n\tcursor: move;\r\n\tcursor: -webkit-grabbing;\r\n\tcursor:    -moz-grabbing;\r\n\t}\r\n\r\n\r\n/* visual tweaks */\r\n\r\n.leaflet-container {\r\n\tbackground: #ddd;\r\n\toutline: 0;\r\n\t}\r\n.leaflet-container a {\r\n\tcolor: #0078A8;\r\n\t}\r\n.leaflet-container a.leaflet-active {\r\n\toutline: 2px solid orange;\r\n\t}\r\n.leaflet-zoom-box {\r\n\tborder: 2px dotted #38f;\r\n\tbackground: rgba(255,255,255,0.5);\r\n\t}\r\n\r\n\r\n/* general typography */\r\n.leaflet-container {\r\n\tfont: 12px/1.5 \"Helvetica Neue\", Arial, Helvetica, sans-serif;\r\n\t}\r\n\r\n\r\n/* general toolbar styles */\r\n\r\n.leaflet-bar {\r\n\tbox-shadow: 0 1px 5px rgba(0,0,0,0.65);\r\n\tborder-radius: 4px;\r\n\t}\r\n.leaflet-bar a,\r\n.leaflet-bar a:hover {\r\n\tbackground-color: #fff;\r\n\tborder-bottom: 1px solid #ccc;\r\n\twidth: 26px;\r\n\theight: 26px;\r\n\tline-height: 26px;\r\n\tdisplay: block;\r\n\ttext-align: center;\r\n\ttext-decoration: none;\r\n\tcolor: black;\r\n\t}\r\n.leaflet-bar a,\r\n.leaflet-control-layers-toggle {\r\n\tbackground-position: 50% 50%;\r\n\tbackground-repeat: no-repeat;\r\n\tdisplay: block;\r\n\t}\r\n.leaflet-bar a:hover {\r\n\tbackground-color: #f4f4f4;\r\n\t}\r\n.leaflet-bar a:first-child {\r\n\tborder-top-left-radius: 4px;\r\n\tborder-top-right-radius: 4px;\r\n\t}\r\n.leaflet-bar a:last-child {\r\n\tborder-bottom-left-radius: 4px;\r\n\tborder-bottom-right-radius: 4px;\r\n\tborder-bottom: none;\r\n\t}\r\n.leaflet-bar a.leaflet-disabled {\r\n\tcursor: default;\r\n\tbackground-color: #f4f4f4;\r\n\tcolor: #bbb;\r\n\t}\r\n\r\n.leaflet-touch .leaflet-bar a {\r\n\twidth: 30px;\r\n\theight: 30px;\r\n\tline-height: 30px;\r\n\t}\r\n\r\n\r\n/* zoom control */\r\n\r\n.leaflet-control-zoom-in,\r\n.leaflet-control-zoom-out {\r\n\tfont: bold 18px \'Lucida Console\', Monaco, monospace;\r\n\ttext-indent: 1px;\r\n\t}\r\n.leaflet-control-zoom-out {\r\n\tfont-size: 20px;\r\n\t}\r\n\r\n.leaflet-touch .leaflet-control-zoom-in {\r\n\tfont-size: 22px;\r\n\t}\r\n.leaflet-touch .leaflet-control-zoom-out {\r\n\tfont-size: 24px;\r\n\t}\r\n\r\n\r\n/* layers control */\r\n\r\n.leaflet-control-layers {\r\n\tbox-shadow: 0 1px 5px rgba(0,0,0,0.4);\r\n\tbackground: #fff;\r\n\tborder-radius: 5px;\r\n\t}\r\n.leaflet-control-layers-toggle {\r\n\tbackground-image: url(static.crane/vendor/cnpm/leaflet.v0-7/images/layers.png);\r\n\twidth: 36px;\r\n\theight: 36px;\r\n\t}\r\n.leaflet-retina .leaflet-control-layers-toggle {\r\n\tbackground-image: url(static.crane/vendor/cnpm/leaflet.v0-7/images/layers-2x.png);\r\n\tbackground-size: 26px 26px;\r\n\t}\r\n.leaflet-touch .leaflet-control-layers-toggle {\r\n\twidth: 44px;\r\n\theight: 44px;\r\n\t}\r\n.leaflet-control-layers .leaflet-control-layers-list,\r\n.leaflet-control-layers-expanded .leaflet-control-layers-toggle {\r\n\tdisplay: none;\r\n\t}\r\n.leaflet-control-layers-expanded .leaflet-control-layers-list {\r\n\tdisplay: block;\r\n\tposition: relative;\r\n\t}\r\n.leaflet-control-layers-expanded {\r\n\tpadding: 6px 10px 6px 6px;\r\n\tcolor: #333;\r\n\tbackground: #fff;\r\n\t}\r\n.leaflet-control-layers-selector {\r\n\tmargin-top: 2px;\r\n\tposition: relative;\r\n\ttop: 1px;\r\n\t}\r\n.leaflet-control-layers label {\r\n\tdisplay: block;\r\n\t}\r\n.leaflet-control-layers-separator {\r\n\theight: 0;\r\n\tborder-top: 1px solid #ddd;\r\n\tmargin: 5px -10px 5px -6px;\r\n\t}\r\n\r\n\r\n/* attribution and scale controls */\r\n\r\n.leaflet-container .leaflet-control-attribution {\r\n\tbackground: #fff;\r\n\tbackground: rgba(255, 255, 255, 0.7);\r\n\tmargin: 0;\r\n\t}\r\n.leaflet-control-attribution,\r\n.leaflet-control-scale-line {\r\n\tpadding: 0 5px;\r\n\tcolor: #333;\r\n\t}\r\n.leaflet-control-attribution a {\r\n\ttext-decoration: none;\r\n\t}\r\n.leaflet-control-attribution a:hover {\r\n\ttext-decoration: underline;\r\n\t}\r\n.leaflet-container .leaflet-control-attribution,\r\n.leaflet-container .leaflet-control-scale {\r\n\tfont-size: 11px;\r\n\t}\r\n.leaflet-left .leaflet-control-scale {\r\n\tmargin-left: 5px;\r\n\t}\r\n.leaflet-bottom .leaflet-control-scale {\r\n\tmargin-bottom: 5px;\r\n\t}\r\n.leaflet-control-scale-line {\r\n\tborder: 2px solid #777;\r\n\tborder-top: none;\r\n\tline-height: 1.1;\r\n\tpadding: 2px 5px 1px;\r\n\tfont-size: 11px;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\t-moz-box-sizing: content-box;\r\n\t     box-sizing: content-box;\r\n\r\n\tbackground: #fff;\r\n\tbackground: rgba(255, 255, 255, 0.5);\r\n\t}\r\n.leaflet-control-scale-line:not(:first-child) {\r\n\tborder-top: 2px solid #777;\r\n\tborder-bottom: none;\r\n\tmargin-top: -2px;\r\n\t}\r\n.leaflet-control-scale-line:not(:first-child):not(:last-child) {\r\n\tborder-bottom: 2px solid #777;\r\n\t}\r\n\r\n.leaflet-touch .leaflet-control-attribution,\r\n.leaflet-touch .leaflet-control-layers,\r\n.leaflet-touch .leaflet-bar {\r\n\tbox-shadow: none;\r\n\t}\r\n.leaflet-touch .leaflet-control-layers,\r\n.leaflet-touch .leaflet-bar {\r\n\tborder: 2px solid rgba(0,0,0,0.2);\r\n\tbackground-clip: padding-box;\r\n\t}\r\n\r\n\r\n/* popup */\r\n\r\n.leaflet-popup {\r\n\tposition: absolute;\r\n\ttext-align: center;\r\n\t}\r\n.leaflet-popup-content-wrapper {\r\n\tpadding: 1px;\r\n\ttext-align: left;\r\n\tborder-radius: 12px;\r\n\t}\r\n.leaflet-popup-content {\r\n\tmargin: 13px 19px;\r\n\tline-height: 1.4;\r\n\t}\r\n.leaflet-popup-content p {\r\n\tmargin: 18px 0;\r\n\t}\r\n.leaflet-popup-tip-container {\r\n\tmargin: 0 auto;\r\n\twidth: 40px;\r\n\theight: 20px;\r\n\tposition: relative;\r\n\toverflow: hidden;\r\n\t}\r\n.leaflet-popup-tip {\r\n\twidth: 17px;\r\n\theight: 17px;\r\n\tpadding: 1px;\r\n\r\n\tmargin: -10px auto 0;\r\n\r\n\t-webkit-transform: rotate(45deg);\r\n\t   -moz-transform: rotate(45deg);\r\n\t    -ms-transform: rotate(45deg);\r\n\t     -o-transform: rotate(45deg);\r\n\t        transform: rotate(45deg);\r\n\t}\r\n.leaflet-popup-content-wrapper,\r\n.leaflet-popup-tip {\r\n\tbackground: white;\r\n\r\n\tbox-shadow: 0 3px 14px rgba(0,0,0,0.4);\r\n\t}\r\n.leaflet-container a.leaflet-popup-close-button {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tpadding: 4px 4px 0 0;\r\n\ttext-align: center;\r\n\twidth: 18px;\r\n\theight: 14px;\r\n\tfont: 16px/14px Tahoma, Verdana, sans-serif;\r\n\tcolor: #c3c3c3;\r\n\ttext-decoration: none;\r\n\tfont-weight: bold;\r\n\tbackground: transparent;\r\n\t}\r\n.leaflet-container a.leaflet-popup-close-button:hover {\r\n\tcolor: #999;\r\n\t}\r\n.leaflet-popup-scrolled {\r\n\toverflow: auto;\r\n\tborder-bottom: 1px solid #ddd;\r\n\tborder-top: 1px solid #ddd;\r\n\t}\r\n\r\n.leaflet-oldie .leaflet-popup-content-wrapper {\r\n\tzoom: 1;\r\n\t}\r\n.leaflet-oldie .leaflet-popup-tip {\r\n\twidth: 24px;\r\n\tmargin: 0 auto;\r\n\r\n\t-ms-filter: \"progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678)\";\r\n\tfilter: progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678);\r\n\t}\r\n.leaflet-oldie .leaflet-popup-tip-container {\r\n\tmargin-top: -1px;\r\n\t}\r\n\r\n.leaflet-oldie .leaflet-control-zoom,\r\n.leaflet-oldie .leaflet-control-layers,\r\n.leaflet-oldie .leaflet-popup-content-wrapper,\r\n.leaflet-oldie .leaflet-popup-tip {\r\n\tborder: 1px solid #999;\r\n\t}\r\n\r\n\r\n/* div icon */\r\n\r\n.leaflet-div-icon {\r\n\tbackground: #fff;\r\n\tborder: 1px solid #666;\r\n\t}\r\n.marker-cluster-small {\n\tbackground-color: rgba(181, 226, 140, 0.6);\n\t}\n.marker-cluster-small div {\n\tbackground-color: rgba(110, 204, 57, 0.6);\n\t}\n\n.marker-cluster-medium {\n\tbackground-color: rgba(241, 211, 87, 0.6);\n\t}\n.marker-cluster-medium div {\n\tbackground-color: rgba(240, 194, 12, 0.6);\n\t}\n\n.marker-cluster-large {\n\tbackground-color: rgba(253, 156, 115, 0.6);\n\t}\n.marker-cluster-large div {\n\tbackground-color: rgba(241, 128, 23, 0.6);\n\t}\n\n\t/* IE 6-8 fallback colors */\n.leaflet-oldie .marker-cluster-small {\n\tbackground-color: rgb(181, 226, 140);\n\t}\n.leaflet-oldie .marker-cluster-small div {\n\tbackground-color: rgb(110, 204, 57);\n\t}\n\n.leaflet-oldie .marker-cluster-medium {\n\tbackground-color: rgb(241, 211, 87);\n\t}\n.leaflet-oldie .marker-cluster-medium div {\n\tbackground-color: rgb(240, 194, 12);\n\t}\n\n.leaflet-oldie .marker-cluster-large {\n\tbackground-color: rgb(253, 156, 115);\n\t}\n.leaflet-oldie .marker-cluster-large div {\n\tbackground-color: rgb(241, 128, 23);\n}\n\n.marker-cluster {\n\tbackground-clip: padding-box;\n\tborder-radius: 20px;\n\t}\n.marker-cluster div {\n\twidth: 30px;\n\theight: 30px;\n\tmargin-left: 5px;\n\tmargin-top: 5px;\n\n\ttext-align: center;\n\tborder-radius: 15px;\n\tfont: 12px \"Helvetica Neue\", Arial, Helvetica, sans-serif;\n\t}\n.marker-cluster span {\n\tline-height: 30px;\n\t}.leaflet-cluster-anim .leaflet-marker-icon, .leaflet-cluster-anim .leaflet-marker-shadow {\n\t-webkit-transition: -webkit-transform 0.3s ease-out, opacity 0.3s ease-in;\n\t-moz-transition: -moz-transform 0.3s ease-out, opacity 0.3s ease-in;\n\t-o-transition: -o-transform 0.3s ease-out, opacity 0.3s ease-in;\n\ttransition: transform 0.3s ease-out, opacity 0.3s ease-in;\n\t}\n.rc-ClassmatesPage .rc-ClassmatesMap .disclaimer{text-align:right;margin:8px 20px 0}.rc-ClassmatesPage .rc-ClassmatesMap .map-info{height:80px;}.rc-ClassmatesPage .rc-ClassmatesMap .map-info *{margin:0 8px}.rc-ClassmatesPage .profiles-area{margin-top:16px;}.rc-ClassmatesPage .profiles-area > *{margin:12px}.rc-AdminButton{margin:0 20px 8px 20px;min-height:40px}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}a.dim{color:rgba(0,0,0,0.54);text-decoration:none;}a.dim:hover{color:#2775d1;text-decoration:underline}.rc-CompletedItemIcon{margin-left:-2px;font-size:14px;margin-right:10px;}.rc-CompletedItemIcon .cif-stack-2x{color:#2ab573}.rc-CompletedItemIcon .cif-stack-1x{color:#fff}.rc-CompletedItemIcon.play .cif-stack-1x{font-size:.85em;margin-left:1px}.minimal-item .rc-CompletedItemIcon{font-size:12px}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}a.dim{color:rgba(0,0,0,0.54);text-decoration:none;}a.dim:hover{color:#2775d1;text-decoration:underline}.rc-MainNavItem{cursor:pointer;position:relative;}.rc-MainNavItem .nostyle:focus{outline:0;}.rc-MainNavItem .nostyle:focus .menu-item{background-color:rgba(0,0,0,0.25);opacity:1;-ms-filter:none;filter:none}.rc-MainNavItem .menu-item .cif-lock{margin-left:7px}.rc-WeekItem.locked{cursor:pointer}.rc-WeekItem:focus{outline:0;opacity:1;-ms-filter:none;filter:none;opacity:1;-ms-filter:none;filter:none}.rc-WeekItem:focus .nav-item{background-color:rgba(0,0,0,0.25)}.rc-WeekItem .week-nav-item{height:40px}.rc-WeekItem .cif-calendar{margin:0 6px 0 12px}.rc-Menu .c-selected .rc-WeekItem .nav-item{opacity:1;-ms-filter:none;filter:none}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}a.dim{color:rgba(0,0,0,0.54);text-decoration:none;}a.dim:hover{color:#2775d1;text-decoration:underline}.c-s12n-banner-container{padding:16px 0 14px 0}.c-s12n-banner{max-width:990px;margin-left:auto;margin-right:auto;padding:0 15px;}.c-s12n-banner .c-s12n-banner-wrapper{width:100%;display:table;}.c-s12n-banner .c-s12n-banner-wrapper .c-s12n-banner-content{color:#fff;text-align:center;}.c-s12n-banner .c-s12n-banner-wrapper .c-s12n-banner-content p{font-size:16px;margin-bottom:0}@media (min-width:768px){.c-s12n-banner .c-s12n-banner-wrapper .c-s12n-banner-content{display:table-cell;vertical-align:middle;width:80%;padding-right:4px;text-align:left}}.c-s12n-banner .c-s12n-banner-wrapper .c-s12n-banner-content a{color:#fff;font-size:16px;}.c-s12n-banner .c-s12n-banner-wrapper .c-s12n-banner-content a.c-s12n-banner-details{text-decoration:underline}.c-s12n-banner .c-s12n-banner-wrapper .c-s12n-banner-content a:hover{color:$defaultWhite}@media (max-width:767px){.c-s12n-banner .c-s12n-banner-wrapper .c-s12n-banner-button-area{margin-top:16px;text-align:center}}@media (min-width:768px){.c-s12n-banner .c-s12n-banner-wrapper .c-s12n-banner-button-area{display:table-cell;vertical-align:middle;text-align:right;width:20%}}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}a.dim{color:rgba(0,0,0,0.54);text-decoration:none;}a.dim:hover{color:#2775d1;text-decoration:underline}.rc-EffortText{white-space:nowrap;}.rc-EffortText.failed{color:#ff5c6e}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}a.dim{color:rgba(0,0,0,0.54);text-decoration:none;}a.dim:hover{color:#2775d1;text-decoration:underline}.rc-Item{min-height:50px;position:relative;}.rc-Item.minimal{min-height:auto}.rc-Item.locked{cursor:default}.rc-Item:hover .bt3-tooltip-inner{max-width:500px}.rc-Item h5{display:inline}.rc-Item .od-item{padding-left:0;padding-right:12px;padding-top:12px;padding-bottom:12px;margin:0;}.rc-Item .od-item .item-name{line-height:1.3}.rc-Item .od-item .item-text-container > .inline-child:not(:last-child){margin-right:12px}.rc-Item .od-item .od-icon{margin:0 12px 0 0;font-size:24px}.rc-Item .vertical-line{position:absolute;left:11px;background-color:rgba(0,0,0,0.25);width:3px;}.rc-Item .vertical-line.vertical-line-top{top:0;height:calc(50% - 14px)}.rc-Item .vertical-line.vertical-line-bottom{bottom:0;height:calc(50% - 10px)}.rc-Item .pill-container{display:inline-block}.rc-Item .cif-checkmark{color:#2ab573}.rc-Item .od-icon.circle-lock{font-size:13px;}.rc-Item .od-icon.circle-lock.completed .cif-circle{color:#2ab573}.rc-Item.minimal .minimal-item{width:100%}.rc-Item.minimal .od-icon{font-size:20px;margin-right:12px;}.rc-Item.minimal .od-icon.circle-lock{font-size:12px}.rc-Item.minimal .rc-CompletedItemIcon{font-size:12px}.rc-Item.minimal .item-name{margin:0}.rc-Item.minimal .time-estimate{margin-left:12px}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}a.dim{color:rgba(0,0,0,0.54);text-decoration:none;}a.dim:hover{color:#2775d1;text-decoration:underline}.rc-ItemLink .hover-color{padding-left:30px;padding-right:30px;overflow:visible;}.rc-ItemLink .hover-color.minimal{padding:14px 24px}.rc-ItemLink .hover-color.item-next{background-color:rgba(0,0,0,0.05)}@media (max-width:767px){.rc-ItemLink .hover-color{-webkit-box-orient:vertical;-moz-box-orient:vertical;-o-box-orient:vertical;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}}.rc-ItemLink .hover-color:hover{background-color:rgba(0,0,0,0.05);}.rc-ItemLink .hover-color:hover .locked-tooltip{opacity:.9;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=90)\";filter:alpha(opacity=90);margin-top:-22px;}.rc-ItemLink .hover-color:hover .locked-tooltip .bt3-tooltip-inner{max-width:800px}.rc-ItemLink .hover-color:hover .locked-tooltip .bt3-tooltip-arrow{left:12px}.rc-ItemLink .hover-color.current-item{background-color:rgba(0,0,0,0.05);}.rc-ItemLink .hover-color.current-item .locked-tooltip{margin-top:-36px;margin-left:-4px}');
