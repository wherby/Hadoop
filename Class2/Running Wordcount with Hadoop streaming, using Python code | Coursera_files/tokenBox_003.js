"use strict";define("bundles/programming/components/tokenBox/views/tokenBox",["require","exports","module","underscore","bundles/phoenix/lib/view","bundles/phoenix/template/models/userIdentity","bundles/programming/components/tokenBox/viewModels/tokenBox","bundles/programming/components/tokenBox/views/tokenBox.html","css!bundles/programming/components/tokenBox/styl/tokenBox.css"],function(require,exports,module){var _=require("underscore"),e=require("bundles/phoenix/lib/view"),t=require("bundles/phoenix/template/models/userIdentity"),n=require("bundles/programming/components/tokenBox/viewModels/tokenBox"),o=require("bundles/programming/components/tokenBox/views/tokenBox.html");require("css!bundles/programming/components/tokenBox/styl/tokenBox.css");var s=e.extend({template:o,stateModelProperty:"viewModel",events:{'click [data-js="generate-token"]':"generateToken",'click [data-js="get-token"]':"getToken"},templateOptions:function templateOptions(){return{userEmail:t.get("email_address")}},initialize:function initialize(e){_(this).extend(_(e).pick("itemMetadata")),this.viewModel=new n({},{itemMetadata:this.itemMetadata}),this.viewModel.getToken(),this.listenTo(this.viewModel,"change:secret",this.renderTokenValue)},postRender:function postRender(){this.renderTokenValue()},renderTokenValue:function renderTokenValue(){this.$$("secret").text(this.viewModel.get("secret"))},generateToken:function generateToken(e){e.preventDefault(),this.viewModel.generateToken()},getToken:function getToken(e){e.preventDefault(),this.viewModel.getToken()}});module.exports=s});